/*! (c) Copyright 2013-2021 NETRONIC Software GmbH. All rights reserved. Version 6.0.5 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nwaf_gantt"),require("jquery"),require("nwaf_apptools"),require("d3"),require("tinycolor2"),require("nwaf_table"),require("jquery-ui/ui/widget")):"function"==typeof define&&define.amd?define(["nwaf_gantt","jquery","nwaf_apptools","d3","tinycolor2","nwaf_table","jquery-ui/ui/widget"],t):"object"==typeof exports?exports.nwaf_rab=t(require("nwaf_gantt"),require("jquery"),require("nwaf_apptools"),require("d3"),require("tinycolor2"),require("nwaf_table"),require("jquery-ui/ui/widget")):e.nwaf_rab=t(e.nwaf_gantt,e.jQuery,e.nwaf_apptools,e.d3,e.tinycolor,e.nwaf_table,e.jQuery)}(self,(function(e,t,i,n,a,o,r){return function(){var s={5579:function(e,t,i){i(9554),i(7941),i(4747);var n=i(4081);Object.keys(n).forEach((function(e){t[e]=n[e]})),t.rabAbout=i(4816),t.rabActivity=i(7731),t.rabActivityFrameTimeItem=i(2704),t.rabActivityRowItem=i(6834),t.rabActivitySingleTimeItem=i(8867),t.rabActivityTimeItem=i(8029),t.rabAllocation=i(1836),t.rabAllocationEntry=i(9427),t.rabAllocationEntryTimeItem=i(254),t.rabAllocationRowItem=i(9528),t.rabAllocationTimeItem=i(3306),t.rabApplication=i(4645),t.rabCalendar=i(466),t.rabCalendarEntry=i(7298),t.rabCheckLogger=i(1398),t.rabChildItem=i(7888),t.rabColorCalculator=i(3419),t.rabCurve=i(1591),t.rabCurvePointEntry=i(6877),t.rabEntity=i(1289),t.rabEntityRowItem=i(8274),t.rabError=i(4050),t.rabGanttView=i(3393),t.rabItem=i(8811),t.rabLink=i(8763),t.rabLinkItem=i(4783),t.rabModel=i(8422),t.rabOptionsCollector=i(6431),t.rabParentItemDescriptor=i(1389),t.rabPeriodHighlighter=i(9956),t.rabPeriodHighlighterEntry=i(9017),t.rabRelationshipItemDescriptor=i(4149),t.rabResource=i(8171),t.rabResourceRowItem=i(7211),t.rabRootRowItem=i(6271),t.rabRowItem=i(6761),t.rabTimeItem=i(3398),t.rabVersionNumber=i(6390),t.rabView=i(9077),t.rabViewModel=i(1963),t.rabWidget=i(8509),t.rabWidgetApplication=i(6025),t.rabWidgetGanttView=i(6377),t.rabWidgetModel=i(7499),t.rabWidgetOptionsCollector=i(8389),t.rabWidgetView=i(9469),t.rabWrapper=i(9330),t.vswApplication=i(9803);var a=i(9415);if(t.vswDefines=a,t.vsWidget=i(4792),t.vswVersionNumber=i(9169),t.rabCalendarGrid=t.rabPeriodHighlighter,t.rabCalendarGridEntry=t.rabPeriodHighlighterEntry,self){var o=self.netronic=self.netronic||{},r=o.nResourcePlanningAppBase={};Object.keys(t).forEach((function(e){r[e]=t[e]}));var s=o.nVSW={};Object.keys(a).forEach((function(e){s[e]=a[e]}))}},4816:function(e){e.exports='<div class="nrab-about-container1">   <div class="nrab-about-container2">      <br />      <div class="nrab-about-center nrab-about-logo"></div><br />      <span class="nrab-about-title nrab-about-center">%name%</span>      <span class="nrab-about-version nrab-about-center">Version %version%      </span><br />      <span class="nrab-about-center">Copyright (c) %copyrightYear% NETRONIC Software GmbH</span><br />      <hr />      <span class="nrab-about-center">License %license% for %licensee%</span>      <span class="nrab-about-center">Expires %expire%</span><br />      <hr />      <span class="nrab-about-center">Based on NETRONIC Web Application Framework, Version %nwafVersion%</span>      <span class="nrab-about-center">Copyright (c) 2013-%nwafYear% NETRONIC Software GmbH</span><br />      <hr />      <span class="nrab-about-center">UserAgent: %userAgent%</span><br />      <hr />      Licenses of software libraries that are used in this widget:<br /><br /><div class="nrab-about-frame"><span class="nrab-about-title">d3.js</span><br />Copyright 2010 - 2018 Mike Bostock<br />All rights reserved.<br /><br />Redistribution and use in source and binary forms, with or without modification,\n      are permitted provided that the following conditions are met:<br /><br />* Redistributions of source code must retain the above copyright notice, this<br />  list of conditions and the following disclaimer.<br /><br />* Redistributions in binary form must reproduce the above copyright notice,<br />  this list of conditions and the following disclaimer in the documentation<br />  and / or other materials provided with the distribution.<br /><br />* Neither the name of the author nor the names of contributors may be used to<br />  endorse or promote products derived from this software without specific prior<br />  written permission.<br /><br />THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n      ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n      WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n      DISCLAIMED.IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n      ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n      (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n      LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n      ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n      (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n      SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</div><div class="nrab-about-frame"><span class="nrab-about-title">jQuery 3.5.x</span><br />Copyright OpenJS Foundation and other contributors, https://openjsf.org/.<br /><br />Permission is hereby granted, free of charge, to any person obtaining\n      a copy of this software and associated documentation files (the\n      "Software"), to deal in the Software without restriction, including\n      without limitation the rights to use, copy, modify, merge, publish,\n      distribute, sublicense, and/or sell copies of the Software, and to\n      permit persons to whom the Software is furnished to do so, subject to\n      the following conditions:<br /><br />The above copyright notice and this permission notice shall be\n      included in all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n      EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n      NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n      LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n      OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n      WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">jQuery UI 1.12.1</span><br />Copyright jQuery Foundation and other contributors, https://jquery.org/<br /><br />This software consists of voluntary contributions made by many\n      individuals. For exact contribution history, see the revision history\n      available at https://github.com/jquery/jquery-ui.<br /><br />The following license applies to all parts of this software except as\n      documented below:<br /><br />====<br /><br />Permission is hereby granted, free of charge, to any person obtaining\n      a copy of this software and associated documentation files (the\n      "Software"), to deal in the Software without restriction, including\n      without limitation the rights to use, copy, modify, merge, publish,\n      distribute, sublicense, and/or sell copies of the Software, and to\n      permit persons to whom the Software is furnished to do so, subject to\n      the following conditions:<br /><br />The above copyright notice and this permission notice shall be\n      included in all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n      EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n      NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n      LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n      OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n      WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.<br /><br />====<br /><br />Copyright and related rights for sample code are waived via CC0. Sample\n      code is defined as all source code contained within the demos directory.<br /><br />CC0: http://creativecommons.org/publicdomain/zero/1.0/<br /><br />====<br /><br />All files located in the node_modules and external directories are\n      externally maintained libraries used by this software which have their\n      own licenses; we recommend you read them, as their terms may differ from\n      the terms above.</div><div class="nrab-about-frame"><span class="nrab-about-title">hammer.js 2.0.8</span><br />The MIT License (MIT)<br /><br />Copyright (C) 2011-2014 by Jorik Tangelder (Eight Media)<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy\n      of this software and associated documentation files (the "Software"), to deal \n      in the Software without restriction, including without limitation the rights\n      to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n      copies of the Software, and to permit persons to whom the Software is\n      furnished to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in \n      all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n      FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n      AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n      LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n      OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n      THE SOFTWARE.      </div><div class="nrab-about-frame"><span class="nrab-about-title">CSS-Element-Queries 1.2.0</span><br />Copyright (c) 2013 Marc J. Schmidt<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy \n      of this software and associated documentation files (the "Software"), to deal\n      in the Software without restriction, including without limitation the rights\n      to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n      copies of the Software, and to permit persons to whom the Software is \n      furnished to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in\n      all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \n      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n      FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \n      AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n      LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n      OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n      THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">Simple JavaScript Inheritance</span><br />/* Simple JavaScript Inheritance<br />* By John Resig http://ejohn.org/<br />* MIT Licensed.<br />*/<br /></div><div class="nrab-about-frame"><span class="nrab-about-title">TinyColor 1.4.1</span><br />Copyright (c), Brian Grinstead, http://briangrinstead.com<br /><br />Permission is hereby granted, free of charge, to any person obtaining\n      a copy of this software and associated documentation files (the\n      "Software"), to deal in the Software without restriction, including\n      without limitation the rights to use, copy, modify, merge, publish,\n      distribute, sublicense, and/or sell copies of the Software, and to\n      permit persons to whom the Software is furnished to do so, subject to\n      the following conditions:<br /><br />The above copyright notice and this permission notice shall be\n      included in all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n      EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n      NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n      LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n      OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n      WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">PDFKit 0.11.0</span><br />MIT LICENSE<br /><br />Copyright (c) 2014 Devon Govett<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy\n      of this software and associated documentation files (the "Software"), to deal\n      in the Software without restriction, including without limitation the rights\n      to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n      copies of the Software, and to permit persons to whom the Software is furnished\n      to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in all\n      copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n      EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n      MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n      IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n      DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n      OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR\n      THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">SVG-to-PDFKit 0.1.8</span><br />The MIT License (MIT)<br /><br />Copyright (c) 2019 SVG-to-PDFKit contributors<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy of this\n      software and associated documentation files (the "Software"), to deal in the Software\n      without restriction, including without limitation the rights to use, copy, modify, merge,\n      publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons\n      to whom the Software is furnished to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in all copies\n      or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, \n      INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n      PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n      HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n      OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n      OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">blob-stream 0.1.3</span><br />The MIT License (MIT)<br /><br />Copyright (c) 2014 Devon Govett<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy of this\n      software and associated documentation files (the "Software"), to deal in the Software\n      without restriction, including without limitation the rights to use, copy, modify, merge,\n      publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons\n      to whom the Software is furnished to do so, subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in all copies\n      or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, \n      INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n      PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n      HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n      OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE\n      OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">Moment.js 2.24.0</span><br />Copyright (c) JS Foundation and other contributors<br /><br />Permission is hereby granted, free of charge, to any person\n      obtaining a copy of this software and associated documentation\n      files(the "Software"), to deal in the Software without\n      restriction, including without limitation the rights to use, \n      copy, modify, merge, publish, distribute, sublicense, and / or sell\n      copies of the Software, and to permit persons to whom the\n      Software is furnished to do so, subject to the following\n      conditions:<br /><br />The above copyright notice and this permission notice shall be\n      included in all copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n      EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n      OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n      NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n      HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n      WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n      FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n      OTHER DEALINGS IN THE SOFTWARE.</div><div class="nrab-about-frame"><span class="nrab-about-title">Moment Timezone 0.5.25-2019a</span><br />The MIT License(MIT)<br /><br />Copyright(c) JS Foundation and other contributors<br /><br />Permission is hereby granted, free of charge, to any person obtaining a copy of\n      this software and associated documentation files(the "Software"), to deal in\n      the Software without restriction, including without limitation the rights to\n      use, copy, modify, merge, publish, distribute, sublicense, and / or sell copies of\n      the Software, and to permit persons to whom the Software is furnished to do so,\n      subject to the following conditions:<br /><br />The above copyright notice and this permission notice shall be included in all\n      copies or substantial portions of the Software.<br /><br />THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n      FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR\n      COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n      IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n      CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div></div>'},7731:function(e,t,i){i(1539),i(9714);var n=i(3755),a=i(7930),o=i(4429).DisplayedElements,r=i(4081),s=r.TextWrapMode,l=r._activityBarShapesMap,c=i(9330),u={store:function(e){"use strict";if(this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?n.extend({},e):void 0,e){var t=e.PM_CollapseState;t>=0&&(this.rab_cachedCollapseState=t),(t=e.PM_CurveCollapseState)>=0&&(this.rab_cachedCurveCollapseState=t),(t=e.PM_AllocationRowsCollapseState)>=0&&(this.rab_cachedAllocationRowsCollapseState=t)}},_modificationClassificationByProperty:{Editable:2,PM_AllowedRowDragModes:2,PM_AllowedBarDragModes:2,PM_AllocationRowsCollapseState:function(){return this.rab_cachedAllocationRowsCollapseState===this.PM_AllocationRowsCollapseState?2:0},PM_BarSelectable:2,PM_BarTextPrefixSymbolHeight:1,PM_BarTextPrefixSymbolID:1,PM_BarTextWrapMode:1,PM_BarTooltipTemplateID:2,PM_BaselineBorderColor:1,PM_BaselineColor:1,PM_BaselineNonworkingTimeColor:1,PM_BorderColor:1,PM_CollapseState:function(){return this.rab_cachedCollapseState===this.PM_CollapseState?2:0},PM_Color:1,PM_CurveCollapseState:function(){return this.rab_cachedCurveCollapseState===this.PM_CurveCollapseState?2:0},PM_DueDateColor:1,PM_EarliestDragStart:2,PM_EarliestEndColor:1,PM_EarliestStartColor:1,PM_LatestDragEnd:2,PM_LatestEndColor:1,PM_LatestStartColor:1,PM_LeftBarSymbolHeight:1,PM_LeftBarSymbolID:1,PM_LeftBarSymbolWidth:1,PM_MustEndOnColor:1,PM_MustStartOnColor:1,PM_NonworkingTimeColor:1,PM_PredictedEndColor:1,PM_ProgressBackgroundColor:1,PM_ProgressColor:1,PM_ProgressNonworkingTimeColor:1,PM_ReleaseDateColor:1,PM_RightBarSymbolHeight:1,PM_RightBarSymbolID:1,PM_RowSelectable:2,PM_RowSymbolIDs:-1,PM_RowTooltipTemplateID:2,PM_SnapTargetsForEnd:2,PM_SnapTargetsForStart:2,PM_Status1Color:1,PM_Status1Visible:1,PM_Status2Color:1,PM_Status2Visible:1,PM_Status3Color:1,PM_Status3Visible:1,PM_Status4Color:1,PM_Status4Visible:1,PM_StatusFrameColor:1,PM_StatusFrameVisible:1,PM_TableColor:1,PM_TableTextColor:1,PM_TextColor:1,PM_TopLeftBarSymblID:1,PM_TopRightBarSymblID:1}},d={};a.nClassFactory.extendClass(d,"rabActivity",c,u);var p=d.rabActivity;Object.defineProperty(p.prototype,"BarText",{get:function(){return this._data.BarText||this._data.Name}}),Object.defineProperty(p.prototype,"BaselineEnd",{get:function(){return this._data.BaselineEnd}}),Object.defineProperty(p.prototype,"BaselineStart",{get:function(){return this._data.BaselineStart}}),Object.defineProperty(p.prototype,"CalendarID",{get:function(){return null!=this._data.CalendarID?this._data.CalendarID.toString():void 0}}),Object.defineProperty(p.prototype,"DueDate",{get:function(){return this._data.DueDate}}),Object.defineProperty(p.prototype,"EarliestEnd",{get:function(){return this._data.EarliestEnd}}),Object.defineProperty(p.prototype,"EarliestStart",{get:function(){return this._data.EarliestStart}}),Object.defineProperty(p.prototype,"Editable",{get:function(){var e=this._data.Editable;return"boolean"!=typeof e||e}}),Object.defineProperty(p.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(p.prototype,"EndNotLaterThan",{get:function(){return this._data.EndNotLaterThan}}),Object.defineProperty(p.prototype,"LatestEnd",{get:function(){return this._data.LatestEnd}}),Object.defineProperty(p.prototype,"LatestStart",{get:function(){return this._data.LatestStart}}),Object.defineProperty(p.prototype,"MustEndOn",{get:function(){return this._data.MustEndOn}}),Object.defineProperty(p.prototype,"MustStartOn",{get:function(){return this._data.MustStartOn}}),Object.defineProperty(p.prototype,"Name",{get:function(){return this._data.TableText||this._data.Name}}),Object.defineProperty(p.prototype,"PM_AllocationRowsCollapseState",{get:function(){var e=this._data.PM_AllocationRowsCollapseState;return e>=0||(e=this.rab_cachedAllocationRowsCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(p.prototype,"PM_AllocationRowsCollapsible",{get:function(){var e=this._data.PM_AllocationRowsCollapsible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_AllowedBarDragModes",{get:function(){var e=+this._data.PM_AllowedBarDragModes;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_AllowedRowDragModes",{get:function(){var e=+this._data.PM_AllowedRowDragModes;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BarHeight",{get:function(){var e=+this._data.PM_BarHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BarOpacity",{get:function(){var e=+this._data.PM_BarOpacity;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BarSelectable",{get:function(){var e=this._data.PM_BarSelectable;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_BarShape",{get:function(){var e=+this._data.PM_BarShape;return isNaN(e)?void 0:l[e]}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolHeight",{get:function(){var e=+this._data.PM_BarTextPrefixSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolID",{get:function(){return this._data.PM_BarTextPrefixSymbolID}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolWidth",{get:function(){var e=+this._data.PM_BarTextPrefixSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_BarTextWrapMode",{get:function(){var e=+this._data.PM_BarTextWrapMode;return isNaN(e)?s.None:e}}),Object.defineProperty(p.prototype,"PM_BarTooltipTemplateID",{get:function(){return this._data.PM_BarTooltipTemplateID}}),Object.defineProperty(p.prototype,"PM_BaselineBorderColor",{get:function(){return this._data.PM_BaselineBorderColor}}),Object.defineProperty(p.prototype,"PM_BaselineColor",{get:function(){return this._data.PM_BaselineColor}}),Object.defineProperty(p.prototype,"PM_BaselineNonworkingTimeColor",{get:function(){return this._data.PM_BaselineNonworkingTimeColor}}),Object.defineProperty(p.prototype,"PM_BorderColor",{get:function(){return this._data.PM_BorderColor}}),Object.defineProperty(p.prototype,"PM_BorderWidth",{get:function(){return 0===this._data.PM_BorderWidth?0:+this._data.PM_BorderWidth||null}}),Object.defineProperty(p.prototype,"PM_CollapsedRowDesign",{get:function(){var e=+this._data.PM_CollapsedRowDesign;return isNaN(e)?void 0:e&~o.BarsOfCollapsedLeafRows}}),Object.defineProperty(p.prototype,"PM_CollapseState",{get:function(){var e=this._data.PM_CollapseState;return e>=0||(e=this.rab_cachedCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(p.prototype,"PM_Color",{get:function(){return this._data.PM_Color}}),Object.defineProperty(p.prototype,"PM_CurveCollapseState",{get:function(){var e=this._data.PM_CurveCollapseState;return e>=0||(e=this.rab_cachedCurveCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(p.prototype,"PM_DueDateColor",{get:function(){return this._data.PM_DueDateColor}}),Object.defineProperty(p.prototype,"PM_EarliestDragStart",{get:function(){return this._data.PM_EarliestDragStart}}),Object.defineProperty(p.prototype,"PM_EarliestEndColor",{get:function(){return this._data.PM_EarliestEndColor}}),Object.defineProperty(p.prototype,"PM_EarliestStartColor",{get:function(){return this._data.PM_EarliestStartColor}}),Object.defineProperty(p.prototype,"PM_ExpandedRowDesign",{get:function(){var e=+this._data.PM_ExpandedRowDesign;return isNaN(e)?void 0:e&~o.BarsOfCollapsedLeafRows}}),Object.defineProperty(p.prototype,"PM_HasAllocationRows",{get:function(){var e=this._data.PM_HasAllocationRows;return"boolean"==typeof e?e:void 0}}),Object.defineProperty(p.prototype,"PM_HasChildren",{get:function(){var e=this._data.PM_HasChildren;return"boolean"==typeof e?e:void 0}}),Object.defineProperty(p.prototype,"PM_LatestDragEnd",{get:function(){return this._data.PM_LatestDragEnd}}),Object.defineProperty(p.prototype,"PM_LatestEndColor",{get:function(){return this._data.PM_LatestEndColor}}),Object.defineProperty(p.prototype,"PM_LatestStartColor",{get:function(){return this._data.PM_LatestStartColor}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolHeight",{get:function(){var e=+this._data.PM_LeftBarSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolID",{get:function(){return this._data.PM_LeftBarSymbolID}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolWidth",{get:function(){var e=+this._data.PM_LeftBarSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_MaximumRowHeight",{get:function(){var e=this._data.PM_MaximumRowHeight;return e>0?e:void 0}}),Object.defineProperty(p.prototype,"PM_MaximumSubRowHeightInTimeArea",{get:function(){var e=this._data.PM_MaximumSubRowHeightInTimeArea;return e>0?e:void 0}}),Object.defineProperty(p.prototype,"PM_MinimumRowHeight",{get:function(){var e=+this._data.PM_MinimumRowHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_MustEndOnColor",{get:function(){return this._data.PM_MustEndOnColor}}),Object.defineProperty(p.prototype,"PM_MustStartOnColor",{get:function(){return this._data.PM_MustStartOnColor}}),Object.defineProperty(p.prototype,"PM_NonworkingTimeColor",{get:function(){return this._data.PM_NonworkingTimeColor}}),Object.defineProperty(p.prototype,"PM_PeriodHighlighterID",{get:function(){return null!=this._data.PM_PeriodHighlighterID?this._data.PM_PeriodHighlighterID.toString():null!=this._data.PM_CalendarGridID?this._data.PM_CalendarGridID.toString():void 0}}),Object.defineProperty(p.prototype,"PM_PredictedEndColor",{get:function(){return this._data.PM_PredictedEndColor}}),Object.defineProperty(p.prototype,"PM_ProgressBackgroundColor",{get:function(){return this._data.PM_ProgressBackgroundColor}}),Object.defineProperty(p.prototype,"PM_ProgressColor",{get:function(){return this._data.PM_ProgressColor}}),Object.defineProperty(p.prototype,"PM_ProgressNonworkingTimeColor",{get:function(){return this._data.PM_ProgressNonworkingTimeColor}}),Object.defineProperty(p.prototype,"PM_ReleaseDateColor",{get:function(){return this._data.PM_ReleaseDateColor}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolHeight",{get:function(){var e=+this._data.PM_RightBarSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolID",{get:function(){return this._data.PM_RightBarSymbolID}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolWidth",{get:function(){var e=+this._data.PM_RightBarSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_RowCollapsible",{get:function(){var e=this._data.PM_RowCollapsible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_RowSelectable",{get:function(){var e=this._data.PM_RowSelectable;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_RowSymbolIDs",{get:function(){return this._data.PM_RowSymbolIDs}}),Object.defineProperty(p.prototype,"PM_RowTooltipTemplateID",{get:function(){return this._data.PM_RowTooltipTemplateID}}),Object.defineProperty(p.prototype,"PM_SnapTargetsForEnd",{get:function(){var e=this._data.PM_SnapTargetsForEnd;return 0===e?0:+e||void 0}}),Object.defineProperty(p.prototype,"PM_SnapTargetsForStart",{get:function(){var e=this._data.PM_SnapTargetsForStart;return 0===e?0:+e||void 0}}),Object.defineProperty(p.prototype,"PM_Status1Color",{get:function(){return this._data.PM_Status1Color}}),Object.defineProperty(p.prototype,"PM_Status1Visible",{get:function(){var e=this._data.PM_Status1Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status2Color",{get:function(){return this._data.PM_Status2Color}}),Object.defineProperty(p.prototype,"PM_Status2Visible",{get:function(){var e=this._data.PM_Status2Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status3Color",{get:function(){return this._data.PM_Status3Color}}),Object.defineProperty(p.prototype,"PM_Status3Visible",{get:function(){var e=this._data.PM_Status3Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status4Color",{get:function(){return this._data.PM_Status4Color}}),Object.defineProperty(p.prototype,"PM_Status4Visible",{get:function(){var e=this._data.PM_Status4Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_StatusFrameColor",{get:function(){return this._data.PM_StatusFrameColor}}),Object.defineProperty(p.prototype,"PM_StatusFrameVisible",{get:function(){var e=this._data.PM_StatusFrameVisible;return null!=e&&!!e}}),Object.defineProperty(p.prototype,"PM_TableColor",{get:function(){return this._data.PM_TableColor}}),Object.defineProperty(p.prototype,"PM_TableRowDefinitionID",{get:function(){return this._data.PM_TableRowDefinitionID}}),Object.defineProperty(p.prototype,"PM_TableTextColor",{get:function(){return this._data.PM_TableTextColor}}),Object.defineProperty(p.prototype,"PM_TextColor",{get:function(){return this._data.PM_TextColor}}),Object.defineProperty(p.prototype,"PM_TopLeftBarSymbolID",{get:function(){return this._data.PM_TopLeftBarSymbolID}}),Object.defineProperty(p.prototype,"PM_TopRightBarSymbolID",{get:function(){return this._data.PM_TopRightBarSymbolID}}),Object.defineProperty(p.prototype,"PM_ViewArea",{get:function(){var e=+this._data.PM_ViewArea;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PredictedEnd",{get:function(){return this._data.PredictedEnd}}),Object.defineProperty(p.prototype,"Progress",{get:function(){var e=this._data.Progress;return"number"==typeof e?e:0}}),Object.defineProperty(p.prototype,"ReleaseDate",{get:function(){return this._data.ReleaseDate}}),Object.defineProperty(p.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(p.prototype,"StartNotEarlierThan",{get:function(){return this._data.StartNotEarlierThan}}),Object.defineProperty(p.prototype,"TableText",{get:function(){return this._data.TableText||this._data.Name}}),e.exports=d.rabActivity},2704:function(e,t,i){var n=i(7930),a=i(4429),o=i(4081).ItemType,r=a.BarInteractions,s=i(3398),l=(i(7731),{construct:function(e,t,i,n,a){"use strict";this._super(o.ActivityFrame,e,t,i,n,void 0,a),this.childTimeItems=[]},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data();return this.barInteractions=r.None,this.selectable=i.PM_BarSelectable,t}}),c={};n.nClassFactory.extendClass(c,"rabActivityFrameTimeItem",s,l),e.exports=c.rabActivityFrameTimeItem},6834:function(e,t,i){i(1539),i(9714);var n=i(7930).nClassFactory,a=i(4081).ItemType,o=i(6761),r=(i(7731),"rabActivityRowItem"),s={construct:function(e,t,i,n,o){"use strict";this.rab_firstUpdate=!0,this._super(a.ActivityRow,e,t,i,n,void 0,o);var r=i.PM_CurveCollapseState;this.rab_curvePanesVisible=r>=0?!r:void 0},isResourceRelevant:function(){return!0},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),this._super())},getWrapperHasChildrenPropName:function(e){return"leafRowItems"===e?"PM_HasAllocationRows":this._super(e)},enrichObject:function(){"use strict";this._viewModel._updateTimeItem(this,a.ActivityFrame,this._viewType,!0,(function(e){e.updateFromReference()}))},updateFromReference:function(e){"use strict";var t,i=this._super(e),n=this.data(),o=n.model(),r=!e||!1!==e.considerReleaseDate,s=!e||!1!==e.considerDueDate;(this.timeItems[0].updateFromReference(),this._viewModel._updateTimeItem(this.timeItems[0],a.Activity,this._viewType,o.dateTimeValueToDate(n.Start),(function(e){e.updateFromReference()})),this._viewModel._updateTimeItem(this.timeItems[0],a.ActivityBaseline,this._viewType,o.dateTimeValueToDate(n.BaselineStart)&&o.dateTimeValueToDate(n.BaselineEnd),(function(e){e.updateFromReference()})),this.tableRowDefinitionID=n.PM_TableRowDefinitionID,null!=this.tableRowDefinitionID&&(this.tableRowDefinitionID=this.tableRowDefinitionID.toString()),n.PM_CollapseState>=0&&(this.initiallyCollapsed=!!n.PM_CollapseState),n.PM_AllocationRowsCollapseState>=0&&(this.leavesInitiallyCollapsed=!!n.PM_AllocationRowsCollapseState),this.selectable=n.PM_RowSelectable,this.collapsible=n.PM_RowCollapsible,this.leavesCollapsible=n.PM_AllocationRowsCollapsible,this.collapsedDisplayedElements=n.PM_CollapsedRowDesign,this.expandedDisplayedElements=n.PM_ExpandedRowDesign,this.minimumHeight=n.PM_MinimumRowHeight,this.maximumHeight=n.PM_MaximumRowHeight,this.maximumSubRowHeight=n.PM_MaximumSubRowHeightInTimeArea,this.getAPIOption("pm_activityCalendarsEnabled"))?(t=e&&e.ignoreCalendar?o._defaultNonWorkingTimeCalendar:o.calendarByID(n.CalendarID),this.calendar=t?t.nCalendar:void 0):delete this.calendar;for(var l=this;null==l.data().PM_PeriodHighlighterID&&(l=l.getHierarchyParent()););var c=l&&o.periodHighlighterByID(l.data().PM_PeriodHighlighterID);this.dateAreas=c&&c.dateAreaDefinitions,this._viewModel._updateTimeItem(this.timeItems[0],a.ActivityReleaseDate,this._viewType,r&&o.dateTimeValueToDate(n.ReleaseDate),(function(e){e.updateFromReference()})),this._viewModel._updateTimeItem(this.timeItems[0],a.ActivityDueDate,this._viewType,s&&o.dateTimeValueToDate(n.DueDate),(function(e){e.updateFromReference()})),this.rab_firstUpdate&&(this.rab_color=n.PM_TableColor,this.rab_firstUpdate=!1);var u,d=n,p=this.getParentItem();if(p&&p.rab_itemType===a.Root&&(p=void 0),n.ParentID&&!p)d=void 0;else if(p){for(;;){var h=p.getParentItem();if(!h||h.rab_itemType===a.Root)break;p=h}d=p.data().ParentID?void 0:p.data()}return d&&(u=d.PM_ViewArea),this.atTheTop=-1===u,i}},l={};n.extendClass(l,r,o,s),e.exports=l[r]},8867:function(e,t,i){var n=i(7930),a=i(4429),o=i(4081).ItemType,r=a.BarType,s=a.BarShape,l=a.BarInteractions,c=i(3398),u=(i(7731),{construct:function(e,t,i,n,a,c){"use strict";this._super(e,t,i,n,a,void 0,c),this.barType=r.SingleRespectedByOptimization,this.barShape=s.Custom,this.barInteractions=l.None,this.markable=e===o.ActivityDueDate,this.selectable=!1,e===o.ActivityReleaseDate&&(this.barShape=s.Diamond,this.markable=!1),e===o.ActivityDueDate&&(this.barShape=s.Diamond,this.markable=!1)},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data(),n=i.model();return this.rab_itemType===o.ActivityReleaseDate?this.start=n.dateTimeValueToDate(i.ReleaseDate):this.rab_itemType===o.ActivityDueDate&&(this.start=n.dateTimeValueToDate(i.DueDate)),this.opacity=i.PM_BarOpacity,t},getChildItemsPropNameInParent:function(){return this?"childTimeItems":this._super()}}),d={};n.nClassFactory.extendClass(d,"rabActivitySingleTimeItem",c,u),e.exports=d.rabActivitySingleTimeItem},8029:function(e,t,i){var n=i(7930),a=i(4429),o=i(4081),r=o.ItemType,s=a.BarInteractions,l=a.BarShape,c=a.BarType,u=a.ConstraintType,d=o._activityBarShapesMap,p=i(3398),h=(i(7731),i(3393)),g={construct:function(e,t,i,n,a,o){"use strict";this._super(e,t,i,n,a,void 0,o),e===r.Activity?(this.barType=c.StartEnd,this.respectingCalendar=!0):e===r.ActivityBaseline&&(this.barInteractions=s.None,this.barShape=l.Rectangle,this.barType=c.StartEnd,this.markable=!1,this.selectable=!1)},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data(),n=i.model();if(this.barInteractions=s.None,this.marked=i.PM_StatusFrameVisible,this.rab_itemType===r.Activity){if(this.selectable=i.PM_BarSelectable,n.isActivityEditable(i)&&(this.barInteractions=i.PM_AllowedBarDragModes),delete this.leftCaptionOffset,i.PM_BarTextPrefixSymbolID){var a=i.PM_BarTextPrefixSymbolWidth;0===a||a||(a=h.prototype._barSymbolExtent),a=+a,!isNaN(a)&&isFinite(a)&&a>0&&(this.leftCaptionOffset=a)}this.snapTargetsForStart=i.PM_SnapTargetsForStart,this.snapTargetsForEnd=i.PM_SnapTargetsForEnd,this.start=n.dateTimeValueToDate(i.Start),this.end=n.dateTimeValueToDate(i.End),this.progress=+i.Progress||0,null!=i.PM_ProgressBackgroundColor&&""!==i.PM_ProgressBackgroundColor||null!=this.getAPIOption("pm_defaultActivityProgressBackgroundColor")&&""!==this.getAPIOption("pm_defaultActivityProgressBackgroundColor")?this.progressBackgroundVisible=!0:this.progressBackgroundVisible=!1,this.predictedEnd=n.dateTimeValueToDate(i.PredictedEnd),this.constraints?this.constraints.length=0:this.constraints=[];var o,p=this.getAPIOption("pm_detailedActivityConstraintSymbolsEnabled"),g=this.getAPIOption("pm_defaultActivityConstraintSymbolColor");(o=n.dateTimeValueToDate(i.EarliestStart))&&this.constraints.push({type:p?u.StartNoEarlierThan:void 0,date:o,color:i.PM_EarliestStartColor||g}),(o=n.dateTimeValueToDate(i.LatestStart))&&this.constraints.push({type:p?u.StartNoLaterThan:void 0,date:o,color:i.PM_LatestStartColor||g}),(o=n.dateTimeValueToDate(i.MustStartOn))&&this.constraints.push({type:p?u.MustStartOn:void 0,date:o,color:i.PM_MustStartOnColor||g}),(o=n.dateTimeValueToDate(i.EarliestEnd))&&this.constraints.push({type:p?u.EndNoEarlierThan:void 0,date:o,color:i.PM_EarliestEndColor||g}),(o=n.dateTimeValueToDate(i.LatestEnd))&&this.constraints.push({type:p?u.EndNoLaterThan:void 0,date:o,color:i.PM_LatestEndColor||g}),(o=n.dateTimeValueToDate(i.MustEndOn))&&this.constraints.push({type:p?u.MustEndOn:void 0,date:o,color:i.PM_MustEndOnColor||g}),this.barShape=void 0!==i.PM_BarShape?i.PM_BarShape:d[this.getAPIOption("pm_defaultActivityBarShape")],this.barShape===l.Diamond?this.barType=c.Single:this.barType=c.StartEnd,this.respectingCalendar=!0,this.barShape===l.Summary?this.barHeight=16:this.barHeight=i.PM_BarHeight,this.opacity=i.PM_BarOpacity}else this.rab_itemType===r.ActivityBaseline&&(this.start=n.dateTimeValueToDate(i.BaselineStart),this.end=n.dateTimeValueToDate(i.BaselineEnd),this.barTopOffset=i.PM_BarHeight+2||this.getAPIOption("pm_defaultActivityBarHeight")+2,this.barHeight=3,this.respectingCalendar=!0,this.opacity=i.PM_BarOpacity);return t},getParentItemPropName:function(){return this||this._super(),"rab_parentItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"childTimeItems"}},_={};n.nClassFactory.extendClass(_,"rabActivityTimeItem",p,g),e.exports=_.rabActivityTimeItem},1836:function(e,t,i){var n=i(3755),a=i(7930),o=i(4081),r=o.RAB_ALLOCATION_ENTRIES_PROP_NAME,s=o.AllocationBarDesign,l=o.TextWrapMode,c=i(9330),u={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?n.extend({},e):void 0},_modificationClassificationByProperty:{Entries:-1,PM_AllowedBarDragModes:2,PM_AllowedBarDragModesInActivitiesView:2,PM_BarSelectable:2,PM_BarTextPrefixSymbolHeight:1,PM_BarTextPrefixSymbolID:1,PM_BarTooltipTemplateID:2,PM_BorderColor:1,PM_BorderWidth:1,PM_Color:1,PM_EarliestDragStart:2,PM_EarliestEndColor:1,PM_EarliestStartColor:1,PM_EndIsSnapTarget:2,PM_LatestStartColor:1,PM_LatestDragEnd:2,PM_LatestEndColor:1,PM_LeftBarSymbolHeight:1,PM_LeftBarSymbolID:1,PM_LeftBarSymbolWidth:1,PM_MustEndOnColor:1,PM_MustStartOnColor:1,PM_NonworkingTimeColor:1,PM_PredictedEndColor:1,PM_ProgressColor:1,PM_ProgressNonworkingTimeColor:1,PM_ProgressBackgroundColor:1,PM_RightBarSymbolHeight:1,PM_RightBarSymbolID:1,PM_RowSelectable:2,PM_RowSymbolIDs:-1,PM_RowTooltipTemplateID:2,PM_SnapTargetsForStart:2,PM_SnapTargetsForEnd:2,PM_StartIsSnapTarget:2,PM_Status1Color:1,PM_Status1Visible:1,PM_Status2Color:1,PM_Status2Visible:1,PM_Status3Color:1,PM_Status3Visible:1,PM_Status4Color:1,PM_Status4Visible:1,PM_StatusFrameColor:1,PM_StatusFrameVisible:1,PM_TableColor:1,PM_TableTextColor:1,PM_TextColor:1,PM_TopLeftBarSymbolID:1,PM_TopRightBarSymbolID:1,SuitableResourceIDs:2}},d={};a.nClassFactory.extendClass(d,"rabAllocation",c,u);var p=d.rabAllocation;Object.defineProperty(p.prototype,"BarText",{get:function(){return this._data.BarText||this._data.Name}}),Object.defineProperty(p.prototype,"Entries",{get:function(){return this.getChildrenArray(r)}}),Object.defineProperty(p.prototype,"Name",{get:function(){return this._data.BarText||this._data.Name}}),Object.defineProperty(p.prototype,"EarliestEnd",{get:function(){return this._data.EarliestEnd}}),Object.defineProperty(p.prototype,"EarliestStart",{get:function(){return this._data.EarliestStart}}),Object.defineProperty(p.prototype,"LatestEnd",{get:function(){return this._data.LatestEnd}}),Object.defineProperty(p.prototype,"LatestStart",{get:function(){return this._data.LatestStart}}),Object.defineProperty(p.prototype,"MustEndOn",{get:function(){return this._data.MustEndOn}}),Object.defineProperty(p.prototype,"MustStartOn",{get:function(){return this._data.MustStartOn}}),Object.defineProperty(p.prototype,"PM_AllowedBarDragModes",{get:function(){var e=+this._data.PM_AllowedBarDragModes;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_AllowedBarDragModesInActivitiesView",{get:function(){var e=+this._data.PM_AllowedBarDragModesInActivitiesView;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BarDesign",{get:function(){if(this.rab_mergeEntriesPropertyName)return this._data[this.rab_mergeEntriesPropertyName]?s.MergedEntries:s.Entries;var e=this._data.PM_BarDesign;return 0==e?0:+e||null}}),Object.defineProperty(p.prototype,"PM_BarSelectable",{get:function(){var e=this._data.PM_BarSelectable;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_BarHeight",{get:function(){var e=+this._data.PM_BarHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BarOpacity",{get:function(){var e=this._data.PM_BarOpacity;return"number"==typeof e?e:void 0}}),Object.defineProperty(p.prototype,"PM_BarShape",{get:function(){var e=+this._data.PM_BarShape;return isNaN(e)?void 0:o._allocationBarShapesMap[e]}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolHeight",{get:function(){var e=+this._data.PM_BarTextPrefixSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolID",{get:function(){return this._data.PM_BarTextPrefixSymbolID}}),Object.defineProperty(p.prototype,"PM_BarTextPrefixSymbolWidth",{get:function(){var e=+this._data.PM_BarTextPrefixSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_BarTextWrapMode",{get:function(){var e=+this._data.PM_BarTextWrapMode;return isNaN(e)?l.None:e}}),Object.defineProperty(p.prototype,"PM_BarTooltipTemplateID",{get:function(){return this._data.PM_BarTooltipTemplateID}}),Object.defineProperty(p.prototype,"PM_BarTopOffset",{get:function(){var e=+this._data.PM_BarTopOffset;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_BorderColor",{get:function(){return this._data.PM_BorderColor}}),Object.defineProperty(p.prototype,"PM_BorderWidth",{get:function(){return 0===this._data.PM_BorderWidth?0:+this._data.PM_BorderWidth||null}}),Object.defineProperty(p.prototype,"PM_Color",{get:function(){return this._data.PM_Color}}),Object.defineProperty(p.prototype,"PM_EarliestDragStart",{get:function(){return this._data.PM_EarliestDragStart}}),Object.defineProperty(p.prototype,"PM_EarliestEndColor",{get:function(){return this._data.PM_EarliestEndColor}}),Object.defineProperty(p.prototype,"PM_EarliestStartColor",{get:function(){return this._data.PM_EarliestStartColor}}),Object.defineProperty(p.prototype,"PM_EndIsSnapTarget",{get:function(){var e=this._data.PM_EndIsSnapTarget;return null==e||!!e}}),Object.defineProperty(p.prototype,"PM_LatestDragEnd",{get:function(){return this._data.PM_LatestDragEnd}}),Object.defineProperty(p.prototype,"PM_LatestEndColor",{get:function(){return this._data.PM_LatestEndColor}}),Object.defineProperty(p.prototype,"PM_LatestStartColor",{get:function(){return this._data.PM_LatestStartColor}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolHeight",{get:function(){var e=+this._data.PM_LeftBarSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolID",{get:function(){return this._data.PM_LeftBarSymbolID}}),Object.defineProperty(p.prototype,"PM_LeftBarSymbolWidth",{get:function(){var e=+this._data.PM_LeftBarSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_MinimumRowHeight",{get:function(){var e=+this._data.PM_MinimumRowHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_MustEndOnColor",{get:function(){return this._data.PM_MustEndOnColor}}),Object.defineProperty(p.prototype,"PM_MustStartOnColor",{get:function(){return this._data.PM_MustStartOnColor}}),Object.defineProperty(p.prototype,"PM_NonworkingTimeColor",{get:function(){return this._data.PM_NonworkingTimeColor}}),Object.defineProperty(p.prototype,"PM_PredictedEndColor",{get:function(){return this._data.PM_PredictedEndColor}}),Object.defineProperty(p.prototype,"PM_ProgressBackgroundColor",{get:function(){return this._data.PM_ProgressBackgroundColor}}),Object.defineProperty(p.prototype,"PM_ProgressColor",{get:function(){return this._data.PM_ProgressColor}}),Object.defineProperty(p.prototype,"PM_ProgressNonworkingTimeColor",{get:function(){return this._data.PM_ProgressNonworkingTimeColor}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolHeight",{get:function(){var e=+this._data.PM_RightBarSymbolHeight;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolID",{get:function(){return this._data.PM_RightBarSymbolID}}),Object.defineProperty(p.prototype,"PM_RightBarSymbolWidth",{get:function(){var e=+this._data.PM_RightBarSymbolWidth;return!isNaN(e)&&isFinite(e)?e:void 0}}),Object.defineProperty(p.prototype,"PM_RowDesign",{get:function(){var e=+this._data.PM_RowDesign;return isNaN(e)?void 0:e}}),Object.defineProperty(p.prototype,"PM_RowSelectable",{get:function(){var e=this._data.PM_RowSelectable;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_RowSymbolIDs",{get:function(){return this._data.PM_RowSymbolIDs}}),Object.defineProperty(p.prototype,"PM_RowTooltipTemplateID",{get:function(){return this._data.PM_RowTooltipTemplateID}}),Object.defineProperty(p.prototype,"PM_SnapTargetsForStart",{get:function(){var e=this._data.PM_SnapTargetsForStart;return 0===e?0:+e||void 0}}),Object.defineProperty(p.prototype,"PM_SnapTargetsForEnd",{get:function(){var e=this._data.PM_SnapTargetsForEnd;return 0===e?0:+e||void 0}}),Object.defineProperty(p.prototype,"PM_StartIsSnapTarget",{get:function(){var e=this._data.PM_StartIsSnapTarget;return null==e||!!e}}),Object.defineProperty(p.prototype,"PM_Status1Color",{get:function(){return this._data.PM_Status1Color}}),Object.defineProperty(p.prototype,"PM_Status1Visible",{get:function(){var e=this._data.PM_Status1Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status2Color",{get:function(){return this._data.PM_Status2Color}}),Object.defineProperty(p.prototype,"PM_Status2Visible",{get:function(){var e=this._data.PM_Status2Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status3Color",{get:function(){return this._data.PM_Status3Color}}),Object.defineProperty(p.prototype,"PM_Status3Visible",{get:function(){var e=this._data.PM_Status3Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_Status4Color",{get:function(){return this._data.PM_Status4Color}}),Object.defineProperty(p.prototype,"PM_Status4Visible",{get:function(){var e=this._data.PM_Status4Visible;return null==e?void 0:!!e}}),Object.defineProperty(p.prototype,"PM_StatusFrameColor",{get:function(){return this._data.PM_StatusFrameColor}}),Object.defineProperty(p.prototype,"PM_StatusFrameVisible",{get:function(){var e=this._data.PM_StatusFrameVisible;return null!=e&&!!e}}),Object.defineProperty(p.prototype,"PM_TableColor",{get:function(){return this._data.PM_TableColor}}),Object.defineProperty(p.prototype,"PM_TableRowDefinitionID",{get:function(){return this._data.PM_TableRowDefinitionID}}),Object.defineProperty(p.prototype,"PM_TableTextColor",{get:function(){return this._data.PM_TableTextColor}}),Object.defineProperty(p.prototype,"PM_TextColor",{get:function(){return this._data.PM_TextColor}}),Object.defineProperty(p.prototype,"PM_TopLeftBarSymbolID",{get:function(){return this._data.PM_TopLeftBarSymbolID}}),Object.defineProperty(p.prototype,"PM_TopRightBarSymbolID",{get:function(){return this._data.PM_TopRightBarSymbolID}}),Object.defineProperty(p.prototype,"PredictedEnd",{get:function(){return this._data.PredictedEnd}}),Object.defineProperty(p.prototype,"Progress",{get:function(){var e=this._data.Progress;return"number"==typeof e?e:void 0}}),Object.defineProperty(p.prototype,"SuitableResourceIDs",{get:function(){var e=this._data.SuitableResourceIDs;return Array.isArray(e)&&e}}),Object.defineProperty(p.prototype,"TableText",{get:function(){return this._data.TableText||this._data.Name}}),e.exports=d.rabAllocation},9427:function(e,t,i){var n=i(3755),a=i(7930),o=i(9330),r={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?n.extend({},e):void 0},_modificationClassificationByProperty:{PM_Color:1,PM_NonworkingTimeColor:1}},s={};a.nClassFactory.extendClass(s,"rabAllocationEntry",o,r);var l=s.rabAllocationEntry;Object.defineProperty(l.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(l.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(l.prototype,"PM_Color",{get:function(){return this._data.PM_Color}}),Object.defineProperty(l.prototype,"PM_NonworkingTimeColor",{get:function(){return this._data.PM_NonworkingTimeColor}}),Object.defineProperty(l.prototype,"PM_Height",{get:function(){var e=+this._data.PM_Height;return isNaN(e)?void 0:e}}),Object.defineProperty(l.prototype,"PM_RelativeTopOffset",{get:function(){var e=+this._data.PM_RelativeTopOffset;return isNaN(e)?void 0:e}}),e.exports=l},254:function(e,t,i){var n=i(7930).nClassFactory,a=i(4429),o=a.BarInteractions,r=a.BarShape,s=i(4081),l=s.ItemType,c=s.ViewType,u=s._AllocationBarDesignFlags,d=s._allocationBarShapesMap,p=i(3398),h=(i(9427),"rabAllocationEntryTimeItem"),g={construct:function(e,t,i,n,a){"use strict";this._super(l.AllocationEntry,e,t,i,n,void 0,a),this.respectingCalendar=!0},updateFromReference:function(e){"use strict";this._super(e);var t=this.data(),i=t.getHierarchyParent(),n=i.model();this.start=n.dateTimeValueToDate(t.Start),this.end=n.dateTimeValueToDate(t.End);var a=i.PM_BarDesign;null==a&&(a=this.getAPIOption("pm_defaultAllocationBarDesign"));var l=s._convertAllocationBarDesignToFlags(a);this.barInteractions=o.None,l===u.Entries&&n.isAllocationEditable(i)&&(this.barInteractions=this._viewType===c.Activities?i.PM_AllowedBarDragModesInActivitiesView:i.PM_AllowedBarDragModes),this.barShape=r.Rectangle;var p=i.Entries;if(Array.isArray(p)&&p.length){for(var h=void 0,g=0;g<p.length;g++){var _=n.dateTimeValueToDate(p[g].Start);_&&(!h||_<h)&&(h=_)}h&&this.start&&h.getTime()===this.start.getTime()&&(this.barShape=void 0!==i.PM_BarShape?i.PM_BarShape:d[this.getAPIOption("pm_defaultAllocationBarShape")])}this.calendar=this.getAPIOption("pm_ignoreCalendarOnAllocationBarInteractions")?n.fullWorkingTimeNWAFCalendar():void 0,null!=i.PM_BarHeight&&(this.barHeight=i.PM_BarHeight),null!=t.PM_Height&&(this.barHeight=t.PM_Height),null!=t.PM_RelativeTopOffset?this.barTopOffset=t.PM_RelativeTopOffset:this.barTopOffset=0,null!=i.PM_BarTopOffset&&(this.barTopOffset+=i.PM_BarTopOffset),this.opacity=i.PM_BarOpacity},getParentItemPropName:function(){return this||this._super(),"rab_parentItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"childTimeItems"},postUpdateSelf:function(){"use strict";if(this.getParentItem())if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data().getHierarchyParent();e&&!e.rab_modificationClassification&&this._super()}else this._super()}},_={};n.extendClass(_,h,p,g),e.exports=_[h]},9528:function(e,t,i){i(1539),i(9714);var n=i(7930),a=n.nClassFactory,o=i(4429).DisplayedElements,r=i(4081).ItemType,s=i(6761),l=(i(1836),{construct:function(e,t,i,n,a){"use strict";this.rab_firstUpdate=!0,t._createItem(e,r.Allocation,this,i),this._super(r.AllocationRow,e,t,i,n,void 0,a)},isResourceRelevant:function(){return!0},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),this._super())},getChildItemsPropNameInParent:function(){return this||this._super(),"leafRowItems"},enrichObject:function(){"use strict";this.expandedDisplayedElements=o.Bars|o.CalendarGrid,this.initiallyCollapsed=!1,this.collapsible=!1},updateFromReference:function(e){"use strict";var t,i=this,a=i._super(e),o=i.data(),r=o.model();if(i.timeItems&&i.timeItems[0]&&i.timeItems[0].updateFromReference(),i.tableRowDefinitionID=o.PM_TableRowDefinitionID,null!=i.tableRowDefinitionID&&(i.tableRowDefinitionID=i.tableRowDefinitionID.toString()),i.selectable=o.PM_RowSelectable,this.expandedDisplayedElements=o.PM_RowDesign,this.collapsedDisplayedElements=this.expandedDisplayedElements,i.minimumHeight=o.PM_MinimumRowHeight,e&&e.ignoreCalendar)t=r._defaultNonWorkingTimeCalendar;else{var s=r.resourceByID(n.nPropertyComposer.compose(o,["ResourceRole","ResourceID"],n.nDefaultSeparator))||null;s&&(t=r.calendarByResource(s))}return this.calendar=t?t.nCalendar:void 0,this.rab_firstUpdate&&(this.rab_color=o.PM_TableColor,this.rab_firstUpdate=!1),a},getAllocationTimeItemForLinkRelationType:function(e){"use strict";if(Array.isArray(this.timeItems)&&this.timeItems.length)return this.timeItems[0].getAllocationTimeItemForLinkRelationType(e)}}),c={};a.extendClass(c,"rabAllocationRowItem",s,l),e.exports=c.rabAllocationRowItem},3306:function(e,t,i){var n=i(7930),a=n.nClassFactory,o=n.nPropertyComposer,r=n.nDefaultSeparator,s=i(4429),l=s.BarInteractions,c=s.ConstraintType,u=i(4081),d=u.ItemType,p=u.ViewType,h=u._AllocationBarDesignFlags,g=u._allocationBarShapesMap,_=u._LinkTypeFlags,f=i(3398),m=(i(1836),i(3393)),v={construct:function(e,t,i,n,a){"use strict";this._super(d.Allocation,e,t,i,n,void 0,a),this.respectingCalendar=!0},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t,i=this._super(e),n=this.data(),a=n.model();if(this.barInteractions=l.None,a.isAllocationEditable(n)&&(this.barInteractions=this._viewType===p.Activities?n.PM_AllowedBarDragModesInActivitiesView:n.PM_AllowedBarDragModes),this.marked=n.PM_StatusFrameVisible,delete this.leftCaptionOffset,n.PM_BarTextPrefixSymbolID){var s=n.PM_BarTextPrefixSymbolWidth;0===s||s||(s=m.prototype._barSymbolExtent),s=+s,!isNaN(s)&&isFinite(s)&&s>0&&(this.leftCaptionOffset=s)}this.snapTargetsForStart=n.PM_SnapTargetsForStart,this.snapTargetsForEnd=n.PM_SnapTargetsForEnd,this.startIsSnapTarget=n.PM_StartIsSnapTarget,this.endIsSnapTarget=n.PM_EndIsSnapTarget,this.progress=n.Progress,void 0===this.progress&&(t=a.activityByID(o.compose(n,["ActivityRole","ActivityID"],r))||null)&&(this.progress=t.Progress),null!=n.PM_ProgressBackgroundColor&&""!==n.PM_ProgressBackgroundColor||null!=this.getAPIOption("pm_defaultAllocationProgressBackgroundColor")&&""!==this.getAPIOption("pm_defaultAllocationProgressBackgroundColor")?this.progressBackgroundVisible=!0:this.progressBackgroundVisible=!1,this.predictedEnd=a.dateTimeValueToDate(n.PredictedEnd),this.selectable=n.PM_BarSelectable,delete this.start,delete this.end;var d=n.PM_BarDesign;null==d&&(d=this.getAPIOption("pm_defaultAllocationBarDesign")),this.rab_allocationBarDesignFlags=u._convertAllocationBarDesignToFlags(d);var _=n.Entries;if(Array.isArray(_)&&_.length||(this.rab_allocationBarDesignFlags=h.StartEnd),this.rab_allocationBarDesignFlags&h.StartEnd)void 0===t&&(t=a.activityByID(o.compose(n,["ActivityRole","ActivityID"],r))),t&&(this.start=a.dateTimeValueToDate(t.Start),this.end=a.dateTimeValueToDate(t.End));else if(Array.isArray(_)&&_.length){delete this.start,delete this.end;for(var f=0;f<_.length;f++){var v=a.dateTimeValueToDate(_[f].Start);v&&(!this.start||v<this.start)&&(this.start=v);var b=a.dateTimeValueToDate(_[f].End);b&&(!this.end||b>this.end)&&(this.end=b)}}this.calendar=this.getAPIOption("pm_ignoreCalendarOnAllocationBarInteractions")?a.fullWorkingTimeNWAFCalendar():void 0,this.rab_allocationBarDesignFlags&(h.StartEnd|h.Grouped|h.Merged)?(this.barShape=void 0!==n.PM_BarShape?n.PM_BarShape:g[this.getAPIOption("pm_defaultAllocationBarShape")],this.zOrder=this.rab_allocationBarDesignFlags&(h.Entries|h.Grouped)?"twice":1):(delete this.barShape,delete this.zOrder),this.constraints?this.constraints.length=0:this.constraints=[];var y,A=this.getAPIOption("pm_detailedAllocationConstraintSymbolsEnabled"),I=this.getAPIOption("pm_defaultAllocationConstraintSymbolColor");return(y=a.dateTimeValueToDate(n.EarliestStart))&&this.constraints.push({type:A?c.StartNoEarlierThan:void 0,date:y,color:n.PM_EarliestStartColor||I}),(y=a.dateTimeValueToDate(n.LatestStart))&&this.constraints.push({type:A?c.StartNoLaterThan:void 0,date:y,color:n.PM_LatestStartColor||I}),(y=a.dateTimeValueToDate(n.MustStartOn))&&this.constraints.push({type:A?c.MustStartOn:void 0,date:y,color:n.PM_MustStartOnColor||I}),(y=a.dateTimeValueToDate(n.EarliestEnd))&&this.constraints.push({type:A?c.EndNoEarlierThan:void 0,date:y,color:n.PM_EarliestEndColor||I}),(y=a.dateTimeValueToDate(n.LatestEnd))&&this.constraints.push({type:A?c.EndNoLaterThan:void 0,date:y,color:n.PM_LatestEndColor||I}),(y=a.dateTimeValueToDate(n.MustEndOn))&&this.constraints.push({type:A?c.MustEndOn:void 0,date:y,color:n.PM_MustEndOnColor||I}),this.barHeight=n.PM_BarHeight,this.barTopOffset=n.PM_BarTopOffset,this.opacity=n.PM_BarOpacity,i},getAllocationTimeItemForLinkRelationType:function(e){"use strict";return Array.isArray(this.childTimeItems)&&this.childTimeItems.length&&this.rab_allocationBarDesignFlags===h.Entries?e&_.TargetEnd?this.childTimeItems[this.childTimeItems.length-1]:this.childTimeItems[0]:this}},b={};a.extendClass(b,"rabAllocationTimeItem",f,v),e.exports=b.rabAllocationTimeItem},4645:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(6541),i(9554),i(2772),i(6992),i(1249),i(7042),i(5212),i(7941),i(1539),i(4916),i(9714),i(8783),i(4723),i(4747),i(3948);var a=i(3755),o=i(5680),r=i(7930),s=i(4429),l=s.TimeType,c=i(4081),u=c.ItemType,d=c.ViewType,p=c.ObjectType,h=i(6431),g=i(8422),_=i(9077),f=i(1963),m=i(3393),v={ViewTitle_Activities:"Activities",ViewTitle_Resources:"Resources",ViewTitle_Entities:"Entities",TooltipHeader_Load:"Load",TooltipHeader_Resource:"Resource",TooltipHeader_Link:"Link",TooltipLabel_Load:"Load",TooltipLabel_Capacity:"Capacity",TooltipLabel_From:"From",TooltipLabel_To:"To",TooltipLabel_StartingDateTime:"Starting Date/Time",TooltipLabel_EndingDateTime:"Ending Date/Time",TooltipLabel_ReleaseDate:"Release Date",TooltipLabel_DueDate:"Due Date",DateLineLabel_CurrentDate:"Now"},b={construct:function(e){"use strict";var t=this;this._invariantDateTimeFormat=o.utcFormat?o.utcFormat("%Y-%m-%dT%H:%M:%SZ"):o.time.format.utc("%Y-%m-%dT%H:%M:%SZ"),this._invariantDateTimeFormatParse=o.utcParse?o.utcParse("%Y-%m-%dT%H:%M:%SZ"):o.time.format.utc("%Y-%m-%dT%H:%M:%SZ").parse,this._initOptions(e),this._optionsCollector=new this._options.optionsCollectorClass(this),r.nTextLocalizer.registerAppID("RAB"),r.nTextLocalizer.registerLocalization("RAB","",v),this._title=this._options.title,this._model=new this._options.modelClass(this,this._options.modelOptions),this._view=new this._options.viewClass(this,this._model,this._options.viewOptions),this._viewInitialized=!1,this._withinFirstCodeSequence=!0,window.setTimeout((function(){this._withinFirstCodeSequence=!1}),0),this._clearCache(),this._symbolsMap={},this._dateLinesMap={},this._tooltipTemplatesMap={},this._tableRowDefinitionsMap={},this._nonWorkingTimeCalendarIsDirty=!1,this._locale=new r.nLocale,this._viewType=d.Activities;var i=function(e,i,n){t.handleAPIOptionChanged(e,i,n)};this.setAPIOptionChangedCallback("locale",1,i),this.setAPIOptionChangedCallback("language",1,i),this.setAPIOptionChangedCallback("weekNumbering",1,i),this.setAPIOptionChangedCallback("editable",1,i)},destroy:function(){"use strict";this._view.destroy(),delete this._view,this._model.destroy(),delete this._model,delete this._optionsCollector,delete this._symbolsMap,delete this._dateLinesMap,delete this._tooltipTemplatesMap,delete this._tableRowDefinitionsMap},init:function(){"use strict";this._model.init(null)},setAPIOption:function(e,t){"use strict";this._optionsCollector.setOption(e,t)},getAPIOption:function(e){"use strict";return this._optionsCollector.getOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this._optionsCollector.setCallback(e,t,i)},handleAPIOptionChanged:function(e,t){"use strict";switch(e){case"locale":this._locale.locale(t);break;case"language":this._locale.language(t);break;case"weekNumbering":this._locale.weekNumbering(t);break;case"editable":this._view.setOption(e,t),this._removeAllDateLinesFromGanttViews(),this._initializeDateLinesForView()}},handleAPIOptionPostprocessing:function(){"use strict";this._renderOnIdle()},_initOptions:function(e){"use strict";var t={appIDForTextLocalizer:"RAB",d3TimeFormatEnabled:!1,modelOptions:{},viewOptions:{},viewModelOptions:{},ganttViewOptions:{ganttWidget:{timescaleInteractionsEnabled:!0,automaticCalculationOfSubRowIndexesOfBarsInRow:!1,barSelectionFramesShownWithHigherZOrder:!0,timescaleSmartNavigationVersion:c.TimescaleNavigationModeToVersionMap[c.TimescaleNavigationMode.Latest]}},optionsCollectorClass:h,modelClass:g,viewClass:_,viewModelClass:f,ganttViewClass:m,widget:null,fullScreenGanttViewElem:null,timeAxisResolutionUnit:null,timeAxisPixelsPerResolutionUnit:null};this._options=a.extend({},t,e),e.modelOptions&&(this._options.modelOptions=a.extend({},t.modelOptions,e.modelOptions)),e.viewModelOptions&&(this._options.viewModelOptions=a.extend({},t.viewModelOptions,e.viewModelOptions)),e.viewOptions&&(this._options.viewOptions=a.extend({},t.viewOptions,e.viewOptions)),e.ganttViewOptions&&(this._options.ganttViewOptions=a.extend({},t.ganttViewOptions,e.ganttViewOptions),e.ganttViewOptions.ganttWidget&&(this._options.ganttViewOptions.ganttWidget=a.extend({},t.ganttViewOptions.ganttWidget,e.ganttViewOptions.ganttWidget)))},options:function(){return a.extend({},this._options)},getOption:function(e){return this._options[e]},optionsCollector:function(){"use strict";return this._optionsCollector},model:function(){"use strict";return this._model},view:function(){"use strict";return this._view},title:function(){"use strict";return this._title},locale:function(){return this._locale},textByIndex:function(e){"use strict";return r.nTextLocalizer.localize(this._options.appIDForTextLocalizer,e)},dateTimeStringToDate:function(e){"use strict";if(this.getAPIOption("relativeDateModeEnabled"))return r.nDateHelper.relativeDateTimeStringToDate(e,this.getAPIOption("referenceDate"));if(this._options.d3TimeFormatEnabled){var t=this._invariantDateTimeFormatParse(e);return t&&t.getFullYear()<2e3&&t.setFullYear(t.getFullYear()+100),t}return new Date(e)},dateToDateTimeString:function(e){"use strict";return this._invariantDateTimeFormat(e)},localDateToDateTimeString:function(e){"use strict";var t=r.nLocales.locale();return(o.timeFormat?o.timeFormat:o.time.format)(t.date+" "+t.patterns.T)(e)},localDateToDateString:function(e){"use strict";return(o.timeFormat?o.timeFormat:o.time.format)(r.nLocales.locale().date)(e)},_getObjectDataForObjects:function(e){"use strict";var t=[];return e.forEach((function(e){t.push(e.data())})),t},_addObject:function(e,t,i){"use strict";var n=this,a=n.model()[i](e);return a&&n.view()&&n.view()[i](a),a},_updateObject:function(e,t,i,n){"use strict";var a=this,o=a.model().getChildByData(t,e);if(!o&&n&&(a._addObject(e,t,n),o=a.model().getChildByData(t,e)),o){a.getAPIOption("updateOptimizationEnabled")&&o.classifyModification(e);var r=a.view();r&&r[i](o,"before"),a.model()[i](o,e),r&&r[i](o,"after")}return o},_removeObject:function(e,t,i){"use strict";var n=this,a=n.model().getChildByPrimaryKey(t,e);if(a){var o=n.view();o?o[i](e):n.model()[i](a)}},_addObjects:function(e,t,i){"use strict";var n=this;n._view&&n._view.ganttViews().forEach((function(e){e.viewModel().invalidateAllRowsIfEmpty(e)}));var a={};e.forEach((function(e){var o=n._addObject(e,t,i);o&&(a[o.ID]=!0)})),n._view&&n._view.ganttViews().forEach((function(e){n._determineVisibilityOfUpdatedObjectsInView(e,t,a),e.viewModel().autoInvalidateRows(e,t===c.RAB_ENTITIES_PROP_NAME?d._Entities:e.viewType()),e.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()})),n._renderOnIdle()},_updateObjects:function(e,t,i,n){"use strict";var a=this,o=n&c.UpdateModes.ImplicitAddObjects;o&&a._view.ganttViews().forEach((function(e){e.viewModel().invalidateAllRowsIfEmpty(e)}));var r=o?"add"+i:void 0,s="update"+i,l={};e.forEach((function(e){var i=a._updateObject(e,t,s,r);i&&(l[i.ID]=!0)})),a._viewInitialized&&a._view.ganttViews().forEach((function(e){a._determineVisibilityOfUpdatedObjectsInView(e,t,l),e.viewModel().autoInvalidateRows(e,t===c.RAB_ENTITIES_PROP_NAME?d._Entities:e.viewType()),e.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()})),a._renderOnIdle()},_removeObjects:function(e,t,i,n){"use strict";var a=this;void 0!==t?e.forEach((function(e){var o="string"==typeof e?(t||"")+r.nDefaultSeparator+e:(e.Role||"")+r.nDefaultSeparator+e.ID;a._removeObject(o,i,n)})):e.forEach((function(e){var t="string"==typeof e?e:e.ID;a._removeObject(t,i,n)})),a._viewInitialized&&a._view.ganttViews().forEach((function(e){e.viewModel().autoInvalidateRows(e,i===c.RAB_ENTITIES_PROP_NAME?d._Entities:e.viewType()),e.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()})),a._renderOnIdle()},_updateSelectedActivities:function(){"use strict";this._viewInitialized&&this._view.ganttViews().forEach((function(e){if(e.viewType()===d.Activities){var t=e.getSelectedObjectsAndType();t.itemType===u.Activity&&e.selectObjects(t.itemType,t.objects)}}))},_updateSelectedAllocations:function(){"use strict";this._viewInitialized&&this._view.ganttViews().forEach((function(e){if(e.viewType()===d.Resources){var t=e.getSelectedObjectsAndType();t.itemType===u.Allocation&&e.selectObjects(t.itemType,t.objects)}}))},addResources:function(e){"use strict";var t=this;t._addObjects(e,c.RAB_RESOURCES_PROP_NAME,"addResource"),t._saveCalendarIDsOnAddedObjects(e,c.RAB_RESOURCES_PROP_NAME),t._updateSelectedAllocations(),t._nonWorkingTimeCalendarIsDirty=!0},updateResources:function(e,t){"use strict";var i=this,n=i._saveSavedCalendarIDs(e,c.RAB_RESOURCES_PROP_NAME);i._updateObjects(e,c.RAB_RESOURCES_PROP_NAME,"Resource",t),i._updateSelectedAllocations(),i._checkSavedCalendarIDsOfUpdatedObjects(e,c.RAB_RESOURCES_PROP_NAME,n)},removeResources:function(e){"use strict";this._removeObjects(e,"",c.RAB_RESOURCES_PROP_NAME,"removeResource"),this._updateSelectedAllocations(),this._nonWorkingTimeCalendarIsDirty=!0},addCalendars:function(e){"use strict";this._addObjects(e,c.RAB_CALENDARS_PROP_NAME,"addCalendar"),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},updateCalendars:function(e,t){"use strict";this._updateObjects(e,c.RAB_CALENDARS_PROP_NAME,"Calendar",t),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},removeCalendars:function(e){"use strict";this._removeObjects(e,void 0,c.RAB_CALENDARS_PROP_NAME,"removeCalendar"),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},addCurves:function(e){"use strict";this._addObjects(e,c.RAB_CURVES_PROP_NAME,"addCurve")},updateCurves:function(e,t){"use strict";this._updateObjects(e,c.RAB_CURVES_PROP_NAME,"Curve",t)},removeCurves:function(e){"use strict";this._removeObjects(e,void 0,c.RAB_CURVES_PROP_NAME,"removeCurve")},addActivities:function(e){"use strict";var t=this;t._addObjects(e,c.RAB_ACTIVITIES_PROP_NAME,"addActivity"),t._saveCalendarIDsOnAddedObjects(e,c.RAB_ACTIVITIES_PROP_NAME),t._updateSelectedActivities(),t._nonWorkingTimeCalendarIsDirty=!0},updateActivities:function(e,t){"use strict";var i=this,n=i._saveSavedCalendarIDs(e,c.RAB_ACTIVITIES_PROP_NAME);i._updateObjects(e,c.RAB_ACTIVITIES_PROP_NAME,"Activity",t),i._checkSavedCalendarIDsOfUpdatedObjects(e,c.RAB_ACTIVITIES_PROP_NAME,n),i._updateSelectedActivities(),i._nonWorkingTimeCalendarIsDirty=!0},removeActivities:function(e){"use strict";this._removeObjects(e,"",c.RAB_ACTIVITIES_PROP_NAME,"removeActivity"),this._updateSelectedActivities(),this._nonWorkingTimeCalendarIsDirty=!0},addAllocations:function(e){"use strict";this._addObjects(e,c.RAB_ALLOCATIONS_PROP_NAME,"addAllocation")},updateAllocations:function(e,t){"use strict";this._updateObjects(e,c.RAB_ALLOCATIONS_PROP_NAME,"Allocation",t)},removeAllocations:function(e){"use strict";this._removeObjects(e,"",c.RAB_ALLOCATIONS_PROP_NAME,"removeAllocation")},getAllocationsForActivity:function(e,t){"use strict";var i="string"==typeof e?e:e.ID,n="string"==typeof e?t:e.Role;return this._getObjectDataForObjects(this.model().getAllocationsForActivity(i,n))},getAllocationsForResource:function(e){"use strict";var t="string"==typeof e?e:e.ID,i="string"==typeof e?void 0:e.Role;return this._getObjectDataForObjects(this.model().getAllocationsForResource(t,i))},addLinks:function(e){"use strict";this._addObjects(e,c.RAB_LINKS_PROP_NAME,"addLink")},updateLinks:function(e,t){"use strict";this._updateObjects(e,c.RAB_LINKS_PROP_NAME,"Link",t)},removeLinks:function(e){"use strict";this._removeObjects(e,"",c.RAB_LINKS_PROP_NAME,"removeLink")},addEntities:function(e){"use strict";this._addObjects(e,c.RAB_ENTITIES_PROP_NAME,"addEntity")},updateEntities:function(e,t){"use strict";this._updateObjects(e,c.RAB_ENTITIES_PROP_NAME,"Entity",t)},removeEntities:function(e){"use strict";this._removeObjects(e,void 0,c.RAB_ENTITIES_PROP_NAME,"removeEntity")},removeAll:function(e){"use strict";var t=this;if(t.view())if(null!=e)switch(e){case p.Resource:this.removeResources(this.model().resources().slice());break;case p.Calendar:var i=[];this.model().calendars().forEach((function(e){i.push({ID:e.ID})})),this.removeCalendars(i);break;case p.Activity:this.removeActivities(this.model().activities().slice());break;case p.Allocation:this.removeAllocations(this.model().allocations().slice());break;case p.Curve:this.removeCurves(this.model().curves().slice());break;case p.Link:this.removeLinks(this.model().links().slice());break;case p.Entity:this.removeEntities(this.model().entities().slice());break;case p.PeriodHighlighter:this.removePeriodHighlighters(this.model().periodHighlighters().slice());break;case p.Symbol:t._symbolsMap={},t._updateSymbolsInGanttView(),t._renderOnIdle();break;case p.DateLine:t._removeAllDateLinesFromGanttViews(),t._dateLinesMap={},t._renderOnIdle();break;case p.TooltipTemplate:t._tooltipTemplatesMap={};break;case p.TableRowDefinitions:t._tableRowDefinitionsMap={},t._updateTableRowDefinitions(!0),t._renderOnIdle()}else t.view().removeAll(),t._symbolsMap={},t._updateSymbolsInGanttView(),t._tooltipTemplatesMap={},t._tableRowDefinitionsMap={},t._updateTableRowDefinitions(!0),t._removeAllDateLinesFromGanttViews(),t._dateLinesMap={},t._renderOnIdle()},determineVisibilityOfObjects:function(e){"use strict";var t=this;t.view()&&(e?[e]:t.view().ganttViews()).forEach((function(e){t._determineVisibilityOfUpdatedObjectsInView(e,c.RAB_RESOURCES_PROP_NAME),t._determineVisibilityOfUpdatedObjectsInView(e,c.RAB_ALLOCATIONS_PROP_NAME),t._determineVisibilityOfUpdatedObjectsInView(e,c.RAB_ACTIVITIES_PROP_NAME)}))},_determineVisibilityOfUpdatedObjectsInView:function(e,t,i){"use strict";t===c.RAB_RESOURCES_PROP_NAME?e.viewModel().determineVisibilityOfRowsInView(e,i,u.Resource):t===c.RAB_ALLOCATIONS_PROP_NAME?e.viewModel().determineVisibilityOfAllocationsInView(e,i):t===c.RAB_ACTIVITIES_PROP_NAME&&e.viewModel().determineVisibilityOfRowsInView(e,i,u.Activity)},addSymbols:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1;e.forEach((function(e){t._symbolsMap[e.ID]||(t._symbolsMap[e.ID]=e,i=!0)})),i&&t._updateSymbolsInGanttView()}t._renderOnIdle()},updateSymbols:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var n=!1;e.forEach((function(e){(t&c.UpdateModes.ImplicitAddObjects||i._symbolsMap[e.ID])&&(i._symbolsMap[e.ID]=e,n=!0)})),n&&i._updateSymbolsInGanttView()}i._renderOnIdle()},removeSymbols:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){var i="string"==typeof e?e:e.ID;delete t._symbolsMap[i]})),t._updateSymbolsInGanttView()),t._renderOnIdle()},_updateSymbolsInGanttView:function(){"use strict";var e=this,t=e._viewInitialized&&e._view.ganttViews();t&&t[0].updateSymbols(e._symbolsMap)},symbolsMap:function(){"use strict";return this._symbolsMap},_getSymbolsData:function(){"use strict";var e=this,t=[];return Object.keys(this._symbolsMap).forEach((function(i){t.push(a.extend({},e._symbolsMap[i]))})),t},addTooltipTemplates:function(e){"use strict";var t=this;Array.isArray(e)&&e.forEach((function(e){t._tooltipTemplatesMap[e.ID]||(t._tooltipTemplatesMap[e.ID]=e)}))},updateTooltipTemplates:function(e,t){"use strict";var i=this;Array.isArray(e)&&e.forEach((function(e){(t&c.UpdateModes.ImplicitAddObjects||i._tooltipTemplatesMap[e.ID])&&(i._tooltipTemplatesMap[e.ID]=e)}))},removeTooltipTemplates:function(e){"use strict";var t=this;Array.isArray(e)&&e.forEach((function(e){if(null!=e){var i="string"==typeof e?e:e.ID;delete t._tooltipTemplatesMap[i]}}))},tooltipTemplatesMap:function(){"use strict";return this._tooltipTemplatesMap},_getTooltipTemplatesData:function(){"use strict";var e=this,t=[];return Object.keys(this._tooltipTemplatesMap).forEach((function(i){t.push(a.extend({},e._tooltipTemplatesMap[i]))})),t},addPeriodHighlighters:function(e){"use strict";this._addObjects(e,c.RAB_CALENDAR_GRIDS_PROP_NAME,"addPeriodHighlighter")},updatePeriodHighlighters:function(e,t){"use strict";this._updateObjects(e,c.RAB_CALENDAR_GRIDS_PROP_NAME,"PeriodHighlighter",t)},removePeriodHighlighters:function(e){"use strict";this._removeObjects(e,void 0,c.RAB_CALENDAR_GRIDS_PROP_NAME,"removePeriodHighlighter")},addDateLines:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1,n=t._viewInitialized&&t._view.ganttViews();e.forEach((function(e){if(!t._dateLinesMap[e.ID]){var a=r.nSubsequentIDGenerator.generate(),o=t._createInternalDateLineObject(e,a);t._dateLinesMap[e.ID]=o,t._viewInitialized&&n.forEach((function(n){n.addDateLine(t._createInternalDateLineObject(e,a,n),!1),i=!0}))}})),i&&n.forEach((function(e){e.updateDateLinePresentations()}))}},updateDateLines:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var n=!1,a=i._viewInitialized&&i._view.ganttViews();e.forEach((function(e){var o=t&c.UpdateModes.ImplicitAddObjects,s=!!i._dateLinesMap[e.ID];if(o||s){var l=i._dateLinesMap[e.ID],u=l?l.rab_ID:r.nSubsequentIDGenerator.generate(),d=i._createInternalDateLineObject(e,u);if(i._dateLinesMap[e.ID]=d,i._viewInitialized){var p=s?"updateDateLine":"addDateLine",h=!0;s&&(h=!Object.keys(d).every((function(e){var t=d[e],i=l[e];return i instanceof Date&&t instanceof Date?i.valueOf()===t.valueOf():i===t}))),h&&a.forEach((function(t){var a=i._createInternalDateLineObject(e,u,t);t[p](a,!1),n=!0}))}}})),n&&a.forEach((function(e){e.updateDateLinePresentations()}))}},removeDateLines:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1,n=t._viewInitialized&&t._view.ganttViews();e.forEach((function(e){if(null!=e){var a="string"==typeof e?e:e.ID,o=t._dateLinesMap[a];t._viewInitialized&&o&&n.forEach((function(e){e.removeDateLine(t._createInternalDateLineObject({},o.rab_ID,e).id,!1),i=!0})),delete t._dateLinesMap[a]}})),i&&n.forEach((function(e){e.updateDateLinePresentations()}))}},_initializeDateLinesForView:function(){"use strict";var e=this;Object.keys(e._dateLinesMap).length&&e._view.ganttViews().forEach((function(t){Object.keys(e._dateLinesMap).forEach((function(i){var n=e._dateLinesMap[i],a=n.rab_data;t.addDateLine(e._createInternalDateLineObject(a,n.rab_ID,t),!1)})),t.updateDateLinePresentations()}))},_createInternalDateLineObject:function(e,t,i){"use strict";return{id:(i?"rab"+i.ganttWidget()._uniqueID+"_":"")+t,date:this._model.dateTimeValueToDate(e.PointInTime),label:e.Caption?e.Caption.toString():"",draggable:!!e.Draggable&&this.getAPIOption("editable"),labelOrientation:e.CaptionOrientation||c.DateLineCaptionOrientation.Vertical,labelPosition:e.CaptionPosition||c.DateLineCaptionPosition.Left,rab_symbolID:e.SymbolID,rab_symbolHeight:e.SymbolHeight,rab_symbolWidth:e.SymbolWidth,rab_lineColor:e.Color,rab_labelColor:e.CaptionColor,rab_lineWidth:e.Width,rab_lineDashArray:e.DashArray,rab_data:e,rab_ID:t,rab_itemType:u.DateLine,inForeground:null==e.InFrontOfBars||e.InFrontOfBars}},_removeAllDateLinesFromGanttViews:function(){"use strict";var e=this,t=e.view();t&&Object.keys(e._dateLinesMap).length&&t.ganttViews().forEach((function(t){Object.keys(e._dateLinesMap).forEach((function(i){var n=e._dateLinesMap[i];t.removeDateLine("rab"+t.ganttWidget()._uniqueID+"_"+n.rab_ID,!1)})),t.updateDateLinePresentations()}))},_getDateLinesData:function(){"use strict";var e=this,t=[];return Object.keys(this._dateLinesMap).forEach((function(i){t.push(a.extend({},e._dateLinesMap[i].rab_data))})),t},addTableRowDefinitions:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){e.ID&&!t._tableRowDefinitionsMap[e.ID]&&(t._tableRowDefinitionsMap[e.ID]=t._createInternalTableRowDefinition(e))})),t._updateTableRowDefinitions(!0))},updateTableRowDefinitions:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var n=t&c.UpdateModes.ImplicitAddObjects,a=!1;e.forEach((function(e){var t=void 0;if(e.ID){var o=i._tableRowDefinitionsMap[e.ID];(o||n)&&(t=i._createInternalTableRowDefinition(e),!o||i._isTableRowDefinitionModified(o,t)?(i._tableRowDefinitionsMap[e.ID]=t,a=!0):o.rab_data=e)}})),i._updateTableRowDefinitions(a)}},removeTableRowDefinitions:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){if(null!=e){var i="string"==typeof e?e:e.ID;delete t._tableRowDefinitionsMap[i]}})),t._updateTableRowDefinitions(!0))},_isTableRowDefinitionModified:function(e,t){"use strict";var i=e.cellDefinitions,a=t.cellDefinitions;if(!!i!=!!a)return!0;if(i){if(i.length!==a.length)return!0;for(var o=i.length-1;o>=0;o--)if(!Object.keys(i[o]).every((function(e){var t=i[o][e],r=a[o][e];return["function","object"].indexOf(n(t))>=0||t===r||t&&r&&t.valueOf()===r.valueOf()})))return!0}return!1},_createInternalTableRowDefinition:function(e){"use strict";var t=this;return{cellDefinitions:Array.isArray(e.CellDefinitions)?e.CellDefinitions.map((function(e){var i=+e.HorizontalAlignment,n=+e.HorizontalTitleAlignment,a={width:parseInt(e.Width),minimumWidth:parseInt(e.MinimumWidth),maximumWidth:parseInt(e.MaximumWidth),horizontalTextAlignment:isNaN(i)?void 0:i,horizontalTitleAlignment:isNaN(n)?void 0:n,title:e.Title,wrapMode:parseInt(e.WrapMode),rab_textSource:e.TextSource,rab_symbolIDSource:e.SymbolIDSource,contentsFunc:function(){return t._tableRowDefinitionCellFillFunc.apply(t,arguments)},rab_backgroundColor:e.BackgroundColor,rab_backgroundColorSource:null!=e.BackgroundColorSource?e.BackgroundColorSource.toString():void 0,rab_textColor:e.TextColor,rab_textColorSource:e.TextColorSource?e.TextColorSource.toString():void 0};return isNaN(a.width)&&(a.width=200),isNaN(a.minimumWidth)&&delete a.minimumWidth,isNaN(a.maximumWidth)&&delete a.maximumWidth,null!=a.title&&(a.title=a.title.toString()),isNaN(a.wrapMode)&&(a.wrapMode=void 0),a.rab_textSource=null!=a.rab_textSource?a.rab_textSource.toString():"TableText",a.rab_symbolIDSource=null!=a.rab_symbolIDSource?a.rab_symbolIDSource.toString():void 0,a})):null,contentsFunc:function(){return t._tableRowDefinitionRowFillFunc.apply(t,arguments)},rab_data:e}},_updateTableRowDefinitions:function(e){"use strict";var t=this,i=t.view();i&&i.ganttViews().forEach((function(i){i.updateTableRowDefinitions(Object.keys(t._tableRowDefinitionsMap).length?t._tableRowDefinitionsMap:void 0,e)}))},_tableRowDefinitionCellFillFunc:function(e){"use strict";this.view().ganttViews()[0].__tableCellFillFunc(e)},_tableRowDefinitionRowFillFunc:function(e){"use strict";e.tableWidget?this.view().ganttViews()[0]._entitiesTableRowFillFunc(e):this.view().ganttViews()[0]._tableRowFillFunc(e)},tableRowDefinitionsMap:function(){"use strict";return this._tableRowDefinitionsMap},_getTableRowDefinitionsData:function(){"use strict";var e=this,t=[];return Object.keys(this._tableRowDefinitionsMap).forEach((function(i){t.push(a.extend({},e._tableRowDefinitionsMap[i].rab_data))})),t},calculateWorkingTime:function(e,t,i){"use strict";var n=this.model().calendarByID(e);if(!n&&e)throw new Error("Calendar not registered");return n&&(n=n.nCalendar),s.nCalendarHelper.calculateWorkingTime(n,i,t)},addWorkingTime:function(e,t,i){"use strict";var n=this.model().calendarByID(e);if(!n&&e)throw new Error("Calendar not registered");if(n&&(n=n.nCalendar,(!i||"-0"===i)&&n.determineTimeType(t)===l.NonWorkingTime)){var a=n.findStartOfCurrentTimeTypeInterval(t);if(!a||a.valueOf()===t.valueOf())return new Date(t)}return s.nCalendarHelper.addWorkingTime(n,t,i)},_updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar:function(e){"use strict";var t=this,i=t.model(),n=t.getAPIOption("defaultCalendarID"),a=!1;if(t._viewInitialized&&(!e||e.some((function(e){var t;if((t="string"==typeof e?i.calendarByID(e):e)&&t.ID===n)return!0})))){var o=t._view.ganttViews()[0],s=o.viewModel(),l=o.viewType(),u=function(e,t,i){var n=e.call(s,t,i);if(n&&(n.updateFromReference(),l===t))return s.registerRowItem(l,n,!0,!1),!0};if(i.getChildrenArray(c.RAB_RESOURCES_PROP_NAME).forEach((function(e){e.CalendarID||(e.curvesChanged(),u(s.resourceItem,d.Resources,e)&&(a=!0))})),t.getAPIOption("pm_activityCalendarsEnabled"))i.getChildrenArray(c.RAB_ACTIVITIES_PROP_NAME).forEach((function(e){!e.CalendarID&&u(s.activityItem,d.Activities,e)&&(a=!0)}));var p=t.getAPIOption("pm_allocationRowsVisibleInActivitiesView");i.getChildrenArray(c.RAB_ALLOCATIONS_PROP_NAME).forEach((function(e){if(e.ResourceID){var t=i.resourceByID((e.ResourceRole||"")+r.nDefaultSeparator+e.ResourceID);t&&!t.CalendarID&&(p&&u(s.allocationItem,d.Activities,e)&&(a=!0),u(s.allocationItem,d.Resources,e)&&(a=!0))}}))}return a&&s.autoInvalidateRows(o,l),a},_saveCalendarIDsOnAddedObjects:function(e,t){"use strict";var i=this;Array.isArray(e)&&e.forEach((function(e){var n=i._model.getChildByData(t,e);n&&(n.rab_savedCalendarID=n.CalendarID)}))},_saveSavedCalendarIDs:function(e,t){"use strict";var i=this,n=this._nonWorkingTimeCalendarIsDirty||this.getAPIOption("nonWorkingTimeVisible")?void 0:{};return n&&Array.isArray(e)&&e.forEach((function(e){var a=i._model.getChildByData(t,e);a&&(n[a.ID]=a.rab_savedCalendarID)})),n},_checkSavedCalendarIDsOfUpdatedObjects:function(e,t,i){"use strict";var n=this;Array.isArray(e)&&e.forEach((function(e){var a=n._model.getChildByData(t,e);if(a){var o=a.rab_savedCalendarID=a.CalendarID;i&&i[a.ID]!==o&&(n._nonWorkingTimeCalendarIsDirty=!0)}}))},isRenderingNecessary:function(){return!!this._renderTimerID},setViewOptionIndirectly:function(e,t,i,n){"use strict";var a=this;i&&!a._viewInitialized?a._updateCache["viewType"===e?0:e.match(/ableViewWidth$/)?2:1].push({key:e,value:t}):a.view()&&a.view().setOption(e,t),n&&a._renderOnIdle()},_renderOnIdle:function(){"use strict";try{var e=this;void 0===e._renderTimerID&&(e._renderTimerID=setTimeout((function(){e._renderTimerID=void 0,e.render()}),1))}catch(e){this._rethrow(e,"_renderOnIdle")}},render:function(){"use strict";var e=this;this._nonWorkingTimeCalendarIsDirty&&(this._viewInitialized&&!this.getAPIOption("nonWorkingTimeVisible")&&this._view.ganttViews()[0].hideNonWorkingTime(!0),this._nonWorkingTimeCalendarIsDirty=!1);var t=!e._viewInitialized;t&&(this._viewInitialized=!0,this._model._handleSettings(),this._view.init()),e._updateCache[1].forEach((function(t){t.key&&e._view.setOption(t.key,t.value)})),e._updateCache[2].forEach((function(t){e._view.setOption(t.key,t.value)})),e._clearCache(),t&&(this._updateSymbolsInGanttView(),this._view.initForViewType(e._viewType),this._initializeDateLinesForView()),e._view.preRender(),void 0!==e._renderTimerID&&(clearTimeout(e._renderTimerID),e._renderTimerID=void 0),e._view.render()},_clearCache:function(){"use strict";this._updateCache=[[],[],[]]},fitTimeAreaIntoView:function(e,t){"use strict";var i=this;return i.isRenderingNecessary()&&i.render(),i.view().ganttViews()[0].fitTimeAreaIntoView(e,t,i._withinFirstCodeSequence)},setTimeResolutionForView:function(e,t,i){"use strict";var n=this;return n.isRenderingNecessary()&&n.render(),n.view().ganttViews()[0].setTimeResolutionForView(e,t,i,n._withinFirstCodeSequence)},saveAsPDF:function(e,t){"use strict";return this.view().ganttViews()[0].saveAsPDF(e,t)},_getSupportedPageFormatsForPrinting:function(){"use strict";return this.view().ganttViews()[0].getSupportedPageFormatsForPrinting()}},y={};r.nClassFactory.extendClass(y,"rabApplication",r.nClass,b),e.exports=y.rabApplication},466:function(e,t,i){i(9554),i(4747);var n=i(7930),a=i(4429),o=i(4081).RAB_CALENDAR_ENTRIES_PROP_NAME,r=a.TimeType,s=i(9330),l={postAddToParent:function(){"use strict";this._super(),this.compile()},postUpdateSelf:function(){"use strict";this._super(),this.compile()},compile:function(){"use strict";var e=this,t=new a.nCalendar(r.NonWorkingTime);Array.isArray(this.Entries)&&this.Entries.forEach((function(i){var n=e._model.dateTimeValueToDate(i.Start),a=e._model.dateTimeValueToDate(i.End);n&&a&&t.allocateTimeSpan(n,a,i.TimeType)})),this.nCalendar=t}},c={};n.nClassFactory.extendClass(c,"rabCalendar",s,l);var u=c.rabCalendar;Object.defineProperty(u.prototype,"Entries",{get:function(){return this.getChildrenArray(o)}}),e.exports=c.rabCalendar},7298:function(e,t,i){var n=i(7930),a=i(9330),o={};n.nClassFactory.extendClass(o,"rabCalendarEntry",a,{construct:function(e,t,i,n){"use strict";this._super(e,t,i,n)}});var r=o.rabCalendarEntry;Object.defineProperty(r.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(r.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(r.prototype,"TimeType",{get:function(){return void 0===this._data.TimeType?1:+this._data.TimeType||2}}),e.exports=r},1398:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(6541),i(6992),i(9600),i(561),i(1539),i(8783),i(3948);var a=i(7930),o=i(4081),r=o.RAB_ACTIVITIES_PROP_NAME,s=o.RAB_ALLOCATIONS_PROP_NAME,l=o.RAB_RESOURCES_PROP_NAME,c=o.RAB_CALENDARS_PROP_NAME,u={construct:function(e){"use strict";this._model=e,this._logs=[]},log:function(e){this._logs.push(e)},results:function(){return this._logs.join("\n")},_checkPropertyType:function(e,t){var i=this;return"[]"===e.substring(e.length-2)?!!Array.isArray(t)&&(e.splice(e.length-2,2),t.every((function(t){return i._checkPropertyType(e,t)}))):"date"===e?t instanceof Date:n(t)===e},checkProperty:function(e,t,i,n,a){return t&&"string"==typeof t&&("number"===i&&"string"==typeof t?t=parseInt(t):"boolean"===i&&"string"==typeof t?t={false:!1,true:!0}[t.toLowerCase()]:"date"===i&&this._model.settings().DatesAreStrings&&(t=this._model.dateTimeValueToDate(t))),!(t&&(!this._checkPropertyType(i,t)||a&&!a(t))||!n&&!t)||(this.log("Invalid value in "+e+"!"),!1)},_checkID:function(e,t,i,n,a,o,r){if(this.checkProperty(t,i,"string",!1)){var s=e[(""|o)+""+i];return"existing"===n?!(!s||a&&s!==a&&(!r||s.parent!==a))||(this.log("Invalid primary key "+i+" for "+t+"!"),!1):s===a}return!1},checkActivityID:function(e,t,i,n,a,o){return this._checkID(this._model.getChildrenMap(r),e,t,i,n,a,o)},checkAllocationID:function(e,t,i,n,a,o){return this._checkID(this._model.getChildrenMap(s),e,t,i,n,a,o)},checkResourceID:function(e,t,i,n,a,o){return this._checkID(this._model.getChildrenMap(l),e,t,i,n,a,o)},checkCalendarID:function(e,t,i,n){return this._checkID(this._model.getChildrenMap(c),e,t,i,n)}},d={};a.nClassFactory.extendClass(d,"rabCheckLogger",a.nClass,u),e.exports=d.rabCheckLogger},7888:function(e,t,i){i(9554),i(2772),i(561),i(4747);var n=i(7930).nClassFactory,a=i(8811),o="rabChildItem",r={construct:function(e,t,i,n,a,o,r){"use strict";this._bridgedParentItem=a,this._super(e,t,i,n,r),this.attachToParentItem(a,o)},dispose:function(e){"use strict";this.detachFromParentItem(),this._super(e)},_createChild:function(e,t,i,n){"use strict";var a,o;if(!n){a=t;var r=this.isBridgeEnabled()&&this._bridgedParentItem?this._bridgedParentItem:this;o=t.handleParentItem?t.handleParentItem(r,e,i):r}return this._createChildAtLast(this._viewType,this._viewModel,e,o,a)},_createChildAtLast:function(e,t,i,n,a){return new(a.getClassConstructor())(e,t,i,n,a)},attachToParentItem:function(e,t){"use strict";if(e)return this.isBridgeEnabled()?void 0:e.attachChildItem(this,t)},detachFromParentItem:function(){"use strict";var e=this.getParentItem();if(e)return e.detachChildItem(this)},attachChildItem:function(e,t){"use strict";if(e){if(!this.isBridgeEnabled()){var i=e.getChildItemsPropNameInParent(),n=this[i];return n||(n=this._registerProperty(i,[])),t>=0&&t<n.length?n.splice(t,0,e):n.push(e),e.setParentItem(this),this.childItemAttached(e),this}if(this._bridgedParentItem)return this._bridgedParentItem.attachChildItem(e,t)}},detachChildItem:function(e){"use strict";var t=this[e.getChildItemsPropNameInParent()];if(t)return t.splice(t.indexOf(e),1),e.setParentItem(void 0),this.childItemDetached(e),this},getParentItem:function(){return this[this.getParentItemPropName()]},setParentItem:function(e){"use strict";var t=this.getParentItemPropName(),i="childTimeItems"!==this.getChildItemsPropNameInParent(),n=!i||"rab_rowItem"===t;i&&this[t]&&this._viewModel.registerRowItem(this._viewType,this[t],n,!n),this[t]=e,i&&e&&this._viewModel.registerRowItem(this._viewType,e,n,!n)},getParentItemPropName:function(){},getChildItemsPropNameInParent:function(){},childItemAttached:function(e){"use strict";this._descriptor&&this._descriptor.childItemAttached(this,e)},childItemDetached:function(e){"use strict";this._descriptor&&this._descriptor.childItemDetached(this,e)},addOrRemoveChildWithParentSearch:function(e,t,i){"use strict";var n=this,a=this._descriptor;if(a)if(a.getSubDescriptor(t))switch(e){case 1:return n.addChild(t,i);case 2:var o=i.getHierarchyParent();null!=o&&o.removeChild(i)}else{var r=a.getSubDescriptorsArray();r&&r.length>0&&r.forEach((function(a){var o=a.getPropertyName();if(o)if(a.getSubDescriptor(t))switch(e){case 1:var r=n._getHierarchyParentPrimaryKey(i);if(null!=r){var s=n.getChildByPrimaryKey(o,r);if(s){if(Array.isArray(s)){var l=[];return s.forEach((function(e){var n=e.addChild(t,i);l.push(n)})),l}return s.addChild(t,i)}}break;case 2:var c=i.getHierarchyParent();null!=c&&c.removeChild(i)}else{var u=n.getChildrenArray(o);if(u)switch(e){case 1:return l=[],u.forEach((function(n){var a=n.addOrRemoveChildWithParentSearch(e,t,i);l.push(a)})),l;case 2:u.forEach((function(n){n.addOrRemoveChildWithParentSearch(e,t,i)}))}}}))}}},s={};n.extendClass(s,o,a,r),e.exports=s.rabChildItem},3419:function(e,t,i){i(1539),i(9714);var n=i(5515),a={},o={calculateBarColors:function(e,t){"use strict";var i=e+""+(t=t||"#d3d5d6"),o=a[i];if(o)return o;var r={workingTimeColor:e,nonworkingTimeColor:"#000000",borderColor:"#ff0000",textColor:"#000000"},s=n(e),l=n.readability(r.workingTimeColor,"#FFFFFF"),c=s.toHsl(),u=c.l,d=c.s,p=d/2*100;s=s.desaturate(p);var h=(n(t).toHsl().l-u)/2*100;return r.nonworkingTimeColor=s.lighten(h).toString(),r.borderColor=n(e).desaturate(10).darken(u<.5?-10:10).toString(),r.textColor=l>2?"#ffffff":"#000000",r.workingTimeColorLightness=u,r.workingTimeColorSaturation=d,a[i]=r,r}};e.exports=o},1591:function(e,t,i){i(6541),i(9554),i(4747);var n=i(3755),a=i(7930),o=i(4081),r=o.RAB_CURVE_POINT_ENTRIES_PROP_NAME,s=o.CurveType,l=i(9330),c={construct:function(e,t,i,n){"use strict";this._super(e,t,i,n),this.rab_lastCompileTime=0},updateSelf:function(e){"use strict";this._super(e),this.rab_lastCompileTime=0},compile:function(e){"use strict";var t=this;if(t.isDirty()&&(t.rab_lastCompileTime=0),!t.rab_lastCompileTime||e!==t.rab_compiledCurveCalendar){var i;switch(t.Type){case s.PointCurve:i=t._compilePoints();break;case s.IntervalCurve:case s.AllocationCurve:break;case s.CurveStack:case s.CurveList:i=t._compileCurveCollection(e)}t.rab_compiledCurveCalendar=e,t.rab_compiledCurveResult=i,t.rab_lastCompileTime=Date.now()}return t.rab_compiledCurveResult},isDirty:function(){"use strict";var e=this;if(!this.rab_lastCompileTime)return!0;if((this.Type===s.CurveStack||this.Type===s.CurveList)&&Array.isArray(this.CurveIDs)){return function t(i){return!i.rab_lastCompileTime||!i.CurveIDs.every((function(n){var a=e._model.curveByID(n);return!a||(a.Type===s.CurveStack||a.Type===s.CurveList?!t(a):a.rab_lastCompileTime&&a.rab_lastCompileTime<=i.rab_lastCompileTime)}))}(this)}return!1},_compilePoints:function(){"use strict";var e=this,t=a.nSortedDatesWithValuesList.ModificationType,i=new a.nSortedDatesWithValuesList({start:new Date(0),value:0},(function(e,i,n,a){if(e===t.InsertAtStartOfInterval)return{start:i,value:a};if(e===t.InsertAtEndOfInterval)return{start:i,value:0};if(e===t.ModifyInterval)n.value=a;else if(e===t.SplitAtEndOfInterval)return{start:i,value:n.value}})),n=a.nSortedDatesWithValuesList.DateInfinity;return e.CurvePointEntries&&e.CurvePointEntries.forEach((function(t){if(t.PointInTime){var a=e._model.dateTimeValueToDate(t.PointInTime);a&&i.allocateTimeSpan(a,n,t.Value)}})),(i=e._simplifySortedDatesWithValuesList(i))._interpolationType=e.PM_InterpolationType,i._curveID=e.ID,i},_simplifySortedDatesWithValuesList:function(e){"use strict";var t,i,n=new a.nSortedDatesWithValuesList(0);return e.forEach((function(e,a,o){i&&i.value===o.value&&a||(i&&n.allocateTimeSpan(i.start,t,i.value),i=o),t=a})),n.convertValues((function(e,t){return{start:e,value:t}})),n},_compileCurveCollection:function(e){"use strict";var t,i=this,n=[];return function o(r){if(Array.isArray(r.CurveIDs))var l=r.Type;r.CurveIDs.forEach((function(r){var c=i._model.curveByID(r);if(c){if(l===s.CurveStack&&c.Type===s.CurveList)return;if(c.Type===s.CurveStack||c.Type===s.CurveList)o(c);else{var u=c.compile(e);u&&(t&&l===s.CurveStack&&((u=new a.nSortedDatesWithValuesList(u)).convertValues((function(e,t){return{start:e,value:t.value}})),i._addBiasToCurve(u,t),(u=i._simplifySortedDatesWithValuesList(u))._interpolationType=c.PM_InterpolationType,u._curveID=c.ID),n.push(u),t=u)}}}))}(this),n},determineCurveStackIDs:function(){"use strict";var e=this,t=[];return function i(n){Array.isArray(n.CurveIDs)&&n.CurveIDs.forEach((function(n){var a=e._model.curveByID(n);a&&(a.Type===s.CurveStack?i(a):t.push(n))}))}(this),t},_addBiasToCurve:function(e,t){"use strict";var i=a.nSortedDatesWithValuesList.ModificationType;e.setHandleInsertionFunction((function(e,t,a,o){if(e===i.InsertAtStartOfInterval){var r={start:t,value:a?a.value+o.value:o.value};return r}if(e===i.InsertAtEndOfInterval)return{start:t,value:a.value-o.value};if(e===i.ModifyInterval)a.value+=o.value;else if(e===i.SplitAtEndOfInterval)return(r=n.extend({},a)).start=t,r})),t.forEach((function(t,i,n){e.allocateTimeSpan(t,i,n)}))},_compileIntervalCurve:function(){},_compileAllocationCurve:function(){}},u={};a.nClassFactory.extendClass(u,"rabCurve",l,c);var d=u.rabCurve;Object.defineProperty(d.prototype,"Type",{get:function(){return+this._data.Type||0}}),Object.defineProperty(d.prototype,"CurvePointEntries",{get:function(){return this.getChildrenArray(r)}}),Object.defineProperty(d.prototype,"CurveIDs",{get:function(){return this._data.CurveIDs}}),Object.defineProperty(d.prototype,"PM_FillColor",{get:function(){return this._data.PM_FillColor}}),Object.defineProperty(d.prototype,"PM_StrokeColor",{get:function(){return this._data.PM_StrokeColor}}),Object.defineProperty(d.prototype,"PM_OverloadColor",{get:function(){return this._data.PM_OverloadColor}}),Object.defineProperty(d.prototype,"PM_InterpolationType",{get:function(){return+this._data.PM_InterpolationType||0}}),e.exports=d},6877:function(e,t,i){var n=i(7930),a=i(9330),o={};n.nClassFactory.extendClass(o,"rabCurvePointEntry",a,{construct:function(e,t,i,n){"use strict";this._super(e,t,i,n)}});var r=o.rabCurvePointEntry;Object.defineProperty(r.prototype,"PointInTime",{get:function(){return this._data.PointInTime}}),Object.defineProperty(r.prototype,"Value",{get:function(){var e=+this._data.Value;return isNaN(e)?null:e}}),e.exports=r},4081:function(e,t,i){var n=i(4429).BarShape,a={RAB_ROOT_PROP_NAME:"Root",RAB_RESOURCES_PROP_NAME:"Resources",RAB_CALENDARS_PROP_NAME:"Calendars",RAB_CALENDAR_ENTRIES_PROP_NAME:"Entries",RAB_ACTIVITIES_PROP_NAME:"Activities",RAB_ALLOCATIONS_PROP_NAME:"Allocations",RAB_ALLOCATION_ENTRIES_PROP_NAME:"Entries",RAB_CURVE_POINT_ENTRIES_PROP_NAME:"CurvePointEntries",RAB_CURVE_INTERVAL_ENTRIES_PROP_NAME:"CurveIntervalEntries",RAB_CURVES_PROP_NAME:"Curves",RAB_LINKS_PROP_NAME:"Links",RAB_ENTITIES_PROP_NAME:"Entities",RAB_CALENDAR_GRIDS_PROP_NAME:"PeriodHighlighters",RAB_CALENDAR_GRID_ENTRIES_PROP_NAME:"Entries",PrimaryKeyInfos:{},RelationshipInfos:{},ViewType:{_Entities:-1,Activities:0,Resources:1,Loads:2},ViewCount:3,CustomItemTypeMinimum:1e3,CustomItemTypeMaximum:1019,ItemType:{TimeArea:-2,Timescale:-1,Root:0,Activity:1,Allocation:2,AllocationEntry:3,AllocationRow:4,Resource:5,Link:6,Curve:7,ActivityRow:8,ActivityReleaseDate:9,ActivityDueDate:10,ActivityBaseline:11,ActivityFrame:12,Entity:13,PeriodHighlighter:14,PeriodHighlighterEntry:19,DateLine:16},TextIndexes:{ViewTitle_Activities:"ViewTitle_Activities",ViewTitle_Resources:"ViewTitle_Resources",ViewTitle_Entities:"ViewTitle_Entities",TooltipHeader_Load:"TooltipHeader_Load",TooltipHeader_Resource:"TooltipHeader_Resource",TooltipHeader_Link:"TooltipHeader_Link",TooltipLabel_Load:"TooltipLabel_Load",TooltipLabel_Capacity:"TooltipLabel_Capacity",TooltipLabel_From:"TooltipLabel_From",TooltipLabel_To:"TooltipLabel_To",TooltipLabel_StartingDateTime:"TooltipLabel_StartingDateTime",TooltipLabel_EndingDateTime:"TooltipLabel_EndingDateTime",TooltipLabel_ReleaseDate:"TooltipLabel_ReleaseDate",TooltipLabel_DueDate:"TooltipLabel_DueDate",DateLineLabel_CurrentDate:"DateLineLabel_CurrentDate"},TableType:{Gantt:0,Entities:1},TimescaleNavigationMode:{Latest:0,LegacyVersion1:1},TimescaleNavigationModeToVersionMap:{0:2,1:1},DateLineGridModes:{None:0,Auto:1,Weekly:2,Daily:4},RowDesigns:{None:0,Bars:1,Optimized:2,BarsInHiddenDescendantRows:4,CalendarGrid:8},_AllocationBarDesignFlags:{None:0,Entries:1,StartEnd:2,Grouped:4,Merged:8},_LinkTypeFlags:{SourceStart:2,TargetEnd:1},AllocationBarDesign:{Allocation:0,Entries:1,AllocationAndEntries:2,MergedEntries:3,GroupedEntries:4},UpdateModes:{UpdateOnly:0,ImplicitAddObjects:1},ActivityBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},AllocationBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},RowDragModes:{None:0,DragOutside:32},VisualType:{Background:-1,Bar:0,Row:1,Curve:2,Link:3,PeriodHighlighter:4,CalendarGrid:4,DateLine:5},TableCellType:{Text:1,ImageList:4},ActivityBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3},AllocationBarShape:{Regular:0,Summary:1,Rectangle:3},DateLineCaptionPosition:{Left:1,Center:2,Right:4,TopLeft:9,TopCenter:10,TopRight:12},DateLineCaptionOrientation:{Horizontal:1,Vertical:2},_activityBarShapesMap:{0:n.RectangleWithLeftTopBevel,1:n.Summary,2:n.Diamond,3:n.Rectangle},_allocationBarShapesMap:{0:n.RectangleWithLeftTopBevel,1:n.Summary,3:n.Rectangle},LinkMarker:{None:0,FilledArrow:1},LinkRoutingType:{Curved:1,Orthogonal:2},ProgressBarWidthCalculationMode:{ConsiderWorkingTimesOnly:0,ConsiderWorkingAndNonworkingTimes:1},TextWrapMode:{None:0,Line:1,Word:2},CurveType:{PointCurve:0,CurveStack:3,CurveList:4},CurveInterpolationType:{StepAfter:0,Linear:1},PaneIndex:{LoadCurve:0,InventoryCurve:1,Bars:2},SelectionBehavior:{Framing:0,Highlighting:1},TargetPositions:{None:0,Left:1,HCenter:2,Right:4,Top:8,VCenter:16,Bottom:32},WorldViewPosition:{Left:1,Right:2,Top:3,Bottom:4},SelectionChangedReason:{Click:0,BackgroundClick:1,ContextMenu:2,DragStart:3}};a.PrimaryKeyInfos[a.RAB_RESOURCES_PROP_NAME]=["Role","ID"],a.PrimaryKeyInfos[a.RAB_CALENDARS_PROP_NAME]="ID",a.PrimaryKeyInfos[a.RAB_ACTIVITIES_PROP_NAME]=["Role","ID"],a.PrimaryKeyInfos[a.RAB_ALLOCATIONS_PROP_NAME]=["Role","ID"],a.PrimaryKeyInfos[a.RAB_CURVES_PROP_NAME]="ID",a.PrimaryKeyInfos[a.RAB_LINKS_PROP_NAME]=["Role","ID"],a.PrimaryKeyInfos[a.RAB_ENTITIES_PROP_NAME]="ID",a.PrimaryKeyInfos[a.RAB_CALENDAR_GRIDS_PROP_NAME]="ID",a.RelationshipInfos[a.RAB_RESOURCES_PROP_NAME]=[{comingFrom:a.RAB_RESOURCES_PROP_NAME,relatedTo:a.RAB_RESOURCES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]}],a.RelationshipInfos[a.RAB_ACTIVITIES_PROP_NAME]=[{comingFrom:a.RAB_ACTIVITIES_PROP_NAME,relatedTo:a.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]}],a.RelationshipInfos[a.RAB_ALLOCATIONS_PROP_NAME]=[{comingFrom:a.RAB_ALLOCATIONS_PROP_NAME,relatedTo:a.RAB_RESOURCES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ResourceRole",essential:!1,empty:null},{primaryKeyName:"ResourceID",essential:!0,empty:null}]},{comingFrom:a.RAB_ALLOCATIONS_PROP_NAME,relatedTo:a.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ActivityRole",essential:!1,empty:null},{primaryKeyName:"ActivityID",essential:!0,empty:null}]}],a.RelationshipInfos[a.RAB_LINKS_PROP_NAME]=[{comingFrom:a.RAB_LINKS_PROP_NAME,relatedTo:a.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"SourceActivityRole",essential:!1,empty:null},{primaryKeyName:"SourceActivityID",essential:!0,empty:null}]},{comingFrom:a.RAB_LINKS_PROP_NAME,relatedTo:a.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"TargetActivityRole",essential:!1,empty:null},{primaryKeyName:"TargetActivityID",essential:!0,empty:null}]},{comingFrom:a.RAB_LINKS_PROP_NAME,relatedTo:a.RAB_ALLOCATIONS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"SourceAllocationRole",essential:!1,empty:null},{primaryKeyName:"SourceAllocationID",essential:!1,empty:null}]},{comingFrom:a.RAB_LINKS_PROP_NAME,relatedTo:a.RAB_ALLOCATIONS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"TargetAllocationRole",essential:!1,empty:null},{primaryKeyName:"TargetAllocationID",essential:!1,empty:null}]}],a.RelationshipInfos[a.RAB_ENTITIES_PROP_NAME]=[{comingFrom:a.RAB_ENTITIES_PROP_NAME,relatedTo:a.RAB_ENTITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentID",essential:!0,empty:null}]}];var o=a.ItemType;a.ObjectType={TimeArea:o.TimeArea,Timescale:o.Timescale,Activity:o.Activity,Allocation:o.Allocation,AllocationEntry:o.AllocationEntry,Resource:o.Resource,Link:o.Link,Curve:o.Curve,Entity:o.Entity,CalendarGrid:o.PeriodHighlighter,PeriodHighlighter:o.PeriodHighlighter,Symbol:15,DateLine:o.DateLine,TooltipTemplate:17,TableRowDefinitions:18,Calendar:20};var r=a.AllocationBarDesign,s=a._AllocationBarDesignFlags,l={};l[r.Allocation]=s.StartEnd,l[r.Entries]=s.Entries,l[r.AllocationAndEntries]=s.StartEnd|s.Entries,l[r.MergedEntries]=s.Merged,l[r.GroupedEntries]=s.Entries|s.Grouped,a._convertAllocationBarDesignToFlags=function(e){return l[e]},a.ActivityBarShapes=a.ActivityBarShape,a.RAB_CLASS_PREFIX="nrab-",a.RAB_NAMESPACE_SUFFIX=".nrab",a.RAB_CURVE_CONTAINER_CLASS=a.RAB_CLASS_PREFIX+"curves",e.exports=a},1289:function(e,t,i){var n=i(3755),a=i(7930),o=i(9330),r={store:function(e){"use strict";if(this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?n.extend({},e):void 0,e){var t=e.PM_CollapseState;t>=0&&(this.rab_cachedCollapseState=t)}},_modificationClassificationByProperty:{Duration:2,PM_AllowedRowDragModes:2,PM_CollapseState:function(){return this.rab_cachedCollapseState===this.PM_CollapseState?2:0},PM_RowSelectable:2,PM_RowSymbolIDs:-1,PM_TableColor:1,PM_TableTextColor:1}},s={};a.nClassFactory.extendClass(s,"rabEntity",o,r);var l=s.rabEntity;Object.defineProperty(l.prototype,"PM_TableRowDefinitionID",{get:function(){return this._data.PM_TableRowDefinitionID}}),Object.defineProperty(l.prototype,"TableText",{get:function(){return this._data.TableText||this._data.Name}}),Object.defineProperty(l.prototype,"Name",{get:function(){return this._data.TableText||this._data.Name}}),Object.defineProperty(l.prototype,"PM_HasChildren",{get:function(){var e=this._data.PM_HasChildren;return"boolean"==typeof e?e:void 0}}),Object.defineProperty(l.prototype,"Duration",{get:function(){var e=+this._data.Duration;return isNaN(e)?void 0:e}}),Object.defineProperty(l.prototype,"PM_TableColor",{get:function(){return this._data.PM_TableColor}}),Object.defineProperty(l.prototype,"PM_TableTextColor",{get:function(){return this._data.PM_TableTextColor}}),Object.defineProperty(l.prototype,"PM_CollapseState",{get:function(){var e=this._data.PM_CollapseState;return e>=0||(e=this.rab_cachedCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(l.prototype,"PM_AllowedRowDragModes",{get:function(){var e=+this._data.PM_AllowedRowDragModes;return isNaN(e)?void 0:e}}),Object.defineProperty(l.prototype,"PM_RowSelectable",{get:function(){var e=this._data.PM_RowSelectable;return null==e?void 0:!!e}}),Object.defineProperty(l.prototype,"PM_RowCollapsible",{get:function(){var e=this._data.PM_RowCollapsible;return null==e?void 0:!!e}}),Object.defineProperty(l.prototype,"PM_RowSymbolIDs",{get:function(){return this._data.PM_RowSymbolIDs}}),Object.defineProperty(l.prototype,"PM_RowTooltipTemplateID",{get:function(){return this._data.PM_RowTooltipTemplateID}}),Object.defineProperty(l.prototype,"PM_MinimumRowHeight",{get:function(){var e=+this._data.PM_MinimumRowHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(l.prototype,"SuitableResourceIDs",{get:function(){var e=this._data.SuitableResourceIDs;return e&&Array.isArray(e)?e:void 0}}),e.exports=l},8274:function(e,t,i){i(1539),i(9714);var n=i(7930),a=i(8750),o=i(4081).ItemType,r=a?a.RowInteractions:null,s=i(6761),l=(i(1289),{construct:function(e,t,i,n,a){"use strict";r&&(this.rowInteractions=r.MoveOutside),this.rab_firstUpdate=!0,this._super(o.Entity,e,t,i,n,void 0,a)},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification&&(e=!1)}e&&(this.rab_heightPropertyHasChanged&&(this._viewModel.registerRowItem(this._viewType,this,!0),delete this.rab_heightPropertyHasChanged),this._super())},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data();this.tableRowDefinitionID=i.PM_TableRowDefinitionID,null!=this.tableRowDefinitionID&&(this.tableRowDefinitionID=this.tableRowDefinitionID.toString()),i.PM_CollapseState>=0&&(this.initiallyCollapsed=!!i.PM_CollapseState),this.selectable=i.PM_RowSelectable,this.collapsible=i.PM_RowCollapsible,this.rowInteractions=i.PM_AllowedRowDragModes,this.duration=i.Duration;var n=i.model();this.calendar=this.getAPIOption("pm_ignoreCalendarOnAllocationBarInteractions")?n.fullWorkingTimeNWAFCalendar():void 0;var a=this.minimumHeight;return this.minimumHeight=i.PM_MinimumRowHeight,this.rab_heightPropertyHasChanged=this.rab_heightPropertyHasChanged||a!==this.minimumHeight,this.rab_firstUpdate&&(this.rab_color=i.PM_TableColor,this.rab_firstUpdate=!1),t}}),c={};n.nClassFactory.extendClass(c,"rabEntityRowItem",s,l);var u=c.rabEntityRowItem;e.exports=u},4050:function(e){function t(e,t){Error.call(this,e+": "+t),this.classification=e,this.text=t}t.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),t.prototype.constructor=t,e.exports=t},3393:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(2222),i(6541),i(7327),i(9826),i(9554),i(2772),i(6992),i(9600),i(1249),i(7042),i(5212),i(561),i(7941),i(1539),i(8674),i(4916),i(9714),i(8783),i(4723),i(5306),i(3123),i(3210),i(4747),i(3948);var a=i(3755),o=i(5680),r=i(7930),s=r.nOSDetector,l=r.nD3MigrationHelper.transform,c=i(4429),u=c.DisplayedElements,d=self&&self.PDFDocument?self.PDFDocument:i.m.null,p=self&&self.SVGtoPDF?self.SVGtoPDF:i.m.null,h=self&&self.blobStream?self.blobStream:i.m.null,g=i(6761),_=i(3398),f=i(4783),m=i(3419),v=i(4081),b=c.ElemType,y=c.BarInteractions,A=c.BarType,I=v.CurveType,C=v.CurveInterpolationType,T=c.HorizontalAlignment,w=c.TableRowDefinitionType,O=c.TimeUnit,P=v.ViewType,R=v.ViewCount,D=v.ItemType,S=v.TextIndexes,E=c.TimeType,M=v.TableType,N=v._AllocationBarDesignFlags,V=v.TableCellType,k=v.TextWrapMode,W=v.PaneIndex,B=v.SelectionBehavior,x=v.TargetPositions,L=v._activityBarShapesMap,F=v._allocationBarShapesMap,H=v.RAB_CLASS_PREFIX,j=H+"activities-view",G=H+"activity-baseline",U=H+"activity-due-date",z=H+"activity-release-date",Y=H+"capacity-curve-area",K=H+"capacity-curve-line",q=H+"container",X=H+"current-date-area",Q="rab-currentDateArea",Z=H+"current-date-line",J="rab-currentDateLine",$=H+"curve-axis",ee=H+"curve-button",te=v.RAB_CURVE_CONTAINER_CLASS,ie=H+"curves-parent",ne=H+"curve-line-hot-region",ae=H+"curve-pane-splitter",oe=H+"daily-dlg",re=H+"dateline-symbol",se=H+"earliest-drag-date-area",le=se,ce=H+"entities-table",ue=H+"entities-splitter",de=H+"gc-level",pe=H+"prefix-bar-symbol",he=H+"inventory-curve-area",ge=H+"inventory-curve-container-rect",_e=H+"inventory-x-axis",fe=H+"latest-drag-date-area",me=fe,ve=H+"left-bar-symbol",be=H+"load-curve-area",ye=H+"load-curve-container-rect",Ae=H+"load-x-axis",Ie=H+"loads-view",Ce=H+"overload-curve-area",Te=H+"release-due-date-line",we=H+"resources-view",Oe=H+"right-bar-symbol",Pe=H+"row-base-level",Re=H+"row-level",De=H+"status-1",Se=H+"status-2",Ee=H+"status-3",Me=H+"status-4",Ne=H+"status-indicator",Ve=H+"text-background-filter",ke="."+H+"tooltip",We=H+"tooltip-pos-anchor",Be=H+"top-left-bar-symbol",xe=H+"top-right-bar-symbol",Le=H+"vertical-splitter",Fe=H+"weekly-dlg",He=H+"work-date-line",je="rabview_workDateLine",Ge=s.isIEWebBrowserControl?0:s.isIE||s.isEdge?.5:-.5,Ue=.5,ze=[{start:new Date(0),value:0}],Ye={A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},Ke={_barSymbolExtent:12,construct:function(e,t,i,n,s){"use strict";var l=this;this._app=e,this._view=t,this._viewModel=i,this._initOptions(s),s=l._options,this._divJQ=a(n).addClass(q);var u=a("<div></div>").appendTo(this._divJQ);this._ganttWidget=null,this._entitiesTableWidget=null,this._curvePaneSplitterWidgetDivD3=o.select(this._divJQ[0]).append("svg"),this._curvePaneSplitterWidget=null,this._viewType=void 0,this._nonWorkingTimeCalendar=void 0,this._weekendCalendar=void 0,this._verticalScrollOffsetByViewType=new Array(R),this._topVerticalScrollOffsetByViewType=new Array(R),this._visibleStartRowItemByViewType=new Array(R),this._viewOffsetForCurrentDateCurrentlyObserved=!1,this._viewOffsetForCurrentDateCurrentlyNotObservedTimer=void 0,this._currentSymbolIDsMap={},this._defaultLinkType=c.LinkType.EndStart,this._tableDefinitionActivities={titleText:null!=l.getAPIOption("titleText")?l.getAPIOption("titleText"):l._app.textByIndex(S.ViewTitle_Activities),rowDefinitionIDWithColumnTitles:l.getAPIOption("pm_tableRowDefinitionIDForTitleInActivitiesView"),baseLevel:{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:l._app.textByIndex(S.ViewTitle_Activities),horizontalTextAlignment:T.Left},{className:"",width:50,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:"",horizontalTextAlignment:T.Left}]},groupingLevels:[{contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},className:H+"level0",cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left}]},{contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},className:H+"level1",cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left}]}]},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,this.getAPIOption("pm_symbolColumnVisible"),this.getAPIOption("pm_symbolColumnWidth")),this._tableDefinitionActivitiesBaseLevel=l._tableDefinitionActivities.baseLevel,this._tableDefinitionResources={fixedColumnsSucceeding:{cellDefinitions:[{className:"",width:20,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:"",clippingEnabled:!1}]},titleText:null!=l.getAPIOption("titleText")?l.getAPIOption("titleText"):l._app.textByIndex(S.ViewTitle_Resources),rowDefinitionIDWithColumnTitles:l.getAPIOption("pm_tableRowDefinitionIDForTitleInResourcesView"),baseLevel:{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:l._app.textByIndex(S.ViewTitle_Resources),horizontalTextAlignment:T.Left},{className:"",width:50,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:"",horizontalTextAlignment:T.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left}]}]},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,this.getAPIOption("pm_symbolColumnVisible"),this.getAPIOption("pm_symbolColumnWidth")),this._tableDefinitionResourcesBaseLevel=l._tableDefinitionResources.baseLevel,l._tableDefinitionLoads=a.extend(!0,{},l._tableDefinitionResources),l._tableDefinitionLoadsBaseLevel=l._tableDefinitionLoads.baseLevel,l._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=l.getAPIOption("pm_tableRowDefinitionIDForTitleInLoadsView"),this._tableDefinitionEntities={titleText:null!=l.getAPIOption("entitiesTitleText")?l.getAPIOption("entitiesTitleText"):l._app.textByIndex(S.ViewTitle_Entities),rowDefinitionIDWithColumnTitles:l.getAPIOption("pm_tableRowDefinitionIDForTitleInEntitiesTable"),baseLevel:{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:50,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left},{className:"",width:200,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:250,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:T.Left}]}]},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("pm_entitiesTableSymbolColumnVisible"),this.getAPIOption("pm_entitiesTableSymbolColumnWidth")),l._tableDefinitionEntitiesBaseLevel=l._tableDefinitionEntities.baseLevel,l.updateTableRowDefinitions(l.app().tableRowDefinitionsMap(),!1);var d=l._app.getOption("widget"),p={updateSuspended:!0,locale:this.app().locale(),timeZone:this.getAPIOption("timeZone"),relativeDateModeEnabled:this.getAPIOption("relativeDateModeEnabled"),dateLineGrids:[{timeType:c.DateLineGridRecurrence.Weekly,className:Fe}],defaultBarType:A.StartEnd,barDragAreaExtent:4,editable:l.getAPIOption("editable"),timeItemsEditableInCollapsedRows:!0,timeItemsSelectable:!0,linkItemsSelectable:!0,rowItemsSelectable:!0,keyboardEventsSourceElem:d?d.element[0]:void 0,separateBarShapeOutlinesEnabled:!0,differentiationBetweenEmptyArrayAndUndefined:!0,contextMenuEventOnRowItemInTimeArea:l.getAPIOption("pm_contextMenuCallbackOnRowInTimeArea"),preventDefaultOnContextMenuEvents:l.getAPIOption("pm_preventDefaultOnContextMenuEvents"),constraintSymbolsInMargin:!0,topRowMargin:l.getAPIOption("pm_topRowMarginInTimeArea"),bottomRowMargin:l.getAPIOption("pm_bottomRowMarginInTimeArea"),subRowDistance:l.getAPIOption("pm_subRowDistanceInTimeArea"),automaticDraggingOfSelectedTimeItems:l.getAPIOption("multipleBarDraggingEnabled"),worldViewSelectionColor:l.getAPIOption("pm_selectionColor")||"#FFA000",timeItemsSelectableByRectangle:l.getAPIOption("multipleSelectionEnabled"),scrollOffsetsChangedFuncTimeDelay:l.getAPIOption("pm_scrollOffsetsChangedCallbackTimeDelay"),enrichClassFunc:function(){return l._enrichClassFunc.apply(l,arguments)},timeAreaRowFillFunc:function(){return l._timeAreaRowFillFunc.apply(l,arguments)},timeAreaRowUpdateFunc:function(){return l._timeAreaRowUpdateFunc.apply(l,arguments)},rowExpandedOrCollapsedFunc:function(){return l._rowExpandedOrCollapsedFunc.apply(l,arguments)},rowExpandOrCollapseFunc:function(){return l._rowExpandOrCollapseFunc.apply(l,arguments)},createBarFunc:function(){return l._processCreateBarFunc.apply(l,arguments)},positionBarFunc:function(){return l._processPositionBarFunc.apply(l,arguments)},positionLinkFunc:function(){return l._positionLinkFunc.apply(l,arguments)},dragStartFunc:function(){return l._dragStartFunc.apply(l,arguments)},dragEndFunc:function(){return l._dragEndFunc.apply(l,arguments)},draggedFunc:function(){return l._draggedFunc.apply(l,arguments)},droppedFunc:function(){return l._droppedFunc.apply(l,arguments)},onEventFunc:function(){return l._onEventFunc.apply(l,arguments)},convertFunc:function(){return l._convertFunc.apply(l,arguments)},formatDateFunc:function(){return l._formatDateFunc.apply(l,arguments)},canSelectTimeItemFunc:function(){return l._canSelectTimeItemFunc.apply(l,arguments)},selectTimeItemFunc:function(){return l._selectTimeItemFunc.apply(l,arguments)},canSelectRowItemFunc:function(){return l._canSelectRowItemFunc.apply(l,arguments)},selectRowItemFunc:function(){return l._selectRowItemFunc.apply(l,arguments)},detachEventListenersExFunc:function(){return l._detachEventListenersExFunc.apply(l,arguments)},determineTableRowDefinitionFunc:function(){return l._determineTableRowDefinitionFunc.apply(l,arguments)},checkPossibleInteractionsFunc:function(){return l._checkPossibleInteractionsFunc.apply(l,arguments)},checkVisualZoomFactorFunc:function(){return l._checkVisualZoomFactorFunc.apply(l,arguments)},timeAreaViewParametersChangedFunc:function(){return l._timeAreaViewParametersChangedFunc.apply(l,arguments)},verticalScrollOffsetChangedFunc:function(){return l._verticalScrollOffsetChangedFunc.apply(l,arguments)},canSelectLinkItemFunc:function(){return l._canSelectLinkItemFunc.apply(l,arguments)},selectLinkItemFunc:function(){return l._selectLinkItemFunc.apply(l,arguments)},curvePaneChangedFunc:function(){return l._curvePaneChangedFunc.apply(l,arguments)},keyDownFunc:function(){return l._keyDownFunc.apply(l,arguments)},tableColumnWidthChangedFunc:function(){return l._tableColumnWidthChangedFunc.apply(l,arguments)}};s&&s.ganttWidget&&a.extend(p,s.ganttWidget),this._ganttWidget=u.nGanttWidget(p).nGanttWidget("instance"),u.on("nganttwidgetsplitterchanged",(function(e,t){if(t.isDropped)if(l.getAPIOption("tableViewWidthsSynchronized"))l.setAPIOption("tableViewWidthInActivitiesView",t.newValue),l.setAPIOption("tableViewWidthInResourcesView",t.newValue),l.setAPIOption("tableViewWidthInLoadsView",t.newValue);else switch(l._viewType){case P.Activities:l.setAPIOption("tableViewWidthInActivitiesView",t.newValue);break;case P.Resources:l.setAPIOption("tableViewWidthInResourcesView",t.newValue);break;case P.Loads:l.setAPIOption("tableViewWidthInLoadsView",t.newValue)}}));var h={classes:ae,orientation:r.nSplitterWidget.Orientation.Horizontal,startDrag:function(){},changed:function(e,t){var i={rowItem:t.args.rowItem,paneIndex:t.args.paneIndex,newHeight:t.newValue};l._curvePaneResizedFunc(i)},dragged:function(){},endDrag:function(){}};this._curvePaneSplitterWidget=a(l._curvePaneSplitterWidgetDivD3.node()).nSplitterWidget(h).nSplitterWidget("instance"),this._curvePaneSplitterWidget.element.attr("visibility","hidden"),this._colorStyleD3={},["pm_calendarGridColor","pm_timescaleBackgroundColor","pm_timescaleWeekendBackgroundColor","pm_timescaleTextColor","pm_timescaleTickColor","pm_timescaleHighlightingColor","pm_timeAreaBackgroundColor","pm_tableHeaderBackgroundColor","pm_tableHeaderTextColor","pm_tableHeaderColumnSeparatorColor","pm_tableHeaderHighlightingColor","pm_selectionColor","pm_splitterHighlightingColor","pm_suitableResourceOverlayColor","pm_unsuitableResourceOverlayColor"].forEach((function(e){l._setColorByOptionValue(e)})),this._showHideEntitiesTable(),this._resizeWidgets(),this._resizeSensor=new r.nResizeSensor(this._divJQ,(function(){l._resizeWidgets()})),this._statusIndicatorWidth=8,this._barSymbolExtent=Ke._barSymbolExtent,this._tableSymbolExtent=16;var g=function(e,t,i){l.handleAPIOptionChanged(e,t,i)};this.setAPIOptionChangedCallback("cursorDateLineVisible",1,g),this.setAPIOptionChangedCallback("entitiesTableVisibleInActivitiesView",1,g),this.setAPIOptionChangedCallback("entitiesTableVisibleInResourcesView",1,g),this.setAPIOptionChangedCallback("entitiesTitleText",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableSymbolColumnWidth",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableSymbolColumnTitleSymbolIDs",1,g),this.setAPIOptionChangedCallback("pm_curvePanesCollapsibleInResourcesView",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableSymbolColumnVisible",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableSymbolColumnTitleVisible",1,g),this.setAPIOptionChangedCallback("pm_patternShownOnOverloadCurves",1,g),this.setAPIOptionChangedCallback("pm_symbolColumnTitleSymbolIDs",1,g),this.setAPIOptionChangedCallback("pm_symbolColumnTitleVisible",1,g),this.setAPIOptionChangedCallback("pm_symbolColumnVisible",1,g),this.setAPIOptionChangedCallback("pm_symbolColumnWidth",1,g),this.setAPIOptionChangedCallback("timeZone",1,g),this.setAPIOptionChangedCallback("titleText",1,g),this.setAPIOptionChangedCallback("workDateLineCaption",1,g),this.setAPIOptionChangedCallback("pm_calendarGridColor",1,g),this.setAPIOptionChangedCallback("pm_defaultInventoryCurvePaneColor",1,g),this.setAPIOptionChangedCallback("pm_defaultLoadCurvePaneColor",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableHeaderBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableHeaderColumnSeparatorColor",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableHeaderHighlightingColor",1,g),this.setAPIOptionChangedCallback("pm_entitiesTableHeaderTextColor",1,g),this.setAPIOptionChangedCallback("pm_pastBackgroundFillColor",1,g),this.setAPIOptionChangedCallback("pm_pastBackgroundLineColor",1,g),this.setAPIOptionChangedCallback("pm_scrollToObjectHighlightingColor",1,g),this.setAPIOptionChangedCallback("pm_selectionColor",1,g),this.setAPIOptionChangedCallback("pm_splitterHighlightingColor",1,g),this.setAPIOptionChangedCallback("pm_suitableResourceOverlayColor",1,g),this.setAPIOptionChangedCallback("pm_tableHeaderBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_tableHeaderColumnSeparatorColor",1,g),this.setAPIOptionChangedCallback("pm_tableHeaderHighlightingColor",1,g),this.setAPIOptionChangedCallback("pm_tableHeaderTextColor",1,g),this.setAPIOptionChangedCallback("pm_timeAreaBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_timescaleBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_timescaleHighlightingColor",1,g),this.setAPIOptionChangedCallback("pm_timescaleTextColor",1,g),this.setAPIOptionChangedCallback("pm_timescaleTickColor",1,g),this.setAPIOptionChangedCallback("pm_timescaleWeekendBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_unsuitableResourceOverlayColor",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityCollapsedRowDesign",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityExpandedRowDesign",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationRowDesign",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceCollapsedRowDesign",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceExpandedRowDesign",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationSnapTargetsForStart",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationSnapTargetsForEnd",1,g),this.setAPIOptionChangedCallback("pm_defaultActivitySnapTargetsForStart",1,g),this.setAPIOptionChangedCallback("pm_defaultActivitySnapTargetsForEnd",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationAllowedBarDragModes",1,g),this.setAPIOptionChangedCallback("pm_forcedAllocationAllowedBarDragModes",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationAllowedBarDragModesInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_forcedAllocationAllowedBarDragModesInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityAllowedBarDragModes",1,g),this.setAPIOptionChangedCallback("pm_forcedActivityAllowedBarDragModes",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityAllowedRowDragModes",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceAllowedRowDragModes",1,g),this.setAPIOptionChangedCallback("pm_defaultEntityAllowedRowDragModes",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationBarSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityBarSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityRowSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceRowSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultEntityRowSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultLinkSelectable",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityRowCollapsible",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityAllocationRowsCollapsible",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceRowCollapsible",1,g),this.setAPIOptionChangedCallback("pm_defaultEntityRowCollapsible",1,g),this.setAPIOptionChangedCallback("pm_releaseDueDateConnectionsVisible",1,g),this.setAPIOptionChangedCallback("pm_detailedActivityConstraintSymbolsEnabled",1,g),this.setAPIOptionChangedCallback("pm_detailedAllocationConstraintSymbolsEnabled",1,g),this.setAPIOptionChangedCallback("pm_contextMenuCallbackOnRowInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_preventDefaultOnContextMenuEvents",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceBarsPaneVisible",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceLoadCurvePaneVisible",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceInventoryCurvePaneVisible",1,g),this.setAPIOptionChangedCallback("pm_curvePanesResizable",1,g),this.setAPIOptionChangedCallback("pm_topBarSymbolsVisible",1,g),this.setAPIOptionChangedCallback("pm_timescaleInteractionsEnabled",1,g),this.setAPIOptionChangedCallback("pm_ignoreCalendarOnAllocationBarInteractions",1,g),this.setAPIOptionChangedCallback("pm_scrollToObjectHighlightFlashingEnabled",1,g),this.setAPIOptionChangedCallback("worldViewVisible",1,g),this.setAPIOptionChangedCallback("multipleBarDraggingEnabled",1,g),this.setAPIOptionChangedCallback("tooltipDelay",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityBarShape",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationBarShape",1,g),this.setAPIOptionChangedCallback("currentDate",1,g),this.setAPIOptionChangedCallback("workDate",1,g),this.setAPIOptionChangedCallback("start",1,g),this.setAPIOptionChangedCallback("end",1,g),this.setAPIOptionChangedCallback("startAndEnd",1,g),this.setAPIOptionChangedCallback("pm_topViewAreaVisibleInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_topViewAreaVisibleInResourcesView",1,g),this.setAPIOptionChangedCallback("pm_topViewAreaVisibleInLoadsView",1,g),this.setAPIOptionChangedCallback("pm_mainViewAreaVisibleInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_mainViewAreaVisibleInResourcesView",1,g),this.setAPIOptionChangedCallback("pm_mainViewAreaVisibleInLoadsView",1,g),this.setAPIOptionChangedCallback("pm_defaultLinkRoutingType",1,g),this.setAPIOptionChangedCallback("pm_defaultLinkTargetMarker",1,g),this.setAPIOptionChangedCallback("pm_progressBarWidthCalculationMode",1,g),this.setAPIOptionChangedCallback("pm_maximumTopViewAreaHeightRatio",1,g),this.setAPIOptionChangedCallback("visualZoomFactor",1,g),this.setAPIOptionChangedCallback("tableViewWidthInActivitiesView",1,g),this.setAPIOptionChangedCallback("tableViewWidthInResourcesView",1,g),this.setAPIOptionChangedCallback("tableViewWidthInLoadsView",1,g),this.setAPIOptionChangedCallback("tableWidth",1,g),this.setAPIOptionChangedCallback("fixedTableColumnWidth",1,g),this.setAPIOptionChangedCallback("entitiesTableWidth",1,g),this.setAPIOptionChangedCallback("entitiesTableViewWidth",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityBarHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationBarHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityMinimumRowHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationMinimumRowHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceMinimumRowHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultEntityMinimumRowHeight",1,g),this.setAPIOptionChangedCallback("pm_minimumLoadCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultLoadCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_maximumLoadCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_minimumInventoryCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultInventoryCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_maximumInventoryCurvePaneHeight",1,g),this.setAPIOptionChangedCallback("pm_topRowMarginInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_bottomRowMarginInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_subRowDistanceInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceMaximumSubRowHeightInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceMaximumRowHeight",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityMaximumSubRowHeightInTimeArea",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityMaximumRowHeight",1,g),this.setAPIOptionChangedCallback("timescaleNavigationMode",1,g),this.setAPIOptionChangedCallback("pm_timeAreaPanningMode",1,g),this.setAPIOptionChangedCallback("pm_selectionBehavior",1,g),this.setAPIOptionChangedCallback("pm_pastBackgroundLineWidth",1,g),this.setAPIOptionChangedCallback("pm_pastBackgroundLineDashArray",1,g),this.setAPIOptionChangedCallback("worldViewPosition",1,g),this.setAPIOptionChangedCallback("worldViewExtent",1,g),this.setAPIOptionChangedCallback("pm_maximumSnapDistance",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityTableRowDefinitionID",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationTableRowDefinitionID",1,g),this.setAPIOptionChangedCallback("pm_defaultResourceTableRowDefinitionID",1,g),this.setAPIOptionChangedCallback("pm_defaultEntityTableRowDefinitionID",1,g),this.setAPIOptionChangedCallback("pm_tableRowDefinitionIDForTitleInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_tableRowDefinitionIDForTitleInResourcesView",1,g),this.setAPIOptionChangedCallback("pm_tableRowDefinitionIDForTitleInLoadsView",1,g),this.setAPIOptionChangedCallback("pm_tableRowDefinitionIDForTitleInEntitiesTable",1,g),this.setAPIOptionChangedCallback("pm_watermarkSymbolID",1,g),this.setAPIOptionChangedCallback("pm_watermarkOpacity",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityConstraintSymbolColor",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityProgressBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationConstraintSymbolColor",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationProgressBackgroundColor",1,g),this.setAPIOptionChangedCallback("pm_scrollOffsetsChangedCallbackTimeDelay",1,g),this.setAPIOptionChangedCallback("pm_allocationRowsVisibleInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_definedAllocationLinksVisibleInResourcesView",1,g),this.setAPIOptionChangedCallback("pm_definedAllocationLinksVisibleInActivitiesView",1,g),this.setAPIOptionChangedCallback("pm_defaultActivityStatusFrameColor",1,g),this.setAPIOptionChangedCallback("pm_defaultAllocationStatusFrameColor",1,g)},destroy:function(){"use strict";this._tooltipWidget.display(null),this._resizeSensor.detach(),delete this._resizeSensor,this._ganttWidget.destroy(),this._entitiesTableWidget&&(this._entitiesTableWidget.element.off("ntablewidgetwidthchanged.rab"+this._entitiesTableWidget._uniqueID),this._entitiesTableWidget.element.remove(),this._entitiesSplitterWidget.element.remove(),delete this._entitiesTableWidget,delete this._entitiesSplitterWidget)},_onFocusOut:function(){"use strict";var e=this;e._ganttWidget.cancelInteraction(),e._entitiesTableWidget&&e._entitiesTableWidget.cancelInteraction(),e._tooltipWidget.display(null),r.nPopup.isContextMenuActive()&&r.nPopup.closeContextMenu()},_getImageURLSForGanttWidget:function(e){"use strict";var t,i=this;return i._ganttWidget&&e&&Array.isArray(e)&&e.length&&(i._currentSymbolIDsMap.length||i.updateSymbols(i.app().symbolsMap()),t=[],e.forEach((function(e){t.push("///rabSG_".concat(i._ganttWidget._uniqueID)+"_".concat(i._currentSymbolIDsMap[e]))}))),t},_getImageURLSForEntitiesTableWidget:function(e){"use strict";var t,i=this;return i._entitiesTableWidget&&e&&Array.isArray(e)&&e.length&&(i._currentSymbolIDsMap.length||i.updateSymbols(i.app().symbolsMap()),t=[],e.forEach((function(e){t.push("///rabSE_".concat(i._entitiesTableWidget._uniqueID)+"_".concat(i._currentSymbolIDsMap[e]))}))),t},setAPIOption:function(e,t){"use strict";this.app().setAPIOption(e,t)},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this.app().setAPIOptionChangedCallback(e,t,i)},handleAPIOptionChanged:function(e,t,i){"use strict";var n=this;switch(e){case"pm_defaultActivityBarShape":case"pm_defaultActivityConstraintSymbolColor":case"pm_detailedActivityConstraintSymbolsEnabled":case"pm_defaultActivityProgressBackgroundColor":this.viewType()===P.Activities&&(this.viewModel().handleAPIOptionChanged(e,t,i),this.ganttWidget().invalidateAllRows(),this.update());break;case"pm_defaultAllocationConstraintSymbolColor":case"pm_detailedAllocationConstraintSymbolsEnabled":case"pm_defaultAllocationProgressBackgroundColor":case"pm_defaultAllocationBarShape":this.viewType()===P.Resources&&(this.viewModel().handleAPIOptionChanged(e,t,i),this.ganttWidget().invalidateAllRows(),this.update());break;case"pm_allocationRowsVisibleInActivitiesView":n._setAllocationDefaultTableRowDefinition();var a=n.viewModel();if(a.isHierarchyInitialized(P.Activities)){var o=n._viewModel.model();t?o.allocations().forEach((function(e){a.addAllocation(e,n,P.Activities)})):(a.registerRowItem(P.Activities,a.rowItemsRoot(P.Activities),!1,!0),o.allocations().forEach((function(e){a.removeAllocation(e,n,P.Activities,!0)}))),n._viewType===P.Activities&&(a.autoInvalidateRows(n,P.Activities),n.update())}break;case"pm_definedAllocationLinksVisibleInResourcesView":case"pm_definedAllocationLinksVisibleInActivitiesView":null!=this._viewType&&(this.viewModel().refreshLinks(this._viewType),this.update());break;default:this.setOption(e,t)}},_initOptions:function(e){"use strict";var t={calendarGridVisible:!0,showCurveButtonInView:[P.Activities,P.Resources],curveScaleTicksMode:1,deselectItemsOnInteractionWithUnselectedItem:!0,maximumSnapDistance:8,worldViewBarCallbackEnabled:!1};this._options=a.extend({},t,e)},_setColorByOptionValue:function(e){"use strict";var t,i=this,n=i.getAPIOption(e),r=i._app.getOption("widget");if(r){var s=r.element[0].getRootNode?r.element[0].getRootNode():document;t=o.select(s.nodeType==Node.DOCUMENT_FRAGMENT_NODE?s:s.head)}else t=o.select(document.head);var l=[];switch(e){case"pm_calendarGridColor":l.push({selector:"."+a.netronic.nGanttWidget.CALGRID_CLASS,attribute:"fill"});break;case"pm_timescaleBackgroundColor":l.push({selector:".ntimescale-ribbon-cell, .ntimescale-scroll-handle .ntimescale-scroll-handle-symbol, .ntimescale-up-handle .ntimescale-up-handle-symbol",attribute:"fill"}),l.push({selector:".ntimescale-ribbon-cell-nonworking-inner-tick",attribute:"stroke"});break;case"pm_timescaleWeekendBackgroundColor":l.push({selector:".ntimescale-ribbon-cell.ntimescale-ribbon-cell-weekend",attribute:"fill"});break;case"pm_timescaleTextColor":l.push({selector:".ntimescale-ribbon-cell text, .ntimescale-scroll-handle-background:not(.ntimescale-scroll-handle-background-hover), .ntimescale-up-handle-background:not(.ntimescale-up-handle-background-hover) ",attribute:"fill"});break;case"pm_timescaleTickColor":l.push({selector:".ntimescale-ribbon-cell-tick",attribute:"stroke"}),l.push({selector:".ntimescale-ribbon-cell-nonworking-outer-tick",attribute:"stroke"});break;case"pm_timescaleHighlightingColor":l.push({selector:".ntimescale-ribbon-cell-rect.ntimescale-ribbon-cell-rect-hover, .ntimescale-scroll-handle-background-hover, .ntimescale-up-handle-background-hover",attribute:"fill"});break;case"pm_timeAreaBackgroundColor":l.push({selector:".ngantt-row-background-rect",attribute:"fill"});break;case"pm_tableHeaderBackgroundColor":var c=this.getAPIOption("pm_symbolColumnTitleVisible")?".ngantt-scrollable-table-title .ngantt-table-title-rect, .ngantt-fixed-table-title-succeeding .ngantt-table-title-rect":".ngantt-table-title-rect";l.push({selector:c,attribute:"fill"});break;case"pm_tableHeaderTextColor":l.push({selector:"text.ngantt-fixed-table-title-text",attribute:"fill"}),l.push({selector:"text.ngantt-table-title-text",attribute:"fill"});break;case"pm_tableHeaderColumnSeparatorColor":l.push({selector:".ngantt-table-column-splitter .nsplitter-rect",attribute:"fill"});break;case"pm_tableHeaderHighlightingColor":l.push({selector:".ngantt-table-column-splitter .nsplitter-rect-phantom",attribute:"fill"});break;case"pm_entitiesTableHeaderBackgroundColor":c=this.getAPIOption("pm_entitiesTableSymbolColumnTitleVisible")?".ntable-scrollable-title .ntable-title-rect, .ntable-fixed-title-succeeding .ntable-title-rect":".ntable-title-rect",l.push({selector:c,attribute:"fill"});break;case"pm_entitiesTableHeaderTextColor":l.push({selector:"text.ntable-fixed-title-text",attribute:"fill"}),l.push({selector:"text.ntable-title-text",attribute:"fill"});break;case"pm_entitiesTableHeaderColumnSeparatorColor":l.push({selector:".ntable-column-splitter .nsplitter-rect",attribute:"fill"});break;case"pm_entitiesTableHeaderHighlightingColor":l.push({selector:".ntable-column-splitter .nsplitter-rect-phantom",attribute:"fill"});break;case"pm_defaultLoadCurvePaneColor":l.push({selector:".ngantt-timearea-row .nrab-load-curve-container-rect",attribute:"fill"});break;case"pm_defaultInventoryCurvePaneColor":l.push({selector:".ngantt-timearea-row .nrab-inventory-curve-container-rect",attribute:"fill"});break;case"pm_selectionColor":l.push({selector:".ngantt-selected-bar",attribute:"fill"}),l.push({selector:".ngantt-selected-link",attribute:"stroke"}),l.push({selector:".ngantt-table-row-selected-gradient-start, .ngantt-table-row-selected-gradient-end, .ntable-selected-gradient-start, .ntable-selected-gradient-end",attribute:"stop-color",noWidgetPrefix:!0}),this._ganttWidget.option("worldViewSelectionColor",n);break;case"pm_splitterHighlightingColor":l.push({selector:".nsplitter-rect-phantom",attribute:"fill",noWidgetPrefix:!0});break;case"pm_unsuitableResourceOverlayColor":l.push({selector:".ngantt-covered-row:not(.ngantt-covered-and-highlighted-row)",attribute:"fill"});break;case"pm_suitableResourceOverlayColor":l.push({selector:".ngantt-covered-and-highlighted-row",attribute:"fill"});break;case"pm_defaultActivityStatusFrameColor":i._viewType!==P.Activities&&(n=null),l.push({selector:":not(ngantt-leaf) .ngantt-marked-bar",attribute:"stroke"});break;case"pm_defaultAllocationStatusFrameColor":var u=i._viewType===P.Activities?".ngantt-leaf ":"";l.push({selector:u+".ngantt-marked-bar",attribute:"stroke"})}if(function(e,a){if(!n&&i._colorStyleD3[e+"0"]){for(var o=0;o<a;o++){var r=e+o;i._colorStyleD3[r].remove(),delete i._colorStyleD3[r]}return!1}for(o=0;o<a;o++){r=e+o;i._colorStyleD3[r]||(i._colorStyleD3[r]=t.append("style"))}return!0}(e,l.length)){c="";var d="";e.indexOf("pm_entitiesTable")<0?(n&&l.forEach((function(t,o){if(t.noWidgetPrefix)c=t.selector;else{var r=t.selector.split(","),s=[".",a.netronic.nGanttWidget.WIDGET_CLASS,"-",i._ganttWidget._uniqueID," "].join("");c=s+r.join(","+s)}d=[t.attribute,": ",n,"; "].join(""),i._colorStyleD3[e+o].text([c,"{",d,"}"].join(""))})),"pm_calendarGridColor"===e&&i._ganttWidget&&(i._ganttWidget.invalidateAllRows(),i._ganttWidget.update())):n&&i._entitiesTableWidget&&l.forEach((function(t,o){var r=t.selector.split(","),s=[".",a.netronic.nTableWidget.WIDGET_CLASS,"-",i._entitiesTableWidget._uniqueID," "].join("");c=s+r.join(","+s),d=[t.attribute,": ",n,"; "].join(""),i._colorStyleD3[e+o].text([c,"{",d,"}"].join(""))}))}},options:function(){"use strict";return a.extend({},this._options)},setOption:function(e,t){"use strict";var i=this;switch(e){case"viewType":this.selectViewType(t);break;case"start":this.setStart(t);break;case"end":this.setEnd(t);break;case"startAndEnd":this.setTimeRange(t[0],t[1]);break;case"calendarGridVisible":case"editable":case"timeZone":case"worldViewVisible":case"worldViewPosition":case"worldViewExtent":this._ganttWidget.option(e,t);break;case"tooltipDelay":this._tooltipWidget&&this._tooltipWidget.option("delay",t>=0?t:null);break;case"visualZoomFactor":this._ganttWidget.option(e,t),this._entitiesTableWidget&&(this._entitiesTableWidget.option(e,t),this._resizeWidgets());break;case"pm_maximumSnapDistance":this._ganttWidget.option("maximumSnapDistance",t);break;case"pm_timeAreaPanningMode":this._ganttWidget.option("timeAreaPanningMode",t);break;case"cursorDateLineVisible":this._ganttWidget.option("horizontalMousePositionHighlightingEnabled",t);break;case"pm_maximumTopViewAreaHeightRatio":this._ganttWidget.option("maximumTopBodyViewAreaHeightRatio",t);break;case"pm_defaultLinkRoutingType":this._ganttWidget.option("linkRoutingType",t);break;case"pm_progressBarWidthCalculationMode":case"pm_defaultLinkTargetMarker":this._ganttWidget.option(e.substring(3),t);break;case"pm_preventDefaultOnContextMenuEvents":this._ganttWidget.option(e.substring(3),t),this._entitiesTableWidget&&this._entitiesTableWidget.option(e.substring(3),t);break;case"multipleBarDraggingEnabled":this._ganttWidget.option("automaticDraggingOfSelectedTimeItems",t);break;case"titleText":this._tableDefinitionActivities.titleText=t,this._tableDefinitionResources.titleText=t,this._tableDefinitionLoads.titleText=t,this._ganttWidget.updateTableTitle();break;case"workDate":this.setWorkDate(t);break;case"workDateLineCaption":var n=i._ganttWidget.option("dateLines");Array.isArray(n)&&n.every((function(e){return e.id!==je+i._ganttWidget._uniqueID||(e.label=t,i.updateDateLine(e),!1)}));break;case"currentDate":this._updateCurrentDateArea(),this._viewOffsetForCurrentDateCurrentlyObserved&&this.scrollToCurrentDate();break;case"pm_pastBackgroundFillColor":this._updateCurrentDateAreaPresentation();break;case"pm_pastBackgroundLineColor":case"pm_pastBackgroundLineWidth":case"pm_pastBackgroundLineDashArray":this._updateCurrentDateLinePresentation();break;case"entitiesTableVisibleInActivitiesView":case"entitiesTableVisibleInResourcesView":this._showHideEntitiesTable();break;case"entitiesTitleText":if(this._tableDefinitionEntities.titleText=t,this._entitiesTableWidget){var a=this._entitiesTableWidget.option("tableDefinition");a&&(a.titleText=this._tableDefinitionEntities.titleText,this._entitiesTableWidget.updateTitle())}break;case"tableWidth":this._setTableWidth();break;case"tableViewWidthInActivitiesView":this._viewType===P.Activities&&this._ganttWidget.modifyTableViewWidth(t);break;case"tableViewWidthInResourcesView":this._viewType===P.Resources&&this._ganttWidget.modifyTableViewWidth(t);break;case"tableViewWidthInLoadsView":this._viewType===P.Loads&&this._ganttWidget.modifyTableViewWidth(t);break;case"fixedTableColumnWidth":this.setFixedTableColumnWidth(t);break;case"entitiesTableWidth":this._options.entitiesTableWidget||(this._options.entitiesTableWidget={}),this._setEntitiesTableWidthOptions();break;case"entitiesTableViewWidth":this.isEntitiesTableVisible()&&this._resizeWidgets(!0);break;case"pm_selectionColor":case"pm_calendarGridColor":case"pm_timescaleBackgroundColor":case"pm_timescaleWeekendBackgroundColor":case"pm_timescaleTextColor":case"pm_timescaleTickColor":case"pm_timescaleHighlightingColor":case"pm_timeAreaBackgroundColor":case"pm_tableHeaderBackgroundColor":case"pm_tableHeaderTextColor":case"pm_tableHeaderColumnSeparatorColor":case"pm_tableHeaderHighlightingColor":case"pm_entitiesTableHeaderBackgroundColor":case"pm_entitiesTableHeaderTextColor":case"pm_entitiesTableHeaderColumnSeparatorColor":case"pm_entitiesTableHeaderHighlightingColor":case"pm_defaultLoadCurvePaneColor":case"pm_defaultInventoryCurvePaneColor":case"pm_splitterHighlightingColor":case"pm_suitableResourceOverlayColor":case"pm_unsuitableResourceOverlayColor":case"pm_defaultActivityStatusFrameColor":case"pm_defaultAllocationStatusFrameColor":i._setColorByOptionValue(e);break;case"pm_defaultActivityTableRowDefinitionID":var o=i._tableDefinitionActivities.rowDefinitionsMap;i._tableDefinitionActivities.baseLevel=t&&o&&Object.keys(o).length&&o[t]||i._tableDefinitionActivitiesBaseLevel,i._viewType===P.Activities&&i._ganttWidget.option("tableDefinition",this._tableDefinitionActivities);break;case"pm_defaultAllocationTableRowDefinitionID":i._viewType===P.Activities&&i._setAllocationDefaultTableRowDefinition();break;case"pm_defaultResourceTableRowDefinitionID":o=this._tableDefinitionResources.rowDefinitionsMap;this._tableDefinitionResources.baseLevel=t&&o&&Object.keys(o).length&&o[t]||i._tableDefinitionResourcesBaseLevel,o=this._tableDefinitionLoads.rowDefinitionsMap,this._tableDefinitionLoads.baseLevel=t&&o&&Object.keys(o).length&&o[t]||i._tableDefinitionLoadsBaseLevel,this._viewType===P.Resources?i._ganttWidget.option("tableDefinition",this._tableDefinitionResources):this._viewType===P.Loads&&i._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"pm_defaultEntityTableRowDefinitionID":o=this._tableDefinitionEntities.rowDefinitionsMap;this._tableDefinitionEntities.baseLevel=t&&o&&Object.keys(o).length&&o[t]||i._tableDefinitionEntitiesBaseLevel,i._entitiesTableWidget&&(i._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),i._resizeWidgets());break;case"pm_tableRowDefinitionIDForTitleInActivitiesView":this._tableDefinitionActivities.rowDefinitionIDWithColumnTitles=t,this._viewType===P.Activities&&this._ganttWidget.updateTableTitle();break;case"pm_tableRowDefinitionIDForTitleInResourcesView":var r=this._tableDefinitionResources.rowDefinitionIDWithColumnTitles;this._tableDefinitionResources.rowDefinitionIDWithColumnTitles=t,this._viewType===P.Resources&&this._ganttWidget.updateTableTitle(),this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles===r&&(this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=t,this._viewType===P.Loads&&this._ganttWidget.updateTableTitle());break;case"pm_tableRowDefinitionIDForTitleInLoadsView":this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=t||this._tableDefinitionResources.rowDefinitionIDWithColumnTitles,this._viewType===P.Loads&&this._ganttWidget.updateTableTitle();break;case"pm_tableRowDefinitionIDForTitleInEntitiesTable":this._tableDefinitionEntities.rowDefinitionIDWithColumnTitles=t,this._entitiesTableWidget&&this._entitiesTableWidget.updateTitle();break;case"pm_defaultActivityCollapsedRowDesign":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowCollapsedDisplayedElements",t&~u.BarsOfCollapsedLeafRows);break;case"pm_defaultActivityExpandedRowDesign":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowExpandedDisplayedElements",t&~u.BarsOfCollapsedLeafRows);break;case"pm_defaultAllocationRowDesign":this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafRowDisplayedElements",t);break;case"pm_defaultResourceCollapsedRowDesign":this._viewType===P.Resources&&this._ganttWidget.option("defaultRowCollapsedDisplayedElements",t);break;case"pm_defaultResourceExpandedRowDesign":this._viewType===P.Resources&&this._ganttWidget.option("defaultRowExpandedDisplayedElements",t);break;case"pm_defaultAllocationSnapTargetsForStart":this._viewType===P.Resources?this._ganttWidget.option("defaultBarSnapTargetsForStart",t):this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafBarSnapTargetsForStart",t);break;case"pm_defaultAllocationSnapTargetsForEnd":this._viewType===P.Resources?this._ganttWidget.option("defaultBarSnapTargetsForEnd",t):this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafBarSnapTargetsForEnd",t);break;case"pm_defaultActivitySnapTargetsForStart":this._viewType===P.Activities&&this._ganttWidget.option("defaultBarSnapTargetsForStart",t);break;case"pm_defaultActivitySnapTargetsForEnd":this._viewType===P.Activities&&this._ganttWidget.option("defaultBarSnapTargetsForEnd",t);break;case"pm_defaultAllocationAllowedBarDragModes":case"pm_forcedAllocationAllowedBarDragModes":this._viewType===P.Resources&&this._ganttWidget.option("d"===e.charAt(3)?"defaultBarInteractions":"forcedBarInteractions",t);break;case"pm_defaultAllocationAllowedBarDragModesInActivitiesView":case"pm_forcedAllocationAllowedBarDragModesInActivitiesView":this._viewType===P.Activities&&this._ganttWidget.option("d"===e.charAt(3)?"defaultLeafBarInteractions":"forcedLeafBarInteractions",t);break;case"pm_defaultActivityAllowedBarDragModes":case"pm_forcedActivityAllowedBarDragModes":this._viewType===P.Activities&&this._ganttWidget.option("d"===e.charAt(3)?"defaultBarInteractions":"forcedBarInteractions",t);break;case"pm_defaultActivityAllowedRowDragModes":case"pm_defaultResourceAllowedRowDragModes":break;case"pm_defaultEntityAllowedRowDragModes":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowInteractions",t);break;case"pm_defaultAllocationBarSelectable":this._viewType===P.Resources?this._ganttWidget.option("defaultTimeItemSelectable",t):this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafTimeItemSelectable",t);break;case"pm_defaultAllocationRowSelectable":this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafRowItemSelectable",t);break;case"pm_defaultActivityBarSelectable":this._viewType===P.Activities&&this._ganttWidget.option("defaultTimeItemSelectable",t);break;case"pm_defaultActivityRowSelectable":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowItemSelectable",t);break;case"pm_defaultLinkSelectable":this._ganttWidget.option("defaultLinkItemSelectable",t);break;case"pm_defaultResourceRowSelectable":this._viewType===P.Resources&&this._ganttWidget.option("defaultRowItemSelectable",t);break;case"pm_defaultEntityRowSelectable":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowItemSelectable",t);break;case"pm_defaultActivityRowCollapsible":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowItemCollapsible",t);break;case"pm_defaultActivityAllocationRowsCollapsible":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowItemLeavesCollapsible",t);break;case"pm_defaultResourceRowCollapsible":this._viewType===P.Resources&&this._ganttWidget.option("defaultRowItemCollapsible",t);break;case"pm_defaultEntityRowCollapsible":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowItemCollapsible",t);break;case"pm_defaultActivityBarShape":this._viewType===P.Activities&&this._ganttWidget.option("defaultBarShape",L[t]);break;case"pm_defaultAllocationBarShape":this._viewType===P.Resources?this._ganttWidget.option("defaultBarShape",F[t]):this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafBarShape",F[t]);break;case"pm_defaultActivityBarHeight":i._viewType===P.Activities&&(i._viewModel.activityItems(P.Activities).forEach((function(e){if(e.timeItems){var t=e.timeItems[0];if(t&&t.rab_itemType===D.ActivityFrame){var n=i._viewModel._findItemOfTypeInArray(t.childTimeItems,D.ActivityBaseline);n&&n.updateFromReference()}}})),i._ganttWidget.option("barHeight",t));break;case"pm_defaultAllocationBarHeight":this._viewType===P.Resources?this._ganttWidget.option("barHeight",t):this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafBarHeight",t);break;case"pm_defaultActivityMinimumRowHeight":this._viewType===P.Activities&&this._ganttWidget.option("defaultRowMainHeight",t);break;case"pm_defaultAllocationMinimumRowHeight":this._viewType===P.Activities&&this._ganttWidget.option("defaultLeafRowMainHeight",t);break;case"pm_defaultActivityMaximumSubRowHeightInTimeArea":this._viewType===P.Activities&&this._ganttWidget.option("defaultMaximumSubRowHeight",t);break;case"pm_defaultActivityMaximumRowHeight":this._viewType===P.Activities&&this._ganttWidget.option("defaultMaximumRowHeight",t);break;case"pm_defaultResourceMinimumRowHeight":this._viewType!==P.Activities&&this._ganttWidget.option("defaultRowMainHeight",t);break;case"pm_defaultResourceMaximumSubRowHeightInTimeArea":this._viewType!==P.Activities&&this._ganttWidget.option("defaultMaximumSubRowHeight",t);break;case"pm_defaultResourceMaximumRowHeight":this._viewType!==P.Activities&&this._ganttWidget.option("defaultMaximumRowHeight",t);break;case"pm_defaultEntityMinimumRowHeight":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowMainHeight",t);break;case"pm_patternShownOnOverloadCurves":case"pm_releaseDueDateConnectionsVisible":this._ganttWidget.invalidateAllRows(),this.update();break;case"pm_curvePanesResizable":t&&(this._options.curveScaleTicksMode=2),this._ganttWidget.invalidateAllRows(),this.update();break;case"pm_symbolColumnVisible":this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,t,this.getAPIOption("pm_symbolColumnWidth"))&&this._viewType===P.Activities&&this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,t,this.getAPIOption("pm_symbolColumnWidth"))&&this._viewType===P.Resources&&this._ganttWidget.option("tableDefinition",this._tableDefinitionResources),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionLoads,t,this.getAPIOption("pm_symbolColumnWidth"))&&this._viewType===P.Loads&&this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"pm_symbolColumnTitleVisible":this._tableDefinitionActivities&&(this._tableDefinitionActivities.symbolColumnTitleVisible=t,this._tableDefinitionActivities.symbolColumnTitleBackgroundColor=this.getAPIOption("pm_tableHeaderBackgroundColor"),this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities)),this._tableDefinitionResources&&(this._tableDefinitionResources.symbolColumnTitleVisible=t,this._tableDefinitionResources.symbolColumnTitleBackgroundColor=this.getAPIOption("pm_tableHeaderBackgroundColor"),this._ganttWidget.option("tableDefinition",this._tableDefinitionResources)),this._tableDefinitionLoads&&(this._tableDefinitionLoads.symbolColumnTitleVisible=t,this._tableDefinitionLoads.symbolColumnTitleBackgroundColor=this.getAPIOption("pm_tableHeaderBackgroundColor"),this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads));break;case"pm_symbolColumnTitleSymbolIDs":var s=this._getImageURLSForGanttWidget(t);this._tableDefinitionActivities&&(this._tableDefinitionActivities.symbolColumnTitleImageURLs=s,this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities)),this._tableDefinitionResources&&(this._tableDefinitionResources.symbolColumnTitleImageURLs=s,this._ganttWidget.option("tableDefinition",this._tableDefinitionResources)),this._tableDefinitionLoads&&(this._tableDefinitionLoads.symbolColumnTitleImageURLs=s,this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads));break;case"pm_symbolColumnWidth":t=Math.max(t,22),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,this.getAPIOption("pm_symbolColumnVisible"),t)&&this._viewType===P.Activities&&this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,this.getAPIOption("pm_symbolColumnVisible"),t)&&this._viewType===P.Resources&&this._ganttWidget.option("tableDefinition",this._tableDefinitionResources),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionLoads,this.getAPIOption("pm_symbolColumnVisible"),t)&&this._viewType===P.Loads&&this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"pm_entitiesTableSymbolColumnVisible":this._entitiesTableWidget&&this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,t,this.getAPIOption("pm_entitiesTableSymbolColumnWidth"))&&(this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._setEntitiesTableWidthOptions());break;case"pm_entitiesTableSymbolColumnWidth":this._entitiesTableWidget&&(null==t&&(t=22),t=Math.max(t,22),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("pm_entitiesTableSymbolColumnVisible"),t)&&(this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._setEntitiesTableWidthOptions()));break;case"pm_entitiesTableSymbolColumnTitleVisible":this._entitiesTableWidget&&this._tableDefinitionEntities&&(this._tableDefinitionEntities.symbolColumnTitleVisible=t,this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=this.getAPIOption("pm_entitiesTableHeaderBackgroundColor"),this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities));break;case"pm_entitiesTableSymbolColumnTitleSymbolIDs":this._entitiesTableWidget&&(s=this._getImageURLSForEntitiesTableWidget(t),this._tableDefinitionEntities&&(this._tableDefinitionEntities.symbolColumnTitleImageURLs=s,this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities)));break;case"pm_topBarSymbolsVisible":this._ganttWidget.invalidateAllRows(!1,!0),this.update();break;case"pm_topRowMarginInTimeArea":case"pm_bottomRowMarginInTimeArea":case"pm_subRowDistanceInTimeArea":this._ganttWidget.option(e.substring(3,e.length-10),t),this.updateAllRowHeights();break;case"pm_contextMenuCallbackOnRowInTimeArea":this._ganttWidget.option("contextMenuEventOnRowItemInTimeArea",t);break;case"pm_topViewAreaVisibleInActivitiesView":this._viewType===P.Activities&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"pm_topViewAreaVisibleInResourcesView":this._viewType===P.Resources&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"pm_topViewAreaVisibleInLoadsView":this._viewType===P.Loads&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"pm_mainViewAreaVisibleInActivitiesView":this._viewType===P.Activities&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"pm_mainViewAreaVisibleInResourcesView":this._viewType===P.Resources&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"pm_mainViewAreaVisibleInLoadsView":this._viewType===P.Loads&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"timescaleNavigationMode":this._ganttWidget.option("timescaleSmartNavigationVersion",v.TimescaleNavigationModeToVersionMap[t]);break;case"pm_timescaleInteractionsEnabled":this._ganttWidget.option("timescaleInteractionsEnabled",t);break;case"pm_selectionBehavior":var l={selectedItemsShownHighlighted:!!t,rowSelectionWithFrames:!t};t||(l.unselectedItemsShownCovered=!1),this._entitiesTableWidget&&this._entitiesTableWidget.option(l),l.barSelectionWithFrames=!t,this._ganttWidget.option(l);var c=this.getSelectedObjectsAndType();this.selectObjects(c.itemType,c.objects);break;case"pm_minimumLoadCurvePaneHeight":case"pm_defaultLoadCurvePaneHeight":case"pm_maximumLoadCurvePaneHeight":case"pm_minimumInventoryCurvePaneHeight":case"pm_defaultInventoryCurvePaneHeight":case"pm_maximumInventoryCurvePaneHeight":case"pm_defaultResourceBarsPaneVisible":case"pm_defaultResourceLoadCurvePaneVisible":case"pm_defaultResourceInventoryCurvePaneVisible":i.updateAllRowHeights(i._viewType),i._ganttWidget.invalidateAllRows(!1,"pm_defaultResourceBarsPaneVisible"===e),i.update();break;case"pm_curvePanesCollapsibleInResourcesView":i._ganttWidget.invalidateAllRows(!1,!1),i.update();break;case"pm_detailedActivityConstraintSymbolsEnabled":this._viewType!==P.Activities&&this._ganttWidget.option("detailedConstraintSymbolsEnabled",t);break;case"pm_detailedAllocationConstraintSymbolsEnabled":this._viewType!==P.Resources&&this._ganttWidget.option("detailedConstraintSymbolsEnabled",t);break;case"pm_scrollToObjectHighlightingColor":this._ganttWidget.option("scrollToItemHighlightingColor",t),this._entitiesTableWidget&&this._entitiesTableWidget.option("scrollToItemHighlightingColor",t);break;case"pm_scrollToObjectHighlightFlashingEnabled":this._ganttWidget.option("scrollToItemHighlightFlashingEnabled",!!t),this._entitiesTableWidget&&this._entitiesTableWidget.option("scrollToItemHighlightFlashingEnabled",!!t);break;case"pm_scrollOffsetsChangedCallbackTimeDelay":this._ganttWidget.option("scrollOffsetsChangedFuncTimeDelay",t),this._entitiesTableWidget&&this._entitiesTableWidget.option("scrollOffsetsChangedFuncTimeDelay",t);break;case"pm_watermarkSymbolID":i._currentSymbolIDsMap[t]?i._ganttWidget.option("watermarkURL","///rabSG_".concat(i._ganttWidget._uniqueID,"_").concat(i._currentSymbolIDsMap[t])):i._ganttWidget.option("watermarkURL",void 0);break;case"pm_watermarkOpacity":i._ganttWidget.option("watermarkOpacity",t)}},getOption:function(e){return this._options[e]},app:function(){return this._app},view:function(){return this._view},viewModel:function(){return this._viewModel},init:function(e){"use strict";var t=this,i=t._viewModel.model();t._tooltipWidget=t._divJQ.nTooltipWidget({classNames:["ngantt-bar","ngantt-compound-bar","ngantt-table-row","ngantt-link-hot-region","ntable-row",te],delay:t.getAPIOption("tooltipDelay")}).nTooltipWidget("instance"),t._ganttWidget.option("linkItems",void 0),t.resetTimeAreaView(),t._ganttWidget.timeRange(i.actualStart(),i.actualEnd()),t._ganttWidget.addDateLine({className:He,id:je+t._ganttWidget._uniqueID,date:i.dateTimeValueToDate(t.getAPIOption("workDate")),label:t.getAPIOption("workDateLineCaption"),draggable:!1}),t._updateCurrentDateArea(),t.updateTimeStepUnitAndFactor(),t.selectViewType(void 0===e?P.Resources:e,!0)},_updateCurrentDateArea:function(){"use strict";var e,t=this,i=t._viewModel.model(),n=t._ganttWidget.option("dateAreas")||[],a=t._ganttWidget.option("dateLines")||[];for(e=0;e<n.length;e++)if(n[e].id===Q+t._ganttWidget._uniqueID){t.getAPIOption("currentDate")?(n[e].start=i.dateTimeValueToDate(t.currentStart()),n[e].end=t.getAPIOption("currentDate")):(n.splice(e,1),e-=1);break}for(var o=0;o<a.length;o++)if(a[o].id===J+t._ganttWidget._uniqueID){if(!t.getAPIOption("currentDate")){a.splice(o,1);break}a[o].date=t.getAPIOption("currentDate")}t.getAPIOption("currentDate")&&e===n.length&&(a.push({className:Z,id:J+t._ganttWidget._uniqueID,date:t.getAPIOption("currentDate"),label:"",draggable:!1}),n.push({className:X,id:Q+t._ganttWidget._uniqueID,start:i.dateTimeValueToDate(t.currentStart()),end:t.getAPIOption("currentDate"),inForeground:!1})),t._ganttWidget.option("dateLines",a.length?a:null),t.updateDateLinePresentations(),t._ganttWidget.option("dateAreas",n.length?n:null),t._updateCurrentDateAreaPresentation()},_updateCurrentDateLinePresentation:function(){"use strict";this.getAPIOption("currentDate")&&(o.select(this._ganttWidget.element[0]).select("."+Z+" line").style("stroke",this.getAPIOption("pm_pastBackgroundLineColor")||null).style("stroke-width",this.getAPIOption("pm_pastBackgroundLineWidth")||null).style("stroke-dasharray",this.getAPIOption("pm_pastBackgroundLineDashArray")||null),this._ganttWidget.renderWorldView())},_updateCurrentDateAreaPresentation:function(){"use strict";this.getAPIOption("currentDate")&&o.select(this._ganttWidget.element[0]).select("."+X+" path").style("fill",this.getAPIOption("pm_pastBackgroundFillColor")||null)},getVisibleStartRowItem:function(e){"use strict";return this._viewType===e&&(this._visibleStartRowItemByViewType[e]=this._ganttWidget.visibleStartRowItem()),this._visibleStartRowItemByViewType[e]},scrollToObject:function(e,t,i){"use strict";var n=this,a=n._viewModel._item(e.rab_itemType===D.Entity?P._Entities:n._viewType,e);a&&n.scrollToItem(a,t,i)},scrollToItem:function(e,t,i){"use strict";var n=this,a=[];t&&(t&x.Left?a.push("left"):t&x.HCenter?a.push("hcenter"):t&x.Right&&a.push("right"),t&x.Top?a.push("top"):t&x.VCenter?a.push("vcenter"):t&x.Bottom&&a.push("bottom"));var o=a.length?a.join(","):void 0;switch(e.rab_itemType){case D.Resource:case D.ActivityRow:case D.AllocationRow:n.scrollToRowItem(n._viewType,e,o);break;case D.Activity:case D.ActivityFrame:case D.ActivityReleaseDate:case D.ActivityDueDate:case D.ActivityBaseline:case D.Allocation:this._ganttWidget.scrollToItem(e,o,!0,!0,n.getAPIOption("pm_scrollToObjectAnimationEnabled"));break;case D.Entity:n._entitiesTableWidget&&(n.scrollToRowItem(n._viewType,e,o),!1!==i&&(n._entitiesTableWidget.showMarkingTemporarily(e),n._ganttWidget.showMarkingTemporarily(null))),e=null}e&&!1!==i&&(n._ganttWidget.showMarkingTemporarily(e),n._entitiesTableWidget&&n._entitiesTableWidget.showMarkingTemporarily(null))},scrollToRowItem:function(e,t,i){"use strict";var n=this,a=n._ganttWidget;if(t.rab_itemType===D.Entity&&(a=n._entitiesTableWidget),this._viewType===e){if(!a.getElementOfItem(t)){for(var o=[],r=t;r;)o.unshift(r),r=a.getParent(r);o.every((function(e){return!a.isRowCollapsed(e)||(a.expandRow(e),!a.getElementOfItem(t))}))}a.scrollToItem(t,i,!0,!0,n.getAPIOption("pm_scrollToObjectAnimationEnabled"))}else this._verticalScrollOffsetByViewType[e]=void 0,this._topVerticalScrollOffsetByViewType[e]=void 0,this._visibleStartRowItemByViewType[e]=t},setStart:function(e){"use strict";return this.setTimeRange(e,this._ganttWidget.timeAxis().end())},setEnd:function(e){"use strict";if(this._ganttWidget&&e instanceof Date)return this._ganttWidget.timeRange(this._ganttWidget.timeAxis().start(),e),!0},setTimeRange:function(e,t){"use strict";if(this._ganttWidget&&e instanceof Date&&t instanceof Date)return this._ganttWidget.timeRange(e,t),this.getAPIOption("currentDate")&&this._updateCurrentDateArea(),!0},divElementJQ:function(){"use strict";return this._divJQ},currentStart:function(){"use strict";return this._ganttWidget?this._ganttWidget.timeAxis().actualStart():this._viewModel.model().actualStart()},currentEnd:function(){"use strict";return this._ganttWidget?this._ganttWidget.timeAxis().actualEnd():this._viewModel.model().actualEnd()},ganttWidget:function(){"use strict";return this._ganttWidget},entitiesTableWidget:function(){"use strict";return this._entitiesTableWidget},viewType:function(){"use strict";return this._viewType},updateTimeStepUnitAndFactor:function(){"use strict";var e=this;e._ganttWidget.option("timeResolutionUnitsPerStep",e.getAPIOption("timeStepUnitFactor"));var t=["second","minute","hour","day"].indexOf(e.getAPIOption("timeStepUnit"));t>=0&&e._ganttWidget.option("timeResolutionUnit",[O.Seconds,O.Minutes,O.Hours,O.Days][t])},update:function(e){"use strict";var t=this;if(null!=t._viewType&&t.getAPIOption("updateOptimizationEnabled")){var i=this._viewModel.model();if(t._entitiesTableWidget&&i.entities().forEach((function(e){if(1===e.rab_modificationClassification){var i=t._viewModel.entityItem(t._viewType,e);if(i){var n=t._entitiesTableWidget.getElementOfItem(i);n&&t._doTableRowFill({rowItem:i,rowElem:n},M.Table,!0)}delete e.rab_modificationClassification}})),t._viewType===P.Activities&&i.activities().forEach((function(e){if(1===e.rab_modificationClassification){var i=t._viewModel.activityItem(t._viewType,e);if(i){var n=t._ganttWidget.getElementOfItem(i);n&&(t._doTableRowFill({rowItem:i,rowElem:n},M.Gantt,!0),i.timeItems&&i.timeItems.childTimeItems&&i.timeItems.childTimeItems.forEach((function(e){var i=t._ganttWidget.getElementOfItem(e);i&&t._updateBar({timeItem:e,elem:i},!0)}))),t.getAPIOption("worldViewVisible")&&t._ganttWidget.refreshRowForWorldView(i)}delete e.rab_modificationClassification}})),t._viewType!==P.Activities||t.getAPIOption("pm_allocationRowsVisibleInActivitiesView")){var n=t._viewType===P.Activities?"allocationItem":"resourceItem";i[t._viewType===P.Activities?"allocations":"resources"]().forEach((function(e){var i=t._viewModel[n](t._viewType,e);if(i){var a=t._ganttWidget.getElementOfItem(i);a&&(1===e.rab_modificationClassification&&t._doTableRowFill({rowItem:i,rowElem:a},M.Gantt,!0),i.timeItems&&i.timeItems.forEach((function(e){var i=e.data(),n=t._ganttWidget.getElementOfItem(e),a=1===i.rab_modificationClassification;if(a&&n){var o=t._ganttWidget.getElementOfItem(e,!0);t._updateBar({timeItem:e,elem:n,backgroundElem:o},!0)}n&&e.childTimeItems&&e.childTimeItems.forEach((function(e){var i=e.data();if(a||1===i.rab_modificationClassification){var n=t._ganttWidget.getElementOfItem(e);n&&t._updateBar({timeItem:e,elem:n},!0)}delete i.rab_modificationClassification})),delete i.rab_modificationClassification}))),t.getAPIOption("worldViewVisible")&&t._ganttWidget.refreshRowForWorldView(i)}delete e.rab_modificationClassification}))}}t._ganttWidget&&(t._updateLinks(),t._ganttWidget.update(),e&&t._ganttWidget.option("updateSuspended",!1),t._entitiesTableWidget&&(t._entitiesTableWidget.update(),e&&t._entitiesTableWidget.option("updateSuspended",!1)))},_setTableWidth:function(){"use strict";if(null!=this._viewType){var e=this.getAPIOption("tableWidth");if(null!=e){var t=this._viewType===P.Resources?this._tableDefinitionResources:this._viewType===P.Loads?this._tableDefinitionLoads:this._tableDefinitionActivities;t.fixedColumnsPreceding&&Array.isArray(t.fixedColumnsPreceding.cellDefinitions)&&t.fixedColumnsPreceding.cellDefinitions.forEach((function(t){e+=null==t.width?200:t.width})),t.fixedColumnsSucceeding&&Array.isArray(t.fixedColumnsSucceeding.cellDefinitions)&&t.fixedColumnsSucceeding.cellDefinitions.forEach((function(t){e+=null==t.width?200:t.width}))}this._ganttWidget.option("tableWidth",e)}},selectView:function(e,t,i){this.selectViewType(e,t,i)},selectViewType:function(e,t,i){"use strict";var n=this,a=n._viewType;if(a!==e||t){n._tooltipWidget.display(null),void 0!==n._viewType&&(n._verticalScrollOffsetByViewType[n._viewType]=n._ganttWidget.verticalScrollOffset(),n._topVerticalScrollOffsetByViewType[n._viewType]=n._ganttWidget.topVerticalScrollOffset(),n._visibleStartRowItemByViewType[n._viewType]=n._ganttWidget.visibleStartRowItem()),n._viewType!==e&&n._viewModel.clearRegisteredRowItems(n._viewType),n._viewType=e,n._viewModel.clearRegisteredRowItems(n._viewType),n._ganttWidget.option("updateSuspended",!0),n.updateAllRowHeights(e),void 0===a&&n._app.determineVisibilityOfObjects(this);var o=n._viewModel.rowItemsRoot(e);n._ganttWidget.option("rowItemsRoot",null),n._switchToViewType(e),n._setTableWidth(),n._view.handleViewTypeSwitch(n,e),n._ganttWidget.option("rowItemsRoot",o),n._ganttWidget.option("linksVisible",e!==P.Loads),n._updateLinks(),n._showHideEntitiesTable(),n._ganttWidget.option("updateSuspended",!1),i||(void 0===n._verticalScrollOffsetByViewType[e]&&void 0===n._topVerticalScrollOffsetByViewType[e]&&n._visibleStartRowItemByViewType[e]?n._ganttWidget.scrollToItem(n._visibleStartRowItemByViewType[e],0):n._ganttWidget.scrollTo(void 0,void 0,n._verticalScrollOffsetByViewType[e]||0,n._topVerticalScrollOffsetByViewType[e]||0))}},suspendUpdate:function(e){"use strict";if(this._ganttWidget){var t=this._ganttWidget.option("updateSuspended");return e&&t||(this._ganttWidget.option("updateSuspended",e),this._entitiesTableWidget&&this._entitiesTableWidget.option("updateSuspended",e)),t}},_getCurrentDefaultRowMainHeight:function(){"use strict";var e=this.app().options();return e.ganttViewOptions&&e.ganttViewOptions.ganttWidget&&e.ganttViewOptions.ganttWidget.defaultRowMainHeight?e.ganttViewOptions.ganttWidget.defaultRowMainHeight:c.nGanttWidget.prototype.options.defaultRowMainHeight},_addOrRemoveSymbolColumnInTableDefinition:function(e,t,i){"use strict";var n=this;return!t&&e.fixedColumnsPreceding?(delete e.fixedColumnsPreceding,!0):!!t&&(e.fixedColumnsPreceding={cellDefinitions:[{className:"",width:i,contentsFunc:function(){return n._tableCellFillFunc.apply(n,arguments)},title:"",horizontalTextAlignment:T.Left,type:V.ImageList}]},!0)},_switchToViewType:function(e){"use strict";var t=this;e===P.Resources?(t._divJQ.addClass(we).removeClass(Ie).removeClass(j),t._ganttWidget.option("tableDefinition",t._tableDefinitionResources),t._ganttWidget.option("defaultLeafTableRowDefinition",null),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInResourcesView")),t._ganttWidget.option("barHeight",t.getAPIOption("pm_defaultAllocationBarHeight")),t._ganttWidget.option("defaultBarInteractions",t.getAPIOption("pm_defaultAllocationAllowedBarDragModes")),t._ganttWidget.option("defaultBarShape",F[t.getAPIOption("pm_defaultAllocationBarShape")]),t._ganttWidget.option("defaultBarSnapTargetsForEnd",t.getAPIOption("pm_defaultAllocationSnapTargetsForEnd")),t._ganttWidget.option("defaultBarSnapTargetsForStart",t.getAPIOption("pm_defaultAllocationSnapTargetsForStart")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("pm_defaultResourceMaximumRowHeight")),t._ganttWidget.option("defaultMaximumSubRowHeight",t.getAPIOption("pm_defaultResourceMaximumSubRowHeightInTimeArea")),t._ganttWidget.option("defaultRowCollapsedDisplayedElements",t.getAPIOption("pm_defaultResourceCollapsedRowDesign")),t._ganttWidget.option("defaultRowExpandedDisplayedElements",t.getAPIOption("pm_defaultResourceExpandedRowDesign")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("pm_defaultResourceRowCollapsible")),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("pm_defaultResourceRowSelectable")),t._ganttWidget.option("defaultRowMainHeight",t.getAPIOption("pm_defaultResourceMinimumRowHeight")),t._ganttWidget.option("defaultTimeItemSelectable",t.getAPIOption("pm_defaultAllocationBarSelectable")),t._ganttWidget.option("detailedConstraintSymbolsEnabled",t.getAPIOption("pm_detailedAllocationConstraintSymbolsEnabled")),t._ganttWidget.option("forcedBarInteractions",t.getAPIOption("pm_forcedAllocationAllowedBarDragModes")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("pm_topViewAreaVisibleInResourcesView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("pm_mainViewAreaVisibleInResourcesView")),t._entitiesTableWidget&&t._entitiesTableWidget.option("defaultRowMainHeight",t.getAPIOption("pm_defaultEntityMinimumRowHeight"))):e===P.Loads?(t._divJQ.removeClass(we).addClass(Ie).removeClass(j),t._ganttWidget.option("tableDefinition",t._tableDefinitionLoads),t._ganttWidget.option("defaultLeafTableRowDefinition",null),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInLoadsView")),t._ganttWidget.option("defaultRowMainHeight",t._getCurrentDefaultRowMainHeight()),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("pm_defaultResourceRowSelectable")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("pm_defaultResourceRowCollapsible")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("pm_topViewAreaVisibleInLoadsView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("pm_mainViewAreaVisibleInLoadsView")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("pm_defaultResourceMaximumRowHeight"))):e===P.Activities&&(t._divJQ.removeClass(we).removeClass(Ie).addClass(j),t._ganttWidget.option("tableDefinition",t._tableDefinitionActivities),t._setAllocationDefaultTableRowDefinition(),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInActivitiesView")),t._ganttWidget.option("barHeight",t.getAPIOption("pm_defaultActivityBarHeight")),t._ganttWidget.option("defaultBarInteractions",t.getAPIOption("pm_defaultActivityAllowedBarDragModes")),t._ganttWidget.option("forcedBarInteractions",t.getAPIOption("pm_forcedActivityAllowedBarDragModes")),t._ganttWidget.option("defaultBarShape",L[t.getAPIOption("pm_defaultActivityBarShape")]),t._ganttWidget.option("defaultBarSnapTargetsForEnd",t.getAPIOption("pm_defaultActivitySnapTargetsForEnd")),t._ganttWidget.option("defaultBarSnapTargetsForStart",t.getAPIOption("pm_defaultActivitySnapTargetsForStart")),t._ganttWidget.option("defaultTimeItemSelectable",t.getAPIOption("pm_defaultActivityBarSelectable")),t._ganttWidget.option("defaultRowCollapsedDisplayedElements",t.getAPIOption("pm_defaultActivityCollapsedRowDesign")&~u.BarsOfCollapsedLeafRows),t._ganttWidget.option("defaultRowExpandedDisplayedElements",t.getAPIOption("pm_defaultActivityExpandedRowDesign")&~u.BarsOfCollapsedLeafRows),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("pm_defaultActivityRowSelectable")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("pm_defaultActivityRowCollapsible")),t._ganttWidget.option("defaultRowMainHeight",t.getAPIOption("pm_defaultActivityMinimumRowHeight")),t._ganttWidget.option("defaultLeafBarHeight",t.getAPIOption("pm_defaultAllocationBarHeight")),t._ganttWidget.option("defaultLeafBarInteractions",t.getAPIOption("pm_defaultAllocationAllowedBarDragModesInActivitiesView")),t._ganttWidget.option("forcedLeafBarInteractions",t.getAPIOption("pm_forcedAllocationAllowedBarDragModes")),t._ganttWidget.option("defaultLeafBarShape",L[t.getAPIOption("pm_defaultAllocationBarShape")]),t._ganttWidget.option("defaultLeafBarSnapTargetsForEnd",t.getAPIOption("pm_defaultAllocationSnapTargetsForEnd")),t._ganttWidget.option("defaultLeafBarSnapTargetsForStart",t.getAPIOption("pm_defaultAllocationSnapTargetsForStart")),t._ganttWidget.option("defaultLeafTimeItemSelectable",t.getAPIOption("pm_defaultAllocationBarSelectable")),t._ganttWidget.option("defaultLeafRowDisplayedElements",t.getAPIOption("pm_defaultAllocationRowDesign")),t._ganttWidget.option("defaultLeafRowItemSelectable",t.getAPIOption("pm_defaultAllocationRowSelectable")),t._ganttWidget.option("defaultRowItemLeavesCollapsible",t.getAPIOption("pm_defaultActivityAllocationRowsCollapsible")),t._ganttWidget.option("defaultLeafRowMainHeight",t.getAPIOption("pm_defaultAllocationMinimumRowHeight")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("pm_topViewAreaVisibleInActivitiesView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("pm_mainViewAreaVisibleInActivitiesView")),t._ganttWidget.option("detailedConstraintSymbolsEnabled",t.getAPIOption("pm_detailedActivityConstraintSymbolsEnabled")),t._ganttWidget.option("defaultMaximumSubRowHeight",t.getAPIOption("pm_defaultActivityMaximumSubRowHeightInTimeArea")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("pm_defaultActivityMaximumRowHeight")),t._entitiesTableWidget&&t._entitiesTableWidget.option("defaultRowMainHeight",t.getAPIOption("pm_defaultEntityMinimumRowHeight")))},_setAllocationDefaultTableRowDefinition:function(){"use strict";var e=this;if(e.getAPIOption("pm_allocationRowsVisibleInActivitiesView")&&e._ganttWidget){var t=e.getAPIOption("pm_defaultAllocationTableRowDefinitionID"),i=e._tableDefinitionActivities.rowDefinitionsMap,n=(t?i&&Object.keys(i).length&&i[t]:void 0)||e._tableDefinitionActivitiesBaseLevel;e._ganttWidget.option("defaultLeafTableRowDefinition",n)}},scrollToCurrentDate:function(){"use strict";var e=this;e.getAPIOption("currentDate")&&e._ganttWidget.scrollTimeAreaViewToDate(e.getAPIOption("currentDate")).then((function(){}))},resetTimeAreaView:function(){"use strict";this._app.getOption("timeAxisResolutionUnit")&&this._app.getOption("timeAxisPixelsPerResolutionUnit")&&(this._ganttWidget.timeAxis().baseTimeUnit({second:O.Seconds,minute:O.Minutes,hour:O.Hours,day:O.Days}[this._app.getOption("timeAxisResolutionUnit")]),this._ganttWidget.timeAxis().baseTimeUnitWidth(this._app.getOption("timeAxisPixelsPerResolutionUnit"))),this._ganttWidget.scrollTo(0,0,0,0)},collapseAllRowsAtLevel:function(e,t){"use strict";this.ganttWidget().collapseAllRowsAtLevel(e,t)},expandAllRowsAtLevel:function(e,t){"use strict";this.ganttWidget().expandAllRowsAtLevel(e,t)},collapseAllRowsAtLevelRange:function(e,t,i){"use strict";this.ganttWidget().collapseAllRowsAtLevelRange(e,t,i)},expandAllRowsAtLevelRange:function(e,t,i){"use strict";this.ganttWidget().expandAllRowsAtLevelRange(e,t,i)},enableVirtualization:function(e){"use strict";this._ganttWidget.option("virtualized",e)},showFullTime:function(){"use strict";this._ganttWidget.option("collapseCalendar",null)},hideNonWorkingTime:function(e){"use strict";this._nonWorkingTimeCalendar&&!e||(this._nonWorkingTimeCalendar=this._viewModel.model().calculateNonWorkingTimeCalendar()),this._ganttWidget.option("collapseCalendar",this._nonWorkingTimeCalendar)},hideWeekends:function(){"use strict";this._weekendCalendar||(this._weekendCalendar=c.nCalendarHelper.createWeekendCalendar(this.currentStart(),this.currentEnd(),6,0)),this._ganttWidget.option("collapseCalendar",this._weekendCalendar)},fitTimeAreaIntoView:function(e,t,i){"use strict";return this._forceSizeChanged(),this._ganttWidget.fitTimeAreaIntoView(e,t,i)},setFixedTableColumnWidth:function(e){"use strict";this._tableDefinitionActivities.fixedColumnsSucceeding&&this._tableDefinitionActivities.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionActivities.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._tableDefinitionResources.fixedColumnsSucceeding&&this._tableDefinitionResources.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionResources.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._tableDefinitionLoads.fixedColumnsSucceeding&&this._tableDefinitionLoads.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionLoads.fixedColumnsSucceeding.cellDefinitions[0].width=e);var t=this._ganttWidget.option("tableDefinition");t&&(t.fixedColumnsSucceeding&&t.fixedColumnsSucceeding.cellDefinitions[0]&&(t.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._ganttWidget.option("tableDefinition",t))},setTimeResolutionForView:function(e,t,i,n){"use strict";var a=this;a._forceSizeChanged();var o,r=a._ganttWidget.timeAxis();if(i||(i=r.currentlyVisibleStart()),i){void 0===(e={seconds:O.Seconds,second:O.Seconds,minutes:O.Minutes,minute:O.Minutes,hours:O.Hours,hour:O.Hours,days:O.Days,day:O.Days}[e?e.toString().toLowerCase():""])?(e=O.Seconds,t=1):(!t||t<0)&&(t=1);var s=c.nTimeAxis.timeUnitToSeconds(e)*t,l=c.nTimeAxis.timeUnitToSeconds(a._ganttWidget.option("timeResolutionUnit"))*a._ganttWidget.option("timeResolutionUnitsPerStep"),u=1e3*Math.max(s,l)*r.timeAreaViewWidth()/64;o=c.nCalendarHelper.addWorkingTime(r.collapseCalendar(),i,u)}return a.fitTimeAreaIntoView(i,o,n)},setWorkDate:function(e){"use strict";var t=this;if(this._ganttWidget)if(e instanceof Date)this.handleMovedWorkDate(e);else{var i=t._ganttWidget.option("dateLines");Array.isArray(i)&&i.every((function(e){return e.id!==je+t._ganttWidget._uniqueID||(e.date=null,t.updateDateLine(e),!1)}))}},handleMovedWorkDate:function(e){"use strict";this._ganttWidget.moveDateLine(je+this._ganttWidget._uniqueID,e)},scrollToWorkDate:function(){"use strict";var e=this._viewModel.model().dateTimeValueToDate(this.getAPIOption("workDate"));e&&this._ganttWidget.scrollTimeAreaViewToDate(e)},getVisibleParent:function(e){"use strict";return this._ganttWidget.getVisibleParent(e)},invalidateRow:function(e,t,i){"use strict";e.isResourceRelevant()&&this.updateRowHeight(e),this._ganttWidget.invalidateRow(e,t,i)},_formatDateFunc:function(e){"use strict";if(this._viewModel.model().displayRelativeDates())e.text=r.nDateHelper.dateToRelativeDateTimeString(e.date);else{var t=r.nLocales.locale().date;switch(this.getAPIOption("timeStepUnit")){case"second":return;case"minute":case"hour":t+=" "+r.nLocales.locale().timeAccurateToMinute}r.nDateHelper.isMomentJSCurrentlyUsed?e.text=r.nDateHelper.dateToMomentIfNecessary(e.date).format(r.nDateHelper.d3TimeFormatToMomentFormat(t)):e.text=(o.timeFormat?o.timeFormat:o.time.format)(t)(e.date)}},isSavingAsPDF:function(){return this._isSavingAsPDF},saveAsPDF:function(e,t){"use strict";var i=this,n=this;return new Promise((function(o,s){if(d&&!i._isSavingAsPDF){i._isSavingAsPDF=!0;var l,c,u=n._ganttWidget,g=u.element.parent(),_=a('<div class="ngantt-widget-'+u._uniqueID+'"></div>'),f=n._ganttWidget.actualTableWidth()+1+n._ganttWidget.timeAxis().actualTimeAreaWidth(),m=t&&t.bottomTimescaleVisible?60:0,v=n._ganttWidget.totalHeight()+m,b={printingMode:t&&null!=t.printingMode?+t.printingMode||0:1,cutMarksVisible:!(!t||!t.cutMarksVisible),zoomFactorInPercent:t&&null!=t.zoomFactorInPercent&&+t.zoomFactorInPercent||0,horPageCountLimit:t&&null!=t.horPageCountLimit&&Math.floor(+t.horPageCountLimit)||0,verPageCountLimit:t&&null!=t.verPageCountLimit&&Math.floor(+t.verPageCountLimit)||0,pageOrientation:t&&t.pageOrientation||0,pageFormat:t&&null!=t.pageFormat?t.pageFormat.toString():"A4",topPageMargin:t&&null!=t.topPageMargin?Math.max(0,+t.topPageMargin)||0:10,bottomPageMargin:t&&null!=t.bottomPageMargin?Math.max(0,+t.bottomPageMargin)||0:10,leftPageMargin:t&&null!=t.leftPageMargin?Math.max(0,+t.leftPageMargin)||0:10,rightPageMargin:t&&null!=t.rightPageMargin?Math.max(0,+t.rightPageMargin)||0:10},y=72/25.4,A=.75,I=96/72;if(b.printingMode){var C=Ye[b.pageFormat.toUpperCase()];if(!C){var T=b.pageFormat.split("*");if(Array.isArray(T)&&2==T.length){var w=parseFloat(T[0]),O=parseFloat(T[1]);w&&O&&(C=[w*y,O*y])}}if(!C||C[0]<0||C[1]<0)return void s("Page size not calculable");var P=C[b.pageOrientation],R=C[1-b.pageOrientation];l=P*I,c=R*I}else l=f,c=v;var D={printingMode:b.printingMode||0,cutMarksVisible:!!b.cutMarksVisible,zoomFactorInPercent:b.zoomFactorInPercent,horPageCountLimit:b.horPageCountLimit,verPageCountLimit:b.verPageCountLimit,pageWidth:l,pageHeight:c,margins:{left:b.leftPageMargin*y*I,top:b.topPageMargin*y*I,right:b.rightPageMargin*y*I,bottom:b.bottomPageMargin*y*I},maxTableWidthInPercent:50,maxTitlesHeightInPercent:50};if(0===D.zoomFactorInPercent&&(D.horPageCountLimit||(D.horPageCountLimit=1),D.verPageCountLimit||(D.verPageCountLimit=1)),D.printingMode){if(D.pageWidth-D.margins.left-D.margins.right<=100)return void s("Inner page width too small");if(D.pageHeight-D.margins.top-D.margins.bottom<=100)return void s("Inner page height too small")}else D.printingMode=1,D.horPageCountLimit=1,D.verPageCountLimit=1,l=D.pageWidth+=D.margins.left+D.margins.right,c=D.pageHeight+=D.margins.top+D.margins.bottom,delete D.zoomFactorInPercent;var S=D.printingMode>0,E=l-D.margins.left-D.margins.right,M=c-D.margins.top-D.margins.bottom;2===D.printingMode?(_.width(E/2),_.height(M/2)):(_.width(f),_.height(v));var N=a.extend({},n._ganttWidget.options,{isForExport:!0,splitterWidth:1,rowItemsRoot:null,bottomTitleHeight:m,visualZoomFactor:1,worldViewVisible:!1});delete N.timeAreaViewParametersChangedFunc,N.tableDefinition=a.extend(!0,{},N.tableDefinition);var V=_.nGanttWidget(N).nGanttWidget("instance");V.timeAxis().baseTimeUnitWidth(u.timeAxis().actualBaseTimeUnitWidth()),V.forceSizeChanged(),n._ganttWidget=V;var k=n._getImageURLSForGanttWidget(n.getAPIOption("pm_symbolColumnTitleSymbolIDs"));n._ganttWidget.options.tableDefinition.symbolColumnTitleImageURLs=k,n.updateSymbols(n.app().symbolsMap());var W=t&&t.watermarkSymbolID&&n._currentSymbolIDsMap[t.watermarkSymbolID];W&&n._ganttWidget.option("exportWatermarkURL","///rabSG_".concat(n._ganttWidget._uniqueID,"_").concat(W)),V.timeRange(u.timeAxis().actualStart(),u.timeAxis().actualEnd());var B=n._ganttWidget._uniqueID;n._ganttWidget._uniqueID=u._uniqueID,n.updateDateLinePresentations(),n._ganttWidget._uniqueID=B;var x=u.determineRowItems();x.forEach((function(e){e.rab_temp_initiallyCollapsed=e.initiallyCollapsed,e.initiallyCollapsed=u.isRowCollapsed(e)})),_.prependTo(g),V.option("rowItemsRoot",u.options.rowItemsRoot),V.option("linkItems",n._viewModel.linkItems(n._viewType));var L=S?Math.max(l,c):Math.max(f,v),F=Math.min(1e4/L,1);D.outerScaleFactor=F;var H=_.find(".ngantt-svg-outer-frame")[0],j=void 0,G=_.find(".ngantt-svg-root defs");r.nImageHelper.convertImagesToBase64(G).then((function(){return V.updateExportWatermarks()})).then((function(){var t;r.nImageHelper.replaceUseTagsBySVGTags(_.find(".ngantt-svg-root")[0]);do{t=V.preparePageForPrinting(D,t),j||(j=new d({compress:!0,pdfVersion:"1.7",size:S?void 0:[l*F*A,c*F*A],autoFirstPage:!S,permissions:{printing:!0,modifying:!0,copying:!0,annotating:!0,contentAccessibility:!0,documentAssembly:!0}})),S&&j.addPage({size:[l*F*A,c*F*A]}),p(j,H,0,0,{useCSS:!0,width:t.pageWidth,height:t.pageHeight})}while(t.currentPageNumber<t.maxPageNumber);x.forEach((function(e){void 0!==e.rab_temp_initiallyCollapsed?e.initiallyCollapsed=e.rab_temp_initiallyCollapsed:delete e.initiallyCollapsed,delete e.rab_temp_initiallyCollapsed})),x.length=0;var a=j.pipe(new h);a.on("finish",(function(){var t=a.toBlob("application/pdf");if(!e){var i=new Date;i.setMilliseconds(0),i.setUTCMinutes(i.getUTCMinutes()-i.getTimezoneOffset()),e="VSW-SavedChart_"+i.toISOString().replace(".000Z","").replace(/:/g,"")+".pdf"}r.nFileSaver.saveAs(t,e),o()})),j.end(),n._ganttWidget=u,V.destroy(),_.remove(),delete i._isSavingAsPDF}))}else s()}))},getSupportedPageFormatsForPrinting:function(){return Object.keys(Ye)},addDateLine:function(e,t){"use strict";this._ganttWidget&&(this._ganttWidget.addDateLine(e),!1!==t&&this.updateDateLinePresentations())},updateDateLine:function(e,t){"use strict";if(this._ganttWidget){var i=this._ganttWidget.option("dateLines");i.every((function(t,n){return t.id!==e.id||(i[n]=e,!1)}))||(this._ganttWidget.option("dateLines",i),!1!==t&&this.updateDateLinePresentations())}},removeDateLine:function(e,t){"use strict";this._ganttWidget&&(this._ganttWidget.removeDateLine(e),!1!==t&&this.updateDateLinePresentations())},updateDateLinePresentations:function(){"use strict";var e=this,t=e._ganttWidget.option("dateLines");if(t){var i="rab"+e._ganttWidget._uniqueID+"_";t.forEach((function(t){if(t.id.substring(0,i.length)===i){var n=o.select(e._ganttWidget.element[0]).select("#"+t.id);n.select("line").style("stroke",t.rab_lineColor||"black").style("stroke-width",t.rab_lineWidth||1).style("stroke-dasharray",t.rab_lineDashArray||null),n.select("text").style("fill",t.rab_labelColor||"black");var a,r,s=function(e,t,i){var n=l(e.attr("transform"));n?(n.translate[0]=t,n.translate[1]=i,n=n.toString()):n="translate("+t+", "+i+")",e.attr("transform",n.toString())};if(null!=t.rab_symbolID){if(null!=t.rab_symbolWidth||null!=t.rab_symbolHeight){var c=null!=t.rab_symbolWidth?parseFloat(t.rab_symbolWidth):0,u=null!=t.rab_symbolHeight?parseFloat(t.rab_symbolHeight):0,d=c/2;if((a=n.append("use").attr("x",-d).attr("width",c).attr("height",u).attr("class",re).datum({})).attr("href","#rabSB_".concat(e._ganttWidget._uniqueID,"_").concat(e._currentSymbolIDsMap[t.rab_symbolID])),(r=n.select("text")).size())switch(t.labelPosition){case v.DateLineCaptionPosition.Left:t.labelOrientation===v.DateLineCaptionOrientation.Vertical?s(r,0,u):s(r,-d,0);break;case v.DateLineCaptionPosition.Center:s(r,0,u);break;case v.DateLineCaptionPosition.Right:t.labelOrientation===v.DateLineCaptionOrientation.Vertical?s(r,0,u):s(r,d,0);break;case v.DateLineCaptionPosition.TopLeft:case v.DateLineCaptionPosition.TopCenter:case v.DateLineCaptionPosition.TopRight:t.labelOrientation===v.DateLineCaptionOrientation.Vertical&&s(r,0,u)}}}else(a=n.select("."+re)).size()&&(a.remove(),(r=n.select("text")).size()&&s(r,0,0))}}))}e.getAPIOption("currentDate")?e._updateCurrentDateLinePresentation():e._ganttWidget.renderWorldView()},_handleBeforeShowingTooltip:function(){},_showTooltip:function(e){"use strict";var t=this;if(!e.sender||!(e.ganttWidget||e.tableWidget||t._ganttWidget).isInInteraction()&&!t._curvePaneSplitterWidget.isCurrentlyDragged()){var i,n=this._viewModel.model(),a=e.phantom,s=e.sender;if(s){if(s.rab_itemType===D.Activity||s.rab_itemType===D.Allocation||s.rab_itemType===D.AllocationEntry){var l=this._ganttWidget.getParent(s);l&&(s=l)}var c,u,d,p=e.elem;if(e.itemType===D.Curve){var h=t._ganttWidget.eventPointToTimeArea(e.event);if(h){var g,_,f,m,v=this._viewModel.resourceByItem(s),b=t._tooltipWidget.currentData();if(b&&"curve-values"===b.type&&((c=t._tooltipWidget.option("delay"))&&(t._tooltipDelay=c),t._tooltipWidget.option("delay",0)),s._data.rab_loadDatesAndEntries)if(Array.isArray(v.rab_loadDatesAndEntries)){var y=n.curveByID(v.LoadCurveID),A=y.Type,T=y.PM_InterpolationType,w=y.determineCurveStackIDs();A===I.CurveStack&&w.reverse(),_={},v.rab_loadDatesAndEntries.forEach((function(e,t){if(f=T===C.Linear?e.getValueAtDate(h.date,!0,!0):e.determinePreviousOrSameDateWithValue(h.date)){var i=T===C.Linear?f.interpolatedValue:f.value.value;t?A===I.CurveStack&&void 0!==i&&(_[w[t-1]]-=i):g=i,_[w[t]]=i}}))}else(f=T===C.Linear?s._data.rab_loadDatesAndEntries.getValueAtDate(h.date,!0,!0):s._data.rab_loadDatesAndEntries.determinePreviousOrSameDateWithValue(h.date))&&(g=T===C.Linear?f.interpolatedValue:f.value.value);var O=s._data.rab_capacityDatesAndEntries;Array.isArray(O)&&(O=O[0]),O&&(f=O.determinePreviousOrSameDateWithValue(h.date))&&(m=f.value.value),s.data().PM_CurveTooltipTemplateID&&(u=s.data().PM_CurveTooltipTemplateID);var P={ganttWidget:t._ganttWidget,date:h.date,itemType:D.Curve,item:s,load:g,capacity:m,innerHTML:i,cancel:!1,elem:p,event:e.event,tooltipTemplateID:u};_&&(P.singleLoads=_),t._handleBeforeShowingTooltip(P),!P.cancel&&e.innerHTML?t._tooltipWidget.display({refElem:p,item:s,type:"curve-values",followCursorMode:!0,content:P.innerHTML,y:h.y},r.nTooltipWidget.PositionType.BottomX,p,h.pageX,e.event):t._tooltipWidget.display(null),t._tooltipDelay&&t._tooltipWidget.option("delay",t._tooltipDelay)}else t._tooltipWidget.display(null);return}switch(s.rab_itemType){case D.Resource:d="resource",s.data().PM_RowTooltipTemplateID&&(u=s.data().PM_RowTooltipTemplateID);break;case D.Link:d="link",s.data().PM_TooltipTemplateID&&(u=s.data().PM_TooltipTemplateID);break;case D.Allocation:d="allocation",s.data().PM_BarTooltipTemplateID&&(u=s.data().PM_BarTooltipTemplateID);break;case D.AllocationEntry:d="allocationEntry";break;case D.TimeArea:d="timeArea";break;case D.Timescale:d="timescale";break;case D.Activity:case D.ActivityBaseline:case D.ActivityDueDate:case D.ActivityFrame:case D.ActivityReleaseDate:d="activity",s.data().PM_BarTooltipTemplateID&&(u=s.data().PM_BarTooltipTemplateID);break;case D.ActivityRow:d="activityRow",s.data().PM_RowTooltipTemplateID&&(u=s.data().PM_RowTooltipTemplateID);break;case D.AllocationRow:d="allocationRow",s.data().PM_RowTooltipTemplateID&&(u=s.data().PM_RowTooltipTemplateID);break;case D.Entity:d="entity",s.data().PM_RowTooltipTemplateID&&(u=s.data().PM_RowTooltipTemplateID);break;case D.PeriodHighlighterEntry:d="periodHighlighterEntry"}if(d&&(!a||!t.ganttWidget().option("dragDateLinesVisible"))){var R=o.select(p).select("."+We).node();P={itemType:s.rab_itemType,item:s,innerHTML:i,cancel:!1,elem:R||p,event:e.event,tooltipTemplateID:u};return s.rab_itemType===D.PeriodHighlighterEntry&&(P.rowItem=e.rowItem,P.entryIndex=e.entryIndex),t._handleBeforeShowingTooltip(P),void(!P.cancel&&P.innerHTML?t._tooltipWidget.display({refElem:p,item:s,type:d,content:P.innerHTML,followCursorMode:["link","activityRow","allocationRow","resource","entity"].indexOf(d)>=0||"horizontal"},r.nTooltipWidget.PositionType.BottomX,R||p,e.event?e.event.clientX:null,e.event):t._tooltipWidget.display(null))}}if(!a&&t.ganttWidget().option("dragDateLinesVisible")){P={itemType:void 0,item:null,cancel:!1,event:void 0};t._handleBeforeShowingTooltip(P),t._tooltipWidget.display(null)}}},_handleBackgroundTap:function(){"use strict";this._deselectOtherItemsIfItemIsNotSelected(null,null,v.SelectionChangedReason.BackgroundClick),this._tooltipWidget.display(null)},_createLinkItem:function(e,t,i,n,a){"use strict";return new this._viewModel.option("linkItemClass")(e,this._viewModel,t,i,n,a)},_rowExpandOrCollapseFunc:function(e){"use strict";e.tableType=M.Gantt,this._handleRowExpandOrCollapseFunc(e)},_handleRowExpandOrCollapseFunc:function(){},_rowExpandedOrCollapsedFunc:function(e){"use strict";this.updateRowHeight(e.rowItem),e.tableType=M.Gantt,this._handleRowExpandedOrCollapsedFunc(e)},_handleRowExpandedOrCollapsedFunc:function(e){"use strict";e.rowItem.data().rab_cachedCollapseState=e.isCollapsed?1:0,e.rowItem.rab_itemType===D.Activity&&(e.rowItem.data().rab_cachedAllocationRowsCollapseState=e.areLeavesCollapsed?1:0),this._tooltipWidget.display(null)},_expandOrCollapseRowByCollapseState:function(e,t,i){"use strict";var n=this;if(e){var a=i.PM_CollapseState,o=i.PM_AllocationRowsCollapseState;if(a>=0||o>=0){var r=t.call(n._viewModel,n._viewType,i);r&&(a>=0&&(a?e.collapseRow(r):e.expandRow(r)),t===n._viewModel.activityItem&&o>=0&&(o?e.collapseRow(r,!0):e.expandRow(r,!0)))}}},_addAllocation:function(){},_updateAllocation:function(){},_removeAllocation:function(){},_addCalendar:function(){},_updateCalendar:function(){},_removeCalendar:function(){},_addCurve:function(){},_updateCurve:function(){},_removeCurve:function(){},_addResource:function(e){"use strict";var t=this;t._viewType!==P.Resources&&t._viewType!==P.Loads||(t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.resourceItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.resourceItem,e))},_updateResource:function(e){"use strict";var t=this;t._viewType!==P.Resources&&t._viewType!==P.Loads||(t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.resourceItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.resourceItem,e),t._checkDescendantObjectsForClassification(e,t._viewModel.resourceItem(t._viewType,e)))},_removeResource:function(){},_addActivity:function(e){"use strict";this._viewType===P.Activities&&(this._expandOrCollapseRowByCollapseState(this._ganttWidget,this._viewModel.activityItem,e),this._expandOrCollapseCurvesInRowByCollapseState(this._viewModel.activityItem,e))},_updateActivity:function(e){"use strict";var t=this;t._viewType===P.Activities&&(t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.activityItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.activityItem,e),t._checkDescendantObjectsForClassification(e,t._viewModel.activityItem(t._viewType,e)))},_checkDescendantObjectsForClassification:function(e,t){"use strict";if(t&&(t.childRowItems||t.leafRowItems)&&1===e.rab_modificationClassification){var i=function e(t,i){t.forEach((function(t){var n=t.data();(void 0===n.rab_modificationClassification||n.rab_modificationClassification>1)&&(n.rab_modificationClassification=1),i||(t.childRowItems&&e(t.childRowItems),t.leafRowItems&&e(t.leafRowItems,i))}))};t.childRowItems&&i(t.childRowItems),t.leafRowItems&&i(t.leafRowItems,!0)}},_removeActivity:function(){},_updateLinks:function(){"use strict";var e=this,t=e._ganttWidget.options.linkItems,i=e._viewModel.linkItems(e._viewType);!t==!i&&(!i||i.length===t.length&&i.every((function(e,i){return e===t[i]&&!e._rab_isModified})))||e._ganttWidget.option("linkItems",i),t&&t.forEach((function(e){delete e._rab_isModified}))},_addLink:function(){},_updateLink:function(){},_removeLink:function(){},_addEntity:function(e){"use strict";var t=this;t._viewType!==P.Resources&&t._viewType!==P.Activities||t._expandOrCollapseRowByCollapseState(t._entitiesTableWidget,t._viewModel.entityItem,e)},_updateEntity:function(e){"use strict";var t=this;t._viewType!==P.Resources&&t._viewType!==P.Activities||(t._expandOrCollapseRowByCollapseState(t._entitiesTableWidget,t._viewModel.entityItem,e),t._checkDescendantObjectsForClassification(e,t._viewModel.entityItem(t._viewType,e)))},_removeEntity:function(){},_addPeriodHighlighter:function(){},_updatePeriodHighlighter:function(){},_removePeriodHighlighter:function(){},_beforeRemoveAll:function(){"use strict";var e=this;e._tooltipWidget.display(null),e._ganttWidget.option("updateSuspended",!0),e._ganttWidget.option("rowItemsRoot",null),e._ganttWidget.disposeUnusedItems(),e._entitiesTableWidget&&(e._entitiesTableWidget.option("updateSuspended",!0),e._entitiesTableWidget.option("rowItemsRoot",null),e._entitiesTableWidget.disposeUnusedItems())},_afterRemoveAll:function(){"use strict";var e=this;e._ganttWidget.option("updateSuspended",!0),e._ganttWidget.option("rowItemsRoot",null),e._entitiesTableWidget&&(e._entitiesTableWidget.option("updateSuspended",!0),e._entitiesTableWidget.option("rowItemsRoot",null))},_composeObjectIDFromItemType:function(e,t){var i=[];switch(e){case D.Resource:case D.Allocation:case D.Activity:case D.Link:i.push(t.Role)}return i.push(t.ID),i.join(r.nDefaultSeparator)},_validateDraggedItems:function(e){"use strict";var t=this;if(!t._dragItemCache||!Object.keys(t._dragItemCache).length)return!0;var i=function(e){var i,n=e.rab_itemType,a=Object.keys(t._dragItemCache),o=a[a.map((function(e){return t._dragItemCache[e]})).indexOf(e)];if(o||(o=a[a.map((function(e){return t._consolidatedDragItemCache[e]})).indexOf(e)]),(e=t._consolidatedDragItemCache[o]).data())switch(n){case D.Entity:i=t.app().model().entityByID(o);break;case D.Resource:i=t.app().model().resourceByID(o);break;case D.Allocation:i=t.app().model().allocationByID(o);break;case D.Activity:i=t.app().model().activityByID(o)}var r=i&&t.viewModel()._item(n===D.Entity?P._Entities:t._viewType,i);return r&&e.rab_itemType===D.Activity&&(r=t.viewModel()._findItemOfTypeInArray(r.timeItems,D.Activity)||r.timeItems&&r.timeItems[0]||r),r&&e.rab_itemType===D.Allocation&&t._viewType===P.Activities&&(r=r.timeItems&&r.timeItems[0]),r};e.sender=i(e.sender);var n=!(!e.sender||!e.sender.data());return n&&(e.coupledItems?(e.coupledItems=e.coupledItems.map((function(e){return i(e)})).filter((function(e){return e})),n=!!e.coupledItems.length):e.startsAndEndsOfCoupledItems&&(n=e.startsAndEndsOfCoupledItems.some((function(e){return e.item=i(e.item),!(!e.item||!e.item.data())})))),n},_dragStartFunc:function(e){"use strict";var t=this,i=e.sender;if(t._tooltipWidget.display(null),t._dragItemCache={},t._consolidatedDragItemCache={},e.elemType!==b.Bar&&e.elemType!==b.Row&&e.elemType!==b.TableRow||(t._dragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i,t._consolidatedDragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i),e.coupledItems&&e.coupledItems.forEach((function(e){t._dragItemCache[t._composeObjectIDFromItemType(e.rab_itemType,e.data())]=i,t._consolidatedDragItemCache[t._composeObjectIDFromItemType(e.rab_itemType,e.data())]=e})),e.tableType=M.Gantt,t._doDragStartFunc(e),!e.cancel&&(e.elemType!==b.Bar&&e.elemType!==b.Row&&e.elemType!==b.TableRow||t._deselectOtherItemsIfItemIsNotSelected(e.sender,e.ganttWidget,v.SelectionChangedReason.DragStart),i&&(i.rab_itemType===D.Allocation&&t._handleStartSuitableResourceIDs(i.data(),e),1===Object.keys(t._dragItemCache).length))){var n=t.ganttWidget().option("dateAreas");if(i.rab_itemType===D.Allocation||i.rab_itemType===D.Activity){var a=i.data(),o=a.model();n||(n=[]);var r=t.getAPIOption("pm_dragDatesLimitingInteraction");if(a.PM_EarliestDragStart){var s=o.dateTimeValueToDate(a.PM_EarliestDragStart);if(s){var l=t.currentStart();s>l&&(t._dragEarliestDateArea={className:se,id:le,start:l,end:s,inForeground:r},n.push(t._dragEarliestDateArea))}}if(a.PM_LatestDragEnd){var c=o.dateTimeValueToDate(a.PM_LatestDragEnd);if(c){var u=t.currentEnd();c<u&&(t._dragLatestDateArea={className:fe,id:me,start:c,end:u,inForeground:r},n.push(t._dragLatestDateArea))}}}t.ganttWidget().option("dateAreas",n),t._updateCurrentDateAreaPresentation()}},_handleStartSuitableResourceIDs:function(e,t){"use strict";var i=this;i._dragSuitableResourceIDsMap={};var n,a=function(e){return e.SuitableResourceIDs?(e.SuitableResourceIDs.forEach((function(e){e=null!=e?e.toString():"",i._dragSuitableResourceIDsMap[e]=(i._dragSuitableResourceIDsMap[e]||0)+1})),1):0},o=a(e);(t.coupledItems&&(t.coupledItems.forEach((function(e){o+=a(e.data())})),Object.keys(i._dragSuitableResourceIDsMap).forEach((function(e){i._dragSuitableResourceIDsMap[e]<o&&delete i._dragSuitableResourceIDsMap[e]}))),Object.keys(i._dragSuitableResourceIDsMap).length||delete i._dragSuitableResourceIDsMap,o)&&(i.app().model().resources().forEach((function(e){var t=i._viewModel.resourceItem(P.Resources,e);t&&(i._dragSuitableResourceIDsMap[e.ID]?t.isCoveredAndHighlighted=!0:t.isCovered=!0,i.ganttWidget().getElementOfItem(t)&&(i.invalidateRow(t),n=!0))})),n&&i.update())},_handleEndSuitableResourceIDs:function(){"use strict";var e,t=this;t._dragSuitableResourceIDsMap&&(t.app().model().resources().forEach((function(i){var n=t._viewModel.resourceItem(P.Resources,i);n&&(t._dragSuitableResourceIDsMap[i.ID]?delete n.isCoveredAndHighlighted:delete n.isCovered,t.ganttWidget().getElementOfItem(n)&&(t.invalidateRow(n),e=!0))})),e&&t.update(),delete t._dragSuitableResourceIDsMap)},_doDragStartFunc:function(){},_dragEndFunc:function(e){"use strict";var t=this;if(t._validateDraggedItems(e)&&(e.tableType=M.Gantt,t._doDragEndFunc(e)),t._handleEndSuitableResourceIDs(),t._dragEarliestDateArea||t._dragLatestDateArea){var i=t.ganttWidget().option("dateAreas");t._dragEarliestDateArea&&i.splice(i.indexOf(t._dragEarliestDateArea),1),t._dragLatestDateArea&&i.splice(i.indexOf(t._dragLatestDateArea),1),delete t._dragEarliestDateArea,delete t._dragLatestDateArea,t.ganttWidget().option("dateAreas",i),t._updateCurrentDateAreaPresentation()}delete t._dragItemCache,delete t._consolidatedDragItemCache},_doDragEndFunc:function(){},_draggedFunc:function(e){"use strict";e.tableType=M.Gantt,this._doDraggedFunc(e)},_doDraggedFunc:function(e){"use strict";var t=this;if(e.sender.rab_itemType===D.Allocation&&(e.newRowItemIsSuitableResource=!(t._dragSuitableResourceIDsMap&&e.newRowItem&&!t._dragSuitableResourceIDsMap[e.newRowItem.data().ID])),t._validateDraggedItems(e)&&e.elemType===b.Bar&&t.getAPIOption("pm_dragDatesLimitingInteraction")){var i=e.sender;if(i.rab_itemType===D.Allocation||i.rab_itemType===D.Activity||i.rab_itemType===D.ActivityFrame){var n,a=i.data(),o=a.model(),r=!1;if(t._dragEarliestDateArea&&a.PM_EarliestDragStart){var s=o.dateTimeValueToDate(a.PM_EarliestDragStart);s&&e.start<s&&(n=c.nCalendarHelper.calculateWorkingTime(e.actualCalendar,e.end,e.start),e.start=c.nCalendarHelper.addWorkingTime(e.actualCalendar,s,0),e.interaction&y.DragHor&&(e.end=c.nCalendarHelper.addWorkingTime(e.actualCalendar,s,n)),r=!0)}if(!r&&t._dragLatestDateArea&&a.PM_LatestDragEnd){var l=o.dateTimeValueToDate(a.PM_LatestDragEnd);l&&e.end>l&&(n=c.nCalendarHelper.calculateWorkingTime(e.actualCalendar,e.end,e.start),e.end=c.nCalendarHelper.addWorkingTime(e.actualCalendar,c.nCalendarHelper.addWorkingTime(e.actualCalendar,l,-1),1),e.interaction&y.DragHor&&(e.start=c.nCalendarHelper.addWorkingTime(e.actualCalendar,e.end,-n)))}}}},_droppedFunc:function(e){"use strict";e.tableType=M.Gantt,this._validateDraggedItems(e)&&this._doDroppedFunc(e)},_doDroppedFunc:function(){},_detachEventListenersExFunc:function(e){"use strict";e.elemType===b.Bar?o.selectAll(e.elems).on(ke,null):e.elemType===b.Row&&o.selectAll(e.elems).selectAll("."+ee+",."+te).on(r.nEventDispatcher.TARGET_EVENT_NAME,null).on(ke,null)},_checkPossibleInteractionsFunc:function(){},_checkVisualZoomFactorFunc:function(){},_timeAreaViewParametersChangedFunc:function(){},_curvePaneResizedFunc:function(){},_verticalScrollOffsetChangedFunc:function(){},_onEventFunc:function(e){"use strict";e.tableType=M.Gantt,this._doOnEventFunc(e)},_doOnEventFunc:function(e){"use strict";var t=e.item||e.sender||e.rowItem;if(t&&t.rab_itemType===D.PeriodHighlighterEntry&&(t=e.rowItem),!t||!t.data||t.data())switch(e.eventType){case"tooltip":this._showTooltip(e);break;case"tap":e.sender&&"TimeAreaBackground"!==e.sender?"object"===n(e.sender)&&this._handleItemTap(e):this._handleBackgroundTap();break;case"doubletap":"object"===n(e.sender)&&this._handleItemDoubleTap(e);break;case"contextmenu":this._handleContextMenuEvent(e)}},_handleItemTap:function(e){"use strict";var t=this;if(this._tooltipWidget.display(null),"touch"===e.hammerEvent.pointerType){var i=e.sender,n=t._tooltipWidget.option("delay");t._tooltipWidget.option("delay",0);var a=e.tableType===M.Gantt,o=a?t._ganttWidget:t._entitiesTableWidget,r={sender:i,elem:o.getElementOfItem(i,2),event:e.event};r[a?"ganttWidget":"tableWidget"]=o,t._showTooltip(r),t._tooltipWidget.option("delay",n),t._tooltipWidget.option("lastTapEvent",e.hammerEvent),t._savedTapEventCallbackArgs=e}},_handleItemDoubleTap:function(){},_handleContextMenuEvent:function(e){"use strict";this._tooltipWidget.display(null),this._deselectOtherItemsIfItemIsNotSelected(e.sender,e.ganttWidget||e.tableWidget,v.SelectionChangedReason.ContextMenu),r.nPopup.closeContextMenu()},_deselectOtherItemsIfItemIsNotSelected:function(e,t,i){"use strict";var n=this;if(n._ganttWidget.showMarkingTemporarily(null),n._entitiesTableWidget&&n._entitiesTableWidget.showMarkingTemporarily(null),n._options.deselectItemsOnInteractionWithUnselectedItem&&(!e||e instanceof _&&!t.isTimeItemSelected(e)||e instanceof g&&!t.isRowItemSelected(e)||e instanceof f&&!t.isLinkItemSelected(e))){var a=n._ganttWidget.selectedTimeItems();if(a.length){var o={ganttWidget:n._ganttWidget,timeItem:null,oldSelectedItems:a,oldSelectedRowItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};n._selectTimeItemFunc(o),o.cancel||n._ganttWidget.selectedTimeItems([])}else{if(n._entitiesTableWidget&&(a=n._entitiesTableWidget.selectedRowItems()).length){o={tableWidget:n._entitiesTableWidget,rowItem:null,oldSelectedItems:a,oldSelectedTimeItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};n._entitiesTableSelectRowItemFunc(o),o.cancel||n._entitiesTableWidget.selectedRowItems([])}if(!a.length)if((a=n._ganttWidget.selectedRowItems()).length){o={ganttWidget:n._ganttWidget,rowItem:null,oldSelectedItems:a,oldSelectedTimeItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};n._selectRowItemFunc(o),o.cancel||n._ganttWidget.selectedRowItems([])}else if((a=n._ganttWidget.selectedLinkItems()).length){o={ganttWidget:n._ganttWidget,linkItem:null,oldSelectedItems:a,oldSelectedTimeItems:[],oldSelectedRowItems:[],newSelectedItems:[],reason:i,reasonItem:e};n._selectLinkItemFunc(o),o.cancel||n._ganttWidget.selectedLinkItems([])}}}},updateRowHeight:function(e,t,i){"use strict";delete e.totalHeight;var n=this,a=0;if(e.rab_hidden)e.totalHeight=0,delete e.additionalHeight;else{var o=n._ganttWidget.determineActualRowMargins();void 0===t&&(t=n._viewType),t===P.Loads&&(a=0),!i&&n._calculateCurvesPaneHeight(e,t)&&(a+=(e.rab_loadCurvePaneHeight||0)+(e.rab_inventoryCurvePaneHeight||0)+2*o.bottom,e.rab_loadCurvePaneHeight&&e.rab_inventoryCurvePaneHeight&&(a+=2*o.bottom)),t===P.Loads?(delete e.additionalHeight,e.totalHeight=a):e.additionalHeight=a}},updateAllRowHeights:function(e){"use strict";var t,i=this;null!=e&&(t=i._viewModel.rowItemsRoot(e)),i._ganttWidget.determineRowItems(!1,t).forEach((function(t){i.updateRowHeight(t,e)}))},_itemHasChildren:function(e){"use strict";var t=!1,i=e.rab_itemType===D.Activity;return(i||e.rab_itemType===D.Resource||e.rab_itemType===D.Entity)&&(null==(t=e.data().PM_HasChildren)&&(t=e.childRowItems&&e.childRowItems.length),!t&&i&&(t=e.leafRowItems&&e.leafRowItems.length)),t},_enrichClassFunc:function(e){"use strict";e.tableType=M.Gantt,this._doEnrichClassFunc(e)},_doEnrichClassFunc:function(e){"use strict";var t=this,i=e.item;e.additionalClasses?e.additionalClasses+=" ":e.additionalClasses="",e.additionalClasses+=function(){var n="";if(e.elemType===b.Row?n=(t._itemHasChildren(i)?Re+e.level:Pe)+" ":e.elemType===b.GroupCell?n=de+e.level+" ":e.elemType===b.Bar?i.rab_itemType===D.ActivityBaseline?n=G:i.rab_itemType===D.ActivityReleaseDate?n=z:i.rab_itemType===D.ActivityDueDate&&(n=U):e.elemType===b.LeavesIndicator&&(n=de+e.level),n)return n.trim();if(e.elemType===b.TableCellText)return We;if(e.elemType===b.BarRectangle){if(i.pab_itemType===D.ActivityBaseline)return G;if(i.pab_itemType===D.ActivityReleaseDate)return z;if(i.pab_itemType===D.ActivityDueDate)return U}}()||""},updateTableRowDefinitions:function(e,t){"use strict";var i=this;if(t||!i._tableDefinitionActivities.rowDefinitionsMap){i._tableDefinitionActivities.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,P.Activities),i._tableDefinitionResources.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,P.Resources),i._tableDefinitionLoads.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,P.Loads),i._tableDefinitionEntities.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,P._Entities);var n=e&&Object.keys(e).length,a=i.getAPIOption("pm_defaultActivityTableRowDefinitionID");i._tableDefinitionActivities.baseLevel=a&&n&&i._tableDefinitionActivities.rowDefinitionsMap[a]||i._tableDefinitionActivitiesBaseLevel,a=i.getAPIOption("pm_defaultResourceTableRowDefinitionID"),i._tableDefinitionResources.baseLevel=a&&n&&i._tableDefinitionResources.rowDefinitionsMap[a]||i._tableDefinitionResourcesBaseLevel,i._tableDefinitionLoads.baseLevel=a&&n&&i._tableDefinitionLoads.rowDefinitionsMap[a]||i._tableDefinitionLoadsBaseLevel,a=i.getAPIOption("pm_defaultEntityTableRowDefinitionID"),i._tableDefinitionEntities.baseLevel=a&&n&&i._tableDefinitionEntities.rowDefinitionsMap[a]||i._tableDefinitionEntitiesBaseLevel,!1!==t&&i._setAllocationDefaultTableRowDefinition()}!1!==t&&(i._ganttWidget.option("tableDefinition",i._viewType===P.Activities?i._tableDefinitionActivities:i._viewType===P.Resources?i._tableDefinitionResources:i._tableDefinitionLoads),i._entitiesTableWidget&&i._entitiesTableWidget.option("tableDefinition",i._tableDefinitionEntities))},_cloneTableRowDefinitionsMap:function(e,t){"use strict";var i={};return e&&Object.keys(e).forEach((function(n){var o=e[n],r=a.extend({},o,{rab_viewType:t,rab_tableRowDefinition:o,contentsFunc:function(){return o.contentsFunc.apply(this,arguments)}});r.cellDefinitions=[],o.cellDefinitions.forEach((function(e){r.cellDefinitions.push(a.extend({},e,{contentsFunc:function(e){return o.cellDefinitions[e.columnIndex].contentsFunc.apply(this,arguments)}}))})),i[n]=r})),i},_tableColumnWidthChangedFunc:function(e){e.sender.rab_tableRowDefinition.cellDefinitions[e.columnIndex].width=e.sender.cellDefinitions[e.columnIndex].width},_tableRowFillFunc:function(e){"use strict";this._doTableRowFill(e,M.Gantt)},_tableCellFillFunc:function(e){"use strict";var t=e.rowItem;e.rowDefinitionType!==w.GroupingLevel&&e.rowDefinitionType!==w.BaseLevel&&e.rowDefinitionType!==w.LeafDefault||(e.text=1===e.columnIndex?t.data().ID:t.data().TableText),this._doTableCellFillFunc(e)},_doTableCellFillFunc:function(e){"use strict";var t,i=this,n=e.rowItem;if(this._viewModel.resourceByItem(n)&&e.rowDefinitionType===w.FixedColumnsSucceeding){t=o.select(e.parentElem);var a={rowItem:n,cancel:!1};i._handleBeforeShowingCurvesPane(a),i._createCurveButtonAndScaleInRow(n,e.rowLevel,W.LoadCurve,e.totalHeight,e.width,t),i._createCurveButtonAndScaleInRow(n,e.rowLevel,W.InventoryCurve,e.totalHeight,e.width,t)}0===e.columnIndex&&e.cellType===V.ImageList&&e.rowItem.data().PM_RowSymbolIDs&&(e.imageURLs=[],e.rowItem.data().PM_RowSymbolIDs.forEach((function(t){e.imageURLs.push((e.ganttWidget?"///rabSG_".concat(e.ganttWidget._uniqueID):"///rabSE_".concat(e.tableWidget._uniqueID))+"_".concat(i._currentSymbolIDsMap[t]))}))),e.symbolID&&i._currentSymbolIDsMap[e.symbolID]&&(e.symbolURL="///rabSB_".concat((e.ganttWidget||e.tableWidget)._uniqueID,"_").concat(i._currentSymbolIDsMap[e.symbolID]));var r=e.textColor||n.data().PM_TableTextColor,s=e.backgroundColor;if((r||s)&&(e.finalizeFunc=function(){r&&o.select(e.cellElem).select(".ngantt-table-column-text").style("fill",r),s&&o.select(e.cellElem).select(".ngantt-table-cell-background-rect").style("fill",s)}),r=r||"black",0===e.columnIndex&&e.rowDefinitionType!==w.FixedColumnsPreceding&&e.rowDefinitionType!==w.FixedColumnsSucceeding&&(o.select(e.rowElem).select(".ngantt-colexp-button .ngantt-plus,.ngantt-colexp-button .ngantt-minus").style("fill",r),o.select(e.rowElem).select(".ngantt-leaves-colexp-button .ngantt-plus,.ngantt-leaves-colexp-button .ngantt-minus").style("stroke",r)),t){t.select(ee+"-tfcol").style("fill",r),t.select(ee+"-tscol").style("stroke",r);var l=t.select(ee+"-cscol");l.size()&&l.style("stroke",i._determineTableRowBackgroundColor(n.data(),n.rab_itemType,e.rowLevel))}n.rab_calculatedAllocationRowIndicatorColor&&o.select(e.rowElem).select(".ngantt-leaves-indicator").style("fill",n.rab_calculatedAllocationRowIndicatorColor)},_determineTableRowDefinitionFunc:function(e){"use strict";return e.tableType=M.Gantt,this._doDetermineTableRowDefinitionFunc(e)},_doDetermineTableRowDefinitionFunc:function(){},_detectContent:function(e,t){"use strict";if(null!=t){var i,n=e.data();if(null!=(i=t.match(/^[A-Z0-9_]/)&&t in n?n[t]:n.data()[t]))return i instanceof Date?this.app().localDateToDateTimeString(i):i.toString()}},__tableCellFillFunc:function(e){"use strict";var t=this,i=e.rowItem,n=e.columnIndex,a=e.rowDefinition.cellDefinitions[n],o=function(a,o,r){e[a]=t._detectContent(i,o)||r,i.rab_sourced_contents[a]&&0!=n||(i.rab_sourced_contents[a]=[]),i.rab_sourced_contents[a][n]={propertyName:o,content:e[a]}};i.rab_sourced_contents&&0!=n||(i.rab_sourced_contents={}),o("text",a.rab_textSource,""),o("symbolID",a.rab_symbolIDSource,""),o("backgroundColor",a.rab_backgroundColorSource,a.rab_backgroundColor),o("textColor",a.rab_textColorSource,a.rab_textColor),e.ganttWidget?t._doTableCellFillFunc(e):t._doEntitiesTableCellFillFunc(e)},updateSymbols:function(e){"use strict";var t=this,i=o.select(t._ganttWidget.element[0]).select(".ngantt-svg-root defs"),n=t._entitiesTableWidget?o.select(t._entitiesTableWidget.element[0]).select(".ntable-svg-root defs"):void 0,s=!1,l=!1,c=a.extend({},t._currentSymbolIDsMap);if(t._currentSymbolIDsMap={},Object.keys(e).forEach((function(a){var o=e[a].URL,u=c[a]||r.nSubsequentIDGenerator.generate();t._currentSymbolIDsMap[a]=u,delete c[a];var d="rabSG_".concat(t._ganttWidget._uniqueID,"_").concat(u),p=i.select("#"+d);p.size()||(p=i.append("image").attr("id",d).attr("width",t._tableSymbolExtent).attr("height",t._tableSymbolExtent),s=!0),p.attr("href")!==o&&(p.attr("href",o),s=!0),d="rabSB_".concat(t._ganttWidget._uniqueID,"_").concat(u);var h=i.select("#"+d);h.size()?p=h.select("image"):(p=(h=i.append("symbol").attr("id",d).attr("viewBox","0 0 "+t._barSymbolExtent+" "+t._barSymbolExtent).attr("preserveAspectRatio","none")).append("image").attr("width",t._barSymbolExtent).attr("height",t._barSymbolExtent),s=!0),p.attr("href")!==o&&(p.attr("href",o),s=!0),t._entitiesTableWidget&&(d="rabSE_".concat(t._entitiesTableWidget._uniqueID,"_").concat(u),(p=n.select("#"+d)).size()||(p=n.append("image").attr("id",d).attr("width",t._tableSymbolExtent).attr("height",t._tableSymbolExtent),l=!0),p.attr("href")!==o&&(p.attr("href",o),l=!0),d="rabSB_".concat(t._entitiesTableWidget._uniqueID,"_").concat(u),(h=n.select("#"+d)).size()?p=h.select("image"):(p=(h=n.append("symbol").attr("id",d).attr("viewBox","0 0 "+t._barSymbolExtent+" "+t._barSymbolExtent).attr("preserveAspectRatio","none")).append("image").attr("width",t._barSymbolExtent).attr("height",t._barSymbolExtent),l=!0),p.attr("href")!==o&&(p.attr("href",o),l=!0))})),Object.keys(c).forEach((function(e){var a="rabSG_".concat(t._ganttWidget._uniqueID,"_").concat(c[e]);i.select("#"+a).remove(),a="rabSB_".concat(t._ganttWidget._uniqueID,"_").concat(c[e]),i.select("#"+a).remove(),s=!0,n&&(a="rabSE_".concat(t._entitiesTableWidget._uniqueID,"_").concat(c[e]),n.select("#"+a).remove(),l=!0)})),s){null!=t._ganttWidget.option("rowItemsRoot")&&t._ganttWidget.invalidateAllRows();var u=t.getAPIOption("pm_watermarkSymbolID");null!=u&&t._currentSymbolIDsMap[u]&&t._ganttWidget.option("watermarkURL","///rabSG_".concat(t._ganttWidget._uniqueID,"_").concat(t._currentSymbolIDsMap[u]))}l&&null!=t._entitiesTableWidget.option("rowItemsRoot")&&t._entitiesTableWidget.invalidateAllRows()},_timeAreaRowFillFunc:function(e){"use strict";e.isForeground||(this._createCurvesPaneInRow(e.rowItem,W.LoadCurve,e.totalHeight,e.oldTotalHeight,e.width,o.select(e.parentElem)),this._createCurvesPaneInRow(e.rowItem,W.InventoryCurve,e.totalHeight,e.oldTotalHeight,e.width,o.select(e.parentElem)),delete e.rowItem.rab_curvePanesVisibleChanged)},_processCreateBarFunc:function(e){"use strict";var t=this;return t._options.worldViewBarCallbackEnabled||e.elem?t._createBarFunc(e):t._doCreateBarFunc(e)},_createBarFunc:function(e){return this._doCreateBarFunc(e)},_doCreateBarFunc:function(e){"use strict";var t=e.timeItem,i=t.data();if(t.rab_itemType===D.Allocation||t.rab_itemType===D.Activity)i.PM_BarTextWrapMode===k.Line?e.caption={text:i.BarText,width:1e4,wrapMode:"n"}:e.caption=i.BarText;else if(t.rab_itemType===D.AllocationEntry){var n=t.rab_parentItem;n.barShape||(i.PM_BarTextWrapMode===k.Line?e.caption={text:n.data().BarText,width:1e4,wrapMode:"n"}:e.caption=n.data().BarText)}this._updateBar(e),t.rab_itemType===D.Allocation&&e.backgroundElem&&o.select(e.backgroundElem).select(".ngantt-outline").style("fill","white").style("stroke","transparent")},_appendBarSymbolToBarElem:function(e,t,i,n){i.rab_barSymbolElems||(i.rab_barSymbolElems={});var a=Object.keys(i.rab_barSymbolElems).map((function(e){return+e}));a.push(n),a.sort((function(e,t){return e-t}));var o=a.indexOf(n),r=o<a.length-1?e.insert(t,(function(){return i.rab_barSymbolElems[a[o+1]]})):e.append(t);return i.rab_barSymbolElems[n]=r.node(),r},_updateBarSymbol:function(e,t,i,n,a,o,s,l){"use strict";var c,u,d,p,h=this,g=n+"SymbolID",_=s
/*!== 0*/||h.getAPIOption("pm_topBarSymbolsVisible")?i[g]:void 0;if(_&&((d=h._app.symbolsMap()[_])&&!r.nStringHelper.notIsNullOrEmpty(d.URL)&&(d=void 0),d&&1===s&&(0===(c=i[n+"SymbolWidth"])||c||(c=h._barSymbolExtent),c=+c,isNaN(c)||!isFinite(c)||c<=0?d=void 0:(0===(u=i[n+"SymbolHeight"])||u||(u=h._barSymbolExtent),u=+u,(isNaN(u)||!isFinite(u)||u<=0)&&(d=void 0)))),o?(p=e.select("."+a),d||(p.remove(),p=void 0,t.rab_barSymbolElems&&delete t.rab_barSymbolElems[l])):p=void 0,!p&&d){var f=p=h._appendBarSymbolToBarElem(e,s?"g":"use",t,l).attr("class",a).datum({});switch(s){case 0:p.attr("y",.66*-h._barSymbolExtent).attr("width",h._barSymbolExtent).attr("height",h._barSymbolExtent);break;case 1:f.classed("ngantt-bar-text",!0),p=f.append("use"),"PM_BarTextPrefix"===n&&p.attr("x",2)}}if(p&&(p.attr("href","#rabSB_".concat(h._ganttWidget._uniqueID,"_").concat(h._currentSymbolIDsMap[_])),1===s)){c!==+p.attr("data-nw")&&p.attr("width",c).attr("data-nw",c);var m=t.barHeight;null==m&&(m=h._ganttWidget.options.barHeight||0);var v=m+"-"+u;v!==p.attr("data-nh")&&p.attr("y",Math.floor((m-u)/2)).attr("height",u).attr("data-nh",v)}},_updateBar:function(e,t){"use strict";var i=this,n=e.timeItem;if(!(n.rab_itemType>=v.CustomItemTypeMinimum&&n.rab_itemType<=v.CustomItemTypeMaximum)&&n.rab_itemType!==D.ActivityFrame){var a,s,l,c=i.app().model();n.rab_itemType===D.Allocation||n.rab_itemType===D.AllocationEntry?(s=n.data(),n.rab_itemType===D.AllocationEntry&&(s=s.getHierarchyParent()),a=c.activityByID(r.nPropertyComposer.compose(s,["ActivityRole","ActivityID"],r.nDefaultSeparator))):n.rab_itemType!==D.Activity&&n.rab_itemType!==D.ActivityBaseline&&n.rab_itemType!==D.ActivityReleaseDate&&n.rab_itemType!==D.ActivityDueDate||(a=n.data(),s={PM_BorderWidth:null}),a||(a={PM_BorderWidth:null}),n.rab_itemType===D.Activity||n.rab_itemType===D.Allocation||n.rab_itemType===D.ActivityReleaseDate?l=n.data():n.rab_itemType===D.AllocationEntry&&n.rab_parentItem.rab_allocationBarDesignFlags===N.Entries&&(l=s);var u=null,d={};if(n.rab_itemType===D.ActivityBaseline){d.workingTimeColor=a.PM_BaselineColor;var p=a.PM_BaselineNonworkingTimeColor;"calculated"===p&&(p=a.PM_BaselineColor?m.calculateBarColors(a.PM_BaselineColor,i.getAPIOption("pm_calendarGridColor")).nonworkingTimeColor:null),d.nonworkingTimeColor=p||a.PM_BaselineColor||null,d.borderColor=a.PM_BaselineBorderColor||null}else if(n.rab_itemType===D.ActivityReleaseDate)d.workingTimeColor=a.PM_ReleaseDateColor,d.nonworkingTimeColor=a.PM_ReleaseDateColor,d.borderColor=null;else if(n.rab_itemType===D.ActivityDueDate)d.workingTimeColor=a.PM_DueDateColor,d.nonworkingTimeColor=a.PM_DueDateColor,d.borderColor=null;else{if(n.rab_itemType===D.Allocation&&n.rab_allocationBarDesignFlags!==N.StartEnd&&n.rab_allocationBarDesignFlags!==N.Merged)d.workingTimeColor="transparent",d.nonworkingTimeColor="transparent";else{var h;if(n.rab_itemType===D.AllocationEntry){var g=n.data();d.workingTimeColor=g.PM_Color||s.PM_Color||a.PM_Color||null,h=g.PM_NonworkingTimeColor||s.PM_NonworkingTimeColor||a.PM_NonworkingTimeColor||null}else d.workingTimeColor=s.PM_Color||a.PM_Color||null,h=s.PM_NonworkingTimeColor||a.PM_NonworkingTimeColor||null;"calculated"===h&&(h=d.workingTimeColor?m.calculateBarColors(d.workingTimeColor,i.getAPIOption("pm_calendarGridColor")).nonworkingTimeColor:null),d.nonworkingTimeColor=h||d.workingTimeColor}if(n.rab_itemType===D.AllocationEntry&&n.getParentItem().barShape)d.borderColor="transparent";else{var _=s.PM_BorderColor||a.PM_BorderColor||void 0;"calculated"===_&&(_=m.calculateBarColors(n.rab_allocationBarDesignFlags&N.Grouped?s.PM_Color||a.PM_Color:d.workingTimeColor,i.getAPIOption("pm_calendarGridColor")).borderColor),d.borderColor=_,null===(u=s.PM_BorderWidth)&&(u=a.PM_BorderWidth)}}d.progressWorkingTimeColor=s.PM_ProgressColor||a.PM_ProgressColor||null;var f=s.PM_ProgressNonworkingTimeColor||a.PM_ProgressNonworkingTimeColor||null;"calculated"===f&&(f=d.progressWorkingTimeColor?m.calculateBarColors(d.progressWorkingTimeColor,i.getAPIOption("pm_calendarGridColor")).nonworkingTimeColor:null),d.progressNonworkingTimeColor=f||d.progressWorkingTimeColor;var b=n.rab_itemType===D.Activity?i.getAPIOption("pm_defaultActivityProgressBackgroundColor"):i.getAPIOption("pm_defaultAllocationProgressBackgroundColor");if(d.progressBackgroundColor=s.PM_ProgressBackgroundColor||a.PM_ProgressBackgroundColor||b||null,e.worldViewFillColor=d.workingTimeColor||"#646464",e.worldViewBorderColor=d.borderColor,e.elem){var y=o.select(e.elem);if(d.workingTimeColor&&y.select(".ngantt-pcal,.ngantt-summary-bar-path,.ngantt-diamond-path,.ngantt-arrow-path").style("fill",d.workingTimeColor),(t||d.nonworkingTimeColor)&&y.select(".ngantt-rcal").style("fill",d.nonworkingTimeColor),t||d.borderColor||null!=u)if(n.rab_itemType===D.Activity){var A=y.select(".ngantt-bar-rect.ngantt-outline");A.size()?y.select(".ngantt-pcal").style("stroke-width",0):A=y.selectAll(".ngantt-bar-rect,.ngantt-diamond-path,.ngantt-arrow-path"),A.style("stroke",d.borderColor).style("stroke-width",u)}else y.selectAll(".ngantt-bar-rect,.ngantt-diamond-path,.ngantt-arrow-path").style("stroke",d.borderColor).style("stroke-width",u);if((t||d.progressBackgroundColor)&&y.select(".ngantt-progress-bar-background").style("fill",d.progressBackgroundColor),(t||d.progressWorkingTimeColor)&&y.select(".ngantt-progress-bar").style("fill",d.progressWorkingTimeColor),(t||d.progressNonworkingTimeColor)&&y.select(".ngantt-progress-nonworking-bar").style("fill",d.progressNonworkingTimeColor),(t||n.rab_itemType===D.Activity||n.rab_itemType===D.Allocation)&&l&&y.select(".ngantt-predicted-end-bar").style("fill",l.PM_PredictedEndColor),(t||n.rab_itemType===D.Activity||n.rab_itemType===D.Allocation)&&l){var I=n.rab_itemType===D.Activity?i.getAPIOption("pm_defaultActivityStatusFrameColor"):i.getAPIOption("pm_defaultAllocationStatusFrameColor"),C=l.PM_StatusFrameColor||I||null;y.select(".ngantt-marked-bar").style("stroke",C).attr("visibility",l.PM_StatusFrameVisible?null:"hidden")}var T=s&&s.PM_TextColor||a.PM_TextColor;if(t||T){var w=function(){y.selectAll(".ngantt-bar-text").style("fill",T)};t?w():e.finalizeFunc=w}if(l)if(n.rab_itemType===D.ActivityReleaseDate)i.getAPIOption("pm_releaseDueDateConnectionsVisible")&&n.rab_itemType===D.ActivityReleaseDate&&l.ReleaseDate&&l.DueDate&&y.append("path").attr("class",Te);else{var O;if(t||delete n.rab_barSymbolElems,i._updateBarSymbol(y,n,l,"PM_LeftBar",ve,t,1,0),i._updateBarSymbol(y,n,l,"PM_RightBar",Oe,t,1,1),i._updateBarSymbol(y,n,l,"PM_BarTextPrefix",pe,t,1,10),i._updateBarSymbol(y,n,l,"PM_TopLeftBar",Be,t,0,30),i._updateBarSymbol(y,n,l,"PM_TopRightBar",xe,t,0,31),t&&(O=y.select("."+De),l.PM_Status1Visible&&l.PM_Status1Color||(O.remove(),O=void 0)),!O&&l.PM_Status1Visible&&l.PM_Status1Color&&(O=i._appendBarSymbolToBarElem(y,"rect",n,20).attr("class",Ne+" "+De).attr("height",i.ganttWidget().options.barHeight-5)),O&&O.style("stroke",d.borderColor||"gray").attr("fill",l.PM_Status1Color||"white"),t?(O=y.select("."+Se),l.PM_Status2Visible&&l.PM_Status2Color||(O.remove(),O=void 0)):O=void 0,!O&&l.PM_Status2Visible&&l.PM_Status2Color&&(O=i._appendBarSymbolToBarElem(y,"rect",n,21).attr("class",Ne+" "+Se).attr("height",i._statusIndicatorWidth)),O&&O.style("stroke",d.borderColor||"gray").attr("fill",l.PM_Status2Color||"white"),t?!(O=y.select("."+Ee))||l.PM_Status3Visible&&l.PM_Status3Color||(O.remove(),O=void 0):O=void 0,!O&&l.PM_Status3Visible&&l.PM_Status3Color){var P=i._statusIndicatorWidth/2;O=i._appendBarSymbolToBarElem(y,"ellipse",n,22).attr("class",Ne+" "+Ee).attr("rx",P).attr("ry",P).attr("cx",P).attr("cy",i._statusIndicatorWidth+P+1)}if(O&&O.style("stroke",d.borderColor||"gray").style("fill",l.PM_Status3Color||"white"),t?(O=y.select("."+Me),l.PM_Status4Visible&&l.PM_Status4Color||(O.remove(),O=void 0)):O=void 0,!O&&l.PM_Status4Visible&&l.PM_Status4Color){var R=i.ganttWidget().options.barHeight;(n.progressBackgroundVisible||n.progress)&&(R-=i.ganttWidget().options.progressBarHeight+1),O=i._appendBarSymbolToBarElem(y,"rect",n,23).attr("class",Ne+" "+Me).attr("height",R)}O&&O.style("stroke",d.borderColor||"gray").attr("fill",l.PM_Status4Color||"white")}}}},_processPositionBarFunc:function(e){"use strict";var t=this;return t._options.worldViewBarCallbackEnabled||e.elem?t._positionBarFunc(e):t._doPositionBarFunc(e)},_positionBarFunc:function(e){return this._doPositionBarFunc(e)},_doPositionBarFunc:function(e){"use strict";var t,i,n,a=this,s=e.timeItem,l=a.app().model();s.rab_itemType===D.Allocation||s.rab_itemType===D.AllocationEntry?(i=s.data(),s.rab_itemType===D.AllocationEntry&&(i=i.getHierarchyParent()),t=l.activityByID(r.nPropertyComposer.compose(i,["ActivityRole","ActivityID"],r.nDefaultSeparator))):s.rab_itemType!==D.Activity&&s.rab_itemType!==D.ActivityBaseline&&s.rab_itemType!==D.ActivityReleaseDate&&s.rab_itemType!==D.ActivityDueDate||(t=s.data()),null==t&&(t={}),n=s.rab_itemType===D.AllocationEntry&&s.rab_parentItem.rab_allocationBarDesignFlags===N.Entries?i:s.data();var c,u=o.select(e.elem);if(n.PM_Status1Visible&&n.PM_Status1Color){var d=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;u.select("."+De).attr("x",Math.max(0,e.width-d)).attr("width",d)}if(n.PM_Status2Visible&&n.PM_Status2Color){d=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;u.select("."+Se).attr("x",Math.max(0,e.width-d)).attr("width",d)}if(n.PM_Status3Visible&&n.PM_Status3Color){d=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;u.select("."+Ee).attr("transform","translate("+Math.max(0,e.width-a._statusIndicatorWidth)+")").attr("rx",d/2)}if(n.PM_Status4Visible&&n.PM_Status4Color){d=Math.min(e.width,a._statusIndicatorWidth-2);u.select("."+Me).attr("width",d);var p=u.select(".ngantt-bar-text");p.size()&&p.attr("x",a._statusIndicatorWidth)}n.PM_TopRightBarSymbolID&&((c=a._app.symbolsMap()[n.PM_TopRightBarSymbolID])&&r.nStringHelper.notIsNullOrEmpty(c.URL)&&u.select("."+xe).attr("x",Math.max(0,e.width-a._barSymbolExtent)));if(n.PM_RightBarSymbolID&&((c=a._app.symbolsMap()[n.PM_RightBarSymbolID])&&r.nStringHelper.notIsNullOrEmpty(c.URL))){var h=u.select("."+Oe+" use");h.size()&&h.attr("x",Math.max(0,e.width-+h.attr("data-nw")))}if(s.rab_itemType===D.ActivityReleaseDate&&n.ReleaseDate&&n.DueDate){var g,_=a._ganttWidget.timeAxis(),f=l.dateTimeValueToDate(n.DueDate),m=l.dateTimeValueToDate(n.ReleaseDate);g=a._ganttWidget.convertXToLimitedX?a._ganttWidget.convertXToLimitedX(_.convertDateToX(f))-a._ganttWidget.convertXToLimitedX(_.convertDateToX(m)):_.convertDateToX(f)-_.convertDateToX(m),u.select("."+Te).attr("transform","translate(0,"+a._ganttWidget.options.barHeight/2+")").attr("d","M0.5,-10 v-7 h"+(g-.5)+"v7")}},_positionLinkFunc:function(e){"use strict";var t=e.linkItem.data(),i=e.elem;if(t&&t.data()&&i){var n=t.PM_Color||null,a=t.PM_Width||1,r=t.PM_DashArray||"none",s=o.select(i);s.select(".ngantt-link-path").style("stroke",n).style("stroke-width",a).style("stroke-dasharray",r),s.select(".ngantt-link-target-marker").style("stroke",n).style("fill",n).style("stroke-width",a)}},_viewOffsetForCurrentDateCurrentlyNotObserved:function(){},_timeAreaRowUpdateFunc:function(e){"use strict";var t=this;if(t._ganttWidget.isInInteraction()||t._curvePaneSplitterWidget.isCurrentlyDragged()||t._tooltipWidget.initializeDeferredUpdate().then((function(e){var i=a(e).closest("."+r.nEventDispatcher.TAP_EVENT_CLASS_NAME);if(i.length){var n=a.extend({},t._savedTapEventCallbackArgs);n.sender=t._ganttWidget.getTimeItem(i[0]),n.sender?t._handleItemTap(n):t._tooltipWidget.display(null)}else t._tooltipWidget.display(null)})),t._viewOffsetForCurrentDateCurrentlyObserved&&e.timeAreaViewScrollOffsetChanged&&(t._viewOffsetForCurrentDateCurrentlyObserved=!1,t._viewOffsetForCurrentDateCurrentlyNotObservedTimer&&clearTimeout(t._viewOffsetForCurrentDateCurrentlyNotObservedTimer),t._viewOffsetForCurrentDateCurrentlyNotObservedTimer=setTimeout((function(){t._viewOffsetForCurrentDateCurrentlyObserved||t._viewOffsetForCurrentDateCurrentlyNotObserved()}),800)),e.timeAreaWidthChanged||e.startOrEndChanged){var i=o.select(e.parentElem),n=i.select("."+ye).attr("width",e.timeAreaWidth);void 0!==t.getAPIOption("pm_defaultLoadCurvePaneColor")&&n.style("fill",t.getAPIOption("pm_defaultLoadCurvePaneColor")),n=i.select("."+ge).attr("width",e.timeAreaWidth),void 0!==t.getAPIOption("pm_defaultInventoryCurvePaneColor")&&n.style("fill",t.getAPIOption("pm_defaultInventoryCurvePaneColor"))}if(e.timeAreaWidthChanged||e.baseTimeUnitWidthChanged||e.xCoordTransformChanged||e.rowHeightChanged){var s=e.rowItem;(s.rab_curvePanesVisible||t._viewType===P.Loads)&&(t._updateCurvesPaneInRow(s,W.LoadCurve,s.rab_loadCurvePaneHeight||0,o.select(e.parentElem)),t._updateCurvesPaneInRow(s,W.InventoryCurve,s.rab_inventoryCurvePaneHeight||0,o.select(e.parentElem)))}},_convertFunc:function(e){"use strict";e.item.rab_itemType&&e.item.rab_itemType===D.Operation&&("_data.Start"===e.attr?e.value=this._viewModel.model().dateTimeValueToDate(e.item.data().Start):"_data.End"===e.attr&&(e.value=this._viewModel.model().dateTimeValueToDate(e.item.data().End)))},_keyDownFunc:function(){},_calculateCurvesPaneHeight:function(e,t){"use strict";var i=this,n=0,a=0;if(e.rab_curvePanesVisible||t===P.Loads){var o=i._viewModel.resourceByItem(e);if(o){var r;if(o.PM_HasCurves||o.InventoryCurveID)(null==(r=o.PM_InventoryCurvePaneVisible)?i.getAPIOption("pm_defaultResourceInventoryCurvePaneVisible"):r)&&(void 0===(a=o.PM_InventoryCurvePaneHeight)&&(a=i.getAPIOption("pm_defaultInventoryCurvePaneHeight")),void 0!==a&&(a=Math.min(i.getAPIOption("pm_maximumInventoryCurvePaneHeight"),Math.max(i.getAPIOption("pm_minimumInventoryCurvePaneHeight"),a))));if(o.PM_HasCurves||o.CapacityCurveID||o.LoadCurveID||t===P.Loads)((null==(r=o.PM_LoadCurvePaneVisible)?i.getAPIOption("pm_defaultResourceLoadCurvePaneVisible"):r)||t===P.Loads&&!a)&&(void 0===(n=o.PM_LoadCurvePaneHeight)&&(n=i.getAPIOption("pm_defaultLoadCurvePaneHeight")),void 0!==n&&(n=Math.min(i.getAPIOption("pm_maximumLoadCurvePaneHeight"),Math.max(i.getAPIOption("pm_minimumLoadCurvePaneHeight"),n))))}}return e.rab_loadCurvePaneHeight===n&&e.rab_inventoryCurvePaneHeight===a||(e.rab_curvePanesVisibleChanged=!0,e.rab_loadCurvePaneHeight=n,e.rab_inventoryCurvePaneHeight=a),e.rab_curvePanesVisible=!(!n&&!a),e.rab_curvePanesVisible},_createCurveButtonAndScaleInRow:function(e,t,i,n,a,o){"use strict";var s,l=this;if((e.rab_itemType===D.Resource&&l._viewType!==P.Loads||e.rab_itemType===D.ActivityRow&&l.getAPIOption("curvePanesVisibleInActivitiesView"))&&Array.isArray(l._options.showCurveButtonInView)&&l._options.showCurveButtonInView.indexOf(l._viewType)>=0&&!1!==e.barsPaneVisible&&(s=l._viewModel.resourceByItem(e))){var c,u=e.data().PM_TableTextColor||"black";if((s.PM_HasCurves||s.CapacityCurveID||s.LoadCurveID)&&null==(c=s.PM_LoadCurvePaneVisible)&&(c=l.getAPIOption("pm_defaultResourceLoadCurvePaneVisible")),c||!s.PM_HasCurves&&!s.InventoryCurveID||null==(c=s.PM_InventoryCurvePaneVisible)&&(c=l.getAPIOption("pm_defaultResourceInventoryCurvePaneVisible")),c&&!i){var d=2*l._ganttWidget.options.buttonLeftOffset+l._ganttWidget.options.buttonExtent,p=l._ganttWidget.determineActualRowMargins().sum+l._ganttWidget.options.buttonExtent;if(l._viewType!==P.Loads&&o.append("rect").attr("class",ee+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("x",a-d).attr("width",d).attr("height",p).on(r.nEventDispatcher.TARGET_EVENT_NAME,(function(){l._onCurveButtonClick(this)})),l._viewType!==P.Loads&&l.getAPIOption("pm_curvePanesCollapsibleInResourcesView"))if(l._options.showCurveButtonSymbols){var h=e.rab_curvePanesVisible?u:"transparent",g=e.rab_curvePanesVisible?l._determineTableRowBackgroundColor(e.data(),e.rab_itemType,t):u,_=o.append("g").attr("transform","scale(1.5), translate(8,8)"),f=_.append("rect").attr("pointer-events","none").attr("width","10").attr("height","10").style("fill",h);e.rab_curvePanesVisible&&f.attr("class",ee+"-tfcol"),_.append("path").attr("class",ee+(e.rab_curvePanesVisible?"-cscol":"-tscol")).attr("pointer-events","none").attr("d","M9,9H1V1M2,7H4V3h3v2h2").style("stroke",g)}else{var m=o.append("path").attr("class",ee+"-tfcol").attr("pointer-events","none").attr("d","M0,6 V-6 L6,0 L0,6").style("fill",u),v="translate("+(a-d/2)+","+l._ganttWidget._determineActualTableCellContentTopOffset()+")";e.rab_curvePanesVisibleChanged?m.attr("transform",v+(e.rab_curvePanesVisible?"":"rotate(45)")).transition().duration(l._ganttWidget.option("transitionDuration")).attr("transform",v+(e.rab_curvePanesVisible?"rotate(45)":"")):m.attr("transform",v+(e.rab_curvePanesVisible?"rotate(45)":""))}}}((e.rab_curvePanesVisible||l._viewType===P.Loads)&&e.rab_itemType===D.Resource||e.rab_itemType===D.ActivityRow&&l.getAPIOption("curvePanesVisibleInActivitiesView"))&&((s=l._viewModel.resourceByItem(e))&&(s.compileCurves(),l._createScale(e,i,s,n,a,o,u)))},_getOrCreateTextBackgroundColorFilter:function(e){"use strict";for(var t="",i=0;i<e.length;i++)t+=e.charCodeAt(i);var n=Ve+t,a=o.select(this._ganttWidget.element[0]).select(".ngantt-svg-root defs");return a.select("#"+n).size()||a.append("filter").attr("id",n).attr("x",0).attr("y",0).attr("height",1).attr("width",1).append("feFlood").attr("flood-color",e),n},_createScale:function(e,t,i,n,r,s,l){"use strict";var c=this;if(t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight){var u=t?i.rab_inventoryCurveMinValue:i.rab_loadCurveMinValue,d=t?i.rab_inventoryCurveMaxValue:i.rab_loadCurveMaxValue,p=t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight,h=(o.scaleLinear?o.scaleLinear:o.scale.linear)().domain([u,d]).range([0,-p]);c.app().locale().applyNumberFormat((function(){var g=o.axisLeft?o.axisLeft(h):o.svg.axis().scale(h).orient("left");switch(c._options.curveScaleTicksMode){case 1:var _=d-u;(!_||_>10&&_%2)&&_++,g.tickValues(1!==_?[u,u+_/2,d]:[u,d]);break;case 2:g.ticks(Math.floor(p/16));break;default:g.ticks(1===d?1:d%2?3:2)}var f=c._ganttWidget.determineActualRowMargins(),m=n-f.bottom;!t&&e.rab_inventoryCurvePaneHeight&&(m-=e.rab_inventoryCurvePaneHeight+2*f.bottom);var v=s.append("g").attr("class",$).attr("transform","translate("+r+","+m+")").call(g).attr("font-size",null);if(l&&(v.selectAll("line,path").style("stroke",l),v.selectAll("text").style("fill",l)),!i.PM_BarsPaneVisible){var b=e.data().PM_TableColor;if(!b||"none"===b||"transparent"===b){var y=a(v.node()).closest(".ngantt-table-row"),A=o.select(y[0]).selectAll(".ngantt-table-row-background-rect");b=window.getComputedStyle(A.nodes()[0]).getPropertyValue("fill")}if(b)v.selectAll("text").each((function(){o.select(this.parentNode.insertBefore(this.cloneNode(!0),this)).attr("y",1).attr("filter","url(#"+c._getOrCreateTextBackgroundColorFilter(b)+")")}))}}))}},_patternShownOnOverLoadCurvesDependingOnCurrentBrowser:function(){"use strict";return this.getAPIOption("pm_patternShownOnOverloadCurves")&&!(s.isIE||s.isEdge||s.isIEWebBrowserControl)},_onCurvePaneSplitterInteraction:function(e,t,i){"use strict";var n=this,a=n._curvePaneSplitterWidget.element[0].getBoundingClientRect(),o=i.curveContainerD3.node().getBoundingClientRect(),s=o.top-a.top,l=2*n._ganttWidget.determineActualRowMargins().bottom,c=e.detail.hammerEvent;switch(c.type){case r.nEventDispatcher.PAN_EVENT_NAME+"start":case r.nEventDispatcher.PRESS_EVENT_NAME:i.rowItem.rab_oldCurvePaneHeightBeforeInteraction=i.paneIndex?i.rowItem.rab_inventoryCurvePaneHeight:i.rowItem.rab_loadCurvePaneHeight,n._curvePaneSplitterWidget.option("position",{x:n._ganttWidget.actualTableViewWidth()+n._ganttWidget.option("splitterWidth"),y:s+o.height-i.height/2}),n._curvePaneSplitterWidget.option("width",n._ganttWidget._currentTimeAreaViewWidth),n._curvePaneSplitterWidget.option("height",i.height),n._curvePaneSplitterWidget.option("min",s+i.min+l-i.height/2),n._curvePaneSplitterWidget.option("max",s+i.max+l-i.height/2),n._curvePaneSplitterWidget.element.attr("visibility",null),n._curvePaneSplitterWidget.manualStartDrag();var u={cancel:!1};n._curvePaneSplitterWidget._trigger("startDrag",null,u),u.cancel&&(c[r.nEventDispatcher.CANCEL_PROPERTY]=!0);break;case r.nEventDispatcher.PAN_EVENT_NAME+"move":n._curvePaneSplitterWidget.manualDrag(n._curvePaneSplitterWidget._oldValue+c.deltaY);var d=Math.min(Math.max(i.rowItem.rab_oldCurvePaneHeightBeforeInteraction+c.deltaY,i.min),i.max);i.rowItem[i.paneIndex?"rab_inventoryCurvePaneHeight":"rab_loadCurvePaneHeight"]=d,n.updateRowHeight(i.rowItem,void 0,!0),n._ganttWidget.invalidateRowHeight(i.rowItem);var p=n._ganttWidget.option("transitionDuration");n._ganttWidget.option("transitionDuration",0),n._ganttWidget.update(),n._ganttWidget.option("transitionDuration",p);break;case r.nEventDispatcher.PAN_EVENT_NAME+"end":case r.nEventDispatcher.PRESS_EVENT_NAME+"up":if(n._curvePaneSplitterWidget.element.attr("visibility","hidden"),void 0===n._curvePaneSplitterWidget._newValue)break;n._curvePaneSplitterWidget.manualEndDrag(),n._curvePaneSplitterWidget._trigger("endDrag",null,{canceled:!1});d=Math.min(Math.max(i.rowItem.rab_oldCurvePaneHeightBeforeInteraction+c.deltaY,i.min),i.max);i.rowItem[i.paneIndex?"rab_oldInventoryCurvePaneHeight":"rab_oldLoadCurvePaneHeight"]=d,delete i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,n._curvePaneSplitterWidget._trigger("changed",null,{newValue:d,oldValue:o.height,args:i}),n.invalidateRow(i.rowItem),n._ganttWidget.update();break;case r.nEventDispatcher.PAN_EVENT_NAME+"cancel":i.rowItem[i.paneIndex?"rab_inventoryCurvePaneHeight":"rab_loadCurvePaneHeight"]=i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,delete i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,n._curvePaneSplitterWidget.element.attr("visibility","hidden"),n._curvePaneSplitterWidget.manualEndDrag(),n._curvePaneSplitterWidget._trigger("endDrag",null,{canceled:!0}),n.updateRowHeight(i.rowItem),n._ganttWidget.update()}},_addHotRegionCurvePath:function(e){"use strict";var t=this.app().model().curveByID(e.curveID);if(t&&("none"===t.PM_FillColor||"transparent"==t.PM_FillColor||null==t.PM_FillColor)){e.originalCurvePathD3.attr("pointer-events","visibleStroke");var i=e.curveContainerD3.append("path").attr("class",e.classNamesArray.join(" ")+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME+" "+ne).attr("transform","translate("+e.translateX+","+e.translateY+")");a(i.node()).data("__curveID",e.curveID),e.curvePathD3Array.push(i)}},_createCurvesPaneInRow:function(e,t,i,n,l,u){"use strict";var d=this,p=d.app().model(),h=t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight,g=t?e.rab_oldInventoryCurvePaneHeight:e.rab_oldLoadCurvePaneHeight,_=e.rab_curvePanesVisible||d._viewType===P.Loads&&h;if(_||e.rab_curvePanesVisibleChanged&&!d._curvePaneSplitterWidget.isCurrentlyDragged()){var f=_?h:g;if(f){var m=d._ganttWidget.determineActualRowMargins(),v=-m.bottom,b=f?f-v+m.bottom:0,y=g?g-v+m.bottom:0,A="translate(0,"+n+")";_&&e.rab_curvePanesVisibleChanged&&null!=g&&b&&(A+=" scale(1,"+Math.max(1e-6,y/b)+")");var C=u.append("g").attr("class",ie).attr("transform",A),T=C;if(d._curvePaneSplitterWidget.isCurrentlyDragged()||(T=T.transition().duration(d._ganttWidget.options.transitionDuration)),_){if(T.attr("transform","translate(0,"+i+")"),s.isIE||s.isEdge){var w=a(T.node()).parentsUntil(d.ganttWidget().element);w.each((function(){var e=a(this),t=e.attr("cursor");null==e.data("nganttIECursor")&&e.data("nganttIECursor",t||""),e.attr("cursor","wait"===t?"help":"wait")})),window.setTimeout((function(){w.each((function(){var e=a(this),t=e.data("nganttIECursor");null!=t&&(t?e.attr("cursor",t):e.removeAttr("cursor"),e.data("nganttIECursor",null))}))}),1)}}else T.attr("transform",(function(){return"translate(0,"+i+") scale(1,1e-6)"})).remove();var O=-b-v;!t&&(_?e.rab_inventoryCurvePaneHeight:e.rab_oldInventoryCurvePaneHeight)&&(O-=(_?e.rab_inventoryCurvePaneHeight:e.rab_oldInventoryCurvePaneHeight)+2*m.bottom);var R,S=C.append("g").attr("class",te+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate(0,"+O+")");if(s.isIOS||a(S.node()).on("mousemove"+ke,(function(e){r.nPopup.isContextMenuActive()||(o.mouse&&(o.event=e),d._showTooltip({ganttWidget:d._ganttWidget,event:e,sender:d._ganttWidget.getRowItem(this),elem:this,className:te,itemType:D.Curve}),o.mouse&&(o.event=void 0)),a(this).on("mouseleave"+ke,(function(e){a(this).off("mouseleave"+ke),o.mouse&&(o.event=e),d._showTooltip({ganttWidget:d._ganttWidget,event:e,sender:null,elem:null,className:te}),o.mouse&&(o.event=void 0)}))})),S.on(r.nEventDispatcher.TARGET_EVENT_NAME,(function(e){var t=(o.mouse?o.event:e).detail.hammerEvent;d._ganttWidget.handleTapOnTimeAreaBackground(t),"touch"===t.pointerType&&(o.mouse&&(o.event=t.srcEvent),d._showTooltip({ganttWidget:d._ganttWidget,sender:d._ganttWidget.getRowItem(this),elem:this,className:te,itemType:D.Curve,event:t.srcEvent}),o.mouse&&(o.event=void 0))})),(R=d._viewModel.resourceByItem(e))&&R.compileCurves(),R){var E;S.append("rect").attr("width",l).attr("height",b).attr("transform","translate(0,"+v+")").attr("class",t?ge:ye);var M=[];if(t){if(Array.isArray(R.rab_inventoryDatesAndEntries))R.rab_inventoryDatesAndEntries.forEach((function(e,t){E=S.append("path").attr("class",he+" "+he+t+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",e._curveID),M.push(E);var i={curvePathD3Array:M,curveID:e._curveID,originalCurvePathD3:E,curveContainerD3:S,classNamesArray:[he,he+t],translateX:Ge,translateY:Ue};d._addHotRegionCurvePath(i)}));else if(R.rab_inventoryDatesAndEntries){E=S.append("path").attr("class",he+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",R.rab_inventoryDatesAndEntries._curveID),M.push(E);N={curvePathD3Array:M,curveID:R.rab_inventoryDatesAndEntries._curveID,originalCurvePathD3:E,curveContainerD3:S,classNamesArray:[he],translateX:Ge,translateY:Ue};d._addHotRegionCurvePath(N)}}else{d._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()||(E=S.append("path").attr("class",Ce+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",R.LoadCurveID),M.push(E)),E=S.append("path").attr("class",Y+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",R.CapacityCurveID),M.push(E);var N={curvePathD3Array:M,curveID:R.CapacityCurveID,originalCurvePathD3:E,curveContainerD3:S,classNamesArray:[Y],translateX:Ge,translateY:Ue};d._addHotRegionCurvePath(N),R.rab_capacityCurveAreaClipPathID||(R.rab_capacityCurveAreaClipPathID=r.nSubsequentIDGenerator.generate()),Array.isArray(R.rab_loadDatesAndEntries)?R.rab_loadDatesAndEntries.forEach((function(e,t){E=S.append("path").attr("class",be+" "+be+t+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",e._curveID),M.push(E)})):R.rab_loadDatesAndEntries&&(E=S.append("path").attr("class",be+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",R.rab_loadDatesAndEntries._curveID),M.push(E)),R.rab_isOverloaded&&(d._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()?S.append("path").attr("class",Ce).attr("transform","translate("+Ge+","+"0.5)").attr("mask","url(#overload-mask)").attr("clip-path","url(#"+Y+R.rab_capacityCurveAreaClipPathID+")"):S.selectAll("."+be).attr("clip-path","url(#"+Y+R.rab_capacityCurveAreaClipPathID+")")),E=S.append("path").attr("class",K+" "+r.nEventDispatcher.QUICK_TAP_EVENT_CLASS_NAME).attr("transform","translate("+Ge+","+"0.5)"),a(E.node()).data("__curveID",R.CapacityCurveID),M.push(E)}if(M.forEach((function(t){a(t.node()).data(r.nEventDispatcher.HANDLER_FUNCTION_PROPERTY+c.nGanttWidget.NAMESPACE+d._ganttWidget._uniqueID,(function(t){try{var i=a(t.target).data();switch(t.type){case r.nEventDispatcher.TAP_EVENT_NAME:d._onEventFunc&&d._onEventFunc.call(d,{ganttWidget:d.ganttWidget(),sender:e,rowItem:e,date:d.ganttWidget().pageXToDate(t.srcEvent.pageX),item:e,itemType:D.Curve,curveID:i.__curveID,eventType:"tap",elem:this,elemType:1e3,event:t.srcEvent,hammerEvent:t})}}catch(e){d._handleException(e,"onEventDispatch_curvePane")}}))})),S.append("line").attr("class",t?_e:Ae).attr("x1",d._ganttWidget.getCurrentLowerXLimit()).attr("x2",d._ganttWidget.getCurrentUpperXLimit()),d.getAPIOption("pm_curvePanesResizable")&&(t||0===e.rab_inventoryCurvePaneHeight)){var V=d._ganttWidget.getCurrentUpperXLimit()-d._ganttWidget.getCurrentLowerXLimit(),k={height:4,min:t?d.getAPIOption("pm_minimumInventoryCurvePaneHeight"):d.getAPIOption("pm_minimumLoadCurvePaneHeight"),max:t?d.getAPIOption("pm_maximumInventoryCurvePaneHeight"):d.getAPIOption("pm_maximumLoadCurvePaneHeight"),curveContainerD3:S,rowItem:e,paneIndex:t};S.append("rect").attr("class",r.nEventDispatcher.PAN_EVENT_CLASS_NAME).attr("width",V).attr("height",4).attr("fill","transparent").attr("transform","translate("+Ge+","+(Ue+f+4)+")").attr("cursor","ns-resize").on(r.nEventDispatcher.TARGET_EVENT_NAME,(function(e,t){o.mouse?d._onCurvePaneSplitterInteraction(o.event,e,k):d._onCurvePaneSplitterInteraction(e,t,k)}))}d._updateCurvesPaneInRow(e,t,f,u)}}}if((t?e.rab_oldInventoryCurvePaneHeight=e.rab_inventoryCurvePaneHeight:e.rab_oldLoadCurvePaneHeight=e.rab_loadCurvePaneHeight,e.rab_itemType===D.Resource||e.rab_itemType===D.ActivityRow&&d.getAPIOption("curvePanesVisibleInActivitiesView"))&&(R=d._viewModel.resourceByItem(e))){var W,B,x;t?x=p.curveByID(R.InventoryCurveID):(W=p.curveByID(R.CapacityCurveID),B=p.curveByID(R.LoadCurveID),u.select("."+Ce).style("stroke",B&&null!=B.PM_OverloadColor?B.PM_OverloadColor:null).style("fill",B&&null!=B.PM_OverloadColor?B.PM_OverloadColor:null),u.select("."+Y).style("stroke",W&&null!=W.PM_StrokeColor?W.PM_StrokeColor:null).style("fill",W&&null!=W.PM_FillColor?W.PM_FillColor:null),u.select("."+K).style("stroke",W&&null!=W.PM_StrokeColor?W.PM_StrokeColor:null));var L=[{curve:B,class:be},{curve:x,class:he}][t],F=L.curve;if(F)if(F.Type===I.CurveList||F.Type===I.CurveStack){var H=0;!function e(t){Array.isArray(t.CurveIDs)&&(t.Type===I.CurveStack?t.CurveIDs.slice().reverse():t.CurveIDs).forEach((function(t){var i=p.curveByID(t);i&&(i.Type===I.CurveList||i.Type===I.CurveStack?e(i):(u.select("."+L.class+H).style("stroke",i&&null!=i.PM_StrokeColor?i.PM_StrokeColor:null).style("fill",i&&null!=i.PM_FillColor?i.PM_FillColor:null),H++))}))}(F)}else u.select("."+L.class).style("stroke",F&&null!=F.PM_StrokeColor?F.PM_StrokeColor:null).style("fill",F&&null!=F.PM_FillColor?F.PM_FillColor:null)}},_updateCurvesPaneInRow:function(e,t,i,n){"use strict";var a=this,s=a._viewModel.resourceByItem(e);if(s){var l=a._ganttWidget.determineActualRowMargins();if(a._curvePaneSplitterWidget.isCurrentlyDragged()&&i&&"rab_oldCurvePaneHeightBeforeInteraction"in e){var c=-l.bottom,u=i-c+l.bottom;n.select("."+(t?ge:ye)).attr("height",u).attr("transform","translate(0,"+c+")");var d=o.select(a._ganttWidget.getElementOfItem(e)),p=(d=d.select(".ngantt-fixed-table-row-succeeding .ngantt-table-cell")).select("."+$),h=o.transform(p.attr("transform")).translate[0],g=e.data().PM_TableTextColor;p.remove(),a._createScale(e,t,s,u,h,d.select(".ngantt-table-cell-content"),g)}var _,f,m=(o.scaleLinear?o.scaleLinear:o.scale.linear)().range([i,0]).domain([t?s.rab_inventoryCurveMinValue:s.rab_loadCurveMinValue,t?s.rab_inventoryCurveMaxValue:s.rab_loadCurveMaxValue]);if(n.selectAll("."+(t?_e:Ae)).attr("transform","translate("+Ge+","+(Ue+m(0))+")"),t)Array.isArray(s.rab_inventoryDatesAndEntries)?s.rab_inventoryDatesAndEntries.forEach((function(e,t){n.selectAll("."+he+t).attr("d",a._determineCurveAreaPathData(m,e.values(),void 0,void 0,void 0,e._interpolationType))})):s.rab_inventoryDatesAndEntries&&n.selectAll("."+he).attr("d",a._determineCurveAreaPathData(m,s.rab_inventoryDatesAndEntries.values()),void 0,void 0,void 0,s.rab_inventoryDatesAndEntries._interpolationType);else if(n.select("."+Ce).attr("d",s.rab_isOverloaded?a._determineCurveAreaPathData(m,(Array.isArray(s.rab_loadDatesAndEntries)?s.rab_loadDatesAndEntries[0]:s.rab_loadDatesAndEntries).values(),void 0,void 0,void 0,Array.isArray(s.rab_loadDatesAndEntries)?s.rab_loadDatesAndEntries[0]._interpolationType:s.rab_loadDatesAndEntries._interpolationType):""),Array.isArray(s.rab_loadDatesAndEntries)?s.rab_loadDatesAndEntries.forEach((function(e,t){n.select("."+be+t).attr("d",a._determineCurveAreaPathData(m,e.values(),void 0,void 0,void 0,e._interpolationType))})):s.rab_loadDatesAndEntries&&n.select("."+be).attr("d",a._determineCurveAreaPathData(m,s.rab_loadDatesAndEntries.values(),void 0,void 0,void 0,s.rab_loadDatesAndEntries._interpolationType)),Array.isArray(s.rab_capacityDatesAndEntries)?(f=s.rab_capacityDatesAndEntries.length?s.rab_capacityDatesAndEntries[0].values():void 0)._interpolationType=s.rab_capacityDatesAndEntries.length?s.rab_capacityDatesAndEntries[0]._interpolationType:void 0:(f=s.rab_capacityDatesAndEntries?s.rab_capacityDatesAndEntries.values():ze)._interpolationType=s.rab_capacityDatesAndEntries?s.rab_capacityDatesAndEntries._interpolationType:void 0,_=a._determineCurveAreaPathData(m,f,(function(e){return Math.max(e,0)}),void 0,void 0,f._interpolationType),n.selectAll("."+Y).attr("d",_),n.select("."+K).attr("d",_),s.rab_isOverloaded){s.rab_capacityCurveAreaClipPathID||(s.rab_capacityCurveAreaClipPathID=r.nSubsequentIDGenerator.generate());var v=o.select(a._ganttWidget.element[0]).select(".ngantt-svg-root defs");if(a._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()){var b=v.select("#overload-pattern");b.size()||(b=v.append("pattern").attr("id","overload-pattern").attr("width",5).attr("height",4).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").attr("width",2).attr("height",4).style("fill","white"));var y=v.select("#overload-mask");y.size()||(y=v.append("mask").attr("id","overload-mask").append("rect").attr("x",0).attr("y",0).attr("width","100000").attr("height","100%").style("fill","url(#overload-pattern)"))}var A=v.select("#"+Y+s.rab_capacityCurveAreaClipPathID+" path");if(A.size()||(A=v.append("clipPath").attr("id",Y+s.rab_capacityCurveAreaClipPathID).append("path")),a._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()){var I=a._determineCurveAreaPathData(m,f,(function(e){return Math.max(e,0)}),i+l.bottom,void 0,f._interpolationType);I=I.replace(/V\d+H(?=-?\d+Z$)/,"V0H"),A.attr("d",I)}else{var C=s.rab_loadCurveMinValue;A.attr("d",C>=0?_:a._determineCurveAreaPathData(m,f,(function(e){return Math.max(e,0)}),i+l.bottom,void 0,f._interpolationType))}}}},_handleBeforeShowingCurvesPane:function(){},_expandOrCollapseAllCurvesPanes:function(e){"use strict";var t=this;if(this._viewType!==P.Loads){this._tooltipWidget.display(null);!function i(n,a){var o={rowItem:n,cancel:!1};t._handleBeforeShowingCurvesPane(o),n.isResourceRelevant()&&void 0!==n.rab_curvePanesVisible&&!o.cancel&&n.rab_curvePanesVisible!==e&&(t._expandOrCollapseCurvesInRowAtLast(n,e),t.invalidateRow(n)),a||["childRowItems","leafRowItems"].forEach((function(e,t){n[e]&&n[e].forEach((function(e){i(e,!!t)}))}))}(this._ganttWidget.option("rowItemsRoot")),t._ganttWidget.update()}},_expandOrCollapseCurvesInRowAtLast:function(e,t){"use strict";var i=this,n=i._ganttWidget.isRowVirtualized(e);e.rab_curvePanesVisible=t,(i._viewType!==P.ActivitiesView||i.getAPIOption("curvePanesVisibleInActivitiesView"))&&i.updateRowHeight(e),e.rab_curvePanesVisibleChanged=!n},_expandOrCollapseCurvesInRow:function(e,t){"use strict";this._expandOrCollapseCurvesInRowAtLast(e,t)},_expandOrCollapseCurvesInRowByCollapseState:function(e,t){"use strict";var i=this,n=t.PM_CurveCollapseState;if(n>=0){var a=!n,o=e.call(i._viewModel,i._viewType,t);o&&o.rab_curvePanesVisible!==a&&i._expandOrCollapseCurvesInRowAtLast(o,a)}},expandAllLoadCurves:function(){"use strict";this._expandOrCollapseAllCurvesPanes(!0)},collapseAllLoadCurves:function(){"use strict";this._expandOrCollapseAllCurvesPanes(!1)},_onCurveButtonClick:function(e){"use strict";var t=this;if(t._viewType!==P.Loads){t._tooltipWidget.display(null);var i=t._ganttWidget.getRowItem(e);if(i.isResourceRelevant()){var n=t._expandOrCollapseCurvesInRow(i,!i.rab_curvePanesVisible),a=function(){i.data().rab_cachedCurveCollapseState=i.rab_curvePanesVisible?0:1,t.invalidateRow(i),t._ganttWidget.update()};n?n.then(a,a).catch(a):a()}}},_determineCurveAreaPathData:function(e,t,i,n,s,l){"use strict";var c=this;if(!t)return"";var u=c._ganttWidget.timeAxis(),d=864e5,p=u.convertXToDate(c._ganttWidget.getCurrentLowerXLimit()),h=u.convertXToDate(c._ganttWidget.getCurrentUpperXLimit()),g=function(e){return t[e].start},_=r.nDateHelper.findDateWithinSortedArray(t,p,!1,g),f=r.nDateHelper.findDateWithinSortedArray(t,h,!1,g),m=t.slice(_,f+1),v=p.getTime();if(m.length?m[0].start.getTime()<v&&(m[0]=a.extend({},m[0],{start:new Date(v-d)})):m.unshift(new Date(v-d)),m.push(new Date(h.getTime()+d)),s){var b=u.collapseCalendar();if(b)for(var y=m.length-1;y>0;y--){var A=new Date((m[y].start||m[y]).getTime()-1);if(b.determineTimeType(A)===E.NonWorkingTime){var I=b.findStartOfCurrentTimeTypeInterval(A);if(I<A)for(;y>0;){if(!((m[y-1].start||m[y-1])>I))break;m.splice(--y,1)}}}}l===C.Linear&&m.length>1&&(m[0].start=m[1].start||m[1],m.length>2&&(m[m.length-1]=m[m.length-2]));var T,w=e(0);if(o.line)switch(l){case C.StepAfter:T=o.curveStepAfter;break;case C.Linear:T=o.curveLinear;break;default:T=o.curveStepAfter}else switch(l){case C.StepAfter:T="step-after";break;case C.Linear:T="linear";break;default:T="step-after"}for(var O=(o.line?o.line().curve(T):o.svg.line().interpolate(T)).x((function(e){return c._ganttWidget.convertXToLimitedX(u.convertDateToX(e.start||e))})).defined((function(e){return!e.start||isFinite(e.value)})).y((function(t){return t.start?e(i?i(t.value):t.value):w}))(m).split("M"),P=[],R="V"+(n||e(0)),D=R.length,S=O.length-1;S;S--){var M=O[S];P.push("M",M),M.substring(M.length-D)!==R&&P.push(R),P.push("H",M.substring(0,M.indexOf(",")),"Z")}return P=P.join("")},_handleCanSelectTimeItem:function(e){"use strict";if(this.getAPIOption("allocationsSelectableOnlyOnOneResourceAtATime")&&e.canSelect&&this._viewType===P.Resources&&e.otherSelectedTimeItems.length){var t=e.timeItem;t.rab_itemType===D.AllocationEntry&&(t=e.ganttWidget.getParent(t));var i=e.otherSelectedTimeItems[0];i.rab_itemType===D.AllocationEntry&&(i=e.ganttWidget.getParent(i)),t.data().ResourceID!==i.data().ResourceID&&(e.canSelect=!1)}},_canSelectTimeItemFunc:function(e){"use strict";var t=this,i=s.isMacOrIOS?e.metaKey:e.ctrlKey;("touch"===e.hammerEvent.pointerType?!i:i)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedTimeItems.length||t._ganttWidget.selectedRowItems().length||t._ganttWidget.selectedLinkItems().length||t._entitiesTableWidget&&t._entitiesTableWidget.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectTimeItem(e)},_handleSelectTimeItem:function(){},_selectTimeItemFunc:function(e){"use strict";var t=this;if(t._handleSelectTimeItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.showMarkingTemporarily(null))}},_handleCanSelectRowItem:function(){},_canSelectRowItemFunc:function(e){"use strict";var t=this,i=s.isMacOrIOS?e.metaKey:e.ctrlKey;("touch"===e.hammerEvent.pointerType?!i:i)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedRowItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedLinkItems().length||t._entitiesTableWidget&&t._entitiesTableWidget.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectRowItem(e)},_handleSelectRowItem:function(){},_selectRowItemFunc:function(e){"use strict";var t=this;if(t._handleSelectRowItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t._entitiesTableWidget.option("updateSuspended",!0),t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.option("updateSuspended",!1),t._entitiesTableWidget.showMarkingTemporarily(null))}},_handleCanSelectLinkItem:function(){},_canSelectLinkItemFunc:function(e){"use strict";var t=this,i=s.isMacOrIOS?e.metaKey:e.ctrlKey;("touch"===e.hammerEvent.pointerType?!i:i)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedLinkItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedRowItems().length||t._entitiesTableWidget&&t._entitiesTableWidget.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectLinkItem(e)},_handleSelectLinkItem:function(){},_selectLinkItemFunc:function(e){"use strict";var t=this;if(t._handleSelectLinkItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t._entitiesTableWidget.option("updateSuspended",!0),t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.option("updateSuspended",!1),t._entitiesTableWidget.showMarkingTemporarily(null))}},getSelectedObjectsAndType:function(){"use strict";var e=this,t={itemType:void 0,objects:[]};return e._ganttWidget.selectedTimeItems().forEach((function(e){switch(e.rab_itemType){case D.ActivityBaseline:case D.ActivityDueDate:case D.ActivityFrame:case D.ActivityReleaseDate:t.itemType=D.Activity;break;default:t.itemType=e.rab_itemType}var i=e.data();i&&i.data()&&t.objects.push(i)})),null==t.itemType&&e._ganttWidget.selectedRowItems().forEach((function(e){t.itemType=e.rab_itemType;var i=e.data();i&&t.objects.push(i)})),null==t.itemType&&e._entitiesTableWidget&&e._entitiesTableWidget.selectedRowItems().forEach((function(e){t.itemType=e.rab_itemType;var i=e.data();i&&t.objects.push(i)})),t},selectObjects:function(e,t){"use strict";var i,n,a,o,r=this;if(Array.isArray(t)){switch(e){case D.Resource:i=!0,o=r._viewModel.resourceItem;break;case D.ActivityRow:i=!0,o=r._viewModel.activityItem;break;case D.AllocationRow:i=!0,o=r._viewModel.allocationItem;break;case D.Activity:o=r._viewModel.activityItem;break;case D.Entity:n=!0,o=r._viewModel.entityItem;break;case D.Allocation:o=r._viewModel.allocationItem;break;case D.Link:a=!0,o=r._viewModel.linkItem}if(r._entitiesTableWidget&&r._entitiesTableWidget.option("updateSuspended",!0),r._ganttWidget.option("updateSuspended",!0),o){var s=[];t.forEach((function(t){var i;if(t&&(i=o.call(r._viewModel,r._viewType,t)),i){if(r._viewType===P.Activities&&e===D.Activity&&i.timeItems){var n=r._viewModel._findItemOfTypeInArray(i.timeItems,D.Activity);n||(n=i.timeItems[0]),n&&(i=n)}s.push(i)}})),r.getAPIOption("pm_selectionBehavior")===B.Highlighting&&(r._ganttWidget.option("unselectedItemsShownCovered",n?"auto":!!s.length),r._entitiesTableWidget&&r._entitiesTableWidget.option("unselectedItemsShownCovered",n?!!s.length:"auto")),n?(r._entitiesTableWidget&&r._entitiesTableWidget.selectedRowItems(s),r._ganttWidget.selectedRowItems([]),r._ganttWidget.selectedTimeItems([]),r._ganttWidget.selectedLinkItems([])):(i?r._ganttWidget.selectedRowItems(s):a?r._ganttWidget.selectedLinkItems(s):r._ganttWidget.selectedTimeItems(s),r._entitiesTableWidget&&r._entitiesTableWidget.selectedRowItems([]))}else r.getAPIOption("pm_selectionBehavior")===B.Highlighting&&r._ganttWidget.option("unselectedItemsShownCovered",!1),r._ganttWidget.selectedRowItems([]),r._ganttWidget.selectedTimeItems([]),r._ganttWidget.selectedLinkItems([]),r._entitiesTableWidget&&(r.getAPIOption("pm_selectionBehavior")===B.Highlighting&&r._entitiesTableWidget.option("unselectedItemsShownCovered",!1),r._entitiesTableWidget.selectedRowItems([]));r._entitiesTableWidget&&r._entitiesTableWidget.option("updateSuspended",!1),r._ganttWidget.option("updateSuspended",!1)}},checkObjectVisibility:function(){return!0},isEntitiesTableVisible:function(){"use strict";var e=this;return e._viewType===P.Activities?e.getAPIOption("entitiesTableVisibleInActivitiesView"):e._viewType===P.Resources&&e.getAPIOption("entitiesTableVisibleInResourcesView")},_showHideEntitiesTable:function(){"use strict";var e,t=this;if(t.isEntitiesTableVisible()){if(!t._entitiesTableWidget){e=!0;var i=a("<div></div>").addClass(ce).appendTo(t._divJQ),n=o.select(t._divJQ[0]).append("svg").attr("class",ue),s={classes:Le,min:0,max:1/0,width:this._ganttWidget.options.splitterWidth,height:this._divJQ.height(),orientation:r.nSplitterWidget.Orientation.Vertical,changed:function(e,i){t._onVerticalSplitterChanged(i.newValue)},dragged:function(e,i){t._ganttWidget.options.virtualized&&t._onVerticalSplitterChanged(i.newValue)}};this._entitiesSplitterWidget=a(n.node()).nSplitterWidget(s).nSplitterWidget("instance");var l=t._app.getOption("widget");this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("pm_entitiesTableSymbolColumnVisible"),this.getAPIOption("pm_entitiesTableSymbolColumnWidth"));var c={updateSuspended:!0,visualZoomFactor:t.getAPIOption("visualZoomFactor"),autoDisposeOfUnusedItems:!0,differentiationBetweenEmptyArrayAndUndefined:!0,rowItemsSelectable:!0,defaultRowItemSelectable:t.getAPIOption("pm_defaultEntityRowSelectable"),defaultRowItemCollapsible:t.getAPIOption("pm_defaultEntityRowCollapsible"),defaultRowInteractions:t.getAPIOption("pm_defaultEntityAllowedRowDragModes"),defaultRowMainHeight:t.getAPIOption("pm_defaultEntityMinimumRowHeight"),keyboardEventsSourceElem:l?l.element[0]:void 0,preventDefaultOnContextMenuEvents:t.getAPIOption("pm_preventDefaultOnContextMenuEvents"),scrollToItemHighlightingColor:t.getAPIOption("pm_scrollToObjectHighlightingColor"),scrollToItemHighlightFlashingEnabled:t.getAPIOption("pm_scrollToObjectHighlightFlashingEnabled"),enrichClassFunc:function(){return t._enrichEntitiesTableClassFunc.apply(t,arguments)},dragStartFunc:function(){return t._entitiesTableDragStartFunc.apply(t,arguments)},dragEndFunc:function(){return t._entitiesTableDragEndFunc.apply(t,arguments)},draggedFunc:function(){return t._entitiesTableDraggedFunc.apply(t,arguments)},droppedFunc:function(){return t._entitiesTableDroppedFunc.apply(t,arguments)},onEventFunc:function(){return t._entitiesTableOnEventFunc.apply(t,arguments)},convertFunc:function(){return t._convertFunc.apply(t,arguments)},formatDateFunc:function(){return t._formatDateFunc.apply(t,arguments)},canSelectRowItemFunc:function(){return t._entitiesTableCanSelectRowItemFunc.apply(t,arguments)},selectRowItemFunc:function(){return t._entitiesTableSelectRowItemFunc.apply(t,arguments)},determineTableRowDefinitionFunc:function(){return t._determineEntitiesTableRowDefinitionFunc.apply(t,arguments)},verticalScrollOffsetChangedFunc:function(){return t._verticalScrollOffsetChangedFunc.apply(t,arguments)},rowExpandOrCollapseFunc:function(){return t._entitiesRowExpandOrCollapseFunc.apply(t,arguments)},rowExpandedOrCollapsedFunc:function(){return t._entitiesRowExpandedOrCollapsedFunc.apply(t,arguments)},keyDownFunc:function(){return t._keyDownFunc.apply(t,arguments)},tableColumnWidthChangedFunc:function(){return t._tableColumnWidthChangedFunc.apply(t,arguments)}};t._options&&t._options.entitiesTableWidget&&a.extend(c,t._options.entitiesTableWidget),this._entitiesTableWidget=i.nTableWidget(c).nTableWidget("instance"),this._tableDefinitionEntities.symbolColumnTitleImageURLs=this._getImageURLSForEntitiesTableWidget(this.getAPIOption("pm_entitiesTableSymbolColumnTitleSymbolIDs")),this._tableDefinitionEntities.symbolColumnTitleVisible=this.getAPIOption("pm_entitiesTableSymbolColumnTitleVisible"),this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=this.getAPIOption("pm_entitiesTableHeaderBackgroundColor"),this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._entitiesTableWidget.option("rowItemsRoot",t._viewModel.entitiesRowItemsRoot()),["pm_entitiesTableHeaderBackgroundColor","pm_entitiesTableHeaderTextColor","pm_entitiesTableHeaderColumnSeparatorColor","pm_entitiesTableHeaderHighlightingColor"].forEach((function(e){t._setColorByOptionValue(e)})),i.on("ntablewidgettablewidthchanged.rab"+t._entitiesTableWidget._uniqueID,(function(e,i){i.inColumnWidthInteraction&&(t._options.entitiesTableWidget&&t._options.entitiesTableWidget.tableWidth===i.oldValue&&t.setAPIOption("entitiesTableWidth",t.getAPIOption("entitiesTableWidth")+(i.newValue-i.oldValue)),t._setEntitiesTableWidthOptions())})),t.updateSymbols(t.app().symbolsMap())}}else t._entitiesTableWidget&&(e=!0,t._entitiesTableWidget.element.off("ntablewidgettablewidthchanged.rab"+t._entitiesTableWidget._uniqueID),t._entitiesTableWidget.element.remove(),t._entitiesSplitterWidget.element.remove(),delete t._entitiesTableWidget,delete t._entitiesSplitterWidget);this._resizeWidgets(e)},_enrichEntitiesTableClassFunc:function(e){"use strict";e.tableType=M.Entities,this._doEnrichClassFunc(e)},_entitiesTableRowFillFunc:function(e){"use strict";this._doTableRowFill(e,M.Entities)},_doTableRowFill:function(e,t,i){"use strict";var n=e.rowItem;if(n){var a,r,s=this._viewModel.model();if(e.rowElem){var l;switch(t){case M.Entities:a=".ntable-group-cell",r=".ntable-row-background-rect",l=v.RAB_ENTITIES_PROP_NAME;break;case M.Gantt:a=".ngantt-table-group-cell",r=".ngantt-table-row-background-rect",l=this._viewType===P.Activities?v.RAB_ACTIVITIES_PROP_NAME:v.RAB_RESOURCES_PROP_NAME}var c=n.data().PM_TableColor;(c||i)&&o.select(e.rowElem).select(r).style("fill",c||null);var u=n.getRelationshipInfoTo(l);if(u){var d=s.getRelatedParentByRelationshipInfo(n.data(),u);if(d){var p=n.getParentItem(),h=o.select(e.rowElem).selectAll(a),g=[];h.each((function(){g.push(this)}));for(var _=g.length-1;_>=0;_--)if(d){var f=void 0;p&&p.rab_sourced_contents&&p.rab_sourced_contents.backgroundColor&&(f=p.rab_sourced_contents.backgroundColor[0].content),((c=f||d.PM_TableColor)||i)&&o.select(g[_]).style("fill",c||null),_===g.length-1&&(e.rowItem.rab_calculatedAllocationRowIndicatorColor=c),(u=d.getRelationshipInfoTo(l))&&(d=s.getRelatedParentByRelationshipInfo(d,u),p=p.getParentItem())}}}}e.worldViewFillColor=this._determineTableRowBackgroundColor(n.data(),n.rab_itemType,e.rowLevel)}},_determineTableRowBackgroundColor:function(e,t,i){var n=e.PM_TableColor;return n&&"none"!==n&&"transparent"!==n||(n=t===D.AllocationRow?"#f8f8f8":["#c0c0c0","#d0d0d0","#e0e0e0","#d3d5d6"][i]),n},_entitiesTableOnEventFunc:function(e){"use strict";e.tableType=M.Entities,this._doOnEventFunc(e)},_entitiesTableCellFillFunc:function(e){"use strict";var t=e.rowItem;e.text=1===e.columnIndex?t.data().ID:t.data().TableText,this._doEntitiesTableCellFillFunc(e)},_doEntitiesTableCellFillFunc:function(e){"use strict";var t=e.rowItem,i=e.textColor||t.data().PM_TableTextColor,n=e.backgroundColor;(i||n)&&(e.finalizeFunc=function(){i&&o.select(e.cellElem).select(".ntable-column-text").style("fill",i),n&&o.select(e.cellElem).select(".ntable-cell-background-rect").style("fill",n)}),i=i||"black",0===e.columnIndex&&e.rowDefinitionType!==w.FixedColumnsPreceding&&e.rowDefinitionType!==w.FixedColumnsSucceeding&&(o.select(e.rowElem).select(".ntable-colexp-button .ntable-plus,.ntable-colexp-button .ntable-minus").style("fill",i),o.select(e.rowElem).select(".ntable-leaves-colexp-button .ntable-plus,.ntable-leaves-colexp-button .ntable-minus").style("stroke",i)),e.symbolID&&(e.symbolURL="///rabSB_".concat(e.tableWidget._uniqueID,"_").concat(this._currentSymbolIDsMap[e.symbolID]))},_entitiesTableHandleCanSelectRowItem:function(){},_entitiesTableCanSelectRowItemFunc:function(e){"use strict";var t=this,i=s.isMacOrIOS?e.metaKey:e.ctrlKey;("touch"===e.hammerEvent.pointerType?!i:i)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedRowItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedLinkItems().length||t._ganttWidget.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._entitiesTableHandleCanSelectRowItem(e)},_entitiesTableHandleSelectRowItem:function(){},_entitiesTableSelectRowItemFunc:function(e){"use strict";var t=this;if(t._entitiesTableHandleSelectRowItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered","auto"),t._ganttWidget.option("updateSuspended",!0),t.getAPIOption("pm_selectionBehavior")===B.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered",i),t._ganttWidget.selectedRowItems([]),t._ganttWidget.selectedTimeItems([]),t._ganttWidget.selectedLinkItems([]),t._ganttWidget.showMarkingTemporarily(null),t._ganttWidget.option("updateSuspended",!1)}},_entitiesTableDragStartFunc:function(e){"use strict";var t=this;t._deselectOtherItemsIfItemIsNotSelected(e.sender,e.tableWidget,v.SelectionChangedReason.DragStart);var i=e.sender;t._dragItemCache={},t._dragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i,t._consolidatedDragItemCache={},t._consolidatedDragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=e.sender,e.tableType=M.Entities,t._doDragStartFunc(e),e.cancel||i&&i.rab_itemType===D.Entity&&(t._handleStartSuitableResourceIDs(i.data(),e),t.ganttWidget()._setVisibilityForRowCovers(null))},_entitiesTableDragEndFunc:function(e){"use strict";var t=this;e.tableType=M.Table,t._validateDraggedItems(e)&&t._doDragEndFunc(e),t._handleEndSuitableResourceIDs(),delete t._dragItemCache,delete t._consolidatedDragItemCache},_entitiesTableDraggedFunc:function(e){"use strict";e.tableType=M.Entities,this._validateDraggedItems(e)&&this._doDraggedFunc(e)},_entitiesTableDroppedFunc:function(e){"use strict";e.tableType=M.Entities,this._validateDraggedItems(e)&&this._doDroppedFunc(e)},_determineEntitiesTableRowDefinitionFunc:function(e){"use strict";return e.tableType=M.Entities,this._doDetermineTableRowDefinitionFunc(e)},_onVerticalSplitterChanged:function(e){"use strict";var t=this,i=t._divJQ.width(),n=t._ganttWidget.options.splitterWidth;t._ganttWidget.element.width(e),t._entitiesTableWidget.element.width(i-e-t._ganttWidget.options.splitterWidth).css({left:e+n}),t._forceSizeChanged()},_resizeWidgets:function(e){"use strict";var t=this,i=t._divJQ.width()||1e3;if(t.isEntitiesTableVisible()&&t._entitiesTableWidget){var n=t._ganttWidget.options.splitterWidth,a=(e?0:t._entitiesTableWidget.element.width())||(null!=t.getAPIOption("entitiesTableViewWidth")?t.getAPIOption("entitiesTableViewWidth"):null!=t.getAPIOption("entitiesTableWidth")?t.getAPIOption("entitiesTableWidth"):i);a*=t.getAPIOption("visualZoomFactor")/(!e&&t._oldVisualZoomFactorOnResizeWidgets||1);var o=Math.floor(i/3),s=i-(a=Math.min(a,o))-n,l=r.nScrollBarWidthDetector.scrollBarWidth();t._ganttWidget.element.width(s),t._entitiesTableWidget.element.width(a).css({left:s+n}),t._entitiesSplitterWidget.element.width(i),t._entitiesSplitterWidget.option("position",{x:s,y:0}).option("height",t._divJQ.height());var c=t._actualEntitiesTableSymbolColumnWidth(),u=null!=t.getAPIOption("entitiesTableWidth")?t.getAPIOption("entitiesTableWidth"):t._entitiesTableWidget.actualTableWidth();t._entitiesSplitterWidget.option("min",Math.max(0,i-Math.max(o,u+c+l)-n))}else t._ganttWidget.element.width(i);t._forceSizeChanged(),t._oldVisualZoomFactorOnResizeWidgets=t.getAPIOption("visualZoomFactor")},_forceSizeChanged:function(){var e=this;e._ganttWidget.forceSizeChanged(),e._entitiesTableWidget&&e._entitiesTableWidget.forceSizeChanged()},_actualEntitiesTableSymbolColumnWidth:function(){"use strict";var e=this;return e.getAPIOption("pm_entitiesTableSymbolColumnVisible")?null!=e.getAPIOption("pm_entitiesTableSymbolColumnWidth")?e.getAPIOption("pm_entitiesTableSymbolColumnWidth"):22:0},_setEntitiesTableWidthOptions:function(){"use strict";var e=this.getAPIOption("entitiesTableWidth");if(this._options.entitiesTableWidget&&(this._options.entitiesTableWidget.tableWidth=e),this._entitiesTableWidget){null==e&&this._entitiesTableWidget.isInInteraction()||this._entitiesTableWidget.option("tableWidth",e);var t=this._divJQ.width()||1e3,i=this._ganttWidget.options.splitterWidth;null==e&&(e=this._entitiesTableWidget.actualTableWidth()),e+=this._actualEntitiesTableSymbolColumnWidth()+r.nScrollBarWidthDetector.scrollBarWidth();var n=Math.floor(t/3);this._entitiesSplitterWidget.option("min",Math.max(n,t-e-i))}},getVisibleEntityParent:function(e){"use strict";return this._entitiesTableWidget?this._entitiesTableWidget.getVisibleParent(e):void 0},invalidateEntityRow:function(e,t){"use strict";this._entitiesTableWidget&&this._entitiesTableWidget.invalidateRow(e,t)},_entitiesRowExpandOrCollapseFunc:function(e){"use strict";e.tableType=M.Table,this._handleRowExpandOrCollapseFunc(e)},_entitiesRowExpandedOrCollapsedFunc:function(e){"use strict";e.tableType=M.Table,this._handleRowExpandedOrCollapsedFunc(e)},RAB_WEEKLY_DATE_LINE_GRID_CLASS:Fe,RAB_DAILY_DATE_LINE_GRID_CLASS:oe},qe={};r.nClassFactory.extendClass(qe,"rabGanttView",r.nClass,Ke),e.exports=qe.rabGanttView},8811:function(e,t,i){var n=i(7930),a=n.nClassFactory,o=n.nWrapperBase,r={};a.extendClass(r,"rabItem",o,{construct:function(e,t,i,n,a){"use strict";this._viewType=t,this._viewModel=i,this.rab_itemType=e,this._super(n,a),this.isBridgeEnabled()||(this.enrichObject(),this.updateFromReference())},viewType:function(){return this._viewType},getAPIOption:function(e){"use strict";return this._viewModel.getAPIOption(e)},CRUDUpdate:function(e){"use strict";this._super(e),this.isBridgeEnabled()||this.updateFromReference()},isBridgeEnabled:function(){"use strict";return!!this._descriptor&&this._descriptor.getEnableBridge()},enrichObject:function(){"use strict";if(this._viewModel){var e=this._viewModel.getOption("enrichObjectFunc");e&&e.call(this._viewModel,this)}},updateFromReference:function(e){"use strict";if(this._viewModel){var t=this._viewModel.getOption("updateFromReferenceFunc");if(t)return t.call(this._viewModel,this,e)}return this}}),e.exports=r.rabItem},8763:function(e,t,i){var n=i(7930),a=i(9330),o={};n.nClassFactory.extendClass(o,"rabLink",a,{});var r=o.rabLink;Object.defineProperty(r.prototype,"RelationType",{get:function(){return this._data.RelationType||0}}),Object.defineProperty(r.prototype,"PM_Color",{get:function(){return this._data.PM_Color}}),Object.defineProperty(r.prototype,"PM_Width",{get:function(){return this._data.PM_Width}}),Object.defineProperty(r.prototype,"PM_DashArray",{get:function(){return this._data.PM_DashArray}}),Object.defineProperty(r.prototype,"PM_Selectable",{get:function(){var e=this._data.PM_Selectable;return"boolean"==typeof e?e:void 0}}),Object.defineProperty(r.prototype,"PM_TooltipTemplateID",{get:function(){return this._data.PM_TooltipTemplateID}}),Object.defineProperty(r.prototype,"PM_TargetMarker",{get:function(){return this._data.PM_TargetMarker||1}}),Object.defineProperty(r.prototype,"PM_RoutingType",{get:function(){return this._data.PM_RoutingType}}),e.exports=r},4783:function(e,t,i){i(6541),i(9601),i(7941);var n=i(7930),a=i(4081),o=a.ItemType,r=a.ViewType,s=i(8811),l=(i(8763),{construct:function(e,t,i,n,a){"use strict";this._super(o.Link,e,t,i,a)},updateFromReference:function(e){"use strict";var t,i,a,s,l=this,c=this._super(e),u=Object.assign({},this),d=this.data(),p=d.model(),h=this._viewModel,g=this._viewType;if(this.type=d.RelationType,this.selectable=d.PM_Selectable,this.routingType=d.PM_RoutingType,delete this.sourceTimeItem,delete this.targetTimeItem,(g===r.Resources?this.getAPIOption("pm_definedAllocationLinksVisibleInResourcesView"):this.getAPIOption("pm_definedAllocationLinksVisibleInActivitiesView"))&&(t=p.allocationByID(n.nPropertyComposer.compose(d,["SourceAllocationRole","SourceAllocationID"])))&&(i=p.allocationByID(n.nPropertyComposer.compose(d,["TargetAllocationRole","TargetAllocationID"]))),g===r.Resources&&(void 0!==t&&void 0!==i||(t=this.rab_sourceAllocation,i=this.rab_targetAllocation)),t&&i&&(a=h.allocationItem(g,t),s=h.allocationItem(g,i),a&&s&&(this.sourceTimeItem=a.getAllocationTimeItemForLinkRelationType(d.RelationType),this.targetTimeItem=s.getAllocationTimeItemForLinkRelationType(d.RelationType))),g===r.Activities&&void 0===this.sourceTimeItem&&void 0===this.targetTimeItem){var _=h.activityItem(g,p.activityByID(n.nPropertyComposer.compose(d,["SourceActivityRole","SourceActivityID"])));null!=_&&_.rab_itemType===o.ActivityRow?_.timeItems&&_.timeItems[0]?this.sourceTimeItem=h._findItemOfTypeInArray(_.timeItems[0].childTimeItems,o.Activity):this.sourceTimeItem=void 0:this.sourceTimeItem=_,null!=(_=h.activityItem(g,p.activityByID(n.nPropertyComposer.compose(d,["TargetActivityRole","TargetActivityID"]))))&&_.rab_itemType===o.ActivityRow?_.timeItems&&_.timeItems[0]?this.targetTimeItem=h._findItemOfTypeInArray(_.timeItems[0].childTimeItems,o.Activity):this.targetTimeItem=void 0:this.targetTimeItem=_}return this._rab_isModified||Object.keys(Object.assign({},this,u)).every((function(e){return l[e]===u[e]}))||(this._rab_isModified=!0),c}}),c={};n.nClassFactory.extendClass(c,"rabLinkItem",s,l),e.exports=c.rabLinkItem},8422:function(e,t,i){i(9554),i(7941),i(1539),i(9714),i(4747);var n=i(3755),a=i(7930),o=i(4429),r=i(9330),s=i(4081),l=o.nCalendar.TimeType,c=s.ItemType,u=s.RAB_ROOT_PROP_NAME,d=s.RAB_RESOURCES_PROP_NAME,p=s.RAB_CALENDARS_PROP_NAME,h=s.RAB_CALENDAR_ENTRIES_PROP_NAME,g=s.RAB_ACTIVITIES_PROP_NAME,_=s.RAB_ALLOCATIONS_PROP_NAME,f=s.RAB_ALLOCATION_ENTRIES_PROP_NAME,m=s.RAB_CURVES_PROP_NAME,v=s.RAB_CURVE_POINT_ENTRIES_PROP_NAME,b=s.RAB_LINKS_PROP_NAME,y=s.RAB_ENTITIES_PROP_NAME,A=s.RAB_CALENDAR_GRIDS_PROP_NAME,I=s.RAB_CALENDAR_GRID_ENTRIES_PROP_NAME,C=i(1398),T=i(466),w=i(7298),O=i(9956),P=i(9017),R=i(1591),D=i(6877),S=i(8171),E=i(7731),M=i(1836),N=i(9427),V=i(8763),k=i(1289),W=s.PrimaryKeyInfos,B=s.RelationshipInfos,x={construct:function(e,t){"use strict";this._app=e,this._checkLogger=null,this._defaultCalendar=null,this.__dataReady=!1,this._initOptions(t),this._super(this,null,"",null)},destroy:function(){},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},handleAPIOptionChanged:function(){},_initOptions:function(e){"use strict";var t={checkLoggerClass:C,calendarClass:T,calendarEntryClass:w,periodHighlighterClass:O,periodHighlighterEntryClass:P,curveClass:R,curvePointEntryClass:D,resourceClass:S,activityClass:E,allocationClass:M,allocationEntryClass:N,linkClass:V,entityClass:k,version:"3.0"};this._options=n.extend({},t,e)},options:function(){"use strict";return n.extend({},this._options)},getOption:function(e){"use strict";return this._options[e]},app:function(){"use strict";return this._app},initDataDefinition:function(){"use strict";this._dataDescriptors={},this._dataDescriptors[u]=new a.nDataDescriptor(u,null),this._dataDescriptors[p]=new a.nDataDescriptor(p,this._options.calendarClass,W[p]),this._dataDescriptors[h]=new a.nDataDescriptor(h,this._options.calendarEntryClass),this._dataDescriptors[p].addSubDescriptor(this._dataDescriptors[h]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[p]),this._dataDescriptors[A]=new a.nDataDescriptor(A,this._options.periodHighlighterClass,W[A]),this._dataDescriptors[I]=new a.nDataDescriptor(I,this._options.periodHighlighterEntryClass),this._dataDescriptors[A].addSubDescriptor(this._dataDescriptors[I]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[A]),this._dataDescriptors[m]=new a.nDataDescriptor(m,this._options.curveClass,W[m]),this._dataDescriptors[v]=new a.nDataDescriptor(v,this._options.curvePointEntryClass),this._dataDescriptors[m].addSubDescriptor(this._dataDescriptors[v]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[m]),this._dataDescriptors[d]=new a.nDataDescriptor(d,this._options.resourceClass,W[d],B[d]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[d]),this._dataDescriptors[g]=new a.nDataDescriptor(g,this._options.activityClass,W[g],B[g]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[g]),this._dataDescriptors[b]=new a.nDataDescriptor(b,this._options.linkClass,W[b],B[b]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[b]),this._dataDescriptors[_]=new a.nDataDescriptor(_,this._options.allocationClass,W[_],B[_]),this._dataDescriptors[f]=new a.nDataDescriptor(f,this._options.allocationEntryClass,void 0,void 0,void 0,{primaryKeyManipulationFunc:function(e,t,i){if(null!=i)return i.toString()}}),this._dataDescriptors[_].addSubDescriptor(this._dataDescriptors[f]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[_]),this._dataDescriptors[y]=new a.nDataDescriptor(y,this._options.entityClass,W[y],B[y]),this._dataDescriptors[u].addSubDescriptor(this._dataDescriptors[y])},_createCheckLogger:function(){"use strict";this._checkLogger||(this._checkLogger=this._newCheckLogger())},checkResults:function(){"use strict";return this._checkLogger?this._checkLogger.results():""},init:function(e,t){"use strict";this._checkLogger=null,this._defaultCalendar=null,this._defaultNonWorkingTimeCalendar=null,this._fullWorkingTimeNWAFCalendar=null,this.__dataReady=!1,t&&this._fastCheck(e),e||(e={}),(t?""===this._checkLogger.results():e)&&(delete e.Settings,this.store(e),this._createObjects(t),this._handleSettings(),this._handleResources(t))},_fastCheck:function(e){"use strict";this._createCheckLogger(),e?e.Resources||this._checkLogger.log("Data.Resources object is null!"):this._checkLogger.log("Data object is null!")},_createObjects:function(e){"use strict";var t=this._options.version;this._defaultNonWorkingTimeCalendar=this._newCalendar({},t),this._defaultNonWorkingTimeCalendar.nCalendar=new o.nCalendar(l.NonWorkingTime),this._defaultCalendar=this._defaultNonWorkingTimeCalendar,this.initDataDefinition(t),this.initHierarchy(this._data,t,this._dataDescriptors[u]),e&&this.check(this._checkLogger),this.__dataReady=!0},_handleSettings:function(){"use strict";var e=new o.nTimeAxis;e.start(this.dateTimeValueToDate(this.getAPIOption("start"))),e.end(this.dateTimeValueToDate(this.getAPIOption("end"))),this._actualStart=e.actualStart(),this._actualEnd=e.actualEnd()},actualStart:function(){return this._actualStart},actualEnd:function(){return this._actualEnd},_newCheckLogger:function(){"use strict";return new this._options.checkLoggerClass(this)},_newCalendar:function(e,t){"use strict";return new this._options.calendarClass(this,e,t)},calendars:function(){"use strict";return this.getChildrenArray(p)},defaultNonWorkingTimeCalendar:function(){return this._defaultNonWorkingTimeCalendar},fullWorkingTimeNWAFCalendar:function(){"use strict";return this._fullWorkingTimeNWAFCalendar||(this._fullWorkingTimeNWAFCalendar=new o.nCalendar(l.WorkingTime)),this._fullWorkingTimeNWAFCalendar},calendarByID:function(e){"use strict";return e?this.getChildByPrimaryKey(p,e)||this._defaultNonWorkingTimeCalendar:this._defaultCalendar},calendarByResource:function(e){"use strict";return this.calendarByID(e.CalendarID)},addCalendar:function(e){"use strict";return this.addChild(p,e,this._options.version)},updateCalendar:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeCalendar:function(e){"use strict";this.removeChild(e)},calculateNonWorkingTimeCalendar:function(){"use strict";var e=this,t=new o.nCalendar(l.NonWorkingTime),i={};return e._collectCalendarIDsForObjects(i,e.resources()),e.getAPIOption("pm_activityCalendarsEnabled")&&e._collectCalendarIDsForObjects(i,e.activities()),e._doCalculateNonWorkingTimeCalendarAtLast(t,Object.keys(i)),t},_collectCalendarIDsForObjects:function(e,t,i){"use strict";var n=this;t.forEach((function(t){var a=i?i(t):t.CalendarID;a?e[a]=!0:n._defaultCalendar&&(e[n._defaultCalendar.ID]=!0)}))},_doCalculateNonWorkingTimeCalendarAtLast:function(e,t){"use strict";var i=this;t.forEach((function(t){var n=i.calendarByID(t);if(n){var a=n.nCalendar.defaultTimeType()===l.WorkingTime?null:"-";n.nCalendar.timeTypeChangeTimes().forEach((function(t){a?("-"!==a&&e.allocateTimeSpan(a,t,l.WorkingTime),a=null):a=t}))}}))},_handleResources:function(){"use strict";var e=this,t=this.getChildrenArray(d);t.forEach((function(e){e.rab_children=[]})),t.forEach((function(t){if(a.nStringHelper.notIsNullOrEmpty(t.ParentID)){var i=a.nPropertyComposer.compose(t,["ParentRole","ParentID"]);if(null!=i){var n=e.resourceByID(i);n&&n.rab_children.push(t)}}})),t.forEach((function(t){if(t.rab_children.length){var i=!0,n=e._actualStart,a=e.calendarByResource(t);if(a){var o=a.nCalendar;t.rab_children.forEach((function(t){if(i&&(a=e.calendarByResource(t))){var r=a.nCalendar;if(r!==o)if(r&&o){var s=n,l=n;do{s=o.findStartOfNextTimeTypeChange(s),l=r.findStartOfNextTimeTypeChange(l),s||l?(!s&&l||s&&!l||s.getTime()!=l.getTime())&&(i=!1,s=e._actualEnd):s=e._actualEnd}while((s||l)<e._actualEnd)}else i=!1}}))}t.rab_childResourcesHaveSameCalendar=i}}))},resources:function(){"use strict";return this.getChildrenArray(d)},resourceByID:function(e){"use strict";return this.getChildByPrimaryKey(d,e)},addResource:function(e){"use strict";return this.addChild(d,e,this._options.version)},updateResource:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeResource:function(e){"use strict";this.removeChild(e)},curves:function(){"use strict";return this.getChildrenArray(m)},curveByID:function(e){"use strict";return this.getChildByPrimaryKey(m,e)},addCurve:function(e){"use strict";return this.addChild(m,e,this._options.version)},updateCurve:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeCurve:function(e){"use strict";this.removeChild(e)},activities:function(){"use strict";return this.getChildrenArray(g)},activityByID:function(e){"use strict";return this.getChildByPrimaryKey(g,e)},addActivity:function(e){"use strict";return this.addChild(g,e,this._options.version)},updateActivity:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeActivity:function(e){"use strict";this.removeChild(e)},isActivityEditable:function(e){"use strict";return this.getAPIOption("editable")&&e.Editable},isAllocationEditable:function(e){"use strict";if(this.getAPIOption("editable")){var t=this.activityByID(a.nPropertyComposer.compose(e,["ActivityRole","ActivityID"]));return!t||this.isActivityEditable(t)}return!1},allocations:function(){"use strict";return this.getChildrenArray(_)},allocationByID:function(e){"use strict";return this.getChildByPrimaryKey(_,e)},addAllocation:function(e){"use strict";return this.addChild(_,e,this._options.version)},updateAllocation:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeAllocation:function(e){"use strict";this.removeChild(e)},getAllocationsForActivity:function(e,t){"use strict";var i=[];return this.model().allocations().forEach((function(n){n.Role===t&&n.ActivityID===e&&i.push(n)})),i},getAllocationsForResource:function(e,t){"use strict";var i=[];return this.model().allocations().forEach((function(n){n.Role===t&&n.ResourceID===e&&i.push(n)})),i},links:function(){"use strict";return this.getChildrenArray(b)},linkByID:function(e){"use strict";return this.getChildByPrimaryKey(b,e)},addLink:function(e){"use strict";return this.addChild(b,e,this._options.version)},updateLink:function(e,t){"use strict";this.updateChild(e,t,this._options.version)},removeLink:function(e){"use strict";this.removeChild(e)},entities:function(){"use strict";return this.getChildrenArray(y)},entityByID:function(e){"use strict";return this.getChildByPrimaryKey(y,e)},addEntity:function(e){"use strict";return this.addChild(y,e,this._options.version)},updateEntity:function(e,t){"use strict";this.updateChild(e,t,this._options.version)},removeEntity:function(e){"use strict";this.removeChild(e)},periodHighlighters:function(){"use strict";return this.getChildrenArray(A)},periodHighlighterByID:function(e){"use strict";if(e)return this.getChildByPrimaryKey(A,e)},addPeriodHighlighter:function(e){"use strict";return this.addChild(A,e,this._options.version)},updatePeriodHighlighter:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removePeriodHighlighter:function(e){"use strict";this.removeChild(e)},dateTimeValueToDate:function(e){"use strict";e&&(e===this.getAPIOption("additionalDateStringInterpretedAsEmpty")||this.getAPIOption("additionalDateInterpretedAsEmpty")&&e.valueOf()===this.getAPIOption("additionalDateInterpretedAsEmpty").valueOf())&&(e=void 0);var t="string"==typeof e?this._app.dateTimeStringToDate(e):e instanceof Date&&new Date(e);return t&&!isNaN(t.valueOf())&&t||null},displayRelativeDates:function(){"use strict";return this.getAPIOption("relativeDateModeEnabled")&&!this.getAPIOption("referenceDate")},removeAll:function(){"use strict";if(this.__dataReady){var e=this._options.version;this.initHierarchy(null,e,this._dataDescriptors[u])}},objectByID:function(e,t,i){"use strict";var n=this;if("string"==typeof t)switch(e){case c.Activity:case c.ActivityRow:return n.activityByID((i||"")+a.nDefaultSeparator+t);case c.Allocation:case c.AllocationRow:return n.allocationByID((i||"")+a.nDefaultSeparator+t);case c.Resource:return n.resourceByID((i||"")+a.nDefaultSeparator+t);case c.Calendar:return n.calendarByID(t);case c.Curve:return n.curveByID(t);case c.Entity:return n.entityByID(t);case c.Link:return n.linkByID((i||"")+a.nDefaultSeparator+t)}},getRelatedParentByRelationshipInfo:function(e,t){"use strict";if(e&&t){var i=a.nPrimaryKeyManager.getPrimaryKeyByRelationshipInfo(e,t);return this.getChildByPrimaryKey(t.relatedTo,i)}}},L={};a.nClassFactory.extendClass(L,"rabModel",r,x);var F=L.rabModel;Object.defineProperty(F.prototype,"Resources",{get:function(){return this.getChildrenArray(d)}}),Object.defineProperty(F.prototype,"Calendars",{get:function(){return this.getChildrenArray(p)}}),Object.defineProperty(F.prototype,"Curves",{get:function(){return this.getChildrenArray(m)}}),Object.defineProperty(F.prototype,"Activities",{get:function(){return this.getChildrenArray(g)}}),Object.defineProperty(F.prototype,"Allocations",{get:function(){return this.getChildrenArray(_)}}),Object.defineProperty(F.prototype,"Links",{get:function(){return this.getChildrenArray(b)}}),Object.defineProperty(F.prototype,"Entities",{get:function(){return this.getChildrenArray(y)}}),Object.defineProperty(F.prototype,"PeriodHighlighters",{get:function(){return this.getChildrenArray(A)}}),e.exports=F},6431:function(e,t,i){i(2772);var n=i(7930),a=n.nDebugHelper,o=i(4081),r=o.ActivityBarDragModes,s=o.ActivityBarShape,l=o.AllocationBarDesign,c=o.AllocationBarDragModes,u=o.AllocationBarShape,d=o.LinkMarker,p=o.LinkRoutingType,h=o.ProgressBarWidthCalculationMode,g=o.RowDesigns,_=o.RowDragModes,f=o.SelectionBehavior,m=o.TimescaleNavigationMode,v=o.WorldViewPosition,b={construct:function(e){"use strict";this._app=e,this._super(),this.defineOption("additionalDateInterpretedAsEmpty",null,this.convertStringToDate,this.assertDateOrNull),this.defineOption("additionalDateStringInterpretedAsEmpty","",this.convertAnyNonObjectToString),this.defineOption("cursorDateLineVisible",!1,this.convertAnyToBoolean),this.defineOption("curvePanesVisibleInActivitiesView",!1,this.convertAnyToBoolean,void 0,!0),this.defineOption("entitiesTableVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("entitiesTableVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("entitiesTitleText",null,this.convertEmptyStringToUndefined),this.defineOption("nonWorkingTimeVisible",!0,this.convertAnyToBoolean),this.defineOption("pm_curvePanesCollapsibleInResourcesView",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("pm_entitiesTableSymbolColumnTitleSymbolIDs",null),this.defineOption("pm_entitiesTableSymbolColumnTitleVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_entitiesTableSymbolColumnVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_entitiesTableSymbolColumnWidth",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_linksVisibleInActivitiesView",!0,this.convertAnyToBoolean),this.defineOption("pm_linksVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("pm_patternShownOnOverloadCurves",!1,this.convertAnyToBoolean),this.defineOption("pm_symbolColumnTitleSymbolIDs",null),this.defineOption("pm_symbolColumnTitleVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_symbolColumnVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_symbolColumnWidth",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("relativeDateModeEnabled",!1,this.convertAnyToBoolean),this.defineOption("referenceDate",null,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("timeStepUnit","second",void 0,this.assert_timeStepUnit),this.defineOption("timeStepUnitFactor",1,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("titleText",null,this.convertEmptyStringToUndefined),this.defineOption("workDateLineCaption","",this.convertAnyNonObjectToString),this.defineOption("tooltipDelay",500,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultActivityConstraintSymbolColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("pm_defaultActivityProgressBackgroundColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("pm_defaultAllocationConstraintSymbolColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("pm_defaultAllocationProgressBackgroundColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("pm_defaultInventoryCurvePaneColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_defaultLoadCurvePaneColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_entitiesTableHeaderBackgroundColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_entitiesTableHeaderColumnSeparatorColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_entitiesTableHeaderHighlightingColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_entitiesTableHeaderTextColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_pastBackgroundFillColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_pastBackgroundLineColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_scrollToObjectHighlightingColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_suitableResourceOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_unsuitableResourceOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("pm_calendarGridColor",null,this.convertAnyToString),this.defineOption("pm_selectionColor",null,this.convertAnyToString),this.defineOption("pm_splitterHighlightingColor",null,this.convertAnyToString),this.defineOption("pm_tableHeaderBackgroundColor",null,this.convertAnyToString),this.defineOption("pm_tableHeaderColumnSeparatorColor",null,this.convertAnyToString),this.defineOption("pm_tableHeaderHighlightingColor",null,this.convertAnyToString),this.defineOption("pm_tableHeaderTextColor",null,this.convertAnyToString),this.defineOption("pm_timeAreaBackgroundColor",null,this.convertAnyToString),this.defineOption("pm_timescaleBackgroundColor",null,this.convertAnyToString),this.defineOption("pm_timescaleHighlightingColor",null,this.convertAnyToString),this.defineOption("pm_timescaleTextColor",null,this.convertAnyToString),this.defineOption("pm_timescaleTickColor",null,this.convertAnyToString),this.defineOption("pm_timescaleWeekendBackgroundColor",null,this.convertAnyToString),this.defineOption("pm_defaultActivityCollapsedRowDesign",g.Bars|g.Optimized|g.BarsInHiddenDescendantRows,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultActivityExpandedRowDesign",g.Bars|g.Optimized,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultAllocationRowDesign",g.Bars|g.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultResourceCollapsedRowDesign",g.Bars|g.Optimized|g.BarsInHiddenDescendantRows|g.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultResourceExpandedRowDesign",g.Bars|g.Optimized|g.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultAllocationSnapTargetsForStart",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultAllocationSnapTargetsForEnd",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultActivitySnapTargetsForStart",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultActivitySnapTargetsForEnd",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultAllocationAllowedBarDragModes",c.DragAutoHorOrVer,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_forcedAllocationAllowedBarDragModes",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultAllocationAllowedBarDragModesInActivitiesView",c.DragHorizontally,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_forcedAllocationAllowedBarDragModesInActivitiesView",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultAllocationAllowedRowDragModes",_.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultActivityAllowedBarDragModes",r.DragHorizontally,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_forcedActivityAllowedBarDragModes",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultActivityAllowedRowDragModes",_.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultResourceAllowedRowDragModes",_.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultEntityAllowedRowDragModes",_.DragOutside,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultAllocationBarSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultAllocationRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityBarSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultResourceRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultEntityRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("pm_defaultAllocationTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("pm_defaultResourceTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("pm_defaultEntityTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("pm_tableRowDefinitionIDForTitleInActivitiesView",null,this.convertAnyNonObjectToString),this.defineOption("pm_tableRowDefinitionIDForTitleInResourcesView",null,this.convertAnyNonObjectToString),this.defineOption("pm_tableRowDefinitionIDForTitleInLoadsView",null,this.convertAnyNonObjectToString),this.defineOption("pm_tableRowDefinitionIDForTitleInEntitiesTable",null,this.convertAnyNonObjectToString),this.defineOption("pm_watermarkSymbolID",null,this.convertAnyNonObjectToString),this.defineOption("pm_watermarkOpacity",.2,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultLinkSelectable",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityAllocationRowsCollapsible",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultResourceRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultEntityRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("pm_releaseDueDateConnectionsVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_activityCalendarsEnabled",!1,this.convertAnyToBoolean),this.defineOption("pm_detailedActivityConstraintSymbolsEnabled",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("pm_detailedAllocationConstraintSymbolsEnabled",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("updateOptimizationEnabled",!1,this.convertAnyToBoolean),this.defineOption("internalObjectCopiesNeeded",!1,this.convertAnyToBoolean),this.defineOption("pm_dragDatesLimitingInteraction",!1,this.convertAnyToBoolean),this.defineOption("pm_contextMenuCallbackOnRowInTimeArea",!1,this.convertAnyToBoolean),this.defineOption("pm_preventDefaultOnContextMenuEvents",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultResourceBarsPaneVisible",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultResourceLoadCurvePaneVisible",!0,this.convertAnyToBoolean),this.defineOption("pm_defaultResourceInventoryCurvePaneVisible",!1,this.convertAnyToBoolean),this.defineOption("pm_curvePanesResizable",!1,this.convertAnyToBoolean),this.defineOption("allocationsSelectableOnlyOnOneResourceAtATime",!1,this.convertAnyToBoolean),this.defineOption("pm_topBarSymbolsVisible",!0,this.convertAnyToBoolean),this.defineOption("pm_timescaleInteractionsEnabled",!0,this.convertAnyToBoolean),this.defineOption("pm_ignoreCalendarOnAllocationBarInteractions",!1,this.convertAnyToBoolean),this.defineOption("pm_scrollToObjectHighlightFlashingEnabled",!0,this.convertAnyToBoolean),this.defineOption("pm_scrollToObjectAnimationEnabled",!1,this.convertAnyToBoolean),this.defineOption("worldViewVisible",!1,this.convertAnyToBoolean),this.defineOption("multipleBarDraggingEnabled",!1,this.convertAnyToBoolean),this.defineOption("tableViewWidthInActivitiesView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthInResourcesView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthInLoadsView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthsSynchronized",!0,this.convertAnyToBoolean),this.defineOption("tableWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("fixedTableColumnWidth",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("entitiesTableWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("entitiesTableViewWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultActivityBarHeight",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_defaultAllocationBarHeight",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_defaultActivityMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_defaultAllocationMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_defaultResourceMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_defaultEntityMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_minimumLoadCurvePaneHeight",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultLoadCurvePaneHeight",50,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_maximumLoadCurvePaneHeight",200,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_minimumInventoryCurvePaneHeight",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultInventoryCurvePaneHeight",50,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_maximumInventoryCurvePaneHeight",200,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_topRowMarginInTimeArea",10,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_bottomRowMarginInTimeArea",5,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_subRowDistanceInTimeArea",5,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultResourceMaximumSubRowHeightInTimeArea",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultResourceMaximumRowHeight",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultActivityMaximumSubRowHeightInTimeArea",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultActivityMaximumRowHeight",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("timescaleNavigationMode",m.Latest,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_timeAreaPanningMode",3,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_selectionBehavior",f.Framing,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_pastBackgroundLineWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_pastBackgroundLineDashArray",null,this.convertAnyNonObjectToString),this.defineOption("visualZoomFactor",1,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("worldViewPosition",v.Bottom,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("worldViewExtent",150,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_maximumSnapDistance",8,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pm_defaultAllocationBarDesign",l.Entries,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("pm_defaultLinkRoutingType",p.Curved,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_defaultLinkTargetMarker",d.FilledArrow,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_progressBarWidthCalculationMode",h.ConsiderWorkingTimesOnly,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("pm_topViewAreaVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("pm_topViewAreaVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("pm_topViewAreaVisibleInLoadsView",!1,this.convertAnyToBoolean),this.defineOption("pm_mainViewAreaVisibleInActivitiesView",!0,this.convertAnyToBoolean),this.defineOption("pm_mainViewAreaVisibleInResourcesView",!0,this.convertAnyToBoolean),this.defineOption("pm_mainViewAreaVisibleInLoadsView",!0,this.convertAnyToBoolean),this.defineOption("pm_maximumTopViewAreaHeightRatio",.5,this.convertStringToNumber,this.assert_pm_maximumTopViewAreaHeightRatio),this.defineOption("pm_scrollOffsetsChangedCallbackTimeDelay",500,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("multipleSelectionEnabled",!0),this.defineOption("pm_defaultActivityBarShape",s.Regular,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("pm_defaultAllocationBarShape",u.Regular,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("editable",!0,this.convertAnyToBoolean),this.defineOption("currentDate",null,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("workDate",null,this.convertStringToDateEx,this.assertDateOrNull);var t=new Date,i=new Date(t.valueOf()+24192e5);this.defineOption("start",t,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("end",i,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("startAndEnd",[t,i]),this.defineOption("locale","en-US",void 0,this.assertStringOrNull),this.defineOption("language",null,void 0,this.assertStringOrNull),this.defineOption("weekNumbering",null,void 0,this.assertStringOrNull),this.defineOption("timeZone",null,void 0,this.assertStringOrNull),this.defineOption("pm_allocationRowsVisibleInActivitiesView",!1,this.convertAnyToBoolean,void 0,!0),this.defineOption("pm_defaultAllocationTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("pm_defaultAllocationMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("pm_definedAllocationLinksVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("pm_definedAllocationLinksVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("pm_defaultActivityStatusFrameColor",null,this.convertAnyToString),this.defineOption("pm_defaultAllocationStatusFrameColor",null,this.convertAnyToString)},defineOption:function(e,t,i,n,a){"use strict";var o=this;if(this._super(e,t,i,n),!0===a){this.setCallback(e,2,(function(e,t,i){o._app.handleAPIOptionPostprocessing(e,t,i)}))}},convertEmptyStringToUndefined:function(e){"use strict";return e||void 0},convertStringToDateEx:function(e){"use strict";return"string"==typeof e?this._app.model().dateTimeValueToDate(e):e},assert_timeStepUnit:function(e,t){"use strict";return a.assert(["day","hour","minute","second"].indexOf(t)>=0,"timeStepUnit with invalid value"),!0},assert_pm_maximumTopViewAreaHeightRatio:function(e,t){"use strict";return a.assert(t>=-.8&&t<=.8,e+" is out of range"),!0},assert_dateLineGridMode:function(e,t){"use strict";return a.assertNumberOrNull(t),null!=t&&a.assert([0,1,2,4].indexOf(t)>=0,e+" is out of range"),!0}},y={};n.nClassFactory.extendClass(y,"rabOptionsCollector",n.nOptionsCollector,b),e.exports=y.rabOptionsCollector},1389:function(e,t,i){i(7042),i(9601);var n=i(7930).nClassFactory,a=i(4149),o={construct:function(e,t,i,n,a,o,r,s,l,c,u){"use strict";var d=l?l.slice():[];d.push(s.relationshipInfos);var p=Object.assign({},c||{});p._applyToRootEnabled=!0,p._checkPlacement=!0,this._super(e,t,i,n,a,o,r,s,d,p,u)}},r={};n.extendClass(r,"rabParentItemDescriptor",a,o),e.exports=r.rabParentItemDescriptor},9956:function(e,t,i){i(9554),i(6992),i(1249),i(7941),i(1539),i(4747),i(3948);var n=i(5680),a=i(7930),o=i(4081),r=o.ItemType,s=o.RAB_CALENDAR_GRID_ENTRIES_PROP_NAME,l=i(9330),c={postAddToParent:function(){"use strict";this._super(),this.compile()},postUpdateSelf:function(){"use strict";this._super(),this.compile()},compile:function(){"use strict";var e=this,t=function(e){var t=n.select(e.dateArea);e.dateAreaDefinition.rab_color&&t.select("path").style("fill",e.dateAreaDefinition.rab_color);var i=t.selectAll("text").nodes(),a=0;i.length&&e.dateAreaDefinition.entries.forEach((function(e){e.caption&&n.select(i[a++]).style("fill",e.rab_captionColor)}))},i={};if(e.Entries){var o=0;this.Entries.forEach((function(n,s){var l=n.Color||"",c=i[l];c||(c=i[l]={rab_itemType:r.PeriodHighlighterEntry,id:e.ID+a.nDefaultSeparator+o++,inForeground:!1,rab_color:n.Color,entries:[],createFunc:t}),c.entries.push({start:e._model.dateTimeValueToDate(n.Start),end:e._model.dateTimeValueToDate(n.End),caption:n.Caption,rab_captionColor:n.CaptionColor,rab_entryIndex:s})}))}this.dateAreaDefinitions=Object.keys(i).map((function(e){return i[e]}))}},u={};a.nClassFactory.extendClass(u,"rabPeriodHighlighter",l,c);var d=u.rabPeriodHighlighter;Object.defineProperty(d.prototype,"Entries",{get:function(){return this.getChildrenArray(s)}}),e.exports=d},9017:function(e,t,i){var n=i(7930),a=i(9330),o={};n.nClassFactory.extendClass(o,"rabPeriodHighlighterEntry",a,{construct:function(e,t,i,n){"use strict";this._super(e,t,i,n)}});var r=o.rabPeriodHighlighterEntry;Object.defineProperty(r.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(r.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(r.prototype,"Caption",{get:function(){return this._data.Caption}}),Object.defineProperty(r.prototype,"Color",{get:function(){return this._data.Color}}),Object.defineProperty(r.prototype,"CaptionColor",{get:function(){return this._data.CaptionColor}}),e.exports=o.rabPeriodHighlighterEntry},4149:function(e,t,i){i(9554),i(9601),i(4747);var n=i(7930),a=n.nClassFactory,o=n.nStructuralRelationshipDataDescriptor,r={construct:function(e,t,i,n,a,o,r,s,l,c,u){"use strict";var d=this;d._viewModel=e,d._viewType=t;var p=Object.assign({},u||{});if(p.getChildWrapperByPrimaryKey=function(e,t){return d._viewModel.model().getChildByPrimaryKey(e,t)},p.getItemByWrapper=function(e){return d._viewModel._item(d._viewType,e)},!p.sharedDepositoryGetterFunc){var h=d._viewModel._sharedDepositories,g=h[t]=h[d._viewType]||{};p.sharedDepositoryGetterFunc=function(){return g[i]}}p.postAddToParentFunc||(p.postAddToParentFunc=function(e){return e&&d._classConstructor,d._booleans._checkPlacement&&d._viewModel._checkPlacementInChildItemsOfParent(e),d._viewModel.isHierarchyInitialized(d._viewType)&&d._reloadOrUnloadRelatedItems(1,e),d._booleans._additionallyUpdateChildTimeItems&&Array.isArray(e.childTimeItems)&&e.childTimeItems.forEach((function(e){e.updateFromReference()})),!0}),p.preRemoveFromParentFunc||(p.preRemoveFromParentFunc=function(e){return e&&d._classConstructor,d._viewModel.isHierarchyInitialized(d._viewType)&&(d._booleans._checkPlacement&&d._viewModel._saveAncestorItems(e),d._reloadOrUnloadRelatedItems(2,e)),!0}),d._super(i,n,a,o,r,s,l,c,p)},_reloadOrUnloadRelatedItems:function(e,t){"use strict";var i=this;if(i._dependentObjectRelationshipInfos){var a=t.getPropertyName(),o=t.getPrimaryKey();n.nFunctionDispatcher.each(i._dependentObjectRelationshipInfos,(function(t){t.relatedTo===a&&i._viewModel.reloadOrUnloadRelatedItems(e,i._viewType,t.comingFrom,(function(e){if(n.nPrimaryKeyManager.allEssentialPrimaryKeysAvailable(e,t)){var i=n.nPrimaryKeyManager.getPrimaryKeyByRelationshipInfo(e,t);if(i&&i===o)return!0}}))}))}}},s={};a.extendClass(s,"rabRelationshipItemDescriptor",o,r),e.exports=s.rabRelationshipItemDescriptor},8171:function(e,t,i){i(9554),i(2772),i(6992),i(7042),i(1539),i(9714),i(4747),i(3948);var n=i(3755),a=i(7930),o=i(9330),r=i(4081).CurveType,s={construct:function(e,t,i,n){"use strict";this._super(e,t,i,n),this.curvesChanged()},postUpdateSelf:function(){"use strict";this._super(),this.curvesChanged()},store:function(e){"use strict";if(this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?n.extend({},e):void 0,e){var t=e.PM_CollapseState;t>=0&&(this.rab_cachedCollapseState=t),(t=e.PM_CurveCollapseState)>=0&&(this.rab_cachedCurveCollapseState=t)}},_modificationClassificationByProperty:{PM_AllowedRowDragModes:2,PM_CollapseState:function(){return this.rab_cachedCollapseState===this.PM_CollapseState?2:0},PM_CurveCollapseState:function(){return this.rab_cachedCurveCollapseState===this.PM_CurveCollapseState?2:0},PM_CurveTooltipTemplateID:2,PM_RowSelectable:2,PM_RowSymbolIDs:-1,PM_RowTooltipTemplateID:2,PM_TableColor:1,PM_TableTextColor:1},curvesChanged:function(){"use strict";this._curveDatesAndEntriesAreDirty=!0},compileCurves:function(){"use strict";var e,t,i,n=this;if(n._curveDatesAndEntriesAreDirty||((e=n.CapacityCurveID?n._model.curveByID(n.CapacityCurveID):null)&&e.isDirty()&&(n._curveDatesAndEntriesAreDirty=!0),(t=n.LoadCurveID?n._model.curveByID(n.LoadCurveID):null)&&t.isDirty()&&(n._curveDatesAndEntriesAreDirty=!0),(i=n.InventoryCurveID?n._model.curveByID(n.InventoryCurveID):null)&&i.isDirty()&&(n._curveDatesAndEntriesAreDirty=!0)),n._curveDatesAndEntriesAreDirty){var a=n._model.calendarByResource(n);if(void 0===e&&(e=n.CapacityCurveID?n._model.curveByID(n.CapacityCurveID):void 0),n.rab_capacityDatesAndEntries=e?e.compile(a):void 0,Array.isArray(n.rab_capacityDatesAndEntries)&&(n.rab_capacityDatesAndEntries=n.rab_capacityDatesAndEntries.slice().reverse()),void 0===t&&(t=n.LoadCurveID?n._model.curveByID(n.LoadCurveID):void 0),n.rab_loadDatesAndEntries=t?t.compile(a):void 0,Array.isArray(n.rab_loadDatesAndEntries)&&t.Type===r.CurveStack&&(n.rab_loadDatesAndEntries=n.rab_loadDatesAndEntries.slice().reverse()),void 0===i&&(i=n.InventoryCurveID?n._model.curveByID(n.InventoryCurveID):void 0),n.rab_inventoryDatesAndEntries=i?i.compile(a):void 0,Array.isArray(n.rab_inventoryDatesAndEntries)&&i.Type===r.CurveStack&&(n.rab_inventoryDatesAndEntries=n.rab_inventoryDatesAndEntries.slice().reverse()),n._determineOverloadDatesAndEntries(),n.rab_loadCurveMinValue=0,n.rab_loadCurveMaxValue=1,n.rab_loadDatesAndEntries&&(!Array.isArray(n.rab_loadDatesAndEntries)||n.rab_loadDatesAndEntries.length)){n.rab_loadCurveMaxValue=-1/0,n.rab_loadCurveMinValue=1/0;var o=(Array.isArray(n.rab_loadDatesAndEntries)?n.rab_loadDatesAndEntries[0]:n.rab_loadDatesAndEntries).values();o&&o.forEach((function(e){isFinite(e.value)&&(n.rab_loadCurveMinValue>e.value&&(n.rab_loadCurveMinValue=e.value),n.rab_loadCurveMaxValue<e.value&&(n.rab_loadCurveMaxValue=e.value))})),isFinite(n.rab_loadCurveMaxValue)||(n.rab_loadCurveMinValue=0,n.rab_loadCurveMaxValue=1)}if(n.rab_capacityDatesAndEntries&&(!Array.isArray(n.rab_capacityDatesAndEntries)||n.rab_capacityDatesAndEntries.length)){var s=(Array.isArray(n.rab_capacityDatesAndEntries)?n.rab_capacityDatesAndEntries[0]:n.rab_capacityDatesAndEntries).values();s&&s.forEach((function(e){n.rab_loadCurveMaxValue<e.value&&(n.rab_loadCurveMaxValue=e.value)})),n.rab_loadCurveMaxValue<0?n.rab_loadCurveMaxValue=0:n.rab_loadCurveMinValue>0&&(n.rab_loadCurveMinValue=0)}if(n.rab_inventoryCurveMinValue=1/0,n.rab_inventoryCurveMaxValue=-1/0,n.rab_inventoryDatesAndEntries){!function e(t){if(Array.isArray(t))t.length&&t.forEach((function(t){e(t)}));else{var i=t.values();i&&i.forEach((function(e){n.rab_inventoryCurveMinValue>e.value&&(n.rab_inventoryCurveMinValue=e.value),n.rab_inventoryCurveMaxValue<e.value&&(n.rab_inventoryCurveMaxValue=e.value)}))}}(n.rab_inventoryDatesAndEntries)}isFinite(n.rab_inventoryCurveMaxValue)||(n.rab_inventoryCurveMinValue=0,n.rab_inventoryCurveMaxValue=1),this._curveDatesAndEntriesAreDirty=!1}},_determineOverloadDatesAndEntries:function(){"use strict";var e=this;if(e.rab_isOverloaded=!1,e.rab_loadDatesAndEntries&&e.rab_capacityDatesAndEntries){var t=Array.isArray(e.rab_loadDatesAndEntries)?e.rab_loadDatesAndEntries[0]:e.rab_loadDatesAndEntries,i=Array.isArray(e.rab_capacityDatesAndEntries)?e.rab_capacityDatesAndEntries[0]:e.rab_capacityDatesAndEntries;if(t){var n={date:new Date(0),value:{start:new Date(0),value:0}},o={date:a.nSortedDatesWithValuesList.DateInfinity,value:{start:a.nSortedDatesWithValuesList.DateInfinity,value:0}},r=o,s=i?i.determineNextOrSameDateWithValue(new Date(0)):n;i&&s&&(n=s,s=i.determineNextDateWithValue(s.date),r=s||o);var l=Math.max(n.value.value,0);t.forEach((function(t,a,s){for(;;){if(t<r.date&&s.value>l)return void(e.rab_isOverloaded=!0);if(!(a>r.date))break;n=r,l=Math.max(n.value.value,0),i&&(r=i.determineNextDateWithValue(r.date)||o)}}))}}}},l={};a.nClassFactory.extendClass(l,"rabResource",o,s);var c=l.rabResource;Object.defineProperty(c.prototype,"PM_TableRowDefinitionID",{get:function(){return this._data.PM_TableRowDefinitionID}}),Object.defineProperty(c.prototype,"TableText",{get:function(){return this._data.TableText||this._data.Name}}),Object.defineProperty(c.prototype,"Name",{get:function(){return this._data.TableText||this._data.Name}}),Object.defineProperty(c.prototype,"CapacityCurveID",{get:function(){return null!=this._data.CapacityCurveID?this._data.CapacityCurveID.toString():void 0}}),Object.defineProperty(c.prototype,"LoadCurveID",{get:function(){return null!=this._data.LoadCurveID?this._data.LoadCurveID.toString():void 0}}),Object.defineProperty(c.prototype,"InventoryCurveID",{get:function(){var e=!!this.model().app()._f&&this.model().app()._f.indexOf(1e3)>=0;return null!=this._data.InventoryCurveID&&e?this._data.InventoryCurveID.toString():void 0}}),Object.defineProperty(c.prototype,"CalendarID",{get:function(){return null!=this._data.CalendarID?this._data.CalendarID.toString():void 0}}),Object.defineProperty(c.prototype,"PM_HasChildren",{get:function(){var e=this._data.PM_HasChildren;return"boolean"==typeof e?e:void 0}}),Object.defineProperty(c.prototype,"PM_HasCurves",{get:function(){return!!this._data.PM_HasCurves}}),Object.defineProperty(c.prototype,"PM_TableColor",{get:function(){return this._data.PM_TableColor}}),Object.defineProperty(c.prototype,"PM_TableTextColor",{get:function(){return this._data.PM_TableTextColor}}),Object.defineProperty(c.prototype,"PM_RowSymbolIDs",{get:function(){return this._data.PM_RowSymbolIDs}}),Object.defineProperty(c.prototype,"PM_CollapseState",{get:function(){var e=this._data.PM_CollapseState;return e>=0||(e=this.rab_cachedCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(c.prototype,"PM_CollapsedRowDesign",{get:function(){var e=+this._data.PM_CollapsedRowDesign;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_ExpandedRowDesign",{get:function(){var e=+this._data.PM_ExpandedRowDesign;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_AllowedRowDragModes",{get:function(){var e=+this._data.PM_AllowedRowDragModes;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_RowSelectable",{get:function(){var e=this._data.PM_RowSelectable;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"PM_RowCollapsible",{get:function(){var e=this._data.PM_RowCollapsible;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"PM_PeriodHighlighterID",{get:function(){return null!=this._data.PM_PeriodHighlighterID?this._data.PM_PeriodHighlighterID.toString():null!=this._data.PM_CalendarGridID?this._data.PM_CalendarGridID.toString():void 0}}),Object.defineProperty(c.prototype,"PM_RowTooltipTemplateID",{get:function(){return this._data.PM_RowTooltipTemplateID}}),Object.defineProperty(c.prototype,"PM_CurveTooltipTemplateID",{get:function(){return this._data.PM_CurveTooltipTemplateID}}),Object.defineProperty(c.prototype,"PM_MinimumRowHeight",{get:function(){var e=+this._data.PM_MinimumRowHeight;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_ViewArea",{get:function(){var e=+this._data.PM_ViewArea;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_HorizontalBodyViewArea",{get:function(){var e=+this._data.PM_HorizontalBodyViewArea;return isNaN(e)?void 0:e}}),Object.defineProperty(c.prototype,"PM_BarsPaneVisible",{get:function(){var e=this._data.PM_BarsPaneVisible;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"PM_LoadCurvePaneVisible",{get:function(){var e=this._data.PM_LoadCurvePaneVisible;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"PM_InventoryCurvePaneVisible",{get:function(){var e=this._data.PM_InventoryCurvePaneVisible;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"PM_CurveCollapseState",{get:function(){var e=this._data.PM_CurveCollapseState;return e>=0||(e=this.rab_cachedCurveCollapseState),"number"==typeof e?e:-1}}),Object.defineProperty(c.prototype,"PM_MaximumSubRowHeightInTimeArea",{get:function(){var e=this._data.PM_MaximumSubRowHeightInTimeArea;return e>0?e:void 0}}),Object.defineProperty(c.prototype,"PM_MaximumRowHeight",{get:function(){var e=this._data.PM_MaximumRowHeight;return e>0?e:void 0}}),e.exports=c},7211:function(e,t,i){i(1539),i(9714);var n=i(7930).nClassFactory,a=i(4429).DisplayedElements,o=i(4081),r=o.ItemType,s=o.ViewType,l=(i(8171),i(6761)),c="rabResourceRowItem",u={construct:function(e,t,i,n,a){"use strict";var o=i.PM_CurveCollapseState;this.rab_curvePanesVisible=o>=0?!o:void 0,this.rab_firstUpdate=!0,this._super(r.Resource,e,t,i,n,void 0,a)},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this.rab_heightPropertyHasChanged&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),delete this.rab_heightPropertyHasChanged),this._super())},isResourceRelevant:function(){return!0},enrichObject:function(){"use strict";this._viewType===s.Loads&&(this.collapsedDisplayedElements=0,this.expandedDisplayedElements=0)},updateFromReference:function(e){"use strict";var t,i=this._super(e),n=this.data(),o=n.model();if(t=e&&e.ignoreCalendar?o._defaultNonWorkingTimeCalendar:o.calendarByResource(n),this.calendar=t?t.nCalendar:void 0,this.tableRowDefinitionID=n.PM_TableRowDefinitionID,null!=this.tableRowDefinitionID&&(this.tableRowDefinitionID=this.tableRowDefinitionID.toString()),this._viewType!==s.Loads){var l,c=this;if(!e||!e.ignorePeriodHighlighter){for(;null==c.data().PM_PeriodHighlighterID&&(c=c.getHierarchyParent()););l=c&&o.periodHighlighterByID(c.data().PM_PeriodHighlighterID)}this.dateAreas=l&&l.dateAreaDefinitions}this.selectable=n.PM_RowSelectable,this.collapsible=n.PM_RowCollapsible,this.collapsedDisplayedElements=n.PM_CollapsedRowDesign,this.expandedDisplayedElements=n.PM_ExpandedRowDesign,this._viewType===s.Loads&&(this.collapsedDisplayedElements&=~a.CalendarGrid,this.expandedDisplayedElements&=~a.CalendarGrid),o.app().getOption("widget")&&this.data().PM_CollapseState>=0&&(this.initiallyCollapsed=!!n.PM_CollapseState);var u=this.minimumHeight,d=this.maximumHeight,p=this.maximumSubRowHeight;this.minimumHeight=n.PM_MinimumRowHeight,this.maximumHeight=n.PM_MaximumRowHeight,this.maximumSubRowHeight=n.PM_MaximumSubRowHeightInTimeArea;var h=this.barsPaneVisible,g=this.rab_curvePanesVisible;this.barsPaneVisible=n.PM_BarsPaneVisible,null==this.barsPaneVisible&&(this.barsPaneVisible=this.getAPIOption("pm_defaultResourceBarsPaneVisible")),!1===this.barsPaneVisible&&(this.rab_curvePanesVisible=!0),this.rab_heightPropertyHasChanged=this.rab_heightPropertyHasChanged||u!==this.minimumHeight||d!==this.maximumHeight||p!==this.maximumSubRowHeight||h!==this.barsPaneVisible||g!==this.rab_curvePanesVisible,this.rab_firstUpdate&&(this.rab_color=n.PM_TableColor,this.rab_firstUpdate=!1);var _,f=n,m=this.getParentItem();if(m&&m.rab_itemType===r.Root&&(m=void 0),n.ParentID&&!m)f=void 0;else if(m){for(;;){var v=m.getParentItem();if(!v||v.rab_itemType===r.Root)break;m=v}f=m.data().ParentID?void 0:m.data()}return f&&void 0===(_=f.PM_ViewArea)&&(_=f.PM_HorizontalBodyViewArea),this.atTheTop=-1===_,i}},d={};n.extendClass(d,c,l,u);var p=d[c];Object.defineProperty(p.prototype,"CapacityCurveID",{get:function(){return null!=this._data.CapacityCurveID?this._data.CapacityCurveID:void 0}}),Object.defineProperty(p.prototype,"LoadCurveID",{get:function(){return null!=this._data.LoadCurveID?this._data.LoadCurveID:void 0}}),Object.defineProperty(p.prototype,"CalendarID",{get:function(){return null!=this._data.CalendarID?this._data.CalendarID:void 0}}),e.exports=p},6271:function(e,t,i){i(9600);var n=i(7930),a=i(4081),o=a.ItemType,r=a.RAB_ACTIVITIES_PROP_NAME,s=i(6761),l={construct:function(e,t,i){"use strict";this._super(o.Root,e,t,i,void 0,void 0,void 0),this.clearRemovedItemsCache()},clearRemovedItemsCache:function(){this._removedItemsCache={}},_createChildAtLast:function(e,t,i,a,o,r,s){"use strict";var l=this;if(l._removedItemsCache){var c=[i.Role,i.ID,r?s:""].join(n.nDefaultSeparator),u=l._removedItemsCache[c];if(u)return delete l._removedItemsCache[c],delete u._isDisposed,void 0!==s?u.construct(s,e,t,i,a,o):u.construct(e,t,i,a,o),u}return r?void 0!==s?new r(s,e,t,i,a):new r(e,t,i,a):l._super(e,t,i,a,o)},_removeChildAtLast:function(e,t,i){"use strict";var a=this;if(a._removedItemsCache){var o=t.data(),s=[o.Role,o.ID,t.getParentItemPropName&&"rab_rowItem"===t.getParentItemPropName()&&e===r?t.rab_itemType:""].join(n.nDefaultSeparator);a._removedItemsCache[s]=t}a._super(e,t,i)}},c={};n.nClassFactory.extendClass(c,"rabRootRowItem",s,l),e.exports=c.rabRootRowItem},6761:function(e,t,i){i(9554);var n=i(7930),a=i(7888),o={construct:function(e,t,i,n,a,o,r){"use strict";this._super(e,t,i,n,a,o,r)},postUpdateSelf:function(){"use strict";this._super(),!1===this.isBridgeEnabled()&&this._viewModel.registerRowItem(this._viewType,this,!1,!1)},isResourceRelevant:function(){return!1},_getHierarchyParentPrimaryKey:function(e){"use strict";if(e._hierarchyParent)return e._hierarchyParent.getPrimaryKey()},getParentItemPropName:function(){return this||this._super(),"rab_parentRowItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"childRowItems"},detachChildItem:function(e){"use strict";var t=this._super(e),i=e.getChildItemsPropNameInParent();if(this[i]&&!this[i].length){var n=this.data();n&&!n[this.getWrapperHasChildrenPropName(i)]&&delete this[i]}return t},getWrapperHasChildrenPropName:function(){return"PM_HasChildren"},updateFromReference:function(e){"use strict";var t=this,i=this._super(e);return["childRowItems","leafRowItems"].forEach((function(e,i){if(!t[e]||!t[e].length){var n=t.data();t[e]=n&&(i?n.PM_HasAllocationRows:n.PM_HasChildren)?[]:void 0}})),i},needsChildRowItemsUpdate:function(){"use strict";var e=!1,t=this.data();if(this.rab_color!==t.PM_TableColor&&(this.rab_color=t.PM_TableColor,this.getAPIOption("updateOptimizationEnabled")&&t.rab_modificationClassification||(e=!0)),!e&&this.rab_sourced_contents&&this.rab_sourced_contents.backgroundColor){var i=this.rab_sourced_contents.backgroundColor[0];i&&i.propertyName&&i.content!=t[i.propertyName]&&(e=!0)}return e}},r={};n.nClassFactory.extendClass(r,"rabRowItem",a,o),e.exports=r.rabRowItem},3398:function(e,t,i){var n=i(7930).nClassFactory,a=i(7888),o={};n.extendClass(o,"rabTimeItem",a,{postUpdateSelf:function(){"use strict";this._super(),this.isBridgeEnabled()||this._viewModel.registerRowItem(this._viewType,this.getParentItem(),!0,!1)},getParentItemPropName:function(){return this||this._super(),"rab_rowItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"timeItems"}}),e.exports=o.rabTimeItem},6390:function(e){e.exports="6.0.5"},9077:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(9554),i(2772),i(6992),i(1539),i(8783),i(4747),i(3948);var a=i(3755),o=i(7930),r=i(4081),s=r.ViewType,l=r.RAB_RESOURCES_PROP_NAME,c=r.RAB_CALENDAR_GRIDS_PROP_NAME,u=r.RAB_CALENDARS_PROP_NAME,d=r.RAB_CURVES_PROP_NAME,p=r.RAB_ACTIVITIES_PROP_NAME,h=r.RAB_ALLOCATIONS_PROP_NAME,g=r.RAB_LINKS_PROP_NAME,_=r.RAB_ENTITIES_PROP_NAME,f={construct:function(e,t,i){"use strict";var n=this;this._app=e,this._model=t,this._initOptions(i),this._viewModels={},this._ganttViews={},this._ganttViewsForViewModel={};var a=function(e,t,i){n.handleAPIOptionChanged(e,t,i)};this.setAPIOptionChangedCallback("curvePanesVisibleInActivitiesView",1,a),this.setAPIOptionChangedCallback("nonWorkingTimeVisible",1,a),this.setAPIOptionChangedCallback("pm_activityCalendarsEnabled",1,a),this.setAPIOptionChangedCallback("pm_linksVisibleInActivitiesView",1,a),this.setAPIOptionChangedCallback("pm_linksVisibleInResourcesView",1,a),this.setAPIOptionChangedCallback("pm_defaultAllocationBarDesign",1,a),this.setAPIOptionChangedCallback("multipleSelectionEnabled",1,a),this.setAPIOptionChangedCallback("timeStepUnit",1,a),this.setAPIOptionChangedCallback("timeStepUnitFactor",1,a)},destroy:function(){"use strict";var e=this;e._resizeSensor&&(e._resizeSensor.detach(),delete e._resizeSensor),a.each(e._viewModels,(function(e,t){t.destroy()})),e.ganttViews().forEach((function(e){e.destroy()}))},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this.app().setAPIOptionChangedCallback(e,t,i)},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"pm_linksVisibleInActivitiesView":this.ganttViews().forEach((function(n){n.viewModel().handleAPIOptionChanged(e,t,i),n.viewType()===s.Activities&&n.update()}));break;case"pm_linksVisibleInResourcesView":this.ganttViews().forEach((function(n){n.viewModel().handleAPIOptionChanged(e,t,i),n.viewType()===s.Resources&&n.update()}));break;case"curvePanesVisibleInActivitiesView":case"pm_activityCalendarsEnabled":this.ganttViews().forEach((function(n){n.viewModel().handleAPIOptionChanged(e,t,i),n.viewType()===s.Activities&&(n.ganttWidget().invalidateAllRows(),n.update())}));break;case"nonWorkingTimeVisible":this._showHideNonWorkingTime();break;case"pm_defaultAllocationBarDesign":this.ganttViews().forEach((function(n){n.viewModel().handleAPIOptionChanged(e,t,i),n.viewType()===s.Resources&&n.ganttWidget().invalidateAllRows(),n.update()}));break;case"multipleSelectionEnabled":this.ganttViews().forEach((function(e){e.ganttWidget().option("timeItemsSelectableByRectangle",t)}));break;case"timeStepUnit":case"timeStepUnitFactor":this.ganttViews().forEach((function(e){e.updateTimeStepUnitAndFactor()}))}},_initOptions:function(e){"use strict";var t={maximumSnapDistance:8,views:{Full:[s.Activities,s.Resources,s.Loads]}};this._options=a.extend({},t,e)},options:function(){"use strict";return a.extend({},this._options)},setOption:function(e,t){"use strict";switch(e){case"editable":case"maximumSnapDistance":this.ganttViews().forEach((function(i){i.setOption(e,t)}))}},getOption:function(e){return this._options[e]},_getColorValueByViewType:function(e,t){"use strict";if(t){if("string"==typeof t)return t;var i=t[e]||t[-1];return null!=i&&""!==i?i:void 0}},app:function(){return this._app},model:function(){return this._model},init:function(){"use strict";var e=this,t=e._app,i=e._model;e._app.getOption("fullScreenGanttViewElem")&&(e._viewModels.Full=new(t.getOption("viewModelClass"))(t,i,"Full",t.getOption("viewModelOptions")),e._ganttViews.Full=new(t.getOption("ganttViewClass"))(t,e,e._viewModels.Full,t.getOption("fullScreenGanttViewElem"),a.extend({},t.getOption("ganttViewOptions"),{editable:e.getAPIOption("editable"),pm_defaultActivityBarHeight:e.getAPIOption("pm_defaultActivityBarHeight"),pm_defaultAllocationBarHeight:e.getAPIOption("pm_defaultAllocationBarHeight"),pm_defaultActivityMinimumRowHeight:e.getAPIOption("pm_defaultActivityMinimumRowHeight"),pm_defaultResourceMinimumRowHeight:e.getAPIOption("pm_defaultResourceMinimumRowHeight"),pm_defaultEntityMinimumRowHeight:e.getAPIOption("pm_defaultEntityMinimumRowHeight")})),e._ganttViewsForViewModel.Full={},Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(s.Activities)>=0&&(e._ganttViewsForViewModel.Full[s.Activities]=e._ganttViews.Full),Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(s.Resources)>=0&&(e._ganttViewsForViewModel.Full[s.Resources]=e._ganttViews.Full),Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(s.Loads)>=0&&(e._ganttViewsForViewModel.Full[s.Loads]=e._ganttViews.Full))},initForViewType:function(e){"use strict";var t,i,n=this;(this.ganttViews().forEach((function(e){n.getAPIOption("editable")||e.ganttWidget().option("editable",n.getAPIOption("editable")),n._setColorsToGanttViews(e)})),n._initViewModels(),n._viewModels.Full)&&(void 0!==e&&n._ganttViewsForViewModel.Full[e]?t=e:[s.Activities,s.Resources,s.Loads].forEach((function(e){n._ganttViewsForViewModel.Full[e]&&(void 0===i&&(i=e),null==t&&n._ganttViewsForViewModel.Full[e].viewType()===e&&(t=e))})),void 0!==t?n._ganttViews.Full.init(t):void 0!==i&&n._ganttViews.Full.init(i));n.getAPIOption("nonWorkingTimeVisible")||n._showHideNonWorkingTime();var l=function(){n._onWindowResized()};n._onWindowResized();var c=n._app.getOption("widget");c?n._resizeSensor=new o.nResizeSensor(c.element[0],l):a(window).on("resize"+r.RAB_NAMESPACE_SUFFIX,l)},_initViewModels:function(){"use strict";var e=this;a.each(e._viewModels,(function(e,t){t.clear()})),e._viewModels.Full&&(e._ganttViewsForViewModel.Full[s.Activities]&&e._viewModels.Full.init(s.Activities),e._ganttViewsForViewModel.Full[s.Resources]&&e._viewModels.Full.init(s.Resources),(e._ganttViewsForViewModel.Full[s.Activities]||e._ganttViewsForViewModel.Full[s.Resources])&&e._viewModels.Full.init(s._Entities),e._ganttViewsForViewModel.Full[s.Loads]&&e._viewModels.Full.init(s.Loads))},ganttViews:function(){"use strict";var e=[];return this._ganttViews.Full&&e.push(this._ganttViews.Full),e},handleViewTypeSwitch:function(e,t){"use strict";this._setColorsToGanttViews(e,void 0,t,!1)},_setColorsToGanttViews:function(e,t,i){"use strict";var a=this,o=void 0!==i;(e?[e]:a.ganttViews()).forEach((function(e){(t?[t]:["pm_calendarGridColor","pm_timescaleBackgroundColor","pm_timescaleWeekendBackgroundColor","pm_timescaleTextColor","pm_timescaleTickColor","pm_timescaleHighlightingColor","pm_timeAreaBackgroundColor","pm_tableHeaderBackgroundColor","pm_tableHeaderTextColor","pm_tableHeaderColumnSeparatorColor","pm_tableHeaderHighlightingColor","pm_entitiesTableHeaderBackgroundColor","pm_entitiesTableHeaderTextColor","pm_entitiesTableHeaderColumnSeparatorColor","pm_entitiesTableHeaderHighlightingColor","pm_selectionColor","pm_splitterHighlightingColor","pm_suitableResourceOverlayColor","pm_unsuitableResourceOverlayColor","pm_scrollToObjectHighlightingColor"]).forEach((function(t){o&&"object"!==n(a.getAPIOption("key"))||e.setOption(t,a._getColorValueByViewType(o?i:e.viewType(),a._options[t]))}))}))},_onWindowResized:function(){"use strict";var e,t=this._app.options(),i=a(t.widget?t.widget.element[0]:document.body);if(t.ganttViewsContainerElem){(e=a(t.ganttViewsContainerElem)).height(i.outerHeight()-e.offset().top);t.fullScreenGanttViewElem&&function(i){if("visible"===(i=a(t.fullScreenGanttViewElem)).css("visibility")){var n=parseInt(i.css("margin-bottom")),o=parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width"));i.css("height",e.outerHeight()-n-o-(i.offset().top-e.offset().top))}}(a(t.fullScreenGanttViewElem))}},removeAll:function(){"use strict";var e=this;a.each(e._viewModels,(function(t,i){for(var n in e._ganttViewsForViewModel[t]){var a=!1;n=+n;var o=e._ganttViewsForViewModel[t][n];i.beforeRemoveAll(o,n),a||n!==s.Activities&&n!==s.Resources||(a=!0,i.beforeRemoveAll(o,s._Entities))}})),e._model.removeAll(),a.each(e._viewModels,(function(t,i){for(var n in e._ganttViewsForViewModel[t]){var a=!1;n=+n;var o=e._ganttViewsForViewModel[t][n];i.afterRemoveAll(o,n),a||n!==s.Activities&&n!==s.Resources||(a=!0,i.afterRemoveAll(o,s._Entities))}}))},addAllocation:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addAllocation(e,o,a)}})),t.ganttViews().forEach((function(t){t._addAllocation(e)}))},updateAllocation:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.beforeUpdateAllocation(e,o,a)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateAllocation(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateAllocation(e)}))}},removeAllocation:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(h,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeAllocation(i,o,a)}})),t._model.removeAllocation(i),t.ganttViews().forEach((function(e){e._removeAllocation(i)})))},addCalendar:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addCalendar(e,o,a)}})),t.ganttViews().forEach((function(t){t._addCalendar(e)}))},updateCalendar:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateCalendar(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateCalendar(e)}))}},removeCalendar:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(u,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeCalendar(i,o,a)}})),t._model.removeCalendar(i),t.ganttViews().forEach((function(e){e._removeCalendar(i)})))},addCurve:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addCurve(e,o,a)}})),t.ganttViews().forEach((function(t){t._addCurve(e)}))},updateCurve:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateCurve(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateCurve(e)}))}},removeCurve:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(d,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeCurve(i,o,a)}})),t._model.removeCurve(i),t.ganttViews().forEach((function(e){e._removeCurve(i)})))},addResource:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addResource(e,o,a)}})),t.ganttViews().forEach((function(t){t._addResource(e)}))},updateResource:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateResource(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateResource(e)}))}},removeResource:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(l,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeResource(i,o,a)}})),t._model.removeResource(i),t.ganttViews().forEach((function(e){e._removeResource(i)})))},addActivity:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addActivity(e,o,a)}})),t.ganttViews().forEach((function(t){t._addActivity(e)}))},updateActivity:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.beforeUpdateActivity(e,o,a)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateActivity(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateActivity(e)}))}},removeActivity:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(p,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeActivity(i,o,a)}})),t._model.removeActivity(i),t.ganttViews().forEach((function(e){e._removeActivity(i)})))},addLink:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addLink(e,o,a)}})),t.ganttViews().forEach((function(t){t._addLink(e)}))},updateLink:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.beforeUpdateLink(e,o,a)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updateLink(e,o,a)}})),i.ganttViews().forEach((function(t){t._updateLink(e)}))}},removeLink:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(g,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeLink(i,o,a)}})),t.ganttViews().forEach((function(e){e._removeLink(i)})),t._model.removeLink(i))},addEntity:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addEntity(e,o,a)}})),t.ganttViews().forEach((function(t){t._addEntity(e)}))},updateEntity:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.updateEntity(e,o,a)}})),t.ganttViews().forEach((function(t){t._updateEntity(e)}))},removeEntity:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(_,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removeEntity(i,o,a)}})),t.ganttViews().forEach((function(e){e._removeEntity(i)})),t._model.removeEntity(i))},addPeriodHighlighter:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,n){for(var a in t._ganttViewsForViewModel[i]){a=+a;var o=t._ganttViewsForViewModel[i][a];n.addPeriodHighlighter(e,o,a)}})),t.ganttViews().forEach((function(t){t._addPeriodHighlighter(e)}))},updatePeriodHighlighter:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,n){for(var a in i._ganttViewsForViewModel[t]){a=+a;var o=i._ganttViewsForViewModel[t][a];n.updatePeriodHighlighter(e,o,a)}})),i.ganttViews().forEach((function(t){t._updatePeriodHighlighter(e)}))}},removePeriodHighlighter:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(c,e);i&&(a.each(t._viewModels,(function(e,n){for(var a in t._ganttViewsForViewModel[e]){a=+a;var o=t._ganttViewsForViewModel[e][a];n.removePeriodHighlighter(i,o,a)}})),t._model.removePeriodHighlighter(i),t.ganttViews().forEach((function(e){e._removePeriodHighlighter(i)})))},preRender:function(){},render:function(){"use strict";var e=this;a.each(e._viewModels,(function(t,i){for(var n in e._ganttViewsForViewModel[t]){var a=e._ganttViewsForViewModel[t][n];i.update(a,+n)}})),e.ganttViews().forEach((function(e){e.update(!0)}))},scrollToObject:function(e,t,i){"use strict";if(this._ganttViews.Full)return this._ganttViews.Full.scrollToObject(e,t,i)},scrollToDate:function(e,t){"use strict";this.ganttViews().forEach((function(i){i.ganttWidget().scrollTimeAreaViewToDate(e,t)}))},getSelectedObjectsAndType:function(){"use strict";if(this._ganttViews.Full)return this._ganttViews.Full.getSelectedObjectsAndType()},selectObjects:function(e,t){"use strict";this.ganttViews().forEach((function(i){i.selectObjects(e,Array.isArray(t)?t:void 0)}))},_showHideNonWorkingTime:function(){"use strict";var e=this;e.getAPIOption("TimeVisible")?e._ganttViews.Full&&e._ganttViews.Full.showFullTime():e._ganttViews.Full&&e._ganttViews.Full.hideTime(!0)}},m={};o.nClassFactory.extendClass(m,"rabView",o.nClass,f),e.exports=m.rabView},1963:function(e,t,i){i(6541),i(9554),i(2772),i(9600),i(5827),i(7042),i(561),i(7941),i(4747);var n=i(3755),a=i(7930),o=i(4081),r=o.RAB_ROOT_PROP_NAME,s=o.RAB_RESOURCES_PROP_NAME,l=o.RAB_ACTIVITIES_PROP_NAME,c=o.RAB_LINKS_PROP_NAME,u=o.RAB_ALLOCATIONS_PROP_NAME,d=o.RAB_ALLOCATION_ENTRIES_PROP_NAME,p=o.RAB_ENTITIES_PROP_NAME,h=o.ItemType,g=o.ViewType,_=o.PrimaryKeyInfos,f=o.RelationshipInfos,m=o.AllocationBarDesign,v=a.nStructureType,b=a.nStructuralDataDescriptor,y=i(7211),A=i(6834),I=i(2704),C=i(8029),T=i(8867),w=i(8867),O=i(8029),P=i(9528),R=i(3306),D=i(254),S=(i(9427),i(4783)),E=i(8274),M=i(1389),N=i(4149),V=i(6271),k=i(6761),W={construct:function(e,t,i,n){"use strict";this._app=e,this._model=t,this._name=i,this._initOptions(n),this._linksDirty={},this._checkPlacementOfChildItemsSuppressedCount=0,this._linkIDToItemsMapForResourcesView={},this._nextAutoRowInvalidationID=0},destroy:function(){},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},handleAPIOptionChanged:function(e,t){"use strict";var i=this;switch(e){case"pm_ignoreCalendarOnAllocationBarInteractions":this._dataDescriptors&&this._dataDescriptors[g._Entities]&&this._model.entities().forEach((function(e){i.updateChild(e,null,g._Entities)}));case"pm_defaultAllocationBarDesign":case"pm_defaultAllocationConstraintSymbolColor":case"pm_detailedAllocationConstraintSymbolsEnabled":case"pm_defaultAllocationProgressBackgroundColor":case"pm_defaultAllocationBarShape":this._dataDescriptors&&this._dataDescriptors[g.Resources]&&this._model.allocations().forEach((function(e){i.updateChild(e,null,g.Resources)}));break;case"pm_activityCalendarsEnabled":case"pm_defaultActivityBarShape":case"pm_defaultActivityConstraintSymbolColor":case"pm_detailedActivityConstraintSymbolsEnabled":case"pm_defaultActivityProgressBackgroundColor":this._dataDescriptors&&this._dataDescriptors[g.Activities]&&this._model.activities().forEach((function(e){i.updateChild(e,null,g.Activities)}));break;case"pm_linksVisibleInResourcesView":this._dataDescriptors&&this._dataDescriptors[g.Resources]&&(t?this._addAllLinkItems():(this._linkIDToItemsMapForResourcesView={},this.model().allocations().forEach((function(e){e.rab_resourcesViewLinksMap={}}))))}},_initOptions:function(e){"use strict";var t={resourceRowItemClass:y,activityRowItemClass:A,activityFrameTimeItemClass:I,activityTimeItemClass:C,activityReleaseDateTimeItemClass:T,activityDueDateTimeItemClass:w,activityBaselineTimeItemClass:O,allocationRowItemClass:P,allocationTimeItemClass:R,allocationEntryTimeItemClass:D,linkItemClass:S,entityRowItemClass:E,compareRowItemsFunc:null};this._options=n.extend({},t,e)},options:function(){"use strict";return n.extend({},this._options)},setOption:function(e,t){"use strict";var i=this;if(e in this._options)switch(this._options[e]=t,e){case"compareRowItemsFunc":t&&i._dataDescriptors&&Object.keys(i._dataDescriptors).forEach((function(e){var n=i._rowItemsRoots[e];if(n){var a=[];do{["childRowItems","leafRowItems"].forEach((function(e){var o=n[e];o&&(o.sort((function(e,n){if(e===n)return 0;var a={itemA:e,itemB:n,isALowerThanB:!0};return t.call(i,a),a.isALowerThanB?-1:1})),"childRowItems"===e&&Array.prototype.push.apply(a,o))}))}while(n=a.pop());i.registerRowItem(e,i._rowItemsRoots[e],!1,!0),i.registerRowItem(e,i._rowItemsRoot[g._Entities],!1,!0);for(var o=i._app.view()?i._app.view().ganttViews():[],r=0;r<o.length;r++)if(o[r].viewType()===e){i.autoInvalidateRows(o[r],e);break}}}))}},getOption:function(e){"use strict";return this._options[e]},checkPlacementOfChildItemsSuppressed:function(e){"use strict";var t=this;if(!arguments.length)return!!t._checkPlacementOfChildItemsSuppressedCount;e?++t._checkPlacementOfChildItemsSuppressedCount:t._checkPlacementOfChildItemsSuppressedCount&&!--t._checkPlacementOfChildItemsSuppressedCount&&t.setOption("compareRowItemsFunc",t.getOption("compareRowItemsFunc"))},clear:function(){"use strict";this._rowItemsRoots=[],this._sharedDepositories=[],this._dataDescriptors=[],this.__dataReady=[],this._linksDirty={}},app:function(){return this._app},model:function(){return this._model},name:function(){return this._name},rowItemsRoot:function(e){"use strict";return this._rowItemsRoots[e]},entitiesRowItemsRoot:function(){"use strict";return this._rowItemsRoots[g._Entities]},init:function(e){"use strict";this.initDataDefinition(e),this.createViewItems(e)},isHierarchyInitialized:function(e){return this.__dataReady&&this.__dataReady[e]},reloadOrUnloadRelatedItems:function(e,t,i,n){"use strict";var a=this;if(this.__dataReady[t]){var o=this.model().getChildrenArray(i);o&&o.forEach((function(o){var r=a._item(t,o);(!r&&1===e||null!=r&&2===e)&&!0===n.call(a,o)&&(1===e?r=a.addChild(i,o,null,t):2===e&&a.removeChild(o,null,t))}))}},initDataDefinition:function(e){"use strict";var t=this._dataDescriptors,i=t[e]=t[e]||{};i[r]=new b(r,null);var n=this._sharedDepositories,o=n[e]=n[e]||{};switch(e){case g._Entities:o[p]=new a.nDepository(_[p]),i[p]=new M(this,e,p,this.model().getOption("entityClass"),this._options.entityRowItemClass,_[p],f[p],{structureType:v.Parent,relationshipInfos:f[p][0]}),i[r].addSubDescriptor(i[p]);break;case g.Activities:o[l]=new a.nDepository(_[l]),o[u]=new a.nDepository(_[u]),o[c]=new a.nDepository(_[c]),i[l]=new M(this,e,l,this.model().getOption("activityClass"),this._options.activityRowItemClass,_[l],f[l],{structureType:v.Parent,relationshipInfos:f[l][0]},f[c]),i[r].addSubDescriptor(i[l]),i[u]=new N(this,g.Activities,u,this.model().getOption("allocationClass"),this._options.allocationRowItemClass,_[u],f[u],{structureType:v.Parent,relationshipInfos:f[u][1]},f[c],void 0,{dataValidationFunc:function(e,t){if(this._viewModel.getAPIOption("pm_allocationRowsVisibleInActivitiesView"))return t}}),i[r].addSubDescriptor(i[u]),i[d]=new b(d,this._options.allocationEntryTimeItemClass,void 0,void 0,void 0,{handleParentItemFunc:function(e,t){var i=t.getHierarchyParent();if(!i||i.PM_BarDesign!==m.MergedEntries&&i.PM_BarDesign!==m.Allocation)return e.timeItems[0]}}),i[u].addSubDescriptor(i[d]);var h=a.nPrimaryKeyManager.getRelationshipInfoTo(f[c],c,l);i[c]=new N(this,e,c,this.model().getOption("linkClass"),this._options.linkItemClass,_[c],h,{structureType:v.Anchor,relationshipInfos:h}),i[r].addSubDescriptor(i[c]);break;case g.Resources:case g.Loads:o[s]=new a.nDepository(_[s]),e===g.Resources&&(o[u]=new a.nDepository(_[u])),i[s]=new M(this,e,s,this.model().getOption("resourceClass"),this._options.resourceRowItemClass,_[s],f[s],{structureType:v.Parent,relationshipInfos:f[s][0]},e===g.Resources?f[u]:void 0),i[r].addSubDescriptor(i[s]),e===g.Resources&&(i[u]=new N(this,e,u,this.model().getOption("allocationClass"),this._options.allocationTimeItemClass,_[u],f[u],{structureType:v.Parent,relationshipInfos:f[u][0]},void 0,{_additionallyUpdateChildTimeItems:this._getAdditionallyUpdateChildTimeItemsFlag()}),i[r].addSubDescriptor(i[u]),i[d]=new b(d,this._options.allocationEntryTimeItemClass,void 0,void 0,void 0,{handleParentItemFunc:function(e,t){var i=t.getHierarchyParent();if(!i||i.PM_BarDesign!==m.MergedEntries&&i.PM_BarDesign!==m.Allocation)return e}}),i[u].addSubDescriptor(i[d]))}},_getAdditionallyUpdateChildTimeItemsFlag:function(){return!1},_saveAncestorItems:function(e){"use strict";this._temporaryAncestorItems=[];for(var t=e.rab_parentRowItem;t;t=t.rab_parentRowItem)this._temporaryAncestorItems.push(t)},_checkChildItemsArraysInAncestors:function(){"use strict";if(this._temporaryAncestorItems)for(var e;e=this._temporaryAncestorItems.pop();)e.data()&&!e.data().PM_HasChildren&&["childRowItems","leafRowItems"].forEach((function(t){e[t]&&!e[t].length&&delete e[t]}))},_checkPlacementInChildItemsOfParent:function(e){"use strict";var t=this;if(!t._checkPlacementOfChildItemsSuppressedCount)if(t.getOption("compareRowItemsFunc")){var i=(l=e.rab_parentRowItem)[l.getChildItemsPropNameInParent()];i.splice(i.indexOf(e),1);for(var n=0,a=i.length-1,o={itemB:e};n<=a;){var r=(n+a)/2|0;o.itemA=i[r],o.isALowerThanB=!0,t._options.compareRowItemsFunc.call(this,o),o.isALowerThanB?n=r+1:a=r-1}var s=Math.max(n,a);i.splice(s,0,e)}else if(t._temporaryAncestorItems){var l=e.rab_parentRowItem;t._temporaryAncestorItems.every((function(i){if(i===l){var n=l[l.getChildItemsPropNameInParent()],a=n.indexOf(e),o=n.indexOf(t._temporaryAncestorItems.pop());return n.splice(a,1),n.splice(o+1,0,e),!1}return!0}))}},createViewItems:function(e){"use strict";var t=this._dataDescriptors[e];this._rowItemsRoots[e]=new V(e,this,this._model),this.__dataReady[e]=!1,this._rowItemsRoots[e].initHierarchy(this._model,t[r]),e===g.Resources&&this.getAPIOption("pm_linksVisibleInResourcesView")&&this._addAllLinkItems(),this.__dataReady[e]=!0,this.enableRegisterRowItems(e,!0)},resourceItem:function(e,t){return this._item(e,t)},resourceItems:function(e){return this._items(e,s)},resourceByItem:function(e){"use strict";return e.rab_itemType===h.Resource?e.data():e.rab_itemType===h.ActivityRow&&this.getAPIOption("curvePanesVisibleInActivitiesView")?this._resourceByActivity(e.data()):void 0},_resourceByActivity:function(e){"use strict";var t=this._app.getAllocationsForActivity(e.ID);if(t.length){var i=t[0].ResourceID,n=t[0].ResourceRole;if(i)return this.model().resourceByID([n,i].join(a.nDefaultSeparator))}},activityItem:function(e,t){return this._item(e,t)},activityItems:function(e){return this._items(e,l)},linkItem:function(e,t,i){"use strict";if(this.getAPIOption("pm_linksVisibleInActivitiesView")&&e===g.Activities){if(!i)return this._item(e,t)}else if(this.getAPIOption("pm_linksVisibleInResourcesView")&&e===g.Resources){var n=a.nPropertyComposer.compose(t,["Role","ID"]);if(!i)return this._linkIDToItemsMapForResourcesView[n];this._linkIDToItemsMapForResourcesView[n]=i}},linkItems:function(e){"use strict";var t=this;if(t.getAPIOption("pm_linksVisibleInActivitiesView")&&e===g.Activities)return t._items(e,c);if(t.getAPIOption("pm_linksVisibleInResourcesView")&&e===g.Resources){var i=[];return Object.keys(t._linkIDToItemsMapForResourcesView).forEach((function(e){Array.prototype.push.apply(i,t._linkIDToItemsMapForResourcesView[e])})),i}},refreshLinks:function(e){"use strict";this.linkItems(e).forEach((function(e){e.updateFromReference()}))},allocationItem:function(e,t){return this._item(e,t)},allocationByItem:function(e){"use strict";return e.rab_itemType===h.Allocation?e.data():e.rab_itemType===h.AllocationEntry?e.data().getHierarchyParent():void 0},allocationItems:function(e){return this._items(e,u)},entityItem:function(e,t){if(e===g.Activities||e===g.Resources)return this._item(g._Entities,t)},entityItems:function(e){if(e===g.Activities||e===g.Resources)return this._items(g._Entities,p)},_createItem:function(e,t,i,a,o){"use strict";var r=this,s=null;switch(t){case h.Resource:break;case h.ActivityFrame:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.activityFrameTimeItemClass);break;case h.Activity:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.activityTimeItemClass,t);break;case h.ActivityDueDate:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.activityDueDateTimeItemClass,t);break;case h.ActivityReleaseDate:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.activityReleaseDateTimeItemClass,t);break;case h.ActivityBaseline:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.activityBaselineTimeItemClass,t);break;case h.Link:g.Resources,s=new r._options.linkItemClass(e,this,a,void 0,void 0);break;case h.Allocation:s=this._rowItemsRoots[e]._createChildAtLast(e,this,a,i,null,r._options.allocationTimeItemClass)}return s&&o&&n.extend(s,o),s},addActivity:function(e,t,i){"use strict";if(i===g.Resources)this.invalidateRelatedAllocations(e,["ActivityRole","ActivityID"],t,i),this._updateLinkItems(h.Activity,e,"add");else if(i===g.Activities){var n=this.addChild(l,e,t,i);return this._invalidateLinkItemsRelatedToActivity(e,t,i),n}},beforeUpdateActivity:function(e,t,i){"use strict";i===g.Resources&&this._updateLinkItems(h.Activity,e,"remove")},updateActivity:function(e,t,i){"use strict";i===g.Resources?(this.invalidateRelatedAllocations(e,["ActivityRole","ActivityID"],t,i),this._updateLinkItems(h.Activity,e,"update")):i===g.Activities&&this._updateRowObject(e,t,i)},removeActivity:function(e,t,i){"use strict";i===g.Resources?(this._updateLinkItems(h.Activity,e,"remove"),this.invalidateRelatedAllocations(e,["ActivityRole","ActivityID"],t,i)):i===g.Activities&&(this._invalidateLinkItemsRelatedToActivity(e,t,i),this.removeChild(e,t,i),this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItems)},addAllocation:function(e,t,i){"use strict";var n=i===g.Resources,a=i===g.Activities&&this.getAPIOption("pm_allocationRowsVisibleInActivitiesView"),o=(n||a)&&this.addChild(u,e,t,i);return o&&this._updateLinkItems(h.Allocation,e,"add"),o},beforeUpdateAllocation:function(e,t,i){"use strict";i===g.Resources&&this._updateLinkItems(h.Allocation,e,"remove")},updateAllocation:function(e,t,i){"use strict";var n=i===g.Resources,a=i===g.Activities&&this.getAPIOption("pm_allocationRowsVisibleInActivitiesView");if(n||a){this.updateChild(e,t,i);var o=this.allocationItem(i,e);a&&o&&(o=e.timeItems&&e.timeItems[0]),o&&Array.isArray(o.childTimeItems)&&o.childTimeItems.forEach((function(e){e.updateFromReference()})),n&&this._updateLinkItems(h.Allocation,e,"update")}},removeAllocation:function(e,t,i,n){"use strict";var a=i===g.Resources,o=i===g.Activities&&(n||this.getAPIOption("pm_allocationRowsVisibleInActivitiesView")),r=a||o;a&&this._updateLinkItems(h.Allocation,e,"remove"),r&&this.removeChild(e,t,i)},addResource:function(e,t,i){"use strict";if(i===g.Resources||i===g.Loads)return this.addChild(s,e,t,i)},updateResource:function(e,t,i){"use strict";i!==g.Resources&&i!==g.Loads||this._updateRowObject(e,t,i)},_updateRowObject:function(e,t,i){"use strict";var n=this,a=t.ganttWidget(),o=n._item(i,e),r=!o;if(o||(n.updateChild(e,t,i),o=n._item(i,e)),o){var s=o.atTheTop;a.invalidateRowsForTreeViewUpdate(o,(function(){return n.getOption("compareRowItemsFunc")&&++n._checkPlacementOfChildItemsSuppressedCount,r||(n.updateChild(e,t,i),o=n._item(i,e)),n.getOption("compareRowItemsFunc")&&!--n._checkPlacementOfChildItemsSuppressedCount&&o&&n._checkPlacementInChildItemsOfParent(o),o||null})),n._checkChildItemsArraysInAncestors();var l=n._invalidateRelatedChildRows(e,t,i);if(o){var c=o.atTheTop;s!==c&&(["childRowItems","leafRowItems"].forEach((function(e,t){for(var i,n=o[e]?o[e].slice():[];i=n.pop();)i.atTheTop=c,!t&&i[e]&&Array.prototype.push.apply(n,i[e])})),l||a.options.treeLinesVisible||n.registerRowItem(i,o,!1,!0))}}delete n._temporaryAncestorItems},removeResource:function(e,t,i){"use strict";i!==g.Resources&&i!==g.Loads||(this.removeChild(e,t,i),this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItems)},addCalendar:function(e,t,i){this.updateRowObjectsByCalendar(e,t,i)},updateCalendar:function(e,t,i){this.updateRowObjectsByCalendar(e,t,i)},removeCalendar:function(e,t,i){this.updateRowObjectsByCalendar(e,t,i,!0)},updateRowObjectsByCalendar:function(e,t,i,n){"use strict";var o,r=this;if(n&&((o={}).ignoreCalendar=n),i!==g.Activities||r.getAPIOption("pm_activityCalendarsEnabled")){this.updateRowObjectsByWrapper(e,"CalendarID",(function(e){e.updateFromReference(o),r.registerRowItem(i,e,!1,!0)}),t,i,!1)}if(i===g.Activities&&r.getAPIOption("pm_allocationRowsVisibleInActivitiesView")){var s=this.model(),l=e.getPrimaryKey();s.getChildrenArray(u).forEach((function(e){var t=s.resourceByID(a.nPropertyComposer.compose(e,["ResourceRole","ResourceID"],a.nDefaultSeparator));if(t){var n=t.CalendarID;if(n&&n===l){var c=r.allocationItem(i,e);c&&(c.updateFromReference(o),r.registerRowItem(i,c,!1,!1))}}}))}},addCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},updateCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},removeCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},updateRowObjectsByCurve:function(e,t,i){"use strict";var n=this;if(i!==g.Activities||this.getAPIOption("curvePanesVisibleInActivitiesView")){this.updateRowObjectsByWrapper(e,["CapacityCurveID","LoadCurveID","InventoryCurveID"],(function(e){n.registerRowItem(i,e,!1,!1)}),t,i,!0)}},updateRowObjectsByWrapper:function(e,t,i,n,o,r){"use strict";var c=this,u=this.model(),d=e.getPrimaryKey(),p=o===g.Activities;u.getChildrenArray(p?l:s).forEach((function(e){var n,s=!1;r&&((n=p?c._resourceByActivity(e):e)&&[u.curveByID(n.CapacityCurveID),u.curveByID(n.LoadCurveID),u.curveByID(n.InventoryCurveID)].forEach((function(e){e&&(s=s||e.isDirty())})));if(s||c.propertyContentFits(d,e,t)){r&&n&&n.curvesChanged();var l=p?c.activityItem(o,e):c.resourceItem(o,e);l&&a.nFunctionDispatcher.each(l,i)}}))},propertyContentFits:function(e,t,i){"use strict";if(null!=t)return a.nFunctionDispatcher.each(i,(function(i){if(t[i]&&t[i]===e)return!0}),!0)},addLink:function(e,t,i){"use strict";if(i===g.Activities)return this.addChild(c,e,t,i);i===g.Resources&&this.__dataReady[i]&&this._updateLinkItems(h.Link,e,"add")},beforeUpdateLink:function(e,t,i){"use strict";i===g.Resources&&this.__dataReady[i]&&this._updateLinkItems(h.Link,e,"remove")},updateLink:function(e,t,i){"use strict";i===g.Activities?this.updateChild(e,t,i):i===g.Resources&&this.__dataReady[i]&&this._updateLinkItems(h.Link,e,"update")},removeLink:function(e,t,i){"use strict";i===g.Activities?this.removeChild(e,t,i):i===g.Resources&&this.__dataReady[i]&&this._updateLinkItems(h.Link,e,"remove")},addEntity:function(e,t,i){"use strict";if(i===g.Activities||i===g.Resources)return this.addChild(p,e,t,g._Entities)},updateEntity:function(e,t,i){"use strict";i!==g.Activities&&i!==g.Resources||this._updateRowObject(e,t,g._Entities)},removeEntity:function(e,t,i){"use strict";i!==g.Activities&&i!==g.Resources||(this.removeChild(e,t,g._Entities),this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItems)},addPeriodHighlighter:function(e,t,i){"use strict";this.updateRowObjectsByPeriodHighlighter(e,t,i)},updatePeriodHighlighter:function(e,t,i){"use strict";this.updateRowObjectsByPeriodHighlighter(e,t,i)},removePeriodHighlighter:function(e,t,i){"use strict";this.updateRowObjectsByPeriodHighlighter(e,t,i,!0)},updateRowObjectsByPeriodHighlighter:function(e,t,i,n){"use strict";var a=this;if(i!==g.Activities||a.getAPIOption("pm_activityCalendarsEnabled")){var o;n&&((o={}).ignorePeriodHighlighter=n);this.updateRowObjectsByWrapper(e,"PM_PeriodHighlighterID",(function(e){e.updateFromReference(o),a.registerRowItem(i,e,!1,!0)}),t,i,!1)}},addChild:function(e,t,i,n){"use strict";var a=this._rowItemsRoots[n];if(a)return a.addOrRemoveChildWithParentSearch(1,e,t)},updateChild:function(e,t,i){"use strict";var n=this._rowItemsRoots[i];if(n){var a=this._item(i,e);if(a)if(Array.isArray(a))a.slice().forEach((function(t){n.updateChild(t,e)}));else n.updateChild(a,e);else this.addChild(e.getPropertyName(),e,t,i)}},removeChild:function(e,t,i){"use strict";var n=this._rowItemsRoots[i];if(n){var a=this._item(i,e);if(a){var o=e.getPropertyName();if(Array.isArray(a))a.slice().forEach((function(e){n.addOrRemoveChildWithParentSearch(2,o,e)}));else n.addOrRemoveChildWithParentSearch(2,o,a)}}},beforeRemoveAll:function(e,t){"use strict";if(this._rowItemsRoots[t]){var i=this._dataDescriptors[t];e.viewType()===t&&(e.viewType()===g.Resources&&(this._linkIDToItemsMapForResourcesView={}),e._beforeRemoveAll()),this.enableRegisterRowItems(t,!1),this._rowItemsRoots[t].initHierarchy(null,i[r]);var n=this._sharedDepositories[t];n&&Object.keys(n).forEach((function(e){e!==r&&n[e].removeAll()}))}},afterRemoveAll:function(e,t){"use strict";this._rowItemsRoots[t]&&(this.__dataReady[t]=!1,this._rowItemsRoots[t].dispose(),delete this._rowItemsRoots[t],e.viewType()===t&&e._beforeRemoveAll())},registerRowItem:function(e,t,i,n){"use strict";if(t&&this.isRegisterRowItemsEnabled(e)){if(!(t instanceof k))return;this.registeredRowItemsMap||(this.registeredRowItemsMap={});var a=this.registeredRowItemsMap[e];if(a||(a=this.registeredRowItemsMap[e]={}),t===this._rowItemsRoots[e])this.registeredRowItemsMap[e]={root:!0};else if(!a.root){void 0===t.rab_autoInvalidationID&&(t.rab_autoInvalidationID=this._nextAutoRowInvalidationID++);var o=a[t.rab_autoInvalidationID];o?(o.barsChanged|=i,o.childRowsChanged|=n):a[t.rab_autoInvalidationID]={rowItem:t,barsChanged:i,childRowsChanged:n}}}},invalidateAllRowsIfEmpty:function(e){"use strict";var t=this,i=e.viewType(),n=t._rowItemsRoots[i];!n||n.childRowItems&&n.childRowItems.length||t.registerRowItem(i,n,!1,!0);var a=t._rowItemsRoots[g._Entities];!a||a.childRowItems&&a.childRowItems.length||t.registerRowItem(i,a,!1,!0)},autoInvalidateRows:function(e,t){e&&this._doAutoInvalidateRows(e,t)},_doAutoInvalidateRows:function(e,t){"use strict";if(t===g._Entities||e.viewType()!==t||t!==g.Activities&&t!==g.Resources||this.autoInvalidateRows(e,g._Entities),this.isRegisterRowItemsEnabled(t)&&this.registeredRowItemsMap){var i;t!==g._Entities&&e.viewType()===t&&(i=e.ganttWidget().selectedTimeItems());var n=this.registeredRowItemsMap[t];if(n&&Object.keys(n).length){if(t===g._Entities||e.viewType()===t){var a=this._rowItemsRoots[t],o=t!==g._Entities?e.ganttWidget():e.isEntitiesTableVisible()&&e.entitiesTableWidget();if(o)if(n.root)t!==g._Entities?e.invalidateRow(a,!0,!0):e.invalidateEntityRow(a,!0);else{var r;do{r=!1,Object.keys(n).forEach((function(e){var t=n[e],i=t.rowItem;if(!t.deleted&&!t.barsChanged){var a=i.getParentItem();if(a&&void 0!==a.rab_autoInvalidationID){var o=n[a.rab_autoInvalidationID];o&&(o.childRowsChanged||o.deleted)&&(t.deleted=!0,o.barsChanged|=t.barsChanged,r=!0)}}}))}while(r);Object.keys(n).forEach((function(i){var a=n[i];if(!a.deleted){var r=a.rowItem,s=r.getParentItem();if(s){if(void 0===o.isRowHidden(r)){if(void 0===o.isRowHidden(s))return;r=s,a.childRowsChanged=!0,a.barsChanged=!1}if(t!==g._Entities){var l=a.barsChanged?o.getVisibleParent(r):r;e.invalidateRow(l,a.barsChanged,a.childRowsChanged||l!==r)}else e.invalidateEntityRow(r,a.childRowsChanged)}}}))}}delete this.registeredRowItemsMap[t]}t!==g._Entities&&i.length&&e.viewType()===t&&e.ganttWidget().selectedTimeItems(i)}},clearRegisteredRowItems:function(e){"use strict";this.isRegisterRowItemsEnabled(e)&&(this.enableRegisterRowItems(e,!1),this.enableRegisterRowItems(e,!0))},enableRegisterRowItems:function(e,t){"use strict";var i=this.registerRowItemsEnabled;i||(i=this.registerRowItemsEnabled={});var n=i[e]||!1;return i[e]=t,!t&&this.registeredRowItemsMap&&this.registeredRowItemsMap[e]&&(this.registeredRowItemsMap[e]={}),n},isRegisterRowItemsEnabled:function(e){"use strict";return this.registerRowItemsEnabled&&this.registerRowItemsEnabled[e]},_findItemOfTypeInArray:function(e,t){"use strict";if(e)return e.reduce((function(e,i){return!e&&i&&i.rab_itemType===t?i:e}),null)||void 0},_updateTimeItem:function(e,t,i,n,a){"use strict";var o=e.rab_itemType===h.ActivityFrame?e.childTimeItems:e.timeItems,r=this._findItemOfTypeInArray(o,t);r&&!n?o.splice(o.indexOf(r),1):n&&(r||(r=this._createItem(i,t,e,e.data())),a.call(this,r))},_item:function(e,t,i){"use strict";if(t){var n=this._sharedDepositories[e];if(n){var a=t.getPropertyName();if(a){var o=n[a];if(o){var r=t.detectExtendedPrimaryKey();return o.getMap()[r]}}}}},_items:function(e,t){"use strict";var i=this._sharedDepositories[e];if(i&&t){var n=i[t];if(n)return n.getArray()}},invalidateRelatedAllocations:function(e,t,i,n){"use strict";var o=this;if(this._rowItemsRoots[n]){var r=e.getPrimaryKey(),s=this._items(n,u);s&&s.length>0&&s.forEach((function(e){a.nPrimaryKeyManager.getPrimaryKeyByPrimaryKeyNames(e,t)===r&&(e.updateFromReference(),e.childTimeItems&&e.childTimeItems.forEach((function(e){e.updateFromReference()})),o.registerRowItem(n,n===g.Activities?e:e.getParentItem(),!0,!1))}))}},_invalidateLinkItemsRelatedToActivity:function(e,t,i){"use strict";var n=this;if(this._rowItemsRoots[i]){var a,o=this._items(i,c);if(o&&o.length>0)o.forEach((function(t){var o=t.data();if(o.SourceActivityRole===e.Role&&o.SourceActivityID===e.ID||o.TargetActivityRole===e.Role&&o.TargetActivityID===e.ID){a||(a=n._linksDirty[i])||(a=n._linksDirty[i]={});var r=t.detectExtendedPrimaryKey();a[r]||(a[r]=!0)}}))}},_invalidateRelatedChildRows:function(e,t,i){"use strict";var n=this._item(i,e);if(n&&n.needsChildRowItemsUpdate())return this.registerRowItem(i,n,!1,!0),!0},update:function(e,t){"use strict";var i=this;if(i.__dataReady[t])i._rowItemsRoots[t].clearRemovedItemsCache();else{var n=!1;i.init(t),t!==g._Entities&&(i._app.determineVisibilityOfObjects(e),e.updateAllRowHeights(t),i.__dataReady[g._Entities]||(i.init(g._Entities),n=!0)),e.viewType()===t&&e.ganttWidget().option("rowItemsRoot",i._rowItemsRoots[t]),n&&e.entitiesTableWidget()?e.entitiesTableWidget().option("rowItemsRoot",i._rowItemsRoots[g._Entities]):t===g._Entities&&e.entitiesTableWidget()&&e.entitiesTableWidget().option("rowItemsRoot",i._rowItemsRoots[t])}if(e.viewType()===t&&i.autoInvalidateRows(e,t),t===g.Activities){var a=i._linksDirty[t];if(a){var o=i._sharedDepositories[t][c];Object.keys(a).forEach((function(e){var t=o.getMap()[e];t&&t.updateFromReference()})),delete i._linksDirty[t]}}},__addLinkItem:function(e,t,i,n){"use strict";var o=this,r=e.SourceActivityRole===t.Role&&e.SourceActivityID===t.ID,s=e.TargetActivityRole===t.Role&&e.TargetActivityID===t.ID;if(r||s){var l=a.nPropertyComposer.compose(e,["Role","ID"]),c=i.rab_resourcesViewLinksMap;if(c||(c=i.rab_resourcesViewLinksMap={}),!c[l]){var u=void 0,d=a.nPropertyComposer.compose(e,r?["TargetActivityRole","TargetActivityID"]:["SourceActivityRole","SourceActivityID"]),p=o.model().activityByID(d);p&&(n&&n[d]?n[d]:o.model().allocations()).forEach((function(t){if(n||t.ActivityRole===p.Role&&t.ActivityID===p.ID){c[l]=!0;var a=o._createItem(g.Resources,h.Link,null,e,{rab_sourceAllocation:r?i:t,rab_targetAllocation:s?i:t});if(a.updateFromReference(),u||(u=o.linkItem(g.Resources,e))||(u=[],o.linkItem(g.Resources,e,u)),u.push(a),i!==t){var d=t.rab_resourcesViewLinksMap;d||(d=t.rab_resourcesViewLinksMap={}),d[l]=!0}}}))}}return r||s},__removeLinkItem:function(e,t,i){"use strict";var n=e.SourceActivityRole===t.Role&&e.SourceActivityID===t.ID,o=e.TargetActivityRole===t.Role&&e.TargetActivityID===t.ID;if(n||o){var r=a.nPropertyComposer.compose(e,["Role","ID"]),s=i.rab_resourcesViewLinksMap;if(s&&s[r]){delete s[r];var l=this.linkItem(g.Resources,e);if(l)for(var c=l.length-1;c>=0;c--){var u=l[c];if((n?u.rab_sourceAllocation:u.rab_targetAllocation)===i){l.splice(c,1),l.length||delete this._linkIDToItemsMapForResourcesView[r];var d=n?u.rab_targetAllocation:u.rab_sourceAllocation;if(i!==d){var p=d.rab_resourcesViewLinksMap;p&&delete p[r]}}}}}return n||o},_addAllLinkItems:function(){"use strict";var e=this,t=e.model().links();if(t&&t.length){var i={};e.model().allocations().forEach((function(t){var n=a.nPropertyComposer.compose(t,["ActivityRole","ActivityID"]);if(e.model().activityByID(n)){var o=i[n];o||(o=i[n]=[]),o.push(t)}})),t.forEach((function(t){var n=a.nPropertyComposer.compose(t,["SourceActivityRole","SourceActivityID"]),o=e.model().activityByID(n);if(o){var r=i[n];r&&r.forEach((function(a){e.__addLinkItem(t,o,a,i,n)}))}}))}},_updateLinkItems:function(e,t,i){"use strict";var n=this;if(n.getAPIOption("pm_linksVisibleInResourcesView"))switch(e){case h.Link:var o="remove"===i?n.__removeLinkItem:n.__addLinkItem,r=a.nPropertyComposer.compose(t,["SourceActivityRole","SourceActivityID"]),s=n.model().activityByID(r);if(s){r=a.nPropertyComposer.compose(t,["TargetActivityRole","TargetActivityID"]);var l=n.model().activityByID(r);l&&n.model().allocations().forEach((function(e){e.ActivityID===s.ID&&e.ActivityRole===s.Role?o.call(n,t,s,e):e.ActivityID===l.ID&&e.ActivityRole===l.Role&&o.call(n,t,l,e)}))}break;case h.Activity:o="remove"===i?n.__removeLinkItem:n.__addLinkItem;n.model().allocations().forEach((function(e){e.ActivityID===t.ID&&e.ActivityRole===t.Role&&n.model().links().forEach((function(i){o.call(n,i,t,e)}))}));break;case h.Allocation:r=a.nPropertyComposer.compose(t,["ActivityRole","ActivityID"]);var c=n.model().activityByID(r);if(c)switch(i){case"add":case"update":n.model().links().forEach((function(e){n.__addLinkItem(e,c,t)}));break;case"remove":t.rab_resourcesViewLinksMap&&Object.keys(t.rab_resourcesViewLinksMap).forEach((function(e){var i=n.model().linkByID(e);i&&n.__removeLinkItem(i,c,t)}))}}},determineVisibilityOfRowsInView:function(e,t,i){"use strict";var n=this,a=e.viewType(),o=i===h.Activity?g.Activities:g.Resources,r=a===o,s=a===g.Loads,l=n.isHierarchyInitialized(o)?i===h.Activity?n.activityItems(o):n.resourceItems(o):void 0;if(i!==h.Resource||l&&l.length||!n.isHierarchyInitialized(g.Loads)||(o=g.Loads,l=n.resourceItems(o),r=s),l){var c=[],u=[];l.forEach((function(i){if(!t||!t[i.data().ID]){var a=e.checkObjectVisibility(i)?void 0:0,l=function(e,t,i,n){t!==e.totalHeight&&(i.push(e),n&&(e.oldTotalHeight=e.totalHeight),e.rab_hidden=0===t,0===t?e.totalHeight=0:delete e.totalHeight)};if(l(i,a,c,r),o===g.Resources&&n.isHierarchyInitialized(g.Loads)){var d=n.resourceItem(g.Loads,i.data());d&&(u.push(d),l(d,a,u,s))}}})),[c,u].forEach((function(e){var t={};e.forEach((function(e){if(t[e.id]=!0,!e.rab_hidden&&e.rab_parentRowItem.rab_itemType===i)for(var n=e.rab_parentRowItem;n&&!t[n.id];)t[n.id]=!0,delete n.totalHeight,n.rab_hidden=!1,n=n.rab_parentRowItem}))})),a===g.Loads&&o===g.Resources&&(l=n.resourceItems(a),r=!0),r&&l.forEach((function(t){t.totalHeight!==t.oldTotalHeight&&(e.updateRowHeight(t),n.registerRowItem(a,t,!1,!1))}))}},determineVisibilityOfAllocationsInView:function(e,t){"use strict";var i=this,n=e.viewType()===g.Resources?[]:void 0,a={};i.allocationItems(g.Resources).forEach((function(i){if(!t||t[i.data().ID]){var o=i.hidden||!1;if(i.hidden=!e.checkObjectVisibility(i),n&&o!==i.hidden){var r=e.ganttWidget().getVisibleParent(i.rab_rowItem),s=r.data().ID;a[s]||(a[s]=!0,n.push(r))}}})),n&&n.length&&n.forEach((function(t){i.registerRowItem(e.viewType(),t,!0,!0)}))}},B={};a.nClassFactory.extendClass(B,"rabViewModel",a.nClass,W),e.exports=B.rabViewModel},8509:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(9826),i(9554),i(2772),i(6992),i(9600),i(1249),i(7042),i(8309),i(489),i(7941),i(1539),i(4916),i(9714),i(8783),i(5306),i(3123),i(4747),i(3948);var a=i(3755);i(2228);var o=i(5680),r=i(7930),s=r.nDebugHelper,l=r.nWorldViewCanvasWidget.Position,c=r.nOSDetector,u=r.nFileSaver,d=r.nScrollBarWidthDetector,p=r.nPopup,h=r.nDateHelper,g=r.nDefaultSeparator,_=i(4081),f=_.ActivityBarDragModes,m=_.ActivityBarShape,v=_.AllocationBarDesign,b=_.AllocationBarDragModes,y=_.AllocationBarShape,A=_.DateLineGridModes,I=_.ItemType,C=_.LinkMarker,T=_.LinkRoutingType,w=_.ObjectType,O=_.ProgressBarWidthCalculationMode,P=_.RowDesigns,R=_.RowDragModes,D=_.SelectionBehavior,S=_.TimescaleNavigationMode,E=_.ViewType,M=_.VisualType,N=i(6025),V=i(4816),k=i(6390),W=["entitiesTableVisible","nonworkingTimeVisible","customVersion","pm_topBodyViewAreaVisible","pm_maximumTopBodyViewAreaHeightRatio","pm_defaultMinimumActivityRowHeight","pm_defaultMinimumResourceRowHeight","pm_defaultMinimumEntityRowHeight","pm_defaultAllowedAllocationBarDragModes","pm_defaultAllowedActivityBarDragModes","pm_defaultAllowedActivityRowDragModes","pm_defaultAllowedResourceRowDragModes","pm_defaultAllowedEntityRowDragModes","pm_suitableResourcesOverlayColor","pm_unsuitableResourcesOverlayColor","pm_commonViewAreaVisible","pm_activityTableRowDefinitionIDForTitle","pm_resourceTableRowDefinitionIDForTitle","pm_entityTableRowDefinitionIDForTitle"],B=["entitiesTableVisibleInResourcesView","TimeVisible","version","pm_topViewAreaVisible","pm_maximumTopViewAreaHeightRatio","pm_defaultActivityMinimumRowHeight","pm_defaultResourceMinimumRowHeight","pm_defaultEntityMinimumRowHeight","pm_defaultAllocationAllowedBarDragModes","pm_defaultActivityAllowedBarDragModes","pm_defaultActivityAllowedRowDragModes","pm_defaultResourceAllowedRowDragModes","pm_defaultEntityAllowedRowDragModes","pm_suitableResourceOverlayColor","pm_unsuitableResourceOverlayColor","pm_mainViewAreaVisible","pm_tableRowDefinitionIDForTitleInActivitiesView","pm_tableRowDefinitionIDForTitleInResourcesView","pm_tableRowDefinitionIDForTitleInEntitiesTable"],x={options:{applicationClass:N,version:null,customName:null,customCopyrightYear:null,customVersion:null,licenseKey:null,newCallbackBehaviorEnabled:!1,contextMenuRemainsOpenOnUpdateCalls:!1,locale:"en-US",language:null,weekNumbering:null,timeZone:null,viewType:E.Activities,titleText:null,start:null,end:null,startAndEnd:[null,null],timeStepUnit:"second",timeStepUnitFactor:1,visualZoomFactor:1,workDate:null,workDateLineCaption:"",currentDate:null,fixedTableColumnWidth:30,tableViewWidth:null,tableViewWidthInActivitiesView:null,tableViewWidthInResourcesView:null,tableViewWidthInLoadsView:null,tableViewWidthsSynchronized:!0,tableWidth:null,defaultCalendarID:null,internalObjectCopiesNeeded:!1,additionalDateInterpretedAsEmpty:null,additionalDateStringInterpretedAsEmpty:"",updateOptimizationEnabled:!1,multipleSelectionEnabled:!0,multipleBarDraggingEnabled:!1,allocationsSelectableOnlyOnOneResourceAtATime:!1,nonWorkingTimeVisible:!0,cursorDateLineVisible:!1,editable:!0,entitiesTitleText:null,entitiesTableVisibleInResourcesView:!1,entitiesTableVisibleInActivitiesView:!1,entitiesTableWidth:null,entitiesTableViewWidth:null,dateLineGridMode:A.Weekly,curvePanesVisibleInActivitiesView:!1,pm_curvePanesCollapsibleInResourcesView:!0,relativeDateModeEnabled:!1,referenceDate:null,timescaleNavigationMode:S.Latest,pm_timescaleInteractionsEnabled:!0,pm_maximumSnapDistance:8,pm_linksVisibleInActivitiesView:!0,pm_linksVisibleInResourcesView:!1,pm_dragDatesLimitingInteraction:!1,pm_patternShownOnOverloadCurves:!1,pm_contextMenuCallbackOnRowInTimeArea:!1,pm_preventDefaultOnContextMenuEvents:!0,pm_topViewAreaVisible:!1,pm_mainViewAreaVisible:!0,pm_topViewAreaVisibleInActivitiesView:!1,pm_mainViewAreaVisibleInActivitiesView:!0,pm_topViewAreaVisibleInResourcesView:!1,pm_mainViewAreaVisibleInResourcesView:!0,pm_topViewAreaVisibleInLoadsView:!1,pm_mainViewAreaVisibleInLoadsView:!0,pm_maximumTopViewAreaHeightRatio:.5,pm_calendarGridColor:null,pm_timescaleBackgroundColor:null,pm_timescaleWeekendBackgroundColor:null,pm_timescaleTextColor:null,pm_timescaleTickColor:null,pm_timescaleHighlightingColor:null,pm_timeAreaBackgroundColor:null,pm_tableHeaderBackgroundColor:null,pm_tableHeaderTextColor:null,pm_tableHeaderColumnSeparatorColor:null,pm_tableHeaderHighlightingColor:null,pm_selectionColor:null,pm_splitterHighlightingColor:null,pm_entitiesTableHeaderBackgroundColor:null,pm_entitiesTableHeaderTextColor:null,pm_entitiesTableHeaderColumnSeparatorColor:null,pm_entitiesTableHeaderHighlightingColor:null,pm_defaultActivityTableRowDefinitionID:null,pm_defaultAllocationTableRowDefinitionID:null,pm_defaultResourceTableRowDefinitionID:null,pm_defaultEntityTableRowDefinitionID:null,pm_tableRowDefinitionIDForTitleInActivitiesView:null,pm_tableRowDefinitionIDForTitleInResourcesView:null,pm_tableRowDefinitionIDForTitleInLoadsView:null,pm_tableRowDefinitionIDForTitleInEntitiesTable:null,pm_defaultActivityCollapsedRowDesign:P.Bars|P.Optimized|P.BarsInHiddenDescendantRows,pm_defaultActivityExpandedRowDesign:P.Bars|P.Optimized,pm_defaultAllocationRowDesign:P.Bars|P.CalendarGrid,pm_defaultResourceCollapsedRowDesign:P.Bars|P.Optimized|P.BarsInHiddenDescendantRows|P.CalendarGrid,pm_defaultResourceExpandedRowDesign:P.Bars|P.Optimized|P.CalendarGrid,pm_defaultAllocationSnapTargetsForStart:null,pm_defaultAllocationSnapTargetsForEnd:null,pm_defaultActivitySnapTargetsForStart:null,pm_defaultActivitySnapTargetsForEnd:null,pm_defaultAllocationAllowedBarDragModes:b.DragAutoHorOrVer,pm_forcedAllocationAllowedBarDragModes:null,pm_defaultAllocationAllowedBarDragModesInActivitiesView:b.DragHorizontally,pm_forcedAllocationAllowedBarDragModesInActivitiesView:null,pm_defaultActivityAllowedBarDragModes:f.DragHorizontally,pm_forcedActivityAllowedBarDragModes:null,pm_defaultActivityAllowedRowDragModes:R.None,pm_defaultAllocationAllowedRowDragModes:R.None,pm_defaultResourceAllowedRowDragModes:R.None,pm_defaultEntityAllowedRowDragModes:R.DragOutside,pm_defaultAllocationBarSelectable:!0,pm_defaultAllocationRowSelectable:!0,pm_defaultActivityBarSelectable:!0,pm_defaultActivityRowSelectable:!0,pm_defaultResourceRowSelectable:!0,pm_defaultEntityRowSelectable:!0,pm_defaultLinkSelectable:!0,pm_defaultActivityRowCollapsible:!0,pm_defaultActivityAllocationRowsCollapsible:!0,pm_defaultResourceRowCollapsible:!0,pm_defaultEntityRowCollapsible:!0,pm_defaultAllocationBarDesign:v.Entries,pm_defaultActivityBarShape:m.Regular,pm_defaultAllocationBarShape:y.Regular,pm_defaultActivityConstraintSymbolColor:null,pm_defaultAllocationConstraintSymbolColor:null,pm_defaultLinkRoutingType:T.Curved,pm_defaultLinkTargetMarker:C.FilledArrow,pm_progressBarWidthCalculationMode:O.ConsiderWorkingTimesOnly,pm_defaultActivityProgressBackgroundColor:null,pm_defaultAllocationProgressBackgroundColor:null,pm_defaultActivityBarHeight:22,pm_defaultAllocationBarHeight:22,pm_defaultActivityMinimumRowHeight:42,pm_defaultAllocationMinimumRowHeight:42,pm_defaultResourceMinimumRowHeight:42,pm_defaultEntityMinimumRowHeight:42,pm_minimumLoadCurvePaneHeight:30,pm_defaultLoadCurvePaneHeight:50,pm_maximumLoadCurvePaneHeight:200,pm_minimumInventoryCurvePaneHeight:30,pm_defaultInventoryCurvePaneHeight:50,pm_maximumInventoryCurvePaneHeight:200,pm_defaultResourceBarsPaneVisible:!0,pm_defaultResourceLoadCurvePaneVisible:!0,pm_defaultLoadCurvePaneColor:null,pm_defaultResourceInventoryCurvePaneVisible:!1,pm_defaultInventoryCurvePaneColor:null,pm_releaseDueDateConnectionsVisible:!1,pm_symbolColumnTitleSymbolIDs:null,pm_symbolColumnTitleVisible:!1,pm_symbolColumnVisible:!1,pm_symbolColumnWidth:22,pm_entitiesTableSymbolColumnTitleSymbolIDs:null,pm_entitiesTableSymbolColumnTitleVisible:!1,pm_entitiesTableSymbolColumnVisible:!1,pm_entitiesTableSymbolColumnWidth:22,pm_topBarSymbolsVisible:!0,pm_topRowMarginInTimeArea:10,pm_bottomRowMarginInTimeArea:5,pm_subRowDistanceInTimeArea:5,pm_defaultResourceMaximumSubRowHeightInTimeArea:null,pm_defaultResourceMaximumRowHeight:null,pm_defaultActivityMaximumSubRowHeightInTimeArea:null,pm_defaultActivityMaximumRowHeight:null,pm_activityCalendarsEnabled:!1,pm_detailedActivityConstraintSymbolsEnabled:!0,pm_detailedAllocationConstraintSymbolsEnabled:!0,pm_curvePanesResizable:!1,pm_timeAreaPanningMode:3,pm_selectionBehavior:D.Framing,pm_pastBackgroundFillColor:null,pm_pastBackgroundLineColor:null,pm_pastBackgroundLineWidth:null,pm_pastBackgroundLineDashArray:null,pm_suitableResourceOverlayColor:null,pm_unsuitableResourceOverlayColor:null,pm_ignoreCalendarOnAllocationBarInteractions:!1,pm_scrollToObjectHighlightingColor:null,pm_scrollToObjectHighlightFlashingEnabled:!0,loggingEnabled:!1,interactiveActivationOfLoggingEnabled:!1,worldViewVisible:!1,worldViewPosition:l.Bottom,worldViewExtent:150,pm_scrollOffsetsChangedCallbackTimeDelay:500,tooltipDelay:500,pm_watermarkSymbolID:null,pm_watermarkOpacity:.2,pm_allocationRowsVisibleInActivitiesView:!1,pm_definedAllocationLinksVisibleInResourcesView:!1,pm_definedAllocationLinksVisibleInActivitiesView:!1,pm_defaultActivityStatusFrameColor:null,pm_defaultAllocationStatusFrameColor:null,onShowTooltip:null,onDetermineColumnDefinitions:null,onShowContextMenu:null,onCloseContextMenu:null,canDrag:null,onDrag:null,onDragStart:null,onDragEnd:null,onDrop:null,onClicked:null,onDoubleClicked:null,canSelect:null,onSelectionChanged:null,onTimeAreaViewParametersChanged:null,onVerticalScrollOffsetChanged:null,onCollapseStateChanged:null,onCurveCollapseStateChanged:null,onLogError:null,onLogMethodCall:null,compareObjects:null,onCurvePaneResized:null,onTableCellDefinitionWidthChanged:null,visibilityFilter:null},_create:function(){"use strict";var t=this;a('<div class="nrab-message-pane"></div>').appendTo(this.element);var i=a('<div class="nrab-gantt-view"></div>').appendTo(this.element.addClass("nrab-widget"));null==this.element.attr("tabindex")&&this.element.attr("tabindex","-1"),t._defaultColumnDefinitions={},this._application=new this.options.applicationClass(this,{fullScreenGanttViewElem:i[0]});var n=e.exports.prototype.options;n.viewType!==t.options.viewType&&t._setOption("viewType",t.options.viewType),this._application.init(),Object.keys(n).forEach((function(e){var i=t.options[e];void 0===i&&(i=null);var a=W.indexOf(e);a>=0&&(e=B[a]),"viewType"!==e&&n[e]!==i&&t._setOption(e,i)})),this._logMethod||(this._logMethod=function(){},this._logMethodResult=function(e){return e}),this._application._renderOnIdle(),this._isLoggingAction=!1},_destroy:function(){this._application.destroy(),this.element.removeClass("nrab-widget").find("*").remove()},_setAPIOption:function(e,t){"use strict";this._application.setAPIOption(e,t)},_getAPIOption:function(e){"use strict";return this._application.getAPIOption(e)},option:function(e){var t=Object.getPrototypeOf(this).widgetName+".option";this._logMethod(t,arguments);var i=s.active();try{if(s.active(!0),"string"==typeof e){var a=W.indexOf(e);if(a>=0)e=B[a];else if("version"===e&&arguments.length>1)return void this._logMethodResult()}if(1!==arguments.length||"object"!==n(e)){var o=this._super.apply(this,arguments);return this._logMethodResult(1===arguments.length?o:void 0),o}var r,l={};null!=e.relativeDateModeEnabled&&(l.relativeDateModeEnabled=e.relativeDateModeEnabled),Object.keys(e).forEach((function(t){if("version"!==t){if("start"===t||"end"===t){if(e.startAndEnd)return;if("start"===t?e.end:e.start)return void(l.startAndEnd=[e.start,e.end])}var i=W.indexOf(t);l[i>=0?B[i]:t]=e[t]}}));var c=this._application.view();if(c&&(r=c.ganttViews()[0])){var u=r.suspendUpdate(!0);!1!==u&&(r=void 0)}this._super.call(this,l),r&&r.suspendUpdate(!1),this._logMethodResult()}catch(e){this._handleException(e,t)}finally{s.active(i)}},_specialEmptyLogMethodForLogging:function(){},_setOption:function(t,i){"use strict";if(this.options.contextMenuRemainsOpenOnUpdateCalls||"contextMenuRemainsOpenOnUpdateCalls"===t&&i||this._closeContextMenu(),!(t in Object.getPrototypeOf(e.exports.prototype).options))switch(t){case"applicationClass":case"contextMenuRemainsOpenOnUpdateCalls":case"pm_patternShowOnOverloadCurve":break;default:this._setAPIOption(t,i);break;case"pm_topViewAreaVisible":this._setAPIOption("pm_topViewAreaVisibleInActivitiesView",!1),this._setAPIOption("pm_topViewAreaVisibleInResourcesView",i),this._setAPIOption("pm_topViewAreaVisibleInLoadsView",i);break;case"pm_mainViewAreaVisible":this._setAPIOption("pm_mainViewAreaVisibleInActivitiesView",!0),this._setAPIOption("pm_mainViewAreaVisibleInResourcesView",i),this._setAPIOption("pm_mainViewAreaVisibleInLoadsView",i);break;case"tableViewWidth":this._setOption("tableViewWidthInActivitiesView",i),this._setOption("tableViewWidthInResourcesView",i),this._setOption("tableViewWidthInLoadsView",i);break;case"pm_rowMarginInTimeArea":this._setAPIOption("pm_topRowMarginInTimeArea",i),this._setAPIOption("pm_bottomRowMarginInTimeArea",i);break;case"multipleSelectionEnabled":if("string"==typeof i){var n=parseFloat(i);isNaN(n)||(i=n)}s.assert("boolean"==typeof i||"number"==typeof i,t+" is out of range"),this._setAPIOption(t,2===i?2:!!i);break;case"startAndEnd":s.assertArray(i),"string"!=typeof i[0]&&s.assertDate(i[0]),"string"!=typeof i[1]&&s.assertDate(i[1]);var a=this._application.model().dateTimeValueToDate(i[0]),r=this._application.model().dateTimeValueToDate(i[1]);this._setAPIOption(t,[a,r]),this._setAPIOption("start",a),this._setAPIOption("end",r),this.options.start=i[0],this.options.end=i[1];break;case"start":this._setAPIOption(t,i),this.options.startAndEnd[0]=i;break;case"end":this._setAPIOption(t,i),this.options.startAndEnd[1]=i;break;case"ganttWidgetInternalOptions":if(this._application.view()){var l=this._application.view().ganttViews()[0];if(l){var c=l.ganttWidget(),u=l.entitiesTableWidget();if(i.start&&i.end&&this._setOption("startAndEnd",[i.start,i.end]),null!=i.baseTimeUnit&&c.timeAxis().baseTimeUnit(i.baseTimeUnit),null!=i.baseTimeUnitWidth&&c.timeAxis().baseTimeUnitWidth(i.baseTimeUnitWidth),null!=i.actualTableViewWidth&&c.modifyTableViewWidth(i.actualTableViewWidth),i.collapseStates&&([E.Activities,E.Resources,E.Loads].forEach((function(e){if(i.collapseStates[e]){var t=l.viewModel().rowItemsRoot(e);t&&c.restoreCollapseStates(i.collapseStates[e],t,(function(e){return e.ID}),(function(t,i){i.rab_curvePanesVisible&&(l._expandOrCollapseCurvesInRowAtLast(t,!0,!1),e===l.viewType()&&l.invalidateRow(t))}),!0)}})),c.update()),u&&null!=i.entitiesTableActualTableViewWidth){var p=l._divJQ.width(),h=c.options.splitterWidth;l._onVerticalSplitterChanged(p-h-i.entitiesTableActualTableViewWidth-d.scrollBarWidth()),i.entitiesCollapseStates&&u.restoreCollapseStates(i.entitiesCollapseStates,u.option("rowItemsRoot"),(function(e){return e.ID}))}i.verticalScrollOffsetExt&&(l._verticalScrollOffsetByViewType=i.verticalScrollOffsetExt),c.scrollTo(i.horizontalTableViewScrollOffset,i.horizontalTimeAreaViewScrollOffset,i.verticalScrollOffset,i.topVerticalScrollOffset),u&&u.scrollTo(i.entitiesTableHorizontalScrollOffset,i.entitiesTableVerticalScrollOffset)}}break;case atob("bGljZW5zZUtleQ=="):s.assertStringOrNull(i),this._application.setOption("maximumSnapDistance",i);break;case"viewType":"string"==typeof i&&(n=+i,isNaN(n)||(i=n)),s.assertNumber(i),s.assert(i>=0&&i<=2,t+"is out of range"),i>=0&&i<=2&&this._application.setOption(t,i);break;case"onLogError":s.assertFunctionOrNull(i);break;case"onLogMethodCall":s.assertFunctionOrNull(i),this._logMethod=i||this.options.loggingEnabled?this._doLogMethodCall:function(){},this._logMethodResult=i||this.options.loggingEnabled?this._doLogMethodCallResult:function(e){return e},!i&&this.options.loggingEnabled&&(this.options.onLogMethodCall=this._specialEmptyLogMethodForLogging);break;case"loggingEnabled":i=!!i;var g=this._getAPIOption(t);i!==g&&(this._setAPIOption(t,i),this._logMethod=i||this.options.onLogMethodCall?this._doLogMethodCall:function(){},this._logMethodResult=i||this.options.onLogMethodCall?this._doLogMethodCallResult:function(e){return e},this.options.onLogMethodCall&&this.options.onLogMethodCall!==this._specialEmptyLogMethodForLogging||(this.options.onLogMethodCall=i?this._specialEmptyLogMethodForLogging:null),o.select(this.element[0]).select(".ngantt-recording-symbol").attr("visibility",i?null:"hidden"),i?this._saveCurrentStateToLoggingCache():this._saveLoggingCacheAsJSONFile())}this._super(t,i)},_doLogMethodCall:function(e,t){"use strict";this._startLoggingAction(e,t),this._cachedLogOfMethodCall&&("function"==typeof this.options.onLogMethodCall&&this.options.onLogMethodCall.call(this,this._cachedLogOfMethodCall),this._cachedLogOfMethodCall=void 0);var i=[e,"("];if(t.length){for(var n=0;n<t.length;n++)i.push("function"==typeof t[n]?t[n].toString():JSON.stringify(t[n]),", ");i.pop()}i.push(");"),this._cachedLogOfMethodCall={command:i.join("")}},_doLogMethodCallResult:function(e){"use strict";return this._endLoggingAction(e),this._cachedLogOfMethodCall&&(this._cachedLogOfMethodCall.result="function"==typeof e?e.toString():JSON.stringify(e),this.options.onLogMethodCall&&this.options.onLogMethodCall.call(this,this._cachedLogOfMethodCall),this._cachedLogOfMethodCall=void 0),e},appendTagToLog:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".appendTagToLog";return s.assertString(e,i,0),this._logMethod(i,arguments),this._logMethodResult(void 0)}catch(e){this._handleException(e,i)}finally{s.active(t)}},addLoggingTag:function(e){this.appendTagToLog(e)},_saveCurrentStateToLoggingCache:function(){"use strict";var e=this,t=new Date;e._loggingCache={timestamp:t.toISOString(),name:e._getAPIOption("customName")||"NETRONIC RAB Widget",version:e._getAPIOption("version")||"x.x.x",rabVersion:k,license:e._application.__id,licensee:e._application.__n,expire:e._application.__e,userAgent:navigator?navigator.userAgent:""},e._loggingCache.options=a.extend({},e.options);var i=e._application.view().ganttViews()[0];if(i){var n=i.ganttWidget(),o=i.entitiesTableWidget(),r=[];[E.Activities,E.Resources,E.Loads].forEach((function(e){var t=i.viewModel().rowItemsRoot(e);t&&(r[e]=a.extend({},n.saveCollapseStates(t,(function(e){return e.ID}),(function(e,t){e.rab_curvePanesVisible&&(t.rab_curvePanesVisible=!0)}))))}));var s=n.timeAxis();e._loggingCache.options.ganttWidgetInternalOptions={start:s.start(),end:s.end(),baseTimeUnit:s.baseTimeUnit(),baseTimeUnitWidth:s.baseTimeUnitWidth(),horizontalTableViewScrollOffset:n.horizontalTableViewScrollOffset(),horizontalTimeAreaViewScrollOffset:n.horizontalTimeAreaViewScrollOffset(),verticalScrollOffset:n.verticalScrollOffset(),verticalScrollOffsetExt:i._verticalScrollOffsetByViewType,topVerticalScrollOffset:n.topVerticalScrollOffset(),actualTableViewWidth:n.actualTableViewWidth(),collapseStates:r},o&&(e._loggingCache.options.ganttWidgetInternalOptions.entitiesTableActualTableViewWidth=o.actualTableViewWidth(),e._loggingCache.options.ganttWidgetInternalOptions.entitiesTableHorizontalScrollOffset=o.horizontalScrollOffset(),e._loggingCache.options.ganttWidgetInternalOptions.entitiesTableVerticalScrollOffset=o.verticalScrollOffset(),e._loggingCache.options.ganttWidgetInternalOptions.entitiesCollapseStates=o.saveCollapseStates(o.option("rowItemsRoot"),(function(e){return e.ID})))}e._loggingCache.options.loggingEnabled=!1,[_.RAB_ACTIVITIES_PROP_NAME,_.RAB_ALLOCATIONS_PROP_NAME,_.RAB_CALENDARS_PROP_NAME,_.RAB_CURVES_PROP_NAME,_.RAB_ENTITIES_PROP_NAME,_.RAB_LINKS_PROP_NAME,_.RAB_RESOURCES_PROP_NAME,_.RAB_CALENDAR_GRIDS_PROP_NAME].forEach((function(t){var i=e._application.model().getChildrenArray(t);e._loggingCache[t]=i.map((function(e){return a.extend({},e.data())}))})),e._loggingCache.DateLines=e._application._getDateLinesData(),e._loggingCache.TableRowDefinitions=e._application._getTableRowDefinitionsData(),e._loggingCache.Symbols=e._application._getSymbolsData(),e._loggingCache.TooltipTemplates=e._application._getTooltipTemplatesData(),e._loggingCache.Actions=[],this._isLoggingAction=!1},_saveLoggingCacheAsJSONFile:function(e){"use strict";var t=JSON.stringify(this._loggingCache);t=[t];var i=new Blob(t,{type:"text/plain;charset=utf-8"});if(!e){var n=new Date;e="VSW-Logging_"+(o.timeFormat?o.timeFormat:o.time.format)("%Y-%m-%d_%H%M%S")(n)+".json"}u.saveAs(i,e),this._loggingCache={},this._isLoggingAction=!1},_startLoggingAction:function(e,t,i){"use strict";if(this.options.loggingEnabled){this._isLoggingAction=!0;var n=new Date;return this._loggingCache.Actions.push({type:i,name:e,args:Array.prototype.slice.call(t),start:n.toISOString()}),this._loggingCache.Actions.length}},_endLoggingAction:function(e,t){"use strict";if(this.options.loggingEnabled&&this._isLoggingAction){var i=new Date,n=this._loggingCache.Actions[(t||this._loggingCache.Actions.length)-1];if(t){var a=n.start;(n=this._loggingCache.Actions[this._startLoggingAction(n.name,n.args,(n.type||"")+"-result")-1]).start=a}n.result=e,n.end=i.toISOString();var o=new Date(n.start).getTime(),r=i.getTime();n.duration=r-o,this._isLoggingAction=!1}},_handleException:function(e,t){"use strict";if("function"!=typeof this.options.onLogError)throw e;var i={commandName:t,error:e,rethrow:!0};if(this.options.onLogError.call(this,i),i.rethrow)throw e},addResources:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addResources";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addResources(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateResources:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateResources";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updateResources(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeResources:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeResources";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeResources(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addCalendars:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addCalendars";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addCalendars(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateCalendars:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateCalendars";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updateCalendars(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeCalendars:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeCalendars";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeCalendars(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addCurves:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addCurves";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addCurves(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateCurves:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateCurves";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updateCurves(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeCurves:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeCurves";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeCurves(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addActivities:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addActivities";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addActivities(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateActivities:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateActivities";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this.options.contextMenuRemainsOpenOnUpdateCalls||this._closeContextMenu(),this._logMethodResult(this._application.updateActivities(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeActivities:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeActivities";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeActivities(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addAllocations:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addAllocations";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addAllocations(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateAllocations:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateAllocations";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this.options.contextMenuRemainsOpenOnUpdateCalls||this._closeContextMenu(),this._logMethodResult(this._application.updateAllocations(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeAllocations:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeAllocations";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeAllocations(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},getAllocationsForActivity:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".getAllocationsForActivity";return this._logMethod(i,arguments),s.assertNotNull(e,i,0),this._logMethodResult(this._application.getAllocationsForActivity(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},getAllocationsForResource:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".getAllocationsForResource";return this._logMethod(i,arguments),"string"!=typeof e&&s.assertNotNull(e,i,0),this._logMethodResult(this._application.getAllocationsForResource(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addLinks:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addLinks";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addLinks(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateLinks:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateLinks";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updateLinks(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeLinks:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeLinks";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeLinks(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addEntities:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addEntities";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addEntities(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateEntities:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updateEntities";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updateEntities(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeEntities:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeEntities";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removeEntities(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addSymbols:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".addSymbols";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.addSymbols(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},updateSymbols:function(e,t){"use strict";var i=this,n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".updateSymbols";return this._logMethod(a,arguments),s.assertArray(e,a,0),s.assertNumberOrNull(t,a,1),this._closeContextMenu(),this._logMethodResult(i._application.updateSymbols(e,t))}catch(e){this._handleException(e,a)}finally{s.active(n)}},removeSymbols:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".removeSymbols";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.removeSymbols(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},addTooltipTemplates:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".addTooltipTemplates";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.addTooltipTemplates(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},updateTooltipTemplates:function(e,t){"use strict";var i=this,n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".updateTooltipTemplates";return this._logMethod(a,arguments),s.assertArray(e,a,0),s.assertNumberOrNull(t,a,1),this._closeContextMenu(),this._logMethodResult(i._application.updateTooltipTemplates(e,t))}catch(e){this._handleException(e,a)}finally{s.active(n)}},removeTooltipTemplates:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".removeTooltipTemplates";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.removeTooltipTemplates(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},addCalendarGrids:function(e){this.addPeriodHighlighters(e)},addPeriodHighlighters:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".addPeriodHighlighters";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.addPeriodHighlighters(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},updateCalendarGrids:function(e,t){this.updatePeriodHighlighters(e,t)},updatePeriodHighlighters:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".updatePeriodHighlighters";return this._logMethod(n,arguments),s.assertArray(e,n,0),s.assertNumberOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.updatePeriodHighlighters(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeCalendarGrids:function(e){this.removePeriodHighlighters(e)},removePeriodHighlighters:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removePeriodHighlighters";return this._logMethod(i,arguments),s.assertArray(e,i,0),this._closeContextMenu(),this._logMethodResult(this._application.removePeriodHighlighters(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},addDateLines:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".addDateLines";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.addDateLines(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},updateDateLines:function(e,t){"use strict";var i=this,n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".updateDateLines";return this._logMethod(a,arguments),s.assertArray(e,a,0),s.assertNumberOrNull(t,a,1),this._closeContextMenu(),this._logMethodResult(i._application.updateDateLines(e,t))}catch(e){this._handleException(e,a)}finally{s.active(n)}},removeDateLines:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".removeDateLines";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.removeDateLines(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},addTableRowDefinitions:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".addTableRowDefinitions";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.addTableRowDefinitions(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},updateTableRowDefinitions:function(e,t){"use strict";var i=this,n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".updateTableRowDefinitions";return this._logMethod(a,arguments),s.assertArray(e,a,0),s.assertNumberOrNull(t,a,1),this._closeContextMenu(),this._logMethodResult(i._application.updateTableRowDefinitions(e,t))}catch(e){this._handleException(e,a)}finally{s.active(n)}},removeTableRowDefinitions:function(e){"use strict";var t=this,i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".removeTableRowDefinitions";return this._logMethod(n,arguments),s.assertArray(e,n,0),this._closeContextMenu(),this._logMethodResult(t._application.removeTableRowDefinitions(e))}catch(e){this._handleException(e,n)}finally{s.active(i)}},removeAll:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".removeAll";return this._logMethod(i,arguments),this._closeContextMenu(),this._logMethodResult(this._application.removeAll(e))}catch(e){this._handleException(e,i)}finally{s.active(t)}},scrollToObject:function(e,t,i,n){"use strict";var a=s.active();try{s.active(!0);var o=Object.getPrototypeOf(this).widgetName+".scrollToObject";return this._logMethod(o,arguments),s.assertNumber(e,o,0),"string"!=typeof t&&s.assertNotNull(t,o,1),s.assertNumberOrNull(i,o,2),n=null==n||!!n,this._closeContextMenu(),this._application.render(),this._logMethodResult(this._application.view()?this._application.view().scrollToObjectData(e,t,i,n):void 0)}catch(e){this._handleException(e,o)}finally{s.active(a)}},calculateWorkingTime:function(e,t,i){"use strict";var n=this,a=s.active();try{s.active(!0);var o=Object.getPrototypeOf(this).widgetName+".calculateWorkingTime";return this._logMethod(o,arguments),t=n._application.model().dateTimeValueToDate(t),i=n._application.model().dateTimeValueToDate(i),s.assertDate(t,o,1),s.assertDate(i,o,2),this._logMethodResult(this._application.calculateWorkingTime(e,t,i))}catch(e){this._handleException(e,o)}finally{s.active(a)}},addWorkingTime:function(e,t,i){"use strict";var n=this,a=s.active();try{s.active(!0);var o=Object.getPrototypeOf(this).widgetName+".addWorkingTime";return this._logMethod(o,arguments),t=n._application.model().dateTimeValueToDate(t),s.assertDate(t,o,1),"-0"!==i&&s.assertNumber(i,o,2),this._logMethodResult(this._application.addWorkingTime(e,t,i))}catch(e){this._handleException(e,o)}finally{s.active(a)}},scrollToDate:function(e){"use strict";var t=s.active();try{s.active(!0);var i=Object.getPrototypeOf(this).widgetName+".scrollToDate";return this._logMethod(i,arguments),this._getAPIOption("relativeDateModeEnabled")&&e&&(e=h.relativeDateTimeStringToDate(e)),s.assertDate(e,i,0),this._closeContextMenu(),this._application.render(),this._logMethodResult(this._application.view()?this._application.view().ganttViews()[0].ganttWidget().scrollTimeAreaViewToDate(e,!0):void 0)}catch(e){this._handleException(e,i)}finally{s.active(t)}},selectObjects:function(e,t,i){"use strict";var n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".selectObjects";this._logMethod(a,arguments),s.assertNumber(e,a,0),s.assertArray(t,a,1);var o=this,r=[];switch(o._application.getViewType()){case E.Resources:switch(e){case I.Resource:case I.Allocation:case I.Entity:case I.Link:break;default:e=void 0}break;case E.Loads:switch(e){case I.Resource:case I.Entity:break;default:e=void 0}break;case E.Activities:switch(e){case I.Activity:case I.Entity:case I.Link:break;default:e=void 0}break;default:e=void 0}return null!=e&&Array.isArray(t)&&t.forEach((function(t){if("string"==typeof t){var i=t.split(g);t=i.length>1?o._application.model().objectByID(e,i[1],i[0]):o._application.model().objectByID(e,i[0])}else t=o._application.model().objectByID(e,t.ID,t.Role);t&&r.push(t)})),e===I.Activity&&i===M.Row&&(e=I.ActivityRow),e===I.Allocation&&i===M.Row&&(e=I.AllocationRow),this._logMethodResult(this._application.view()?this._application.view().selectObjects(e,r):void 0)}catch(e){this._handleException(e,a)}finally{s.active(n)}},getSelectedObjects:function(){"use strict";var e=s.active();try{s.active(!0);var t,i=Object.getPrototypeOf(this).widgetName+".getSelectedObjects";this._logMethod(i,arguments);var n=this._application.view();if(n){var a=n.getSelectedObjectsAndType();t={objectType:n.ganttViews()[0].getObjectTypeFromItem({rab_itemType:a.itemType}),objects:a.objects.map((function(e){return e.data()}))}}return void 0!==t.objectType&&(t.visualType=t.objectType===w.Allocation&&a.itemType!==I.AllocationRow||t.objectType===w.Activity&&a.itemType!==I.ActivityRow?M.Bar:M.Row),this._logMethodResult(t)}catch(e){this._handleException(e,i)}finally{s.active(e)}},fitTimeAreaIntoView:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".fitTimeAreaIntoView";if(this._logMethod(n,arguments),this._getAPIOption("relativeDateModeEnabled"))e&&(e=h.relativeDateTimeStringToDate(e)),t&&(t=h.relativeDateTimeStringToDate(t));else{if(e){var a=new Date(e);isNaN(a.valueOf())||(e=a)}if(t){var o=new Date(t);isNaN(o.valueOf())||(t=o)}}return s.assertDateOrNull(e,n,0),s.assertDateOrNull(t,n,1),this._closeContextMenu(),this._logMethodResult(this._application.view()?this._application.fitTimeAreaIntoView(e,t):void 0)}catch(e){this._handleException(e,n)}finally{s.active(i)}},setTimeResolutionForView:function(e,t,i){"use strict";var n=s.active();try{s.active(!0);var a=Object.getPrototypeOf(this).widgetName+".setTimeResolutionForView";return this._logMethod(a,arguments),this._getAPIOption("relativeDateModeEnabled")&&i&&(i=h.relativeDateTimeStringToDate(i)),s.assertString(e,a,0),s.assertNumberOrNull(t,a,1),s.assertDateOrNull(i,a,2),this._closeContextMenu(),this._logMethodResult(this._application.view()?this._application.setTimeResolutionForView(e,t,i):void 0)}catch(e){this._handleException(e,a)}finally{s.active(n)}},render:function(){"use strict";var e=s.active();try{s.active(!0);var t=Object.getPrototypeOf(this).widgetName+".render";return this._logMethod(t,arguments),this._logMethodResult(this._application.render())}catch(e){this._handleException(e,t)}finally{s.active(e)}},_showAbout:function(){"use strict";var e=this._getAPIOption("customCopyrightYear")||"2018-2021";p.showPopup(this.element.children(".nrab-message-pane")[0],V.replace("%nwafVersion%",k).replace("%version%",this._getAPIOption("version")||"x.x.x").replace("%name%",this._getAPIOption("customName")||"NETRONIC RAB Widget").replace("%copyrightYear%",e).replace("%nwafYear%",e.substring(e.length-4)).replace("%license%",this._application.__id).replace("%licensee%",this._application.__n).replace("%expire%",this._application.__e).replace("%userAgent%",navigator?navigator.userAgent:""),void 0,void 0,!0)},about:function(){"use strict";this._application.render(),this._showAbout()},saveAsPDF:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=Object.getPrototypeOf(this).widgetName+".saveAsPDF";if(this._logMethod(n,arguments),c.isIE)throw new Error("IE11 is not supported!");if(t){var a="options.printingMode";s.assertNumberOrNull(t.printingMode,n,a),null!=t.printingMode&&s.assert(t.printingMode>=0&&t.printingMode<=2,a+" is out of range"),a="options.zoomFactorInPercent",s.assertNumberOrNull(t.zoomFactorInPercent,n,a),null!=t.zoomFactorInPercent&&s.assert(t.zoomFactorInPercent>=0,a+" is out of range"),a="options.horPageCountLimit",s.assertNumberOrNull(t.horPageCountLimit,n,a),null!=t.horPageCountLimit&&s.assert(t.horPageCountLimit>=0,a+" is out of range"),a="options.verPageCountLimit",s.assertNumberOrNull(t.verPageCountLimit,n,a),null!=t.verPageCountLimit&&s.assert(t.verPageCountLimit>=0,a+" is out of range"),a="options.pageOrientation",s.assertNumberOrNull(t.pageOrientation,n,a),null!=t.pageOrientation&&s.assert(0===t.pageOrientation||1===t.pageOrientation,a+" is out of range"),a="options.leftPageMargin",null!=t.leftPageMargin&&s.assert(t.leftPageMargin>=0,n,a+" is out of range"),a="options.topPageMargin",null!=t.topPageMargin&&s.assert(t.topPageMargin>=0,n,a+" is out of range"),a="options.rightPageMargin",null!=t.rightPageMargin&&s.assert(t.rightPageMargin>=0,n,a+" is out of range"),a="options.bottomPageMargin",null!=t.bottomPageMargin&&s.assert(t.bottomPageMargin>=0,n,a+" is out of range"),a="options.pageFormat",s.assertStringOrNull(t.pageFormat,n,a),t.pageFormat&&t.pageFormat.indexOf("*")<0&&s.assert(this._application._getSupportedPageFormatsForPrinting().indexOf(t.pageFormat.toUpperCase())>=0,a+" is out of range"),a="options.watermarkSymbolID",s.assertStringOrNull(t.watermarkSymbolID,n,a)}return this._logMethodResult(this._application.saveAsPDF(e,t))}catch(e){this._handleException(e,n)}finally{s.active(i)}},_callOnDrag:function(e){"use strict";"function"==typeof this._getAPIOption("onDrag")&&this._getAPIOption("onDrag").call(this,e)},_callOnDragStart:function(e){"use strict";"function"==typeof this._getAPIOption("onDragStart")&&this._getAPIOption("onDragStart").call(this,e)},_callOnDragEnd:function(e){"use strict";"function"==typeof this._getAPIOption("onDragEnd")&&this._getAPIOption("onDragEnd").call(this,e)},_callOnDrop:function(e){"use strict";var t=a.extend({},e);t.objectID=e.object.ID,e.object.Role&&(t.objectRole=e.object.Role),delete t.object,e.newRowObject&&(t.newRowObjectID=e.newRowObject.ID,e.newRowObject.Role&&(t.newRowObjectRole=e.newRowObject.Role),delete t.newRowObject),t.coupledObjects&&(t.coupledObjects=t.coupledObjects.map((function(e){return e.ID}))),t.startsAndEndsOfCoupledObjects&&(t.startsAndEndsOfCoupledObjects=t.startsAndEndsOfCoupledObjects.map((function(e){return{newStart:e.newStart,newEnd:e.newEnd,objectID:e.object.ID}})));var i=this._startLoggingAction(Object.getPrototypeOf(this).widgetName+".onDrop",[t],"callback");try{"function"==typeof this._getAPIOption("onDrop")?this._getAPIOption("onDrop").call(this,e):e.cancel=!0}catch(e){throw t._error=e,e}finally{var n={};i&&(e.cancel!==t.cancel&&(n.cancel=e.cancel),this._isLoggingAction=!0),this._endLoggingAction(Object.keys(n).length?n:void 0,i)}},_callCanDrag:function(e){"use strict";"function"==typeof this._getAPIOption("canDrag")&&this._getAPIOption("canDrag").call(this,e)},_callOnDetermineColumnDefinitions:function(e){"use strict";var t=this;if("function"==typeof t._getAPIOption("onDetermineColumnDefinitions"))t._getAPIOption("onDetermineColumnDefinitions").call(this,e);else{var i=e.tableType?"E":t.options.viewType;t._defaultColumnDefinitions[i]||(t._defaultColumnDefinitions[i]=e.columns.slice(),t._defaultColumnDefinitions[i][0]=a.extend({},e.columns[0],{textSource:"TableText"})),e.columns=t._defaultColumnDefinitions[i]}},_callOnShowTooltip:function(e){"use strict";"function"==typeof this._getAPIOption("onShowTooltip")&&this._getAPIOption("onShowTooltip").call(this,e)},_closeContextMenu:function(){"use strict";p.closeContextMenu(),delete this._lastContextMenuEventTimeStamp},_callOnShowContextMenu:function(e){"use strict";var t=this;t._lastContextMenuEventTimeStamp!==e.event.timeStamp&&(t._lastContextMenuEventTimeStamp=e.event.timeStamp,"function"==typeof t._getAPIOption("onShowContextMenu")&&t._getAPIOption("onShowContextMenu").call(this,e))},_callOnCloseContextMenu:function(){"use strict";var e=this;delete e._lastContextMenuEventTimeStamp,"function"==typeof e._getAPIOption("onCloseContextMenu")&&e._getAPIOption("onCloseContextMenu").call(this)},_callOnClicked:function(e){"use strict";"function"==typeof this._getAPIOption("onClicked")&&this._getAPIOption("onClicked").call(this,e)},_callOnDoubleClicked:function(e){"use strict";"function"==typeof this._getAPIOption("onDoubleClicked")&&this._getAPIOption("onDoubleClicked").call(this,e)},_callCanSelect:function(e){"use strict";"function"==typeof this._getAPIOption("canSelect")&&this._getAPIOption("canSelect").call(this,e)},_callOnSelectionChanged:function(e){"use strict";var t=this,i=a.extend({},e),n=e.selectedObjects&&e.selectedObjects.slice();i.selectedObjects&&(i.selectedObjects=i.selectedObjects.map((function(e){return e.ID}))),i.previouslySelectedObjects&&(i.previouslySelectedObjects=i.previouslySelectedObjects.map((function(e){return e.ID}))),delete i.event;var o=this._startLoggingAction(Object.getPrototypeOf(this).widgetName+".onSelectionChanged",[i],"callback");try{"function"==typeof t._getAPIOption("onSelectionChanged")&&t._getAPIOption("onSelectionChanged").call(this,e)}catch(e){throw i._error=e,e}finally{var r={};o&&(e.cancel!==i.cancel&&(r.cancel=e.cancel),Array.isArray(e.selectedObjects)&&t._areArraysEqual(n,e.selectedObjects)||(r.selectedObjects=e.selectedObjects,r.selectedObjects&&(r.selectedObjects=r.selectedObjects.map((function(e){return"string"==typeof e?e:e.ID})))),e.objectType!==i.objectType&&(r.objectType=e.objectType||0),e.visualType!==i.visualType&&(r.visualType=e.visualType),this._isLoggingAction=!0),this._endLoggingAction(Object.keys(r).length?r:void 0,o)}},_areArraysEqual:function(e,t){var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0},_callOnTimeAreaViewParametersChanged:function(e){"use strict";var t=this,i=this._startLoggingAction(Object.getPrototypeOf(this).widgetName+".onTimeAreaViewParametersChanged",arguments,"callback");"function"==typeof t._getAPIOption("onTimeAreaViewParametersChanged")&&t._getAPIOption("onTimeAreaViewParametersChanged").call(this,e),this._endLoggingAction(void 0,i)},_callOnVerticalScrollOffsetChanged:function(e){"use strict";var t=this,i=this._startLoggingAction(Object.getPrototypeOf(this).widgetName+".onVerticalScrollOffsetChanged",arguments,"callback");"function"==typeof t._getAPIOption("onVerticalScrollOffsetChanged")&&t._getAPIOption("onVerticalScrollOffsetChanged").call(this,e),this._endLoggingAction(void 0,i)},_callOnCollapseStateChanged:function(e){"use strict";"function"==typeof this._getAPIOption("onCollapseStateChanged")&&this._getAPIOption("onCollapseStateChanged").call(this,e)},_callOnCurveCollapseStateChanged:function(e){"use strict";"function"==typeof this._getAPIOption("onCurveCollapseStateChanged")&&this._getAPIOption("onCurveCollapseStateChanged").call(this,e)},_callOnCurvePaneResized:function(e){"use strict";"function"==typeof this._getAPIOption("onCurvePaneResized")&&this._getAPIOption("onCurvePaneResized").call(this,e)},_callOnTableCellDefinitionWidthChanged:function(e){"use strict";"function"==typeof this._getAPIOption("onTableCellDefinitionWidthChanged")&&this._getAPIOption("onTableCellDefinitionWidthChanged").call(this,e)},_callVisibilityFilter:function(e){"use strict";"function"==typeof this._getAPIOption("visibilityFilter")&&this._getAPIOption("visibilityFilter").call(this,e)}};a.widget("netronic.rabWidget",x),e.exports=a.netronic.rabWidget},6025:function(e,t,i){i(9826),i(9554),i(2772),i(6992),i(7042),i(1539),i(4916),i(4723),i(5306),i(3123),i(2472),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(5064),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),i(4747);var n=i(3755),a=i(7930),o=i(9169),r=i(4081).ViewType,s=i(4645),l=i(7499),c=i(6377),u=i(8389),d=i(9469),p={construct:function(e,t){"use strict";var i=this;a.nLocales.locale(e.options.locale),i._super(n.extend({widget:e,fullScreenGanttViewElem:e.element.find(".nrab-gantt-view")[0],title:"",optionsCollectorClass:u,modelClass:l,ganttViewClass:c,viewClass:d},t));this.setAPIOptionChangedCallback("defaultCalendarID",1,(function(e,t,n){i.handleAPIOptionChanged(e,t,n)}))},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"defaultCalendarID":this.model().handleAPIOptionChanged(e,t,i);var n=this.isRenderingNecessary(),a=this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar();a&&!n&&(a=!1,this.render());break;default:this._super(e,t,i)}},setOption:function(e,t){"use strict";var i=this,n=!1;switch(e){case"viewType":i._viewType=t,n=!0;break;case"maximumSnapDistance":n=!0}i.setViewOptionIndirectly(e,t,n,false),void 0===i&&i._super(e,t)},getViewType:function(){return this._viewType},setViewOptionIndirectly:function(e,t,i,n){"use strict";var a=this;if("maximumSnapDistance"===e&&"string"==typeof t){if(!this._viewInitialized){var r=function(e,t,i,n){if(isFinite(t)){var a,o,r,s=e.length;for(r=0,a=0,o=317;r<s;r++)a+=o*e.charCodeAt(r),o=(o*=317)%i||i;0==(a%=n)&&(a=1);var l=t%1e3,c=a*((t-l)/1e3);return c=1e3*(c%=n)+a*l,1===(c%=n)}};t=function(e){if(e){for(var t,i="",n=e.length,a=0;a<n;a++)t=e[a],i+=String.fromCharCode(t>251&&t<254&&a+5<n?1073741824*(t-252)+(e[++a]-128<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>247&&t<252&&a+4<n?(t-248<<24)+(e[++a]-128<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>239&&t<248&&a+3<n?(t-240<<18)+(e[++a]-128<<12)+(e[++a]-128<<6)+e[++a]-128:t>223&&t<240&&a+2<n?(t-224<<12)+(e[++a]-128<<6)+e[++a]-128:t>191&&t<224&&a+1<n?(t-192<<6)+e[++a]-128:t);return i}}(function(e,t){var i,n=e.length,a=t?Math.ceil((3*n+1>>>2)/t)*t:3*n+1>>>2,o=new Uint8Array(a);if(!e.match(/[^A-Za-z0-9\+=\/]/)){for(var r,s,l=0,c=0,u=0;u<n;u++)if(s=3&u,l|=((i=e.charCodeAt(u))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<18-6*s,3===s||n-u==1){for(r=0;r<3&&c<a;r++,c++)o[c]=l>>>(16>>>r&24)&255;l=0}return o}}(t.replace(/\s+/g,""))),this.l=function(){if(t){var e=t.indexOf("-{"),i=t.substring(0,Math.max(e,0)).split("-");if(3===i.length&&(i.push(t.substring(++e).replace(/\s+$|\0+$/g,"")),r(i[3],+i[0]||0,1009,979907)&&r(i[3],+i[1]||0,1013,983347)&&r(i[3],+i[2]||0,1019,987457)))try{if(t=JSON.parse(i[3])){if(9912===t.e)a.__e="never";else{var n=new Date(2e3+Math.floor(t.e%1e4/100),t.e%100,1);n.setDate(n.getDate()-1),a.__e=("0"+n.getDate()).slice(-2)+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+n.getFullYear()}a.__id=t.id,a.__n=t.n+(""!==t.u?" ("+t.u+")":""),a._f=t.f,a._ed=btoa(t.ed),a.getAPIOption("version")||"U0U="!==a._ed||(a.setAPIOption("version",o),a.setAPIOption("customName",a.getAPIOption("customName")+" "+t.ed))}if(t&&t.f&&t.f.indexOf(1001)>=0&&(!Microsoft||!Microsoft.Dynamics||!Microsoft.Dynamics.NAV||!Microsoft.Dynamics.NAV.InvokeExtensibilityMethod))return;if(t){if(t.e){var s=new Date(2e3+Math.floor(t.e%1e4/100),t.e%100,1),l=Date.now();if(s>l){var c=Math.floor((s.getTime()-l)/864e5);return 0===c?window.alert(atob("TkVUUk9OSUM6IExpY2Vuc2UgZXhwaXJlcyBhdCB0aGUgZW5kIG9mIHRvZGF5ISA")):c<15&&window.alert(atob("TkVUUk9OSUM6IExpY2Vuc2UgZXhwaXJlcyBpbiA")+c+atob("IGRheXMh")),!0}return!1}return!0}}catch(e){}}}(),void 0===a.l&&window.alert(atob("TkVUUk9OSUM6IEludmFsaWQgbGljZW5zZSBrZXkh"))}}else this._super(e,t,i,n)},updateActivities:function(e,t){"use strict";var i=this;i._super(e,t),i.view()&&i.view().ganttViews().forEach((function(t){t.viewType()===r.Activities&&t.checkResendingCanDrag(e)}))},updateAllocations:function(e,t){"use strict";var i=this;i._super(e,t),i.view()&&i.view().ganttViews().forEach((function(t){t.viewType()===r.Resources&&t.checkResendingCanDrag(e)}))},render:function(){if(this.l)this._super();else{var e=this._options.widget.element;e.empty(),n("<div>").css("width","100%").css("height","100%").css("background-image",'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY0AAAFxCAYAAACP9/SzAAAACXBIWXMAAAwuAAALEwF92bblAAAAIGNIUk0AAHolAACAgwAA+f8AAIDoAABSCAABFVgAADqXAAAXb9daH5AAABBxSURBVHja7N3vcxT3fcDxz+6e7iQjCQuEpHONbBPkEGcmnbFxbadjJ+kEN3nS/J3NwzbJTJOmmTyrk8wYG8GkNjiuAElGIAnF0v2SdvsAmxnXtBZwd9pbvV6PGBD68bnTvm93b7+b7LXaRYyI+9vb8etf/1u0Wq2v/dvfvfFGXLjwnQD40s7OTvx1ZyciGfAXKiLSLI2ZmVMxPj7+lX+6ubISv/vdf3ztv6RpGu+++48xNz8/UjOteVoBVfXpXz6JTqcztK9357PP4vzSy3HixInKzjT1tAKqqiiGeyCl2+3Gvbt3Kz1T0QCqK0mG/iXTrNqbVdEA6JOpqamYm5uv9M/onAZwrCwsNGNqaiqK6N+hq6KIyLIsJicnI8sy0QCo0t7AszMzBvGEHJ4CjpW8yA3h2ETjCE5qAdimjWg0EtEAKuLBu4GLkfu+a7/5za9Ho25JEr3e/lAv1AEYXDTy+MN778XExETkxejEo7a2uurRAzgCm5ubI/c9V+ZEeFF4AgIl3DZV7OepTDSeeWbCsxMonRMnTkS9XheNMmk2m7Gw0PTsBErn1KlTcf78UmV+npG+uC9N0zi7uBgXL74ejUbDsxMonSRJ4tXXXot6ox43rl9/eGuH/f390fx5Pv30v0fykFteFNFoNGLGlZ3A/+GDDy5H93+94/Jb58/HqVOnj+T76XQ60Wm3H/y52408z2PULiSojdoNQABGVaPRGPmjIpYRAUA0ABANAEQDANEAQDQARsIj1hey5JBoADxSrfbV65eTJKnUkh6iAdBHzz9/NhqNRqRpGrVaLZrN52JyctJgnkKy12rbWQMqa3+/F71uL9Iss9xQP/bejACo9EauNha12phB9InDUwCIBgAD2HO7f//+E/3HifHxqDs+CIyAdrsdnU47YuTWlC1hND76rz8/2X+sjUXzOTc/Asorz/NYvX0r7ty5EwcHBwbSB098eGp/vxc3V1bi3r17pgiU0s2bK7G2tiYYZYjGl7a2Nk0RKKXtrS1DKFs0ABANgNGXOPHdb7Uzc3P//8wjovhiN6/X65kYMPIajfE4efJkFGFBjMeOxosvvnSoD/xzuy0aQCVMTU/FCy++aBBP4FCHp/I8D0EGKsP2bLDRAFANRAMA0QBANAAQDQBEAwDRAEA0AEA0ABANAEQDANEAQDQAEA0AeMpouAEWUBXu6PfEakVRfMNsHwz3mz4OYFTkB/nDP9u2PWY0ri5f+eYiF0V0Oh3TAiphe3srlq98+HD7xmNEo9VqmQJwvPY08jxs+57M058IF2mgrOxFlC8aWeYNWEA5ZVlmCGWKRpqmcXr2jCkCpbTQbD58Mw/9URsbG3uCPb4i6vV6zC80Y3p62hSBUpqdPRNpmsVn6+vR7XYiSdMo8tw7pp5Cstdqmx4Ah+KEBACiAYBoACAaAIgGAKIBgGgAgGgAIBoAiAYAogGAaAAgGgAgGgCIBgCiAYBoACAaAIgGAIgGAKIBgGgAIBoAiAYAogGAaACAaAAgGgCIBgCiAYBoACAaACAaAIgGAKIBgGgAIBoAiAYAiAYAogGAaAAgGgCIBgCiAYBoAIBoACAaAIgGAKIBgGgAIBoAIBoAiAYAogGAaAAgGgCIBgCIBgCiAYBoACAaAIgGAFVWMwKqaPfzz2N5eTlWV1ej1+tGJImhDEtRRCRJzDw7ExcuXIizi4tmUiHJXqtdGANV0um047f//tu4e3fDMI56A5Mk8eZbb8XS0suGUREOT1E5KysrglGanY4irl27ZhCiAeW1vb1tCCWy3+sZgmhAeSXh/EW5HhCPR5U4Ec4x2nalMT7eiCRJoiicyuv3bHu9bvTsVYgGVMXk5GT8+NKlqNfrESEa/Y7G1eXluHLlQ8MQDaiGNE2i0Wh8EQ36vjEZszk5Fr9HRsBx4rCU2SIaAIgGAKIBgGgAIBoA8JD3yNF3eZ4P9CLgB4uoJpG40hhEg9G1u7sbly+/Hzs7OwNdyqOIIrI0jTNzc3HhwndiYmLC8EE0GDW3bt2MG9evD+3rra+vx8adO/GDH/4oGo2GBwCGwDkN+rcHkA//4q6NjY24f/++4YNoMHKO4BTD6dOnY3p62uxhSByeYqCyLIvpkyf72pMiItIkjfn5+Xjlu6/E+Pi4QYNoUAVTU9Nx6dK70WjUo59LE6WpnWQQDSonSb58e2zqXjxQAV6uMQRWPwXRgBFUr48ZwoBkWWYIx4DDUxwb7XY7rly5EmO1Mfd+6PerzyyNtdU1gxANqI5OpxOX33/fIOBpXiAYAVVTOIdSsgfE4yEaUGKWFAHRgEM7e3bRBX8lMjc3bwiiAeU1MzMTb7/zTpw+PesiwCOUZVmcO/eteOPNNw2jQpwIp5KazefiJz+dj83Nzej1unFwkEen3TaYIXp2ZiZmZ2cNQjRgdF7pnjlzxiCgj+y7AyAaAIgGAKIBgGgAIBrwKI9aLaIoCqtIgGjA143Vvv4O7lqtZslsEA34uoVmM6anp7/ydy+dOxdjY+5hAVWR7LXaDh7QN1tbW3F1eTk6nXacXVyMpaWXI3GfVxANAI4fh6cAEA0ARAOAI2SVWwZib28v2pYiPxL1ej0mJycNAtGg/Pb39+ODDy7HjevXReMIo7H4wgvx6quvuYMhfefdU/RNnufx3nv/GR9/9JFhlMDfPP98vP32O1Gv1w2DvnFOg765u7ERn9y4YRAlcfvWrVi9fdsgEA3Kqd1ux8HBgUGUSMshQkSDsnLldxkfEzOgv5wIZyjm5ufjmYmJyPPcMPoZhTSNXrcX6+trZotoUJHd2TSNixdfj9nZWcMYgN3d3fjVL38RrVbLMBj877MRMAy5cx0Ds9/rGQKiAYBoACAaAIgGAIgGAKIBwEC5TqMidnZ24q87OxGDvgK4iEizNGZmTllBFUSDUfXpXz6JTqcztK9357PP4vzSy3HixAnDh2PE4amKKIrhrnDf7Xbj3t27Bg+iwUg6gpXp0szTB0QDDmFqairm5uYNAo4Z5zQqbGGhGVNTU1FE/w5dFUVElmUxOTkZWZYZMogGVdobeHZmxiCAvnF4qsLywv0VANFgFLmFnNkiGnAYD94NXBjEwJohGgyPcxoMIRp5/OG992JiYiLyQjz6+qovSaLX2x/qhZ2IBgzc5uamIUAVXqgYAX3bozCCEu7lmQGiQUmdOHEi6vW6QZTIM89MGAKiQTmdOnUqzp9fMoiSaDabsbDQNAj6yjkN+iZJknj1tdei3qjHjevXo9VqRUTE/v6+4QzzlWCaxtnFxbh48fVoNBoGgmhQ7g3W9773t/Htb1+ITrsdERGdbjfyPA9vDB28vCii0WjEjJUAEA1GSaPR8CoXqvjC0AgAEA0ARAMA0QBANAAQDcrnEetFWEICEA0eqVb76runkySxpAcgGjza88+fjUajEWmaRq1Wi2bzuZicnDQYoK+SvVbbQYyK2N/vRa/bizTLXFgHDIQrwqv0YNbGolYbMwhgYByeAkA0AOg/h6cqpt1uR6fTjrCm7JGYGB+PuvNJiAZll+d5rN6+FXfu3ImDgwMDOapfqNpYNJ9z8yOqy+Gpirh5cyXW1tYE44jt7/fi5spK3Lt3zzAQDcpre2vLEEpka2vTEBANAESDKkic+AYGz4nwims0xuPkyZNRhAv/+9roiCjiwWHBXq9nIIgG1TA1PRUvvPiiQQzIn9tt0eBYcXiq6uxgDEye5+aLaKAaAKIBgGgAIBoAiAYAogGAaACAaAAgGgCIBgCiAYBoACAaACAaAIgGX3BHvwHP1wg4XtyEqeLyg/zhn4vCMun9a3FipogG1bO9vRXLVz58sMdhA9ffPbiiiE6nYxaIBhXa08jzaLVaBgH0hXMaVWEvomSPhxEgGpRYlmWGUKrHw68WokGJLTSbD0/OcsS/VGkap2fPGASV5JxGRczOnok0zeKz9fXodjuRpGkUee7dPUNUFEXU6/WYX2jG9PS0gVBJyV6rbasCwOH2pI0AANEAQDQAEA0ARAMA0QBANABANAAQDQBEAwDRAEA0ABANABANAEQDANEAQDQAEA0ARAMARAMA0QBANAAQDQBEAwDRAEA0AEA0ABANAEQDANEAQDQAEA0AEA0ARAMA0QBANAAQDQBEAwBEAwDRAEA0ABANAEQDANEAQDQAQDQAEA0ARAMA0QBANAAQDQAQDQBEAwDRAEA0ABANAEQDAEQDANEAQDQAEA0ARAOACqv9/Of/bApPqigikiRmnp2JCxcuxNnFRTMBSmv3889jeXk5VldXo9frRiTJ40ej3WqZ5FNaa7VifX0t3nzrrVhaetlAgNLpdNrx+9//Pu7e3Xiqz+PwVN92Ooq4du2aQQCltLKy8tTBEI0+2+/1DAEope3t7b58HtHopyc4PggwlM1T9Gf7VJuYmDDNx+pCGr1eN3r2KoCKbNPGxxuRJEkURfHN0finn/3M1B5zwFeXl+PKlQ8NAxh5k5OT8eNLl6Jer0fEIaLRaIyb2uPuno3VDAGohDRNotFofBGNQ3y8kT2+w+zCAVRxmyYaAIgGAKIBgGgAIBoAVIr3jgIMQZ7nA1004sGi20kkA16ZQjQABmh3dzcuX34/dnZ2+raUxyOjEUVkaRpn5ubiwoXvxKBW+xANgAG6detm3Lh+fWhfb319PTbu3Ikf/PBH0Wg0+v75ndMAGKAiH/7FwBsbG3H//v2BfG7RABikI1j8+vTp0zE9PT2Qz+3wFMCQZVkW0ydP9rUnRUSkSRrz8/PxyndfifHxwawrKBoAQzY1NR2XLr0bjUY9+rmUXZoO/uCRaAAMWZJ8+fbYdOTu3eacBsCRGM3VskXjCWRZZghAZdTrY4f+2Nq1q1dN7HEqm6WxtrpmEEAltNvtuHLlSozVxg53u9c//emPpgZwTHU6nbj8/vuHf+FsZH3kjn5AWTdPfTqHIhoAx0C/lhQRjT6am5s3BKCUzp5d7MsFf6LRB1mWxblz34o33nzTMIBSmpmZibffeSdOn559qosAa9///t+b5lN6dmYmZmdnDQIotWbzufjJT+djc3Mzer1uHBzk0Wm3Hy8a55eWTBLgmMiyLM6cOfPE/9/hKQBEAwDRAEA0ABANAEQDgMN51OpCRVGM7KpDogEwQGO1r9/rrlarjewtFkQDYIAWms2Ynp7+yt+9dO5cjI2NjeTPk+y12pZmBRigra2tuLq8HJ1OO84uLsbS0suRjNp9XkUDgMfl8BQAogGAaABwhGqbm5sj+83X6/WYnJz0KAIjYW9vL9qPuRR56aLxi3/9l5GOxuILL8Srr77WlztSAQzC/v5+fPDB5bhx/froR2OUv/lutxvXP/44Wq1WvP32O1Gv1z07gVLJ8zz++Mc/xMcffVSJn6cS5zRu37oVq7dve3YCpXN3YyM+uXGjMj9PZU6Et0Z8lw+opna7HQcHB6JRNiN6cSVQcUnFNk61xcXF0Rh8mkav24v19bXI89wzERh5c/Pz8czExEht02o//NE/jMw3u7u7G7/65S+i1Wp5tgEjLU3TuHjx9ZidnR2t73uUvtn9Xs8zDaiMfATPdbgiHADRAEA0ABANAEQDANEA4HiqGQFQVTs7O/HXnZ2IQV+UXUSkWRozM6cqv+L2/wwA+p/h6gQLYCAAAAAASUVORK5CYII=")').appendTo(e).append(atob("PGRpdiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogdGFibGU7Ij48aDIgc3R5bGU9ImRpc3BsYXk6IHRhYmxlLWNlbGw7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiPkxpY2Vuc2UgbWlzc2luZyEgUGxlYXNlIGNvbnRhY3QgeW91ciBzb2Z0d2FyZSB2ZW5kb3IhPC9oMj48L2Rpdj4=")),this._viewInitialized=!0,n('<div class="nrab-message-pane"></div>').appendTo(e),this._options.widget._showAbout(),delete this._view}}},h={};a.nClassFactory.extendClass(h,"rabWidgetApplication",s,p),e.exports=h.rabWidgetApplication},6377:function(e,t,i){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(2526),i(1817),i(2165),i(6541),i(7327),i(9554),i(2772),i(6992),i(1249),i(1539),i(4916),i(9714),i(8783),i(3123),i(4747),i(3948);var a=i(3755),o=i(5680),r=i(7930),s=r.nDebugHelper,l=r.nTemplateResolver,c=i(4429),u=i(4081),d=u._AllocationBarDesignFlags,p=c.ElemType,h=u.ItemType,g=c.BarInteractions,_=u.ObjectType,f=u.TableType,m=c.HorizontalAlignment,v=u.DateLineGridModes,b=u.VisualType,y=u.TextWrapMode,A=i(3393),I=i(4081).ViewType,C={construct:function(e,t,i,n,o){"use strict";var s,l=this;l._super(e,t,i,n,o);var c=l.getAPIOption("pm_symbolColumnTitleSymbolIDs");l.getAPIOption("pm_symbolColumnTitleVisible")&&(s=l._getImageURLSForGanttWidget(c)),l._tableDefinitionActivities={titleText:l.getAPIOption("titleText"),rowDefinitionIDWithColumnTitles:l.getAPIOption("pm_tableRowDefinitionIDForTitleInActivitiesView"),baseLevel:{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:l.getAPIOption("tableWidth"),contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:null,horizontalTextAlignment:m.Left}]},symbolColumnTitleImageURLs:s,symbolColumnTitleVisible:l.getAPIOption("pm_symbolColumnTitleVisible"),symbolColumnTitleBackgroundColor:l.getAPIOption("pm_tableHeaderBackgroundColor")},l.getAPIOption("curvePanesVisibleInActivitiesView")&&(l._tableDefinitionActivities.fixedColumnsSucceeding={cellDefinitions:[{className:"",width:l.getAPIOption("fixedTableColumnWidth"),contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:"",horizontalTextAlignment:m.Left,clippingEnabled:!1}]}),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,this.getAPIOption("pm_symbolColumnVisible"),this.getAPIOption("pm_symbolColumnWidth")),l._tableDefinitionActivitiesBaseLevel=l._tableDefinitionActivities.baseLevel,l._tableDefinitionResources=a.extend(!0,{},l._tableDefinitionActivities),l._tableDefinitionResources.rowDefinitionIDWithColumnTitles=l.getAPIOption("pm_tableRowDefinitionIDForTitleInResourcesView"),l.getAPIOption("pm_curvePanesCollapsibleInResourcesView")&&(l._tableDefinitionResources.fixedColumnsSucceeding={cellDefinitions:[{className:"",width:l.getAPIOption("fixedTableColumnWidth"),contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},title:"",horizontalTextAlignment:m.Left,clippingEnabled:!1}]}),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,this.getAPIOption("pm_symbolColumnVisible"),this.getAPIOption("pm_symbolColumnWidth")),l._tableDefinitionResourcesBaseLevel=l._tableDefinitionResources.baseLevel,l._tableDefinitionLoads=a.extend(!0,{},l._tableDefinitionResources),l._tableDefinitionLoadsBaseLevel=l._tableDefinitionLoads.baseLevel,l._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=l.getAPIOption("pm_tableRowDefinitionIDForTitleInLoadsView")||l._tableDefinitionResources.rowDefinitionIDWithColumnTitles,s=void 0,c=l.getAPIOption("pm_entitiesTableSymbolColumnTitleSymbolIDs"),l.getAPIOption("pm_entitiesTableSymbolColumnTitleVisible")&&(s=l._getImageURLSForEntitiesTableWidget(c)),l._tableDefinitionEntities={titleText:l.getAPIOption("entitiesTitleText"),rowDefinitionIDWithColumnTitles:l.getAPIOption("pm_tableRowDefinitionIDForTitleInEntitiesTable"),baseLevel:{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:m.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:250,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:m.Left}]}],symbolColumnTitleImageURLs:s,symbolColumnTitleVisible:l.getAPIOption("pm_entitiesTableSymbolColumnTitleVisible"),symbolColumnTitleBackgroundColor:l.getAPIOption("pm_entitiesTableHeaderBackgroundColor")},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("pm_entitiesTableSymbolColumnVisible"),this.getAPIOption("pm_entitiesTableSymbolColumnWidth")),l._tableDefinitionEntitiesBaseLevel=l._tableDefinitionEntities.baseLevel,l.updateTableRowDefinitions(l.app().tableRowDefinitionsMap(),!1),l._columns=[],l._rowDefinitions=[],l._callbackForCloseContextMenu=function(){l._handleCloseContextMenu()},l._contextMenuActive=!1,r.nPopup.addCallbackForCloseContextMenu(l._callbackForCloseContextMenu);this.setAPIOptionChangedCallback("dateLineGridMode",1,(function(e,t,i){l.handleAPIOptionChanged(e,t,i)}))},destroy:function(){"use strict";this._super(),r.nPopup.removeCallbackForCloseContextMenu(this._callbackForCloseContextMenu)},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"dateLineGridMode":this._ganttWidget.option("timescaleRibbonDateLinesVisible",!!(t&v.Auto));var n=[];t&v.Weekly&&n.push({timeType:c.DateLineGridRecurrence.Weekly,className:this.RAB_WEEKLY_DATE_LINE_GRID_CLASS}),t&v.Daily&&n.push({timeType:c.DateLineGridRecurrence.Daily,className:this.RAB_DAILY_DATE_LINE_GRID_CLASS}),this._ganttWidget.option("dateLineGrids",n);break;default:this._super(e,t,i)}},_initOptions:function(e){"use strict";var t=this._options=a.extend({},{},e);this._super(t)},getObjectTypeFromItem:function(e){"use strict";var t=void 0;if(e)switch(e.rab_itemType){case h.Activity:case h.ActivityBaseline:case h.ActivityDueDate:case h.ActivityFrame:case h.ActivityReleaseDate:case h.ActivityRow:t=_.Activity;break;case h.Allocation:case h.AllocationRow:t=_.Allocation;break;case h.Curve:t=this.getAPIOption("newCallbackBehaviorEnabled")?_.Resource:e.rab_itemType;break;default:t=e.rab_itemType}return t},_transferObjectOfCallbackArgs:function(e,t){"use strict";var i=this,n=e.item||e.sender||e.rowItem,a=n&&n.rab_itemType===h.PeriodHighlighterEntry;a&&(n=e.rowItem);var o=void 0!==e.itemType?e.itemType:n?n.rab_itemType:void 0;e.event&&(t.event=e.event),t.objectType="TimeAreaBackground"===n?_.TimeArea:"Timescale"===n?_.Timescale:i.getObjectTypeFromItem(n),t.object="TimeAreaBackground"!==n&&"Timescale"!==n&&n?"function"==typeof n.data?n.data().data():n.rab_data:null,t.visualType=a?b.PeriodHighlighter:o===h.ActivityRow||o===h.AllocationRow||o===h.Resource||o===h.Entity?b.Row:o===h.Curve?b.Curve:o===h.Link?b.Link:o===h.DateLine?b.DateLine:n?b.Bar:-1;var s=e.ganttWidget;e.event&&t.visualType===b.Row&&s&&s.pageXToTimeAxisX(e.event.pageX)>=0&&(s.pageXToDate(e.event.pageX)>=s.timeAxis().currentlyVisibleStart()&&(t.visualType=b.Background));if(e.event&&s&&t.visualType!==b.Row&&(t.date=i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(s.pageXToDate(e.event.pageX)):s.pageXToDate(e.event.pageX)),o===h.AllocationEntry)i.getAPIOption("newCallbackBehaviorEnabled")?(t.entry=t.object,t.object=n.data().getHierarchyParent().data(),t.objectType=h.Allocation,t.entryIndex=t.object.Entries.indexOf(t.entry)):t.allocation=n.data().getHierarchyParent().data();else if(a){var l=i.viewModel().model().periodHighlighterByID(n.data().PM_PeriodHighlighterID);t.calendarGrid=t.periodHighlighter=l.data(),null!=e.entryIndex&&(t.entryIndex=(e.item||e.sender).entries[e.entryIndex].rab_entryIndex,t.entry=l.Entries[t.entryIndex].data())}"tooltipTemplateID"in e&&(t.tooltipTemplateID=e.tooltipTemplateID),"curveID"in e&&(t.curve=i.viewModel().model().curveByID(e.curveID).data())},_replaceTooltipTemplatePlaceholders:function(e,t,i){"use strict";var n=this,a=n._app.tooltipTemplatesMap()[e],o=n._viewModel.model(),s=i.innerHTML;if(a&&a.InnerHTML){var c=i.objectType,u=function(e,n,a){switch(c){case _.Activity:">Parent"===e?t=o.activityByID(r.nPropertyComposer.compose(t,["ParentRole","ParentID"],r.nDefaultSeparator)):">Calendar"===e&&(t=o.calendarByID(t.CalendarID),c=_.Calendar);break;case _.Resource:">Parent"===e?t=o.resourceByID(r.nPropertyComposer.compose(t,["ParentRole","ParentID"],r.nDefaultSeparator)):">CapacityCurve"===e?(t=o.curveByID(t.CapacityCurveID),c=_.Curve):">LoadCurve"===e?(t=o.curveByID(t.LoadCurveID),c=_.Curve):">InventoryCurve"===e?(t=o.curveByID(t.InventoryCurveID),c=_.Curve):">Calendar"===e?(t=o.calendarByID(t.CalendarID),c=_.Calendar):a&&i.visualType===b.Curve&&("#Date"!==e&&"#Load"!==e&&"#Capacity"!==e||(t=i[e.substring(1).toLowerCase()],c=-1));break;case _.Entity:">Parent"===e&&(t=o.entityByID(t.ParentID));break;case _.Allocation:">Resource"===e?(t=o.resourceByID(r.nPropertyComposer.compose(t,["ResourceRole","ResourceID"],r.nDefaultSeparator)),c=_.Resource):">Activity"===e?(t=o.activityByID(r.nPropertyComposer.compose(t,["ActivityRole","ActivityID"],r.nDefaultSeparator)),c=_.Activity):a&&"#Entry"===e&&(t=n.Entries[i.entryIndex],c=-1);break;case _.Link:if(">SourceActivity"===e||">TargetActivity"===e){var s=e.substring(1);t=o.activityByID(r.nPropertyComposer.compose(t,[s+"Role",s+"ID"],r.nDefaultSeparator)),c=_.Activity}break;default:t=void 0,c=-1}return t};s=l.resolve(a.InnerHTML.toString(),">#",t,(function(){return u(arguments)}),(function(e){return n.ganttWidget()._formatDate(new Date(e))}))}return s},_handleBeforeShowingTooltip:function(e){"use strict";var t=s.active();try{s.active(!0);var i={innerHTML:e.innerHTML};if(this._transferObjectOfCallbackArgs(e,i),e.itemType===h.Curve?(i.load=e.load,e.singleLoads&&(i.singleLoads=e.singleLoads),i.capacity=e.capacity):i.visualType===b.Row&&(i.cellIndex=e.cellIndex),this._app.getOption("widget")._callOnShowTooltip(i),null!=i.tooltipTemplateID){var n=e.itemType===h.PeriodHighlighterEntry?e.rowItem.data():e.item.data();e.innerHTML=this._replaceTooltipTemplatePlaceholders(i.tooltipTemplateID,n,i)}else e.innerHTML=i.innerHTML||void 0;this._super(e)}catch(e){this._handleException(e,"onShowTooltip")}finally{s.active(t)}},_handleCloseContextMenu:function(){"use strict";this._contextMenuActive&&(this._app.getOption("widget")._callOnCloseContextMenu(),this._contextMenuActive=!1)},_handleContextMenuEvent:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;if(this._super(e),e.sender){var a={promise:void 0};if(e.dateArea&&(e.item=e.rowItem),i._transferObjectOfCallbackArgs(e,a),e.event&&e.elemType===p.Row&&a.visualType===b.Background)for(var l=o.select(e.event.target);l.attr("class").indexOf(u.RAB_CLASS_PREFIX)>=0;l=o.select(l.node().parentNode))if(l.classed(u.RAB_CURVE_CONTAINER_CLASS)){a.visualType=b.Curve;break}e.event&&a.visualType!==b.Row&&(a.date=i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(i._ganttWidget.pageXToDate(e.event.pageX)):i._ganttWidget.pageXToDate(e.event.pageX)),r.nPopup.setContextMenuActive(!0),i._contextMenuActive=!0,i._app.getOption("widget")._callOnShowContextMenu(a),"object"===n(a.promise)&&"function"==typeof a.promise.then?a.promise.then((function(){r.nPopup.setContextMenuActive(!1),i._contextMenuActive=!1}),(function(){r.nPopup.setContextMenuActive(!1),i._contextMenuActive=!1})):(r.nPopup.setContextMenuActive(!1),i._contextMenuActive=!1)}}catch(e){this._handleException(e,"onShowContextMenu")}finally{s.active(t)}},_doOnEventFunc:function(e){"use strict";switch(e.eventType){case"tap":case"doubletap":this._app.getOption("widget")._closeContextMenu()}this._super(e)},_handleItemTap:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this,n={};i._transferObjectOfCallbackArgs(e,n),i._tooltipWidget.display(null),i._app.getOption("widget")._callOnClicked(n),i._super(e)}catch(e){this._handleException(e,"onClicked")}finally{s.active(t)}},_handleItemDoubleTap:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this,n={};i._transferObjectOfCallbackArgs(e,n),i._tooltipWidget.display(null),i._app.getOption("widget")._callOnDoubleClicked(n),i._super(e)}catch(e){this._handleException(e,"onDoubleClicked")}finally{s.active(t)}},_doDetermineTableRowDefinitionFunc:function(e){"use strict";var t=this,i=s.active();try{s.active(!0),this._super(e);var n={level:e.level,tableType:e.tableType,objectType:t.getObjectTypeFromItem(e.rowItem),object:e.rowItem.data(),hasColumnTitles:!1},a=e.rowDefinition.cellDefinitions.map((function(e){return{initialWidth:e.width,horizontalTextAlignment:e.horizontalTextAlignment,textSource:"",wrapMode:y.None}}));if(n.columns=a,this._app.getOption("widget")._callOnDetermineColumnDefinitions(n),n.columns!==a&&Array.isArray(n.columns)){var o,r=t._columns.indexOf(n.columns);r>=0?o=t._rowDefinitions[r]:(t._columns.push(n.columns),o={cellDefinitions:[],contentsFunc:e.rowDefinition.contentsFunc,hasColumnTitles:n.hasColumnTitles},n.columns.forEach((function(e){o.cellDefinitions.push({className:"",title:e.title,width:e.initialWidth,horizontalTextAlignment:e.horizontalTextAlignment,rab_textSource:e.textSource,rab_symbolIDSource:e.symbolIDSource,wrapMode:e.wrapMode,contentsFunc:function(){return t.__tableCellFillFunc.apply(t,arguments)}})})),t._rowDefinitions.push(o)),e.rowDefinition=o}}catch(e){this._handleException(e,"onDetermineColumnDefinitions")}finally{s.active(i)}},_handleException:function(e,t){"use strict";this._app.getOption("widget")._handleException(e,t)},_handleCanSelectTimeItem:function(e){"use strict";var t=s.active();try{s.active(!0),this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleException(e,"canSelect")}finally{s.active(t)}},_handleSelectTimeItem:function(e){"use strict";var t=s.active();try{s.active(!0),e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleException(e,"onSelectionChanged")}finally{s.active(t)}},_handleCanSelectRowItem:function(e){"use strict";var t=s.active();try{s.active(!0),this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleException(e,"canSelect")}finally{s.active(t)}},_handleSelectRowItem:function(e){"use strict";var t=s.active();try{s.active(!0),e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleException(e,"onSelectionChanged")}finally{s.active(t)}},_handleCanSelectLinkItem:function(e){"use strict";var t=s.active();try{s.active(!0),this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleException(e,"canSelect")}finally{s.active(t)}},_handleSelectLinkItem:function(e){"use strict";var t=s.active();try{s.active(!0),e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleException(e,"onSelectionChanged")}finally{s.active(t)}},_entitiesTableHandleCanSelectRowItem:function(e){"use strict";var t=s.active();try{s.active(!0),this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleException(e,"canSelect")}finally{s.active(t)}},_entitiesTableHandleSelectRowItem:function(e){"use strict";var t=s.active();try{s.active(!0),e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleException(e,"onSelectionChanged")}finally{s.active(t)}},_canSelectItem:function(e){"use strict";if(e.event&&e.event.shiftKey)e.canSelect=!1;else{var t=e.rowItem||e.timeItem||e.linkItem,i={otherSelectedObjects:(e.otherSelectedRowItems||e.otherSelectedTimeItems||e.otherSelectedLinkItems).map((function(e){return e.data().data()})),event:e.event,cancel:!1};e.item=t,this._transferObjectOfCallbackArgs(e,i),this._app.getOption("widget")._callCanSelect(i),e.canSelect=!i.cancel}},_selectItem:function(e){"use strict";var t=this;if(this.getAPIOption("multipleSelectionEnabled")||e.oldSelectedItems[0]!==e.newSelectedItems[0]){var i=e.rowItem||e.timeItem||e.linkItem,n={selectedObjects:e.newSelectedItems.filter((function(e){return e.data()})).map((function(e){return e.data().data()})),event:e.event,cancel:e.cancel};if(e.item=i,t._transferObjectOfCallbackArgs(e,n),!i){var a=t.getObjectTypeFromItem(e.oldSelectedItems[0]);n.visualType=a===h.ActivityRow||a===h.AllocationRow||a===h.Resource||a===h.Entity?b.Row:a===h.Curve?b.Curve:a===h.Link?b.Link:b.Bar}var o=t._ganttWidget.selectedTimeItems();o.length||(o=t._ganttWidget.selectedRowItems()),!o.length&&t._entitiesTableWidget&&(o=t._entitiesTableWidget.selectedRowItems()),o.length&&(n.previouslySelectedObjects=o.filter((function(e){return e.data()})).map((function(e){return e.data().data()})),n.previouslySelectedObjectsType=t.getObjectTypeFromItem(o[0])),n.reason=e.reason||u.SelectionChangedReason.Click,e.reasonItem&&(n.reasonObject=e.reasonItem.data().data(),n.reasonObjectType=t.getObjectTypeFromItem(e.reasonItem)),t._app.getOption("widget")._callOnSelectionChanged(n),!n.cancel&&Array.isArray(n.selectedObjects)&&(e.newSelectedItems=t._mapObjectsOrObjectIDsToItems(n.objectType,n.selectedObjects,n.visualType)),e.cancel=n.cancel}},_mapObjectsOrObjectIDsToItems:function(e,t,i){"use strict";var n,a=this,o=[],s=e!==_.Entity;switch(e){case _.Resource:n=a._viewModel.resourceItem;break;case _.Activity:n=a._viewModel.activityItem;break;case _.Entity:s=!1,n=a._viewModel.entityItem;break;case _.Allocation:n=a._viewModel.allocationItem;break;case _.Link:n=a._viewModel.linkItem}if(n){var l=a._view.model();t.forEach((function(t){var c;if("string"==typeof t){var u=t.split(r.nDefaultSeparator);c=u.length>1?l.objectByID(e,u[1],u[0]):l.objectByID(e,u[0])}else c=a._app.model().objectByID(e,t.ID,s&&t.Role||"");if(c){var d=n.call(a._viewModel,a._viewType,c);if(d&&i===b.Bar)if(e===_.Activity)d=d.timeItems&&a._viewModel._findItemOfTypeInArray(d.timeItems,h.Activity)||d.timeItems&&d.timeItems[0];else e===_.Allocation&&a._viewType===I.Activities&&(d=d.timeItems&&d.timeItems[0]);d&&o.push(d)}}))}return o},_keyDownFunc:function(e){"use strict";var t=this;t._super(e);var i=e.event,n=t.app().getOption("widget");i.shiftKey&&i.ctrlKey&&i.altKey&&"F12"===i.key?n.about():i.shiftKey&&i.ctrlKey&&i.altKey&&"l"===i.key.toLowerCase()&&t.getAPIOption("interactiveActivationOfLoggingEnabled")&&n._setOption("loggingEnabled",!n.option("loggingEnabled"))},_checkPossibleInteractionsFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;if(e.elemType===p.Bar){var n={cancel:!1};if(i.getAPIOption("newCallbackBehaviorEnabled")?n.allowedDragModes=e.interactions:n.dragMode=e.interactions,i._transferObjectOfCallbackArgs(e,n),i.getAPIOption("multipleBarDraggingEnabled")){var a=i._ganttWidget.selectedTimeItems();a.length&&(n.selectedObjects=a.filter((function(e){return e.data()})).map((function(e){return e.data().data()})))}i._app.getOption("widget")._callCanDrag(n),n.cancel?e.interactions=g.None:i.getAPIOption("newCallbackBehaviorEnabled")?e.interactions=n.allowedDragModes:e.interactions=n.dragMode}i._super(e),i._savedPropertiesOfCheckPossibleInteractionsFunc={callbackArgs:e,boundingClientRect:e.elem.getBoundingClientRect()}}catch(e){this._handleException(e,"canDrag")}finally{s.active(t)}},checkResendingCanDrag:function(e){"use strict";var t=this;t._savedPropertiesOfCheckPossibleInteractionsFunc&&t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item.data()&&Array.isArray(e)&&e.every((function(e){if(e===t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item.data().data()){var i=t._savedPropertiesOfCheckPossibleInteractionsFunc.boundingClientRect,n=t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.elem.getBoundingClientRect(),a=n.left<=i.left,o=n.right>=i.right,r=n.top<=i.top,s=n.bottom>=i.bottom;return(a&&o&&r&&s||!a&&!o&&!r&&!s)&&t._ganttWidget.recheckBarInteractions(t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item),!1}return!0}))},_doDraggedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;if(i._super(e),e.elemType===p.Bar||e.elemType===p.Row){var n=e.sender;if(e.elemType!==p.Bar||!n.rab_parentItem||n.rab_itemType===h.Allocation&&n.rab_parentItem.rab_allocationBarDesignFlags===d.Entries){var a={newRowObjectType:e.newRowItem?i.getObjectTypeFromItem(e.newRowItem):void 0,newRowObject:e.newRowItem?e.newRowItem.data().data():void 0,dragMode:e.interaction,dropAllowed:!0,cancel:!1};n.rab_itemType===h.Allocation&&(a.newRowObjectIsSuitableResource=e.newRowItemIsSuitableResource),i._transferObjectOfCallbackArgs(e,a),e.elemType===p.Bar?(a.newStart=i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.start):e.start,a.newEnd=i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.end):e.end):e.elemType===p.Row&&e.start&&(a.newStart=i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.start):e.start),i._app.getOption("widget")._callOnDrag(a),e.dropAllowed=a.dropAllowed,e.cancel=a.cancel}}}catch(e){this._handleException(e,"onDrag")}finally{s.active(t)}},_doDroppedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i,o=this,l=e.sender;if(e.elemType===p.Bar||e.elemType===p.Row||e.elemType===p.DateLine){var u;if(u=e.elemType===p.DateLine?{newDate:o.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.newDate):e.newDate,cancel:!1}:{newRowObjectType:e.newRowItem?o.getObjectTypeFromItem(e.newRowItem):void 0,newRowObject:e.newRowItem?e.newRowItem.data().data():void 0,dragMode:e.interaction,cancel:!1,promise:null},o._transferObjectOfCallbackArgs(e,u),e.elemType===p.Bar){if(u.workingTimeDistance=e.workingTimeDistance,u.newStart=o.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.start):e.start,u.newEnd=o.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(e.end):e.end,o.getAPIOption("multipleBarDraggingEnabled")&&(u.coupledObjects=[],u.startsAndEndsOfCoupledObjects=[]),u.coupledObjects&&e.startsAndEndsOfCoupledItems){var d=e.newRowItem,g=o._ganttWidget.getRowItem(l);d===g&&(d=null),u.startsAndEndsOfCoupledObjects=e.startsAndEndsOfCoupledItems.map((function(t){var i=t.start,n=t.end;if(!i){g=o._ganttWidget.getRowItem(t.item);var a=d||g,r=t.item;r.rab_itemType===h.ActivityFrame&&(r=o._viewModel._findItemOfTypeInArray(r.childTimeItems,h.Activity));var s=r.calendar||g&&g.calendar||o._ganttWidget.options.defaultCalendar,l=r.calendar||a&&a.calendar||o._ganttWidget.options.defaultCalendar,p=r.start&&r.end?c.nCalendarHelper.calculateWorkingTime(s,r.end,r.start):void 0;(i=r.start?c.nCalendarHelper.addWorkingTime(l,r.start,e.workingTimeDistance):null)&&(n=p&&c.nCalendarHelper.addWorkingTime(l,i,p)||null)}var _=t.item.data().data();return u.coupledObjects.push(_),{object:_,newStart:i,newEnd:n}}))}}else if(e.elemType===p.Row&&e.start){u.newStart=e.start;var _=e.newRowItem&&l.data().Duration;if(_){var f=e.end||c.nCalendarHelper.addWorkingTime(null,e.start,_);u.newEnd=o.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(f):f}}o._app.getOption("widget")._callOnDrop(u),void 0===this&&o._super(e),u.cancel?e.cancel=!0:"promise"in e&&u.promise&&"object"===n(u.promise)&&"function"==typeof u.promise.then&&(i=a.Deferred(),u.promise.then((function(e){e&&e.cancel?i.reject():i.resolve()})).catch((function(){i.reject()})),e.promise=i.promise())}}catch(e){this._handleException(e,"onDrop")}finally{s.active(t)}},_doDragStartFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;i._super(e);var n={dragMode:e.interaction,cancel:!1};i._transferObjectOfCallbackArgs(e,n),i._app.getOption("widget")._callOnDragStart(n),e.cancel=n.cancel}catch(e){this._handleException(e,"onDragStart")}finally{s.active(t)}},_doDragEndFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;i._super(e);var n={dragMode:e.interaction,canceled:e.canceled};i._transferObjectOfCallbackArgs(e,n),i._app.getOption("widget")._callOnDragEnd(n)}catch(e){this._handleException(e,"onDragEnd")}finally{s.active(t)}},_timeAreaViewParametersChangedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;this._super(e);var n=Math.max(1,1/(i.ganttWidget().timeAxis().actualWidthPerSecond()/64)),a="seconds";n>=60&&(a="minutes",(n/=60)>=60&&(a="hours",(n/=60)>=24&&(n/=24,a="days")));var o={scrollOffset:e.scrollOffset,width:e.width,start:i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(new Date(e.start)):new Date(e.start),end:i.viewModel().model().displayRelativeDates()?r.nDateHelper.dateToRelativeDateTimeString(new Date(e.end)):new Date(e.end),timeResolutionUnit:a,timeResolutionUnitCount:n};i._app.getOption("widget")._callOnTimeAreaViewParametersChanged(o)}catch(e){this._handleException(e,"onTimeAreaViewParametersChanged")}finally{s.active(t)}},_curvePaneResizedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);this._super(e);var i={paneIndex:e.paneIndex,newHeight:e.newHeight};this._transferObjectOfCallbackArgs(e,i),delete i.visualType,this._app.getOption("widget")._callOnCurvePaneResized(i)}catch(e){this._handleException(e,"onCurvePaneResized")}finally{s.active(t)}},_verticalScrollOffsetChangedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);this._super(e);var i={tableType:e.ganttWidget?f.Gantt:f.Entities,scrollOffset:e.scrollOffset,rowObjectTypeAtTop:this.getObjectTypeFromItem(e.rowItemAtTop),rowObjectAtTop:e.rowItemAtTop?e.rowItemAtTop.data().data():void 0,topViewScrollOffset:e.topViewScrollOffset,topViewRowObjectAtTop:e.topViewRowItemAtTop?e.topViewRowItemAtTop.data().data():void 0};this._app.getOption("widget")._callOnVerticalScrollOffsetChanged(i)}catch(e){this._handleException(e,"onOnVerticalScrollOffsetChanged")}finally{s.active(t)}},_tableColumnWidthChangedFunc:function(e){"use strict";var t=s.active();try{s.active(!0);this._super(e);var i=e.sender.rab_tableRowDefinition,n={tableType:e.ganttWidget?f.Gantt:f.Entities,tableRowDefinition:i.rab_data,cellIndex:e.columnIndex,newWidth:e.newWidth,oldWidth:e.oldWidth};this._app.getOption("widget")._callOnTableCellDefinitionWidthChanged(n)}catch(e){this._handleException(e,"onOnVerticalScrollOffsetChanged")}finally{s.active(t)}},_handleRowExpandOrCollapseFunc:function(e){"use strict";var t=s.active();try{s.active(!0);var i=this;i._super(e);var n={newCollapseState:(e.concernsLeaves?e.areLeavesCollapsed:e.isCollapsed)?1:0,interactively:e.interactively,isForAllocationRows:e.concernsLeaves,promise:null};i._transferObjectOfCallbackArgs(e,n);var a=(e.newCollapseState?"c":"e")+(e.concernsLeaves?"A":"C")+n.objectType+(n.object.Role||"")+r.nDefaultSeparator+n.object.ID;if(i._prefixedObjectIDsSetWithPendingCollapseStateChange||(i._prefixedObjectIDsSetWithPendingCollapseStateChange={}),!i._prefixedObjectIDsSetWithPendingCollapseStateChange[a]){i._prefixedObjectIDsSetWithPendingCollapseStateChange[a]=!0,i._app.getOption("widget")._callOnCollapseStateChanged(n);var o=function(){delete i._prefixedObjectIDsSetWithPendingCollapseStateChange[a]};n.promise&&"function"==typeof n.promise.then?(e.promise=n.promise,n.promise.then(o,o)):o()}}catch(e){this._handleException(e,"onCollapseStateChanged")}finally{s.active(t)}},_expandOrCollapseCurvesInRow:function(e,t){"use strict";var i=s.active();try{s.active(!0);var n=this;n._super(e,t);var a={objectType:n.getObjectTypeFromItem(e),object:e.data().data(),newCollapseState:t?0:1,promise:null};e.rab_itemType!==h.Resource&&(a.resource=n._viewModel.resourceByItem(e).data());var o=(t?"e":"c")+"U"+e.rab_itemType+(a.object.Role||"")+r.nDefaultSeparator+a.object.ID;if(n._prefixedObjectIDsSetWithPendingCollapseStateChange||(n._prefixedObjectIDsSetWithPendingCollapseStateChange={}),!n._prefixedObjectIDsSetWithPendingCollapseStateChange[o]){n._prefixedObjectIDsSetWithPendingCollapseStateChange[o]=!0,n._app.getOption("widget")._callOnCurveCollapseStateChanged(a);var l=function(){delete n._prefixedObjectIDsSetWithPendingCollapseStateChange[o]};if(a.promise&&"function"==typeof a.promise.then)return a.promise.then(l,l),a.promise;l()}}catch(e){return void this._handleException(e,"onCurveCollapseStateChanged")}finally{s.active(i)}},checkObjectVisibility:function(e){"use strict";var t={objectType:this.getObjectTypeFromItem(e),object:e.data().data(),result:!0};return this._app.getOption("widget")._callVisibilityFilter(t),t.result}},T={};r.nClassFactory.extendClass(T,"rabWidgetGanttView",A,C),e.exports=T.rabWidgetGanttView},7499:function(e,t,i){var n=i(7930),a=i(8422),o={};n.nClassFactory.extendClass(o,"rabWidgetModel",a,{handleAPIOptionChanged:function(e,t){"use strict";switch(e){case"defaultCalendarID":this._defaultCalendar=""===t||null==t?this._defaultNonWorkingTimeCalendar:this.calendarByID(t)}},addCalendar:function(e){"use strict";var t=this._super(e);return e.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=t),t},updateCalendar:function(e,t){"use strict";var i=this._super(e,t);return t.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=e),i},removeCalendar:function(e){"use strict";e.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=this._defaultNonWorkingTimeCalendar),this.removeChild(e)}}),e.exports=o.rabWidgetModel},8389:function(e,t,i){i(2772);var n=i(7930),a=n.nDebugHelper,o=i(6431),r=i(4081).DateLineGridModes,s={construct:function(e){"use strict";this._super(e),this.defineOption("version",null),this.defineOption("customName",null),this.defineOption("customCopyrightYear",null),this.defineOption("customVersion",null),this.defineOption("licenseKey",null),this.defineOption("defaultCalendarID",null,this.convertAnyNonObjectToString),this.defineOption("newCallbackBehaviorEnabled",!1,this.convertAnyToBoolean),this.defineOption("onShowTooltip",null,void 0,this.assertFunctionOrNull),this.defineOption("onDetermineColumnDefinitions",null,void 0,this.assertFunctionOrNull),this.defineOption("onShowContextMenu",null,void 0,this.assertFunctionOrNull),this.defineOption("onCloseContextMenu",null,void 0,this.assertFunctionOrNull),this.defineOption("canDrag",null,void 0,this.assertFunctionOrNull),this.defineOption("onDrag",null,void 0,this.assertFunctionOrNull),this.defineOption("onDragStart",null,void 0,this.assertFunctionOrNull),this.defineOption("onDragEnd",null,void 0,this.assertFunctionOrNull),this.defineOption("onDrop",null,void 0,this.assertFunctionOrNull),this.defineOption("onClicked",null,void 0,this.assertFunctionOrNull),this.defineOption("onDoubleClicked",null,void 0,this.assertFunctionOrNull),this.defineOption("canSelect",null,void 0,this.assertFunctionOrNull),this.defineOption("onSelectionChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onTimeAreaViewParametersChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onVerticalScrollOffsetChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCollapseStateChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCurveCollapseStateChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCurvePaneResized",null,void 0,this.assertFunctionOrNull),this.defineOption("onTableCellDefinitionWidthChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("compareObjects",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("visibilityFilter",null,void 0,this.assertFunctionOrNull),this.defineOption("dateLineGridMode",r.Weekly,this.convertStringToNumber,this.assert_dateLineGridMode),this.defineOption("loggingEnabled",!1),this.defineOption("interactiveActivationOfLoggingEnabled",!1)},assert_dateLineGridMode:function(e,t){"use strict";return a.assertNumberOrNull(t),null!=t&&a.assert([0,1,2,4].indexOf(t)>=0,e+" is out of range"),!0}},l={};n.nClassFactory.extendClass(l,"rabWidgetOptionsCollector",o,s),e.exports=l.rabWidgetOptionsCollector},9469:function(e,t,i){i(9554),i(9600),i(4747);var n=i(3755),a=i(7930),o=i(4081),r=o.ViewType,s=o.ObjectType,l=o.ItemType,c=i(9077),u={construct:function(e,t,i){"use strict";var n=this;this._super(e,t,i);this.setAPIOptionChangedCallback("compareObjects",1,(function(e,t,i){n.handleAPIOptionChanged(e,t,i)}))},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"compareObjects":this.ganttViews().length&&this._initializeCompareObjects();break;default:this._super(e,t,i)}},_initOptions:function(e){"use strict";this._super(n.extend({},{},e))},setOption:function(e,t){"use strict";switch(e){case"viewType":this.ganttViews()[0].setOption(e,t)}this._super(e,t)},_initViewModels:function(){"use strict";this._initializeCompareObjects(),this._super()},_initializeCompareObjects:function(){"use strict";var e=this,t=e.getAPIOption("compareObjects");e.ganttViews().forEach((function(i){i.viewModel().setOption("compareRowItemsFunc",t?function(n){var a={objectType:i.getObjectTypeFromItem(n.itemA),objectA:n.itemA.data().data(),objectB:n.itemB.data().data(),isALowerThanB:!0};t.call(e.model().getOption("widget"),a),n.isALowerThanB=a.isALowerThanB}:void 0)}))},scrollToObjectData:function(e,t,i,n){"use strict";var o=this;if(t){var c,u,d=this.ganttViews()[0],p=d.viewType();switch(e){case s.Resource:p!==r.Resources&&p!==r.Loads||(c=o.model().resourceByID("string"==typeof t?a.nDefaultSeparator+t:[t.Role,t.ID].join(a.nDefaultSeparator)))&&(u=d.viewModel().resourceItem(p,c));break;case s.Allocation:p===r.Resources&&(c=o.model().allocationByID("string"==typeof t?a.nDefaultSeparator+t:[t.Role,t.ID].join(a.nDefaultSeparator)))&&(u=d.viewModel().allocationItem(p,c));break;case s.Activity:if(p===r.Activities&&(c=o.model().activityByID("string"==typeof t?a.nDefaultSeparator+t:[t.Role,t.ID].join(a.nDefaultSeparator)))&&(u=d.viewModel().activityItem(p,c))&&u.timeItems&&u.timeItems[0]&&u.timeItems[0].childTimeItems){var h=d.viewModel()._findItemOfTypeInArray(u.timeItems[0].childTimeItems,l.Activity);h||(h=u.timeItems[0].childTimeItems[0]),h&&(u=h)}break;case s.Entity:(c=o.model().entityByID("string"==typeof t?t:t.ID))&&(u=d.viewModel().entityItem(p,c))}u&&d.scrollToItem(u,i,n)}}},d={};a.nClassFactory.extendClass(d,"rabWidgetView",c,u),e.exports=d.rabWidgetView},9330:function(e,t,i){i(6541),i(6210),i(489);var n=i(7930),a=n.nClassFactory,o=n.nWrapperBase,r="rabWrapper",s={construct:function(e,t,i,n){"use strict";this._model=e,this.initHierarchy(t,i,n)},initHierarchy:function(e,t,i){"use strict";this._version=t,this._super(e,i)},model:function(){return this._model},getAPIOption:function(e){"use strict";return this._model.getAPIOption(e)},_createChild:function(e,t,i,n){"use strict";return new(t.getClassConstructor())(this._model,e,this._version,n?null:t)},addChild:function(e,t,i){"use strict";if(void 0===i||i===this._version)return this._super(e,t)},updateChild:function(e,t,i){"use strict";if(void 0===i||i===this._version)return this._super(e,t)},classifyModification:function(e){"use strict";var t=this,i=t.rab_modificationClassification;if(void 0===i&&(i=9),i){for(var n=t._copyOfData||t.data(),a=t.constructor.prototype,o=a._modificationClassificationByProperty;a&&(o&&Object.getOwnPropertyNames(a).every((function(a){if(a[0]>="A"&&a[0]<="Z"){var r=o[a]||0;if("function"==typeof r&&(r=r.call(t,n)),-1===r){if((Array.isArray(n[a])&&n[a].length)!==(Array.isArray(e[a])&&e[a].length))return i=0,!1;var s=t[a];if(s&&s[0]){var l=e[a];if(s[0]._dbgClassName){for(var c=s.length-1;c>=0;c--)if(s[c].classifyModification(l[c]),!(i=Math.min(i,s[c].rab_modificationClassification)))return!1}else for(c=s.length-1;c>=0;c--)if((s[c]&&s[c].valueOf())!==(l[c]&&l[c].valueOf()))return i=0,!1}}else if(e[a]!==n[a]&&!(i=Math.min(i,r)))return!1}return!0})),(a=Object.getPrototypeOf(a))._dbgClassName!==r);)o=a._modificationClassificationByProperty;9===i&&(i=0),t.rab_modificationClassification=i}}},l={};a.extendClass(l,r,o,s),e.exports=l.rabWrapper},4792:function(e,t,i){var n=i(3755),a=i(4429),o=i(9169),r=i(8509),s=i(9803),l=i(4081),c=l.AllocationBarDesign,u=l.RowDesigns,d=a.BarSnapTargets,p={options:{applicationClass:s,customName:"NETRONIC Visual Scheduling Widget (VSW)",customCopyrightYear:o.copyrightYear,version:o.version,newCallbackBehaviorEnabled:!0,pm_defaultAllocationBarDesign:c.GroupedEntries,pm_contextMenuCallbackOnRowInTimeArea:!0,pm_activityCalendarsEnabled:!0,pm_defaultActivityCollapsedRowDesign:u.Bars|u.Optimized|u.CalendarGrid,pm_defaultActivityExpandedRowDesign:u.Bars|u.Optimized|u.CalendarGrid,pm_defaultResourceCollapsedRowDesign:u.Bars|u.Optimized|u.CalendarGrid,pm_defaultResourceExpandedRowDesign:u.Bars|u.Optimized|u.CalendarGrid,pm_defaultAllocationSnapTargetsForStart:d.Start|d.End|d.CalendarGrids,pm_defaultAllocationSnapTargetsForEnd:d.Start|d.End|d.CalendarGrids,pm_defaultActivitySnapTargetsForStart:d.CalendarGrids,pm_defaultActivitySnapTargetsForEnd:d.CalendarGrids,pm_defaultLinkSelectable:!1},_create:function(){this.element.addClass("nvs-widget"),this._super()}};n.widget("netronic.nVSWidget",r,p),e.exports=n.netronic.nVSWidget},9803:function(e,t,i){var n=i(3755),a=i(7930),o=i(6025),r={construct:function(e,t){"use strict";this._super(e,n.extend({ganttViewOptions:{ganttWidget:{rowItemsSelectable:!0,detailedConstraintSymbolsEnabled:!0}}},t))}},s={};a.nClassFactory.extendClass(s,"nVSWApplication",o,r),e.exports=s.nVSWApplication},9415:function(e){var t={ViewType:{Activities:0,Resources:1,Loads:2},ObjectType:{TimeArea:-2,Timescale:-1,Activity:1,Allocation:2,Resource:5,Link:6,Curve:7,Entity:13,CalendarGrid:14,PeriodHighlighter:14,Symbol:15,DateLine:16,TooltipTemplate:17,TableRowDefinitions:18,Calendar:20},DragMode:{None:0,DragStart:1,DragEnd:2,DragHor:4,DragVer:8},SnapTargets:{None:0,Start:1,End:2,DateLines:4,CalendarGrids:8,DateLineGrids:16},TableType:{Gantt:0,Entities:1},TimescaleNavigationMode:{Latest:0,LegacyVersion1:1},AllocationBarDesign:{Allocation:0,Entries:1,AllocationAndEntries:2,MergedEntries:3,GroupedEntries:4},RowDesigns:{None:0,Bars:1,Optimized:2,BarsInHiddenDescendantRows:4,CalendarGrid:8},HorizontalAlignment:{Left:0,Center:1,Right:2},CollapseState:{Unchanged:-1,Expanded:0,Collapsed:1},UpdateModes:{UpdateOnly:0,ImplicitAddObjects:1},ActivityBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},AllocationBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},RowDragModes:{None:0,DragOutside:32},VisualType:{Background:-1,Bar:0,Row:1,Curve:2,Link:3,CalendarGrid:4,PeriodHighlighter:4,DateLine:5},DateLineGridModes:{None:0,Auto:1,Weekly:2,Daily:4},ActivityBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3},AllocationBarShape:{Regular:0,Summary:1,Rectangle:3},LinkMarker:{None:0,FilledArrow:1},LinkRoutingType:{Curved:1,Orthogonal:2},ProgressBarWidthCalculationMode:{ConsiderWorkingTimesOnly:0,ConsiderWorkingAndNonworkingTimes:1},TextWrapMode:{None:0,Line:1,Word:2},TimeType:{WorkingTime:1,NonworkingTime:2},CurveType:{PointCurve:0,CurveStack:3,CurveList:4},CurveInterpolationType:{StepAfter:0,Linear:1},PaneIndex:{LoadCurve:0,InventoryCurve:1},ViewArea:{Top:-1,Main:0,Default:0},PanningMode:{None:0,HorizontallyOnly:1,VerticallyOnly:2,HorAndVer:3,AutoHorOrVer:4},DateLineCaptionPosition:{Left:1,Center:2,Right:4,TopLeft:9,TopCenter:10,TopRight:12},DateLineCaptionOrientation:{Horizontal:1,Vertical:2},SelectionBehavior:{Framing:0,Highlighting:1},TargetPositions:{None:0,Left:1,HCenter:2,Right:4,Top:8,VCenter:16,Bottom:32},WorldViewPosition:{Left:1,Right:2,Top:3,Bottom:4},SelectionChangedReason:{Click:0,BackgroundClick:1,ContextMenu:2,DragStart:3},PrintingMode:{Single:0,Cutting:1,Paging:2},PageOrientation:{Portrait:0,Landscape:1}};t.ActivityBarShapes=t.ActivityBarShape,e.exports=t},9169:function(e){e.exports={version:"5.0.2",copyrightYear:"2020-2021"}},3099:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6077:function(e,t,i){var n=i(111);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},1223:function(e,t,i){var n=i(5112),a=i(30),o=i(3070),r=n("unscopables"),s=Array.prototype;null==s[r]&&o.f(s,r,{configurable:!0,value:a(null)}),e.exports=function(e){s[r][e]=!0}},1530:function(e,t,i){"use strict";var n=i(8710).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},5787:function(e){e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},9670:function(e,t,i){var n=i(111);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,i){"use strict";var n,a=i(4019),o=i(9781),r=i(7854),s=i(111),l=i(6656),c=i(648),u=i(8880),d=i(1320),p=i(3070).f,h=i(9518),g=i(7674),_=i(5112),f=i(9711),m=r.Int8Array,v=m&&m.prototype,b=r.Uint8ClampedArray,y=b&&b.prototype,A=m&&h(m),I=v&&h(v),C=Object.prototype,T=C.isPrototypeOf,w=_("toStringTag"),O=f("TYPED_ARRAY_TAG"),P=a&&!!g&&"Opera"!==c(r.opera),R=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},S={BigInt64Array:8,BigUint64Array:8},E=function(e){if(!s(e))return!1;var t=c(e);return l(D,t)||l(S,t)};for(n in D)r[n]||(P=!1);if((!P||"function"!=typeof A||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},P))for(n in D)r[n]&&g(r[n],A);if((!P||!I||I===C)&&(I=A.prototype,P))for(n in D)r[n]&&g(r[n].prototype,I);if(P&&h(y)!==I&&g(y,I),o&&!l(I,w))for(n in R=!0,p(I,w,{get:function(){return s(this)?this[O]:void 0}}),D)r[n]&&u(r[n],O,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:R&&O,aTypedArray:function(e){if(E(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(g){if(T.call(A,e))return e}else for(var t in D)if(l(D,n)){var i=r[t];if(i&&(e===i||T.call(i,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i){if(o){if(i)for(var n in D){var a=r[n];if(a&&l(a.prototype,e))try{delete a.prototype[e]}catch(e){}}I[e]&&!i||d(I,e,i?t:P&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,i){var n,a;if(o){if(g){if(i)for(n in D)if((a=r[n])&&l(a,e))try{delete a[e]}catch(e){}if(A[e]&&!i)return;try{return d(A,e,i?t:P&&A[e]||t)}catch(e){}}for(n in D)!(a=r[n])||a[e]&&!i||d(a,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||l(D,t)||l(S,t)},isTypedArray:E,TypedArray:A,TypedArrayPrototype:I}},3331:function(e,t,i){"use strict";var n=i(7854),a=i(9781),o=i(4019),r=i(8880),s=i(2248),l=i(7293),c=i(5787),u=i(9958),d=i(7466),p=i(7067),h=i(1179),g=i(9518),_=i(7674),f=i(8006).f,m=i(3070).f,v=i(1285),b=i(8003),y=i(9909),A=y.get,I=y.set,C="ArrayBuffer",T="DataView",w="Wrong index",O=n.ArrayBuffer,P=O,R=n.DataView,D=R&&R.prototype,S=Object.prototype,E=n.RangeError,M=h.pack,N=h.unpack,V=function(e){return[255&e]},k=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},x=function(e){return M(e,23,4)},L=function(e){return M(e,52,8)},F=function(e,t){m(e.prototype,t,{get:function(){return A(this)[t]}})},H=function(e,t,i,n){var a=p(i),o=A(e);if(a+t>o.byteLength)throw E(w);var r=A(o.buffer).bytes,s=a+o.byteOffset,l=r.slice(s,s+t);return n?l:l.reverse()},j=function(e,t,i,n,a,o){var r=p(i),s=A(e);if(r+t>s.byteLength)throw E(w);for(var l=A(s.buffer).bytes,c=r+s.byteOffset,u=n(+a),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(o){if(!l((function(){O(1)}))||!l((function(){new O(-1)}))||l((function(){return new O,new O(1.5),new O(NaN),O.name!=C}))){for(var G,U=(P=function(e){return c(this,P),new O(p(e))}).prototype=O.prototype,z=f(O),Y=0;z.length>Y;)(G=z[Y++])in P||r(P,G,O[G]);U.constructor=P}_&&g(D)!==S&&_(D,S);var K=new R(new P(2)),q=D.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||s(D,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else P=function(e){c(this,P,C);var t=p(e);I(this,{bytes:v.call(new Array(t),0),byteLength:t}),a||(this.byteLength=t)},R=function(e,t,i){c(this,R,T),c(e,P,T);var n=A(e).byteLength,o=u(t);if(o<0||o>n)throw E("Wrong offset");if(o+(i=void 0===i?n-o:d(i))>n)throw E("Wrong length");I(this,{buffer:e,byteLength:i,byteOffset:o}),a||(this.buffer=e,this.byteLength=i,this.byteOffset=o)},a&&(F(P,"byteLength"),F(R,"buffer"),F(R,"byteLength"),F(R,"byteOffset")),s(R.prototype,{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return N(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return N(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){j(this,1,e,V,t)},setUint8:function(e,t){j(this,1,e,V,t)},setInt16:function(e,t){j(this,2,e,k,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){j(this,2,e,k,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){j(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){j(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){j(this,4,e,x,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){j(this,8,e,L,t,arguments.length>2?arguments[2]:void 0)}});b(P,C),b(R,T),e.exports={ArrayBuffer:P,DataView:R}},1048:function(e,t,i){"use strict";var n=i(7908),a=i(1400),o=i(7466),r=Math.min;e.exports=[].copyWithin||function(e,t){var i=n(this),s=o(i.length),l=a(e,s),c=a(t,s),u=arguments.length>2?arguments[2]:void 0,d=r((void 0===u?s:a(u,s))-c,s-l),p=1;for(c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);d-- >0;)c in i?i[l]=i[c]:delete i[l],l+=p,c+=p;return i}},1285:function(e,t,i){"use strict";var n=i(7908),a=i(1400),o=i(7466);e.exports=function(e){for(var t=n(this),i=o(t.length),r=arguments.length,s=a(r>1?arguments[1]:void 0,i),l=r>2?arguments[2]:void 0,c=void 0===l?i:a(l,i);c>s;)t[s++]=e;return t}},8533:function(e,t,i){"use strict";var n=i(2092).forEach,a=i(9341)("forEach");e.exports=a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},1318:function(e,t,i){var n=i(5656),a=i(7466),o=i(1400),r=function(e){return function(t,i,r){var s,l=n(t),c=a(l.length),u=o(r,c);if(e&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},2092:function(e,t,i){var n=i(9974),a=i(8361),o=i(7908),r=i(7466),s=i(5417),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(g,_,f,m){for(var v,b,y=o(g),A=a(y),I=n(_,f,3),C=r(A.length),T=0,w=m||s,O=t?w(g,C):i||p?w(g,0):void 0;C>T;T++)if((h||T in A)&&(b=I(v=A[T],T,y),e))if(t)O[T]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:l.call(O,v)}else switch(e){case 4:return!1;case 7:l.call(O,v)}return d?-1:c||u?u:O}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6583:function(e,t,i){"use strict";var n=i(5656),a=i(9958),o=i(7466),r=i(9341),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=r("lastIndexOf"),d=c||!u;e.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=n(this),i=o(t.length),r=i-1;for(arguments.length>1&&(r=s(r,a(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:l},1194:function(e,t,i){var n=i(7293),a=i(5112),o=i(7392),r=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,i){"use strict";var n=i(7293);e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},3671:function(e,t,i){var n=i(3099),a=i(7908),o=i(8361),r=i(7466),s=function(e){return function(t,i,s,l){n(i);var c=a(t),u=o(c),d=r(c.length),p=e?d-1:0,h=e?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in u&&(l=i(l,u[p],p,c));return l}};e.exports={left:s(!1),right:s(!0)}},4362:function(e){var t=Math.floor,i=function(e,o){var r=e.length,s=t(r/2);return r<8?n(e,o):a(i(e.slice(0,s),o),i(e.slice(s),o),o)},n=function(e,t){for(var i,n,a=e.length,o=1;o<a;){for(n=o,i=e[o];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==o++&&(e[n]=i)}return e},a=function(e,t,i){for(var n=e.length,a=t.length,o=0,r=0,s=[];o<n||r<a;)o<n&&r<a?s.push(i(e[o],t[r])<=0?e[o++]:t[r++]):s.push(o<n?e[o++]:t[r++]);return s};e.exports=i},5417:function(e,t,i){var n=i(111),a=i(3157),o=i(5112)("species");e.exports=function(e,t){var i;return a(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!a(i.prototype)?n(i)&&null===(i=i[o])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},7072:function(e,t,i){var n=i(5112)("iterator"),a=!1;try{var o=0,r={next:function(){return{done:!!o++}},return:function(){a=!0}};r[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(e){}return i}},4326:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},648:function(e,t,i){var n=i(1694),a=i(4326),o=i(5112)("toStringTag"),r="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?i:r?a(t):"Object"==(n=a(t))&&"function"==typeof t.callee?"Arguments":n}},9920:function(e,t,i){var n=i(6656),a=i(3887),o=i(1236),r=i(3070);e.exports=function(e,t){for(var i=a(t),s=r.f,l=o.f,c=0;c<i.length;c++){var u=i[c];n(e,u)||s(e,u,l(t,u))}}},8544:function(e,t,i){var n=i(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,i){"use strict";var n=i(3383).IteratorPrototype,a=i(30),o=i(9114),r=i(8003),s=i(7497),l=function(){return this};e.exports=function(e,t,i){var c=t+" Iterator";return e.prototype=a(n,{next:o(1,i)}),r(e,c,!1,!0),s[c]=l,e}},8880:function(e,t,i){var n=i(9781),a=i(3070),o=i(9114);e.exports=n?function(e,t,i){return a.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,i){"use strict";var n=i(7593),a=i(3070),o=i(9114);e.exports=function(e,t,i){var r=n(t);r in e?a.f(e,r,o(0,i)):e[r]=i}},654:function(e,t,i){"use strict";var n=i(2109),a=i(4994),o=i(9518),r=i(7674),s=i(8003),l=i(8880),c=i(1320),u=i(5112),d=i(1913),p=i(7497),h=i(3383),g=h.IteratorPrototype,_=h.BUGGY_SAFARI_ITERATORS,f=u("iterator"),m="keys",v="values",b="entries",y=function(){return this};e.exports=function(e,t,i,u,h,A,I){a(i,t,u);var C,T,w,O=function(e){if(e===h&&E)return E;if(!_&&e in D)return D[e];switch(e){case m:case v:case b:return function(){return new i(this,e)}}return function(){return new i(this)}},P=t+" Iterator",R=!1,D=e.prototype,S=D[f]||D["@@iterator"]||h&&D[h],E=!_&&S||O(h),M="Array"==t&&D.entries||S;if(M&&(C=o(M.call(new e)),g!==Object.prototype&&C.next&&(d||o(C)===g||(r?r(C,g):"function"!=typeof C[f]&&l(C,f,y)),s(C,P,!0,!0),d&&(p[P]=y))),h==v&&S&&S.name!==v&&(R=!0,E=function(){return S.call(this)}),d&&!I||D[f]===E||l(D,f,E),p[t]=E,h)if(T={values:O(v),keys:A?E:O(m),entries:O(b)},I)for(w in T)(_||R||!(w in D))&&c(D,w,T[w]);else n({target:t,proto:!0,forced:_||R},T);return T}},7235:function(e,t,i){var n=i(857),a=i(6656),o=i(6061),r=i(3070).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||r(t,e,{value:o.f(e)})}},9781:function(e,t,i){var n=i(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,i){var n=i(7854),a=i(111),o=n.document,r=a(o)&&a(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:function(e,t,i){var n=i(8113).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},7871:function(e){e.exports="object"==typeof window},256:function(e,t,i){var n=i(8113);e.exports=/MSIE|Trident/.test(n)},6833:function(e,t,i){var n=i(8113);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},5268:function(e,t,i){var n=i(4326),a=i(7854);e.exports="process"==n(a.process)},1036:function(e,t,i){var n=i(8113);e.exports=/web0s(?!.*chrome)/i.test(n)},8113:function(e,t,i){var n=i(5005);e.exports=n("navigator","userAgent")||""},7392:function(e,t,i){var n,a,o=i(7854),r=i(8113),s=o.process,l=s&&s.versions,c=l&&l.v8;c?a=(n=c.split("."))[0]<4?1:n[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(a=n[1]),e.exports=a&&+a},8008:function(e,t,i){var n=i(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,i){var n=i(7854),a=i(1236).f,o=i(8880),r=i(1320),s=i(3505),l=i(9920),c=i(4705);e.exports=function(e,t){var i,u,d,p,h,g=e.target,_=e.global,f=e.stat;if(i=_?n:f?n[g]||s(g,{}):(n[g]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=a(i,u))&&h.value:i[u],!c(_?u:g+(f?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),r(i,u,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,i){"use strict";i(4916);var n=i(1320),a=i(2261),o=i(7293),r=i(5112),s=i(8880),l=r("species"),c=RegExp.prototype;e.exports=function(e,t,i,u){var d=r(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!o((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return t=!0,null},i[d](""),!t}));if(!p||!h||i){var g=/./[d],_=t(d,""[e],(function(e,t,i,n,o){var r=t.exec;return r===a||r===c.exec?p&&!o?{done:!0,value:g.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}));n(String.prototype,e,_[0]),n(c,d,_[1])}u&&s(c[d],"sham",!0)}},9974:function(e,t,i){var n=i(3099);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,a){return e.call(t,i,n,a)}}return function(){return e.apply(t,arguments)}}},5005:function(e,t,i){var n=i(857),a=i(7854),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},1246:function(e,t,i){var n=i(648),a=i(7497),o=i(5112)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[n(e)]}},647:function(e,t,i){var n=i(7908),a=Math.floor,o="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,l,c,u){var d=i+e.length,p=l.length,h=s;return void 0!==c&&(c=n(c),h=r),o.call(u,h,(function(n,o){var r;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(d);case"<":r=c[o.slice(1,-1)];break;default:var s=+o;if(0===s)return n;if(s>p){var u=a(s/10);return 0===u?n:u<=p?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):n}r=l[s-1]}return void 0===r?"":r}))}},7854:function(e,t,i){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},6656:function(e,t,i){var n=i(7908),a={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return a.call(n(e),t)}},3501:function(e){e.exports={}},842:function(e,t,i){var n=i(7854);e.exports=function(e,t){var i=n.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}},490:function(e,t,i){var n=i(5005);e.exports=n("document","documentElement")},4664:function(e,t,i){var n=i(9781),a=i(7293),o=i(317);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1179:function(e){var t=Math.abs,i=Math.pow,n=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,r,s){var l,c,u,d=new Array(s),p=8*s-r-1,h=(1<<p)-1,g=h>>1,_=23===r?i(2,-24)-i(2,-77):0,f=e<0||0===e&&1/e<0?1:0,m=0;for((e=t(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=n(a(e)/o),e*(u=i(2,-l))<1&&(l--,u*=2),(e+=l+g>=1?_/u:_*i(2,1-g))*u>=2&&(l++,u/=2),l+g>=h?(c=0,l=h):l+g>=1?(c=(e*u-1)*i(2,r),l+=g):(c=e*i(2,g-1)*i(2,r),l=0));r>=8;d[m++]=255&c,c/=256,r-=8);for(l=l<<r|c,p+=r;p>0;d[m++]=255&l,l/=256,p-=8);return d[--m]|=128*f,d},unpack:function(e,t){var n,a=e.length,o=8*a-t-1,r=(1<<o)-1,s=r>>1,l=o-7,c=a-1,u=e[c--],d=127&u;for(u>>=7;l>0;d=256*d+e[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=t;l>0;n=256*n+e[c],c--,l-=8);if(0===d)d=1-s;else{if(d===r)return n?NaN:u?-1/0:1/0;n+=i(2,t),d-=s}return(u?-1:1)*n*i(2,d-t)}}},8361:function(e,t,i){var n=i(7293),a=i(4326),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?o.call(e,""):Object(e)}:Object},9587:function(e,t,i){var n=i(111),a=i(7674);e.exports=function(e,t,i){var o,r;return a&&"function"==typeof(o=t.constructor)&&o!==i&&n(r=o.prototype)&&r!==i.prototype&&a(e,r),e}},2788:function(e,t,i){var n=i(5465),a=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return a.call(e)}),e.exports=n.inspectSource},9909:function(e,t,i){var n,a,o,r=i(8536),s=i(7854),l=i(111),c=i(8880),u=i(6656),d=i(5465),p=i(6200),h=i(3501),g="Object already initialized",_=s.WeakMap;if(r||d.state){var f=d.state||(d.state=new _),m=f.get,v=f.has,b=f.set;n=function(e,t){if(v.call(f,e))throw new TypeError(g);return t.facade=e,b.call(f,e,t),t},a=function(e){return m.call(f,e)||{}},o=function(e){return v.call(f,e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(u(e,y))throw new TypeError(g);return t.facade=e,c(e,y,t),t},a=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:n,get:a,has:o,enforce:function(e){return o(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},7659:function(e,t,i){var n=i(5112),a=i(7497),o=n("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||r[o]===e)}},3157:function(e,t,i){var n=i(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},4705:function(e,t,i){var n=i(7293),a=/#|\.prototype\./,o=function(e,t){var i=s[r(e)];return i==c||i!=l&&("function"==typeof t?n(t):!!t)},r=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},111:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:function(e){e.exports=!1},7850:function(e,t,i){var n=i(111),a=i(4326),o=i(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},408:function(e,t,i){var n=i(9670),a=i(7659),o=i(7466),r=i(9974),s=i(1246),l=i(9212),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,i){var u,d,p,h,g,_,f,m=i&&i.that,v=!(!i||!i.AS_ENTRIES),b=!(!i||!i.IS_ITERATOR),y=!(!i||!i.INTERRUPTED),A=r(t,m,1+v+y),I=function(e){return u&&l(u),new c(!0,e)},C=function(e){return v?(n(e),y?A(e[0],e[1],I):A(e[0],e[1])):y?A(e,I):A(e)};if(b)u=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(a(d)){for(p=0,h=o(e.length);h>p;p++)if((g=C(e[p]))&&g instanceof c)return g;return new c(!1)}u=d.call(e)}for(_=u.next;!(f=_.call(u)).done;){try{g=C(f.value)}catch(e){throw l(u),e}if("object"==typeof g&&g&&g instanceof c)return g}return new c(!1)}},9212:function(e,t,i){var n=i(9670);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},3383:function(e,t,i){"use strict";var n,a,o,r=i(7293),s=i(9518),l=i(8880),c=i(6656),u=i(5112),d=i(1913),p=u("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(a=s(s(o)))!==Object.prototype&&(n=a):h=!0);var g=null==n||r((function(){var e={};return n[p].call(e)!==e}));g&&(n={}),d&&!g||c(n,p)||l(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},7497:function(e){e.exports={}},5948:function(e,t,i){var n,a,o,r,s,l,c,u,d=i(7854),p=i(1236).f,h=i(261).set,g=i(6833),_=i(1036),f=i(5268),m=d.MutationObserver||d.WebKitMutationObserver,v=d.document,b=d.process,y=d.Promise,A=p(d,"queueMicrotask"),I=A&&A.value;I||(n=function(){var e,t;for(f&&(e=b.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?r():o=void 0,e}}o=void 0,e&&e.enter()},g||f||_||!m||!v?y&&y.resolve?((c=y.resolve(void 0)).constructor=y,u=c.then,r=function(){u.call(c,n)}):r=f?function(){b.nextTick(n)}:function(){h.call(d,n)}:(s=!0,l=v.createTextNode(""),new m(n).observe(l,{characterData:!0}),r=function(){l.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};o&&(o.next=t),a||(a=t,r()),o=t}},3366:function(e,t,i){var n=i(7854);e.exports=n.Promise},133:function(e,t,i){var n=i(7392),a=i(7293);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:function(e,t,i){var n=i(7854),a=i(2788),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(a(o))},8523:function(e,t,i){"use strict";var n=i(3099),a=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new a(e)}},1574:function(e,t,i){"use strict";var n=i(9781),a=i(7293),o=i(1956),r=i(5181),s=i(5296),l=i(7908),c=i(8361),u=Object.assign,d=Object.defineProperty;e.exports=!u||a((function(){if(n&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach((function(e){t[e]=e})),7!=u({},e)[i]||o(u({},t)).join("")!=a}))?function(e,t){for(var i=l(e),a=arguments.length,u=1,d=r.f,p=s.f;a>u;)for(var h,g=c(arguments[u++]),_=d?o(g).concat(d(g)):o(g),f=_.length,m=0;f>m;)h=_[m++],n&&!p.call(g,h)||(i[h]=g[h]);return i}:u},30:function(e,t,i){var n,a=i(9670),o=i(6048),r=i(748),s=i(3501),l=i(490),c=i(317),u=i(6200),d=u("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"</"+"script>"},g=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var i=r.length;i--;)delete g.prototype[r[i]];return g()};s[d]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(p.prototype=a(e),i=new p,p.prototype=null,i[d]=e):i=g(),void 0===t?i:o(i,t)}},6048:function(e,t,i){var n=i(9781),a=i(3070),o=i(9670),r=i(1956);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var i,n=r(t),s=n.length,l=0;s>l;)a.f(e,i=n[l++],t[i]);return e}},3070:function(e,t,i){var n=i(9781),a=i(4664),o=i(9670),r=i(7593),s=Object.defineProperty;t.f=n?s:function(e,t,i){if(o(e),t=r(t,!0),o(i),a)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},1236:function(e,t,i){var n=i(9781),a=i(5296),o=i(9114),r=i(5656),s=i(7593),l=i(6656),c=i(4664),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=r(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!a.f.call(e,t),e[t])}},1156:function(e,t,i){var n=i(5656),a=i(8006).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return r.slice()}}(e):a(n(e))}},8006:function(e,t,i){var n=i(6324),a=i(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,i){var n=i(6656),a=i(7908),o=i(6200),r=i(8544),s=o("IE_PROTO"),l=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=a(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},6324:function(e,t,i){var n=i(6656),a=i(5656),o=i(1318).indexOf,r=i(3501);e.exports=function(e,t){var i,s=a(e),l=0,c=[];for(i in s)!n(r,i)&&n(s,i)&&c.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~o(c,i)||c.push(i));return c}},1956:function(e,t,i){var n=i(6324),a=i(748);e.exports=Object.keys||function(e){return n(e,a)}},5296:function(e,t){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!i.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},7674:function(e,t,i){var n=i(9670),a=i(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}return function(i,o){return n(i),a(o),t?e.call(i,o):i.__proto__=o,i}}():void 0)},288:function(e,t,i){"use strict";var n=i(1694),a=i(648);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},3887:function(e,t,i){var n=i(5005),a=i(8006),o=i(5181),r=i(9670);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(r(e)),i=o.f;return i?t.concat(i(e)):t}},857:function(e,t,i){var n=i(7854);e.exports=n},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:function(e,t,i){var n=i(9670),a=i(111),o=i(8523);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var i=o.f(e);return(0,i.resolve)(t),i.promise}},2248:function(e,t,i){var n=i(1320);e.exports=function(e,t,i){for(var a in t)n(e,a,t[a],i);return e}},1320:function(e,t,i){var n=i(7854),a=i(8880),o=i(6656),r=i(3505),s=i(2788),l=i(9909),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,i,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof t||o(i,"name")||a(i,"name",t),(l=u(i)).source||(l.source=d.join("string"==typeof t?t:""))),e!==n?(c?!h&&e[t]&&(p=!0):delete e[t],p?e[t]=i:a(e,t,i)):p?e[t]=i:r(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7651:function(e,t,i){var n=i(4326),a=i(2261);e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var o=i.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},2261:function(e,t,i){"use strict";var n,a,o=i(7066),r=i(2999),s=i(2309),l=i(30),c=i(9909).get,u=i(9441),d=i(8173),p=RegExp.prototype.exec,h=s("native-string-replace",String.prototype.replace),g=p,_=(n=/a/,a=/b*/g,p.call(n,"a"),p.call(a,"a"),0!==n.lastIndex||0!==a.lastIndex),f=r.UNSUPPORTED_Y||r.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(_||m||f||u||d)&&(g=function(e){var t,i,n,a,r,s,u,d=this,v=c(d),b=v.raw;if(b)return b.lastIndex=d.lastIndex,t=g.call(b,e),d.lastIndex=b.lastIndex,t;var y=v.groups,A=f&&d.sticky,I=o.call(d),C=d.source,T=0,w=e;if(A&&(-1===(I=I.replace("y","")).indexOf("g")&&(I+="g"),w=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(C="(?: "+C+")",w=" "+w,T++),i=new RegExp("^(?:"+C+")",I)),m&&(i=new RegExp("^"+C+"$(?!\\s)",I)),_&&(n=d.lastIndex),a=p.call(A?i:d,w),A?a?(a.input=a.input.slice(T),a[0]=a[0].slice(T),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:_&&a&&(d.lastIndex=d.global?a.index+a[0].length:n),m&&a&&a.length>1&&h.call(a[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)})),a&&y)for(a.groups=s=l(null),r=0;r<y.length;r++)s[(u=y[r])[0]]=a[u[1]];return a}),e.exports=g},7066:function(e,t,i){"use strict";var n=i(9670);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,i){var n=i(7293),a=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:function(e,t,i){var n=i(7293);e.exports=n((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},8173:function(e,t,i){var n=i(7293);e.exports=n((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:function(e,t,i){var n=i(7854),a=i(8880);e.exports=function(e,t){try{a(n,e,t)}catch(i){n[e]=t}return t}},6340:function(e,t,i){"use strict";var n=i(5005),a=i(3070),o=i(5112),r=i(9781),s=o("species");e.exports=function(e){var t=n(e),i=a.f;r&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},8003:function(e,t,i){var n=i(3070).f,a=i(6656),o=i(5112)("toStringTag");e.exports=function(e,t,i){e&&!a(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},6200:function(e,t,i){var n=i(2309),a=i(9711),o=n("keys");e.exports=function(e){return o[e]||(o[e]=a(e))}},5465:function(e,t,i){var n=i(7854),a=i(3505),o="__core-js_shared__",r=n[o]||a(o,{});e.exports=r},2309:function(e,t,i){var n=i(1913),a=i(5465);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(e,t,i){var n=i(9670),a=i(3099),o=i(5112)("species");e.exports=function(e,t){var i,r=n(e).constructor;return void 0===r||null==(i=n(r)[o])?t:a(i)}},8710:function(e,t,i){var n=i(9958),a=i(4488),o=function(e){return function(t,i){var o,r,s=String(a(t)),l=n(i),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(r=s.charCodeAt(l+1))<56320||r>57343?e?s.charAt(l):o:e?s.slice(l,l+2):r-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},6091:function(e,t,i){var n=i(7293),a=i(1361);e.exports=function(e){return n((function(){return!!a[e]()||""!=""[e]()||a[e].name!==e}))}},3111:function(e,t,i){var n=i(4488),a="["+i(1361)+"]",o=RegExp("^"+a+a+"*"),r=RegExp(a+a+"*$"),s=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(o,"")),2&e&&(i=i.replace(r,"")),i}};e.exports={start:s(1),end:s(2),trim:s(3)}},261:function(e,t,i){var n,a,o,r=i(7854),s=i(7293),l=i(9974),c=i(490),u=i(317),d=i(6833),p=i(5268),h=r.location,g=r.setImmediate,_=r.clearImmediate,f=r.process,m=r.MessageChannel,v=r.Dispatch,b=0,y={},A="onreadystatechange",I=function(e){if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},C=function(e){return function(){I(e)}},T=function(e){I(e.data)},w=function(e){r.postMessage(e+"",h.protocol+"//"+h.host)};g&&_||(g=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return y[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(b),b},_=function(e){delete y[e]},p?n=function(e){f.nextTick(C(e))}:v&&v.now?n=function(e){v.now(C(e))}:m&&!d?(o=(a=new m).port2,a.port1.onmessage=T,n=l(o.postMessage,o,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts&&h&&"file:"!==h.protocol&&!s(w)?(n=w,r.addEventListener("message",T,!1)):n=A in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),I(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:g,clear:_}},1400:function(e,t,i){var n=i(9958),a=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?a(i+t,0):o(i,t)}},7067:function(e,t,i){var n=i(9958),a=i(7466);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=a(t);if(t!==i)throw RangeError("Wrong length or index");return i}},5656:function(e,t,i){var n=i(8361),a=i(4488);e.exports=function(e){return n(a(e))}},9958:function(e){var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},7466:function(e,t,i){var n=i(9958),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},7908:function(e,t,i){var n=i(4488);e.exports=function(e){return Object(n(e))}},4590:function(e,t,i){var n=i(3002);e.exports=function(e,t){var i=n(e);if(i%t)throw RangeError("Wrong offset");return i}},3002:function(e,t,i){var n=i(9958);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:function(e,t,i){var n=i(111);e.exports=function(e,t){if(!n(e))return e;var i,a;if(t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;if("function"==typeof(i=e.valueOf)&&!n(a=i.call(e)))return a;if(!t&&"function"==typeof(i=e.toString)&&!n(a=i.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},1694:function(e,t,i){var n={};n[i(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},9843:function(e,t,i){"use strict";var n=i(2109),a=i(7854),o=i(9781),r=i(3832),s=i(260),l=i(3331),c=i(5787),u=i(9114),d=i(8880),p=i(7466),h=i(7067),g=i(4590),_=i(7593),f=i(6656),m=i(648),v=i(111),b=i(30),y=i(7674),A=i(8006).f,I=i(7321),C=i(2092).forEach,T=i(6340),w=i(3070),O=i(1236),P=i(9909),R=i(9587),D=P.get,S=P.set,E=w.f,M=O.f,N=Math.round,V=a.RangeError,k=l.ArrayBuffer,W=l.DataView,B=s.NATIVE_ARRAY_BUFFER_VIEWS,x=s.TYPED_ARRAY_TAG,L=s.TypedArray,F=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,j=s.isTypedArray,G="BYTES_PER_ELEMENT",U="Wrong length",z=function(e,t){for(var i=0,n=t.length,a=new(H(e))(n);n>i;)a[i]=t[i++];return a},Y=function(e,t){E(e,t,{get:function(){return D(this)[t]}})},K=function(e){var t;return e instanceof k||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},q=function(e,t){return j(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return q(e,t=_(t,!0))?u(2,e[t]):M(e,t)},Q=function(e,t,i){return!(q(e,t=_(t,!0))&&v(i)&&f(i,"value"))||f(i,"get")||f(i,"set")||i.configurable||f(i,"writable")&&!i.writable||f(i,"enumerable")&&!i.enumerable?E(e,t,i):(e[t]=i.value,e)};o?(B||(O.f=X,w.f=Q,Y(F,"buffer"),Y(F,"byteOffset"),Y(F,"byteLength"),Y(F,"length")),n({target:"Object",stat:!0,forced:!B},{getOwnPropertyDescriptor:X,defineProperty:Q}),e.exports=function(e,t,i){var o=e.match(/\d+$/)[0]/8,s=e+(i?"Clamped":"")+"Array",l="get"+e,u="set"+e,_=a[s],f=_,m=f&&f.prototype,w={},O=function(e,t){E(e,t,{get:function(){return function(e,t){var i=D(e);return i.view[l](t*o+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var a=D(e);i&&(n=(n=N(n))<0?0:n>255?255:255&n),a.view[u](t*o+a.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};B?r&&(f=t((function(e,t,i,n){return c(e,f,s),R(v(t)?K(t)?void 0!==n?new _(t,g(i,o),n):void 0!==i?new _(t,g(i,o)):new _(t):j(t)?z(f,t):I.call(f,t):new _(h(t)),e,f)})),y&&y(f,L),C(A(_),(function(e){e in f||d(f,e,_[e])})),f.prototype=m):(f=t((function(e,t,i,n){c(e,f,s);var a,r,l,u=0,d=0;if(v(t)){if(!K(t))return j(t)?z(f,t):I.call(f,t);a=t,d=g(i,o);var _=t.byteLength;if(void 0===n){if(_%o)throw V(U);if((r=_-d)<0)throw V(U)}else if((r=p(n)*o)+d>_)throw V(U);l=r/o}else l=h(t),a=new k(r=l*o);for(S(e,{buffer:a,byteOffset:d,byteLength:r,length:l,view:new W(a)});u<l;)O(e,u++)})),y&&y(f,L),m=f.prototype=b(F)),m.constructor!==f&&d(m,"constructor",f),x&&d(m,x,s),w[s]=f,n({global:!0,forced:f!=_,sham:!B},w),G in f||d(f,G,o),G in m||d(m,G,o),T(s)}):e.exports=function(){}},3832:function(e,t,i){var n=i(7854),a=i(7293),o=i(7072),r=i(260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!r||!a((function(){l(1)}))||!a((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||a((function(){return 1!==new l(new s(2),1,void 0).length}))},3074:function(e,t,i){var n=i(260).aTypedArrayConstructor,a=i(6707);e.exports=function(e,t){for(var i=a(e,e.constructor),o=0,r=t.length,s=new(n(i))(r);r>o;)s[o]=t[o++];return s}},7321:function(e,t,i){var n=i(7908),a=i(7466),o=i(1246),r=i(7659),s=i(9974),l=i(260).aTypedArrayConstructor;e.exports=function(e){var t,i,c,u,d,p,h=n(e),g=arguments.length,_=g>1?arguments[1]:void 0,f=void 0!==_,m=o(h);if(null!=m&&!r(m))for(p=(d=m.call(h)).next,h=[];!(u=p.call(d)).done;)h.push(u.value);for(f&&g>2&&(_=s(_,arguments[2],2)),i=a(h.length),c=new(l(this))(i),t=0;i>t;t++)c[t]=f?_(h[t],t):h[t];return c}},9711:function(e){var t=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+i).toString(36)}},3307:function(e,t,i){var n=i(133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(e,t,i){var n=i(5112);t.f=n},5112:function(e,t,i){var n=i(7854),a=i(2309),o=i(6656),r=i(9711),s=i(133),l=i(3307),c=a("wks"),u=n.Symbol,d=l?u:u&&u.withoutSetter||r;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1361:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:function(e,t,i){"use strict";var n=i(2109),a=i(7293),o=i(3157),r=i(111),s=i(7908),l=i(7466),c=i(6135),u=i(5417),d=i(1194),p=i(5112),h=i(7392),g=p("isConcatSpreadable"),_=9007199254740991,f="Maximum allowed index exceeded",m=h>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=d("concat"),b=function(e){if(!r(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!m||!v},{concat:function(e){var t,i,n,a,o,r=s(this),d=u(r,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(b(o=-1===t?r:arguments[t])){if(p+(a=l(o.length))>_)throw TypeError(f);for(i=0;i<a;i++,p++)i in o&&c(d,p,o[i])}else{if(p>=_)throw TypeError(f);c(d,p++,o)}return d.length=p,d}})},6541:function(e,t,i){"use strict";var n=i(2109),a=i(2092).every;n({target:"Array",proto:!0,forced:!i(9341)("every")},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},7327:function(e,t,i){"use strict";var n=i(2109),a=i(2092).filter;n({target:"Array",proto:!0,forced:!i(1194)("filter")},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},9826:function(e,t,i){"use strict";var n=i(2109),a=i(2092).find,o=i(1223),r="find",s=!0;r in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},9554:function(e,t,i){"use strict";var n=i(2109),a=i(8533);n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},2772:function(e,t,i){"use strict";var n=i(2109),a=i(1318).indexOf,o=i(9341),r=[].indexOf,s=!!r&&1/[1].indexOf(1,-0)<0,l=o("indexOf");n({target:"Array",proto:!0,forced:s||!l},{indexOf:function(e){return s?r.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},6992:function(e,t,i){"use strict";var n=i(5656),a=i(1223),o=i(7497),r=i(9909),s=i(654),l="Array Iterator",c=r.set,u=r.getterFor(l);e.exports=s(Array,"Array",(function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},9600:function(e,t,i){"use strict";var n=i(2109),a=i(8361),o=i(5656),r=i(9341),s=[].join,l=a!=Object,c=r("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},1249:function(e,t,i){"use strict";var n=i(2109),a=i(2092).map;n({target:"Array",proto:!0,forced:!i(1194)("map")},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:function(e,t,i){"use strict";var n=i(2109),a=i(3671).left,o=i(9341),r=i(7392),s=i(5268);n({target:"Array",proto:!0,forced:!o("reduce")||!s&&r>79&&r<83},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},7042:function(e,t,i){"use strict";var n=i(2109),a=i(111),o=i(3157),r=i(1400),s=i(7466),l=i(5656),c=i(6135),u=i(5112),d=i(1194)("slice"),p=u("species"),h=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var i,n,u,d=l(this),_=s(d.length),f=r(e,_),m=r(void 0===t?_:t,_);if(o(d)&&("function"!=typeof(i=d.constructor)||i!==Array&&!o(i.prototype)?a(i)&&null===(i=i[p])&&(i=void 0):i=void 0,i===Array||void 0===i))return h.call(d,f,m);for(n=new(void 0===i?Array:i)(g(m-f,0)),u=0;f<m;f++,u++)f in d&&c(n,u,d[f]);return n.length=u,n}})},5212:function(e,t,i){"use strict";var n=i(2109),a=i(2092).some;n({target:"Array",proto:!0,forced:!i(9341)("some")},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},561:function(e,t,i){"use strict";var n=i(2109),a=i(1400),o=i(9958),r=i(7466),s=i(7908),l=i(5417),c=i(6135),u=i(1194)("splice"),d=Math.max,p=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var i,n,u,_,f,m,v=s(this),b=r(v.length),y=a(e,b),A=arguments.length;if(0===A?i=n=0:1===A?(i=0,n=b-y):(i=A-2,n=p(d(o(t),0),b-y)),b+i-n>h)throw TypeError(g);for(u=l(v,n),_=0;_<n;_++)(f=y+_)in v&&c(u,_,v[f]);if(u.length=n,i<n){for(_=y;_<b-n;_++)m=_+i,(f=_+n)in v?v[m]=v[f]:delete v[m];for(_=b;_>b-n+i;_--)delete v[_-1]}else if(i>n)for(_=b-n;_>y;_--)m=_+i-1,(f=_+n-1)in v?v[m]=v[f]:delete v[m];for(_=0;_<i;_++)v[_+y]=arguments[_+2];return v.length=b-n+i,u}})},8309:function(e,t,i){var n=i(9781),a=i(3070).f,o=Function.prototype,r=o.toString,s=/^\s*function ([^ (]*)/,l="name";n&&!(l in o)&&a(o,l,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},9601:function(e,t,i){var n=i(2109),a=i(1574);n({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},6210:function(e,t,i){var n=i(2109),a=i(7293),o=i(1156).f;n({target:"Object",stat:!0,forced:a((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},489:function(e,t,i){var n=i(2109),a=i(7293),o=i(7908),r=i(9518),s=i(8544);n({target:"Object",stat:!0,forced:a((function(){r(1)})),sham:!s},{getPrototypeOf:function(e){return r(o(e))}})},7941:function(e,t,i){var n=i(2109),a=i(7908),o=i(1956);n({target:"Object",stat:!0,forced:i(7293)((function(){o(1)}))},{keys:function(e){return o(a(e))}})},1539:function(e,t,i){var n=i(1694),a=i(1320),o=i(288);n||a(Object.prototype,"toString",o,{unsafe:!0})},8674:function(e,t,i){"use strict";var n,a,o,r,s=i(2109),l=i(1913),c=i(7854),u=i(5005),d=i(3366),p=i(1320),h=i(2248),g=i(7674),_=i(8003),f=i(6340),m=i(111),v=i(3099),b=i(5787),y=i(2788),A=i(408),I=i(7072),C=i(6707),T=i(261).set,w=i(5948),O=i(9478),P=i(842),R=i(8523),D=i(2534),S=i(9909),E=i(4705),M=i(5112),N=i(7871),V=i(5268),k=i(7392),W=M("species"),B="Promise",x=S.get,L=S.set,F=S.getterFor(B),H=d&&d.prototype,j=d,G=H,U=c.TypeError,z=c.document,Y=c.process,K=R.f,q=K,X=!!(z&&z.createEvent&&c.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,Z="unhandledrejection",J=!1,$=E(B,(function(){var e=y(j)!==String(j);if(!e&&66===k)return!0;if(l&&!G.finally)return!0;if(k>=51&&/native code/.test(j))return!1;var t=new j((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(t.constructor={})[W]=i,!(J=t.then((function(){}))instanceof i)||!e&&N&&!Q})),ee=$||!I((function(e){j.all(e).catch((function(){}))})),te=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var i=e.reactions;w((function(){for(var n=e.value,a=1==e.state,o=0;i.length>o;){var r,s,l,c=i[o++],u=a?c.ok:c.fail,d=c.resolve,p=c.reject,h=c.domain;try{u?(a||(2===e.rejection&&re(e),e.rejection=1),!0===u?r=n:(h&&h.enter(),r=u(n),h&&(h.exit(),l=!0)),r===c.promise?p(U("Promise-chain cycle")):(s=te(r))?s.call(r,d,p):d(r)):p(n)}catch(e){h&&!l&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},ne=function(e,t,i){var n,a;X?((n=z.createEvent("Event")).promise=t,n.reason=i,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:i},!Q&&(a=c["on"+e])?a(n):e===Z&&P("Unhandled promise rejection",i)},ae=function(e){T.call(c,(function(){var t,i=e.facade,n=e.value;if(oe(e)&&(t=D((function(){V?Y.emit("unhandledRejection",n,i):ne(Z,i,n)})),e.rejection=V||oe(e)?2:1,t.error))throw t.value}))},oe=function(e){return 1!==e.rejection&&!e.parent},re=function(e){T.call(c,(function(){var t=e.facade;V?Y.emit("rejectionHandled",t):ne("rejectionhandled",t,e.value)}))},se=function(e,t,i){return function(n){e(t,n,i)}},le=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,ie(e,!0))},ce=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=te(t);n?w((function(){var i={done:!1};try{n.call(t,se(ce,i,e),se(le,i,e))}catch(t){le(i,t,e)}})):(e.value=t,e.state=1,ie(e,!1))}catch(t){le({done:!1},t,e)}}};if($&&(G=(j=function(e){b(this,j,B),v(e),n.call(this);var t=x(this);try{e(se(ce,t),se(le,t))}catch(e){le(t,e)}}).prototype,(n=function(e){L(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(G,{then:function(e,t){var i=F(this),n=K(C(this,j));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=V?Y.domain:void 0,i.parent=!0,i.reactions.push(n),0!=i.state&&ie(i,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n,t=x(e);this.promise=e,this.resolve=se(ce,t),this.reject=se(le,t)},R.f=K=function(e){return e===j||e===o?new a(e):q(e)},!l&&"function"==typeof d&&H!==Object.prototype)){r=H.then,J||(p(H,"then",(function(e,t){var i=this;return new j((function(e,t){r.call(i,e,t)})).then(e,t)}),{unsafe:!0}),p(H,"catch",G.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}g&&g(H,G)}s({global:!0,wrap:!0,forced:$},{Promise:j}),_(j,B,!1,!0),f(B),o=u(B),s({target:B,stat:!0,forced:$},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),s({target:B,stat:!0,forced:l||$},{resolve:function(e){return O(l&&this===o?j:this,e)}}),s({target:B,stat:!0,forced:ee},{all:function(e){var t=this,i=K(t),n=i.resolve,a=i.reject,o=D((function(){var i=v(t.resolve),o=[],r=0,s=1;A(e,(function(e){var l=r++,c=!1;o.push(void 0),s++,i.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||n(o))}),a)})),--s||n(o)}));return o.error&&a(o.value),i.promise},race:function(e){var t=this,i=K(t),n=i.reject,a=D((function(){var a=v(t.resolve);A(e,(function(e){a.call(t,e).then(i.resolve,n)}))}));return a.error&&n(a.value),i.promise}})},4916:function(e,t,i){"use strict";var n=i(2109),a=i(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},9714:function(e,t,i){"use strict";var n=i(1320),a=i(9670),o=i(7293),r=i(7066),s="toString",l=RegExp.prototype,c=l.toString,u=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&n(RegExp.prototype,s,(function(){var e=a(this),t=String(e.source),i=e.flags;return"/"+t+"/"+String(void 0===i&&e instanceof RegExp&&!("flags"in l)?r.call(e):i)}),{unsafe:!0})},8783:function(e,t,i){"use strict";var n=i(8710).charAt,a=i(9909),o=i(654),r="String Iterator",s=a.set,l=a.getterFor(r);o(String,"String",(function(e){s(this,{type:r,string:String(e),index:0})}),(function(){var e,t=l(this),i=t.string,a=t.index;return a>=i.length?{value:void 0,done:!0}:(e=n(i,a),t.index+=e.length,{value:e,done:!1})}))},4723:function(e,t,i){"use strict";var n=i(7007),a=i(9670),o=i(7466),r=i(4488),s=i(1530),l=i(7651);n("match",(function(e,t,i){return[function(t){var i=r(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,i):new RegExp(t)[e](String(i))},function(e){var n=i(t,this,e);if(n.done)return n.value;var r=a(this),c=String(e);if(!r.global)return l(r,c);var u=r.unicode;r.lastIndex=0;for(var d,p=[],h=0;null!==(d=l(r,c));){var g=String(d[0]);p[h]=g,""===g&&(r.lastIndex=s(c,o(r.lastIndex),u)),h++}return 0===h?null:p}]}))},5306:function(e,t,i){"use strict";var n=i(7007),a=i(7293),o=i(9670),r=i(7466),s=i(9958),l=i(4488),c=i(1530),u=i(647),d=i(7651),p=i(5112)("replace"),h=Math.max,g=Math.min,_="$0"==="a".replace(/./,"$0"),f=!!/./[p]&&""===/./[p]("a","$0");n("replace",(function(e,t,i){var n=f?"$":"$0";return[function(e,i){var n=l(this),a=null==e?void 0:e[p];return void 0!==a?a.call(e,n,i):t.call(String(n),e,i)},function(e,a){if("string"==typeof a&&-1===a.indexOf(n)&&-1===a.indexOf("$<")){var l=i(t,this,e,a);if(l.done)return l.value}var p=o(this),_=String(e),f="function"==typeof a;f||(a=String(a));var m=p.global;if(m){var v=p.unicode;p.lastIndex=0}for(var b=[];;){var y=d(p,_);if(null===y)break;if(b.push(y),!m)break;""===String(y[0])&&(p.lastIndex=c(_,r(p.lastIndex),v))}for(var A,I="",C=0,T=0;T<b.length;T++){y=b[T];for(var w=String(y[0]),O=h(g(s(y.index),_.length),0),P=[],R=1;R<y.length;R++)P.push(void 0===(A=y[R])?A:String(A));var D=y.groups;if(f){var S=[w].concat(P,O,_);void 0!==D&&S.push(D);var E=String(a.apply(void 0,S))}else E=u(w,_,O,P,D,a);O>=C&&(I+=_.slice(C,O)+E,C=O+w.length)}return I+_.slice(C)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!_||f)},3123:function(e,t,i){"use strict";var n=i(7007),a=i(7850),o=i(9670),r=i(4488),s=i(6707),l=i(1530),c=i(7466),u=i(7651),d=i(2261),p=i(2999),h=i(7293),g=p.UNSUPPORTED_Y,_=[].push,f=Math.min,m=4294967295;n("split",(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(r(this)),o=void 0===i?m:i>>>0;if(0===o)return[];if(void 0===e)return[n];if(!a(e))return t.call(n,e,o);for(var s,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,g=new RegExp(e.source,p+"g");(s=d.call(g,n))&&!((l=g.lastIndex)>h&&(u.push(n.slice(h,s.index)),s.length>1&&s.index<n.length&&_.apply(u,s.slice(1)),c=s[0].length,h=l,u.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return h===n.length?!c&&g.test("")||u.push(""):u.push(n.slice(h)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var a=r(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,a,i):n.call(String(a),t,i)},function(e,a){var r=i(n,this,e,a,n!==t);if(r.done)return r.value;var d=o(this),p=String(e),h=s(d,RegExp),_=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"g":"y"),b=new h(g?"^(?:"+d.source+")":d,v),y=void 0===a?m:a>>>0;if(0===y)return[];if(0===p.length)return null===u(b,p)?[p]:[];for(var A=0,I=0,C=[];I<p.length;){b.lastIndex=g?0:I;var T,w=u(b,g?p.slice(I):p);if(null===w||(T=f(c(b.lastIndex+(g?I:0)),p.length))===A)I=l(p,I,_);else{if(C.push(p.slice(A,I)),C.length===y)return C;for(var O=1;O<=w.length-1;O++)if(C.push(w[O]),C.length===y)return C;I=A=T}}return C.push(p.slice(A)),C}]}),!!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),g)},3210:function(e,t,i){"use strict";var n=i(2109),a=i(3111).trim;n({target:"String",proto:!0,forced:i(6091)("trim")},{trim:function(){return a(this)}})},1817:function(e,t,i){"use strict";var n=i(2109),a=i(9781),o=i(7854),r=i(6656),s=i(111),l=i(3070).f,c=i(9920),u=o.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};c(p,u);var h=p.prototype=u.prototype;h.constructor=p;var g=h.toString,_="Symbol(test)"==String(u("test")),f=/^Symbol\((.*)\)[^)]+$/;l(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=g.call(e);if(r(d,e))return"";var i=_?t.slice(7,-1):t.replace(f,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:p})}},2165:function(e,t,i){i(7235)("iterator")},2526:function(e,t,i){"use strict";var n=i(2109),a=i(7854),o=i(5005),r=i(1913),s=i(9781),l=i(133),c=i(3307),u=i(7293),d=i(6656),p=i(3157),h=i(111),g=i(9670),_=i(7908),f=i(5656),m=i(7593),v=i(9114),b=i(30),y=i(1956),A=i(8006),I=i(1156),C=i(5181),T=i(1236),w=i(3070),O=i(5296),P=i(8880),R=i(1320),D=i(2309),S=i(6200),E=i(3501),M=i(9711),N=i(5112),V=i(6061),k=i(7235),W=i(8003),B=i(9909),x=i(2092).forEach,L=S("hidden"),F="Symbol",H=N("toPrimitive"),j=B.set,G=B.getterFor(F),U=Object.prototype,z=a.Symbol,Y=o("JSON","stringify"),K=T.f,q=w.f,X=I.f,Q=O.f,Z=D("symbols"),J=D("op-symbols"),$=D("string-to-symbol-registry"),ee=D("symbol-to-string-registry"),te=D("wks"),ie=a.QObject,ne=!ie||!ie.prototype||!ie.prototype.findChild,ae=s&&u((function(){return 7!=b(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=K(U,t);n&&delete U[t],q(e,t,i),n&&e!==U&&q(U,t,n)}:q,oe=function(e,t){var i=Z[e]=b(z.prototype);return j(i,{type:F,tag:e,description:t}),s||(i.description=t),i},re=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},se=function(e,t,i){e===U&&se(J,t,i),g(e);var n=m(t,!0);return g(i),d(Z,n)?(i.enumerable?(d(e,L)&&e[L][n]&&(e[L][n]=!1),i=b(i,{enumerable:v(0,!1)})):(d(e,L)||q(e,L,v(1,{})),e[L][n]=!0),ae(e,n,i)):q(e,n,i)},le=function(e,t){g(e);var i=f(t),n=y(i).concat(pe(i));return x(n,(function(t){s&&!ce.call(i,t)||se(e,t,i[t])})),e},ce=function(e){var t=m(e,!0),i=Q.call(this,t);return!(this===U&&d(Z,t)&&!d(J,t))&&(!(i||!d(this,t)||!d(Z,t)||d(this,L)&&this[L][t])||i)},ue=function(e,t){var i=f(e),n=m(t,!0);if(i!==U||!d(Z,n)||d(J,n)){var a=K(i,n);return!a||!d(Z,n)||d(i,L)&&i[L][n]||(a.enumerable=!0),a}},de=function(e){var t=X(f(e)),i=[];return x(t,(function(e){d(Z,e)||d(E,e)||i.push(e)})),i},pe=function(e){var t=e===U,i=X(t?J:f(e)),n=[];return x(i,(function(e){!d(Z,e)||t&&!d(U,e)||n.push(Z[e])})),n};(l||(R((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),i=function(e){this===U&&i.call(J,e),d(this,L)&&d(this[L],t)&&(this[L][t]=!1),ae(this,t,v(1,e))};return s&&ne&&ae(U,t,{configurable:!0,set:i}),oe(t,e)}).prototype,"toString",(function(){return G(this).tag})),R(z,"withoutSetter",(function(e){return oe(M(e),e)})),O.f=ce,w.f=se,T.f=ue,A.f=I.f=de,C.f=pe,V.f=function(e){return oe(N(e),e)},s&&(q(z.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),r||R(U,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:z}),x(y(te),(function(e){k(e)})),n({target:F,stat:!0,forced:!l},{for:function(e){var t=String(e);if(d($,t))return $[t];var i=z(t);return $[t]=i,ee[i]=t,i},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?b(e):le(b(e),t)},defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:u((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(_(e))}}),Y)&&n({target:"JSON",stat:!0,forced:!l||u((function(){var e=z();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}))},{stringify:function(e,t,i){for(var n,a=[e],o=1;arguments.length>o;)a.push(arguments[o++]);if(n=t,(h(t)||void 0!==e)&&!re(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!re(t))return t}),a[1]=t,Y.apply(null,a)}});z.prototype[H]||P(z.prototype,H,z.prototype.valueOf),W(z,F),E[L]=!0},2990:function(e,t,i){"use strict";var n=i(260),a=i(1048),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return a.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,i){"use strict";var n=i(260),a=i(2092).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,i){"use strict";var n=i(260),a=i(1285),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return a.apply(o(this),arguments)}))},5035:function(e,t,i){"use strict";var n=i(260),a=i(2092).filter,o=i(3074),r=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=a(r(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},7174:function(e,t,i){"use strict";var n=i(260),a=i(2092).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,i){"use strict";var n=i(260),a=i(2092).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},2846:function(e,t,i){"use strict";var n=i(260),a=i(2092).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:function(e,t,i){"use strict";var n=i(260),a=i(1318).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,i){"use strict";var n=i(260),a=i(1318).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,i){"use strict";var n=i(7854),a=i(260),o=i(6992),r=i(5112)("iterator"),s=n.Uint8Array,l=o.values,c=o.keys,u=o.entries,d=a.aTypedArray,p=a.exportTypedArrayMethod,h=s&&s.prototype[r],g=!!h&&("values"==h.name||null==h.name),_=function(){return l.call(d(this))};p("entries",(function(){return u.call(d(this))})),p("keys",(function(){return c.call(d(this))})),p("values",_,!g),p(r,_,!g)},5064:function(e,t,i){"use strict";var n=i(260),a=n.aTypedArray,o=n.exportTypedArrayMethod,r=[].join;o("join",(function(e){return r.apply(a(this),arguments)}))},7789:function(e,t,i){"use strict";var n=i(260),a=i(6583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return a.apply(o(this),arguments)}))},3739:function(e,t,i){"use strict";var n=i(260),a=i(2092).map,o=i(6707),r=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return a(r(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},4483:function(e,t,i){"use strict";var n=i(260),a=i(3671).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return a(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:function(e,t,i){"use strict";var n=i(260),a=i(3671).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return a(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:function(e,t,i){"use strict";var n=i(260),a=n.aTypedArray,o=n.exportTypedArrayMethod,r=Math.floor;o("reverse",(function(){for(var e,t=this,i=a(t).length,n=r(i/2),o=0;o<n;)e=t[o],t[o++]=t[--i],t[i]=e;return t}))},3462:function(e,t,i){"use strict";var n=i(260),a=i(7466),o=i(4590),r=i(7908),s=i(7293),l=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),i=this.length,n=r(e),s=a(n.length),c=0;if(s+t>i)throw RangeError("Wrong length");for(;c<s;)this[t+c]=n[c++]}),s((function(){new Int8Array(1).set({})})))},678:function(e,t,i){"use strict";var n=i(260),a=i(6707),o=i(7293),r=n.aTypedArray,s=n.aTypedArrayConstructor,l=n.exportTypedArrayMethod,c=[].slice;l("slice",(function(e,t){for(var i=c.call(r(this),e,t),n=a(this,this.constructor),o=0,l=i.length,u=new(s(n))(l);l>o;)u[o]=i[o++];return u}),o((function(){new Int8Array(1).slice()})))},7462:function(e,t,i){"use strict";var n=i(260),a=i(2092).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,i){"use strict";var n=i(260),a=i(7854),o=i(7293),r=i(3099),s=i(7466),l=i(4362),c=i(8886),u=i(256),d=i(7392),p=i(8008),h=n.aTypedArray,g=n.exportTypedArrayMethod,_=a.Uint16Array,f=_&&_.prototype.sort,m=!!f&&!o((function(){var e=new _(2);e.sort(null),e.sort({})})),v=!!f&&!o((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,i=new _(516),n=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,n[e]=e-2*t+3;for(i.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==n[e])return!0}));g("sort",(function(e){var t=this;if(void 0!==e&&r(e),v)return f.call(t,e);h(t);var i,n=s(t.length),a=Array(n);for(i=0;i<n;i++)a[i]=t[i];for(a=l(t,function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e)),i=0;i<n;i++)t[i]=a[i];return t}),!v||m)},5021:function(e,t,i){"use strict";var n=i(260),a=i(7466),o=i(1400),r=i(6707),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var i=s(this),n=i.length,l=o(e,n);return new(r(i,i.constructor))(i.buffer,i.byteOffset+l*i.BYTES_PER_ELEMENT,a((void 0===t?n:o(t,n))-l))}))},2974:function(e,t,i){"use strict";var n=i(7854),a=i(260),o=i(7293),r=n.Int8Array,s=a.aTypedArray,l=a.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!r&&o((function(){c.call(new r(1))}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new r([1,2]).toLocaleString()}))||!o((function(){r.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,i){"use strict";var n=i(260).exportTypedArrayMethod,a=i(7293),o=i(7854).Uint8Array,r=o&&o.prototype||{},s=[].toString,l=[].join;a((function(){s.call({})}))&&(s=function(){return l.call(this)});var c=r.toString!=s;n("toString",s,c)},2472:function(e,t,i){i(9843)("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},4747:function(e,t,i){var n=i(7854),a=i(8324),o=i(8533),r=i(8880);for(var s in a){var l=n[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{r(c,"forEach",o)}catch(e){c.forEach=o}}},3948:function(e,t,i){var n=i(7854),a=i(8324),o=i(6992),r=i(8880),s=i(5112),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var d in a){var p=n[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{r(h,l,u)}catch(e){h[l]=u}if(h[c]||r(h,c,d),a[d])for(var g in o)if(h[g]!==o[g])try{r(h,g,o[g])}catch(e){h[g]=o[g]}}}},5680:function(e){"use strict";e.exports=n},7930:function(e){"use strict";e.exports=i},4429:function(t){"use strict";t.exports=e},8750:function(e){"use strict";e.exports=o},3755:function(e){"use strict";e.exports=t},2228:function(e){"use strict";e.exports=r},5515:function(e){"use strict";e.exports=a}},l={};function c(e){if(l[e])return l[e].exports;var t=l[e]={exports:{}};return s[e](t,t.exports,c),t.exports}return c.m=s,c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c(5579)}()}));