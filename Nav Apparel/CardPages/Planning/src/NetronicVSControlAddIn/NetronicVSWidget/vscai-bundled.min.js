/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(V){"use strict";V.ui=V.ui||{};V.ui.version="1.13.1";var n,i=0,a=Array.prototype.hasOwnProperty,r=Array.prototype.slice;V.cleanData=(n=V.cleanData,function(t){for(var e,i,s=0;null!=(i=t[s]);s++)(e=V._data(i,"events"))&&e.remove&&V(i).triggerHandler("remove");n(t)}),V.widget=function(t,i,e){var s,n,o,a={},r=t.split(".")[0],l=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=V.Widget),Array.isArray(e)&&(e=V.extend.apply(null,[{}].concat(e))),V.expr.pseudos[l.toLowerCase()]=function(t){return!!V.data(t,l)},V[r]=V[r]||{},s=V[r][t],n=V[r][t]=function(t,e){if(!this||!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},V.extend(n,s,{version:e.version,_proto:V.extend({},e),_childConstructors:[]}),(o=new i).options=V.widget.extend({},o.options),V.each(e,function(e,s){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}a[e]="function"==typeof s?function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=o,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}:s}),n.prototype=V.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},a,{constructor:n,namespace:r,widgetName:t,widgetFullName:l}),s?(V.each(s._childConstructors,function(t,e){var i=e.prototype;V.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),V.widget.bridge(t,n),n},V.widget.extend=function(t){for(var e,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(e in s[n])i=s[n][e],a.call(s[n],e)&&void 0!==i&&(V.isPlainObject(i)?t[e]=V.isPlainObject(t[e])?V.widget.extend({},t[e],i):V.widget.extend({},i):t[e]=i);return t},V.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;V.fn[o]=function(i){var t="string"==typeof i,s=r.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=V.data(this,a);return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for "+o+" widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V.data(this,a);t?(t.option(i||{}),t._init&&t._init()):V.data(this,a,new e(i,this))})),n}},V.Widget=function(){},V.Widget._childConstructors=[],V.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=V(e||this.defaultElement||this)[0],this.element=V(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=V(),this.hoverable=V(),this.focusable=V(),this.classesElementLookup={},e!==this&&(V.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=V(e.style?e.ownerDocument:e.document||e),this.window=V(this.document[0].defaultView||this.document[0].parentWindow)),this.options=V.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:V.noop,_create:V.noop,_init:V.noop,destroy:function(){var i=this;this._destroy(),V.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:V.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,o=t;if(0===arguments.length)return V.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(s=o[t]=V.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=V(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function t(t,e){for(var i,s=0;s<t.length;s++)i=a.classesElementLookup[t[s]]||V(),i=n.add?(function(){var i=[];n.element.each(function(t,e){V.map(a.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),a._on(V(i),{remove:"_untrackClassesElement"})}(),V(V.uniqueSort(i.get().concat(n.element.get())))):V(i.not(n.element).get()),a.classesElementLookup[t[s]]=i,o.push(t[s]),e&&n.classes[t[s]]&&o.push(n.classes[t[s]])}return(n=V.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;V.each(s.classesElementLookup,function(t,e){-1!==V.inArray(i.target,e)&&(s.classesElementLookup[t]=V(e.not(i.target).get()))}),this._off(V(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){var n="string"==typeof t||null===t,i={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s="boolean"==typeof s?s:i};return i.element.toggleClass(this._classes(i),s),this},_on:function(n,o,t){var a,r=this;"boolean"!=typeof n&&(t=o,o=n,n=!1),t?(o=a=V(o),this.bindings=this.bindings.add(o)):(t=o,o=this.element,a=this.widget()),V.each(t,function(t,e){function i(){if(n||!0!==r.options.disabled&&!V(this).hasClass("ui-state-disabled"))return("string"==typeof e?r[e]:e).apply(r,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||V.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),t=s[1]+r.eventNamespace,s=s[2];s?a.on(t,s,i):o.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=V(this.bindings.not(t).get()),this.focusable=V(this.focusable.not(t).get()),this.hoverable=V(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(V(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(V(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},(e=V.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!("function"==typeof o&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},V.each({show:"fadeIn",hide:"fadeOut"},function(o,a){V.Widget.prototype["_"+o]=function(e,t,i){var s,n=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||a:o;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),s=!V.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&V.effects&&V.effects.effect[n]?e[o](t):n!==o&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){V(this)[o](),i&&i.call(e[0]),t()})}});var s,x,k,o,l,h,c,u,C;V.widget;function D(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function I(t,e){return parseInt(V.css(t,e),10)||0}function T(t){return null!=t&&t===t.window}x=Math.max,k=Math.abs,o=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,C=V.fn.position,V.position={scrollbarWidth:function(){if(void 0!==s)return s;var t,e=V("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=e.children()[0];return V("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),s=t-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?V.position.scrollbarWidth():0,height:e?V.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=V(t||window),i=T(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:!i&&!s?V(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},V.fn.position=function(u){if(!u||!u.of)return C.apply(this,arguments);var d,p,f,g,m,t,_="string"==typeof(u=V.extend({},u)).of?V(document).find(u.of):V(u.of),v=V.position.getWithinInfo(u.within),b=V.position.getScrollInfo(v),y=(u.collision||"flip").split(" "),w={},e=9===(t=(e=_)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:T(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return _[0].preventDefault&&(u.at="left top"),p=e.width,f=e.height,m=V.extend({},g=e.offset),V.each(["my","at"],function(){var t,e,i=(u[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],u[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?m.left+=p:"center"===u.at[0]&&(m.left+=p/2),"bottom"===u.at[1]?m.top+=f:"center"===u.at[1]&&(m.top+=f/2),d=D(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,t,a=V(this),r=a.outerWidth(),l=a.outerHeight(),e=I(this,"marginLeft"),s=I(this,"marginTop"),n=r+e+I(this,"marginRight")+b.width,o=l+s+I(this,"marginBottom")+b.height,h=V.extend({},m),c=D(w.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?h.left-=r:"center"===u.my[0]&&(h.left-=r/2),"bottom"===u.my[1]?h.top-=l:"center"===u.my[1]&&(h.top-=l/2),h.left+=c[0],h.top+=c[1],i={marginLeft:e,marginTop:s},V.each(["left","top"],function(t,e){V.ui.position[y[t]]&&V.ui.position[y[t]][e](h,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[d[0]+c[0],d[1]+c[1]],my:u.my,at:u.at,within:v,elem:a})}),u.using&&(t=function(t){var e=g.left-h.left,i=e+p-r,s=g.top-h.top,n=s+f-l,o={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:h.left,top:h.top,width:r,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<r&&k(e+i)<p&&(o.horizontal="center"),f<l&&k(s+n)<f&&(o.vertical="middle"),x(k(e),k(i))>x(k(s),k(n))?o.important="horizontal":o.important="vertical",u.using.call(this,t,o)}),a.offset(V.extend(h,{using:t}))})},V.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,o=t.left-e.collisionPosition.marginLeft,a=s-o,r=o+e.collisionWidth-n-s;e.collisionWidth>n?0<a&&r<=0?(i=t.left+a+e.collisionWidth-n-s,t.left+=a-i):t.left=!(0<r&&a<=0)&&r<a?s+n-e.collisionWidth:s:0<a?t.left+=a:0<r?t.left-=r:t.left=x(t.left-o,t.left)},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,n=e.within.height,o=t.top-e.collisionPosition.marginTop,a=s-o,r=o+e.collisionHeight-n-s;e.collisionHeight>n?0<a&&r<=0?(i=t.top+a+e.collisionHeight-n-s,t.top+=a-i):t.top=!(0<r&&a<=0)&&r<a?s+n-e.collisionHeight:s:0<a?t.top+=a:0<r?t.top-=r:t.top=x(t.top-o,t.top)}},flip:{left:function(t,e){var i=e.within,s=i.offset.left+i.scrollLeft,n=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,a=t.left-e.collisionPosition.marginLeft,r=a-o,l=a+e.collisionWidth-n-o,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,i="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,a=-2*e.offset[0];r<0?((s=t.left+h+i+a+e.collisionWidth-n-s)<0||s<k(r))&&(t.left+=h+i+a):0<l&&(0<(o=t.left-e.collisionPosition.marginLeft+h+i+a-o)||k(o)<l)&&(t.left+=h+i+a)},top:function(t,e){var i=e.within,s=i.offset.top+i.scrollTop,n=i.height,o=i.isWindow?i.scrollTop:i.offset.top,a=t.top-e.collisionPosition.marginTop,r=a-o,l=a+e.collisionHeight-n-o,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,a=-2*e.offset[1];r<0?((s=t.top+h+i+a+e.collisionHeight-n-s)<0||s<k(r))&&(t.top+=h+i+a):0<l&&(0<(o=t.top-e.collisionPosition.marginTop+h+i+a-o)||k(o)<l)&&(t.top+=h+i+a)}},flipfit:{left:function(){V.ui.position.flip.left.apply(this,arguments),V.ui.position.fit.left.apply(this,arguments)},top:function(){V.ui.position.flip.top.apply(this,arguments),V.ui.position.fit.top.apply(this,arguments)}}};V.ui.position,V.extend(V.expr.pseudos,{data:V.expr.createPseudo?V.expr.createPseudo(function(e){return function(t){return!!V.data(t,e)}}):function(t,e,i){return!!V.data(t,i[3])}}),V.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t,d=V,p={},e=p.toString,f=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?(parseInt(t[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),t[4]?(parseInt(t[4]+t[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],m=d.Color=function(t,e,i,s){return new d.Color.fn.parse(t,e,i,s)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},b=m.support={},y=d("<p>")[0],w=d.each;function P(t){return null==t?t+"":"object"==typeof t?p[e.call(t)]||"object":typeof t}function M(t,e,i){var s=v[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:Math.min(s.max,Math.max(0,t)))}function S(s){var n=m(),o=n._rgba=[];return s=s.toLowerCase(),w(g,function(t,e){var i=e.re.exec(s),i=i&&e.parse(i),e=e.space||"rgba";if(i)return i=n[e](i),n[_[e].cache]=i[_[e].cache],o=n._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&d.extend(o,B.transparent),n):B[s]}function H(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}y.style.cssText="background-color:rgba(1,1,1,.5)",b.rgba=-1<y.style.backgroundColor.indexOf("rgba"),w(_,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()}),(m.fn=d.extend(m.prototype,{parse:function(n,t,e,i){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=d(n).css(t),t=void 0);var o=this,s=P(n),a=this._rgba=[];return void 0!==t&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(S(n)||B._default):"array"===s?(w(_.rgba.props,function(t,e){a[e.idx]=M(n[e.idx],e)}),this):"object"===s?(w(_,n instanceof m?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;w(i.props,function(t,e){if(!o[s]&&i.to){if("alpha"===t||null==n[t])return;o[s]=i.to(o._rgba)}o[s][e.idx]=M(n[t],e,!0)}),o[s]&&d.inArray(null,o[s].slice(0,3))<0&&(null==o[s][3]&&(o[s][3]=1),i.from&&(o._rgba=i.from(o[s])))}),this):void 0},is:function(t){var n=m(t),o=!0,a=this;return w(_,function(t,e){var i,s=n[e.cache];return s&&(i=a[e.cache]||e.to&&e.to(a._rgba)||[],w(e.props,function(t,e){if(null!=s[e.idx])return o=s[e.idx]===i[e.idx]})),o}),o},_space:function(){var i=[],s=this;return w(_,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,a){var e=(h=m(t))._space(),i=_[e],t=0===this.alpha()?m("transparent"):this,r=t[i.cache]||i.to(t._rgba),l=r.slice(),h=h[i.cache];return w(i.props,function(t,e){var i=e.idx,s=r[i],n=h[i],o=v[e.type]||{};null!==n&&(null===s?l[i]=n:(o.mod&&(n-s>o.mod/2?s+=o.mod:s-n>o.mod/2&&(s-=o.mod)),l[i]=M((n-s)*a+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=m(t)._rgba;return m(d.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=d.map(this._rgba,function(t,e){return null!=t?t:2<e?1:0});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=d.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),t=e&&e<3?Math.round(100*t)+"%":t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+d.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=m.fn,_.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,i=t[1]/255,s=t[2]/255,n=t[3],o=Math.max(e,i,s),a=Math.min(e,i,s),r=o-a,l=o+a,t=.5*l,i=a===o?0:e===o?60*(i-s)/r+360:i===o?60*(s-e)/r+120:60*(e-i)/r+240,l=0==r?0:t<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,t,null==n?1:n]},_.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],t=t[3],i=s<=.5?s*(1+i):s+i-s*i,s=2*s-i;return[Math.round(255*H(s,i,e+1/3)),Math.round(255*H(s,i,e)),Math.round(255*H(s,i,e-1/3)),t]},w(_,function(l,t){var e=t.props,o=t.cache,a=t.to,r=t.from;m.fn[l]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===t)return this[o].slice();var i=P(t),s="array"===i||"object"===i?t:arguments,n=this[o].slice();return w(e,function(t,e){t=s["object"===i?t:e.idx];null==t&&(t=n[e.idx]),n[e.idx]=M(t,e)}),r?((t=m(r(n)))[o]=n,t):m(n)},w(e,function(a,r){m.fn[a]||(m.fn[a]=function(t){var e,i=P(t),s="alpha"===a?this._hsla?"hsla":"rgba":l,n=this[s](),o=n[r.idx];return"undefined"===i?o:("function"===i&&(i=P(t=t.call(this,o))),null==t&&r.empty?this:("string"===i&&(e=f.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),(m.hook=function(t){t=t.split(" ");w(t,function(t,o){d.cssHooks[o]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==P(e)||(i=S(e)))){if(e=m(i||e),!b.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=d.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},d.fx.step[o]=function(t){t.colorInit||(t.start=m(t.elem,o),t.end=m(t.end),t.colorInit=!0),d.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var s={};return w(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}};var z,A,O,N,E,W,F,L,R,Y,B=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},j="ui-effects-",q="ui-effects-style",K="ui-effects-animated";function U(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[e.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function X(t,e,i,s){return t={effect:t=V.isPlainObject(t)?(e=t).effect:t},"function"==typeof(e=null==e?{}:e)&&(s=e,i=null,e={}),"number"!=typeof e&&!V.fx.speeds[e]||(s=i,i=e,e={}),"function"==typeof i&&(s=i,i=null),e&&V.extend(t,e),i=i||e.duration,t.duration=V.fx.off?0:"number"==typeof i?i:i in V.fx.speeds?V.fx.speeds[i]:V.fx.speeds._default,t.complete=s||e.complete,t}function $(t){return!t||"number"==typeof t||V.fx.speeds[t]||("string"==typeof t&&!V.effects.effect[t]||("function"==typeof t||"object"==typeof t&&!t.effect))}function G(t,e){var i=e.outerWidth(),e=e.outerHeight(),t=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,e,0];return{top:parseFloat(t[1])||0,right:"auto"===t[2]?i:parseFloat(t[2]),bottom:"auto"===t[3]?e:parseFloat(t[3]),left:parseFloat(t[4])||0}}V.effects={effect:{}},N=["add","remove","toggle"],E={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},V.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){V.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(d.style(t.elem,e,t.end),t.setAttr=!0)}}),V.fn.addBack||(V.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),V.effects.animateClass=function(n,t,e,i){var o=V.speed(t,e,i);return this.queue(function(){var i=V(this),t=i.attr("class")||"",e=(e=o.children?i.find("*").addBack():i).map(function(){return{el:V(this),start:U(this)}}),s=function(){V.each(N,function(t,e){n[e]&&i[e+"Class"](n[e])})};s(),e=e.map(function(){return this.end=U(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(E[i]||!V.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",t),e=e.map(function(){var t=this,e=V.Deferred(),i=V.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),V.when.apply(V,e.get()).done(function(){s(),V.each(arguments,function(){var e=this.el;V.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},V.fn.extend({addClass:(O=V.fn.addClass,function(t,e,i,s){return e?V.effects.animateClass.call(this,{add:t},e,i,s):O.apply(this,arguments)}),removeClass:(A=V.fn.removeClass,function(t,e,i,s){return 1<arguments.length?V.effects.animateClass.call(this,{remove:t},e,i,s):A.apply(this,arguments)}),toggleClass:(z=V.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?V.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):z.apply(this,arguments):V.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return V.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),V.expr&&V.expr.pseudos&&V.expr.pseudos.animated&&(V.expr.pseudos.animated=(W=V.expr.pseudos.animated,function(t){return!!V(t).data(K)||W(t)})),!1!==V.uiBackCompat&&V.extend(V.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(j+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(j+e[s]),t.css(e[s],i))},setMode:function(t,e){return e="toggle"===e?t.is(":hidden")?"show":"hide":e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=V("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!V.contains(i[0],n)||V(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(V.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),V.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!V.contains(t[0],e)||V(e).trigger("focus")),t}}),V.extend(V.effects,{version:"1.13.1",define:function(t,e,i){return i||(i=e,e="effect"),V.effects.effect[t]=i,V.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,e="vertical"!==i?(e||100)/100:1;return{height:t.height()*e,width:t.width()*s,outerHeight:t.outerHeight()*e,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(q,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(q)||"",t.removeData(q)},mode:function(t,e){t=t.is(":hidden");return"toggle"===e&&(e=t?"show":"hide"),e=(t?"hide"===e:"show"===e)?"none":e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=V("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(j+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=j+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){V.effects.restoreStyle(t),V.effects.removePlaceholder(t)},setTransition:function(s,t,n,o){return o=o||{},V.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),V.fn.extend({effect:function(){function t(t){var e=V(this),i=V.effects.mode(e,r)||o;e.data(K,!0),l.push(i),o&&("show"===i||i===o&&"hide"===i)&&e.show(),o&&"none"===i||V.effects.saveStyle(e),"function"==typeof t&&t()}var s=X.apply(this,arguments),n=V.effects.effect[s.effect],o=n.mode,e=s.queue,i=e||"fx",a=s.complete,r=s.mode,l=[];return V.fx.off||!n?r?this[r](s.duration,a):this.each(function(){a&&a.call(this)}):!1===e?this.each(t).each(h):this.queue(i,t).queue(i,h);function h(t){var e=V(this);function i(){"function"==typeof a&&a.call(e[0]),"function"==typeof t&&t()}s.mode=l.shift(),!1===V.uiBackCompat||o?"none"===s.mode?(e[r](),i()):n.call(e[0],s,function(){e.removeData(K),V.effects.cleanUp(e),"hide"===s.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===r:"show"===r)?(e[r](),i()):n.call(e[0],s,i)}},show:(R=V.fn.show,function(t){if($(t))return R.apply(this,arguments);t=X.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(L=V.fn.hide,function(t){if($(t))return L.apply(this,arguments);t=X.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(F=V.fn.toggle,function(t){if($(t)||"boolean"==typeof t)return F.apply(this,arguments);t=X.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(t){var i=this.css(t),s=[];return V.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):G(this.css("clip"),this)},transfer:function(t,e){var i=V(this),s=V(t.to),n="fixed"===s.css("position"),o=V("body"),a=n?o.scrollTop():0,r=n?o.scrollLeft():0,o=s.offset(),o={top:o.top-a,left:o.left-r,height:s.innerHeight(),width:s.innerWidth()},s=i.offset(),l=V("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(t.className).css({top:s.top-a,left:s.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(o,t.duration,t.easing,function(){l.remove(),"function"==typeof e&&e()})}}),V.fx.step.clip=function(t){t.clipInit||(t.start=V(t.elem).cssClip(),"string"==typeof t.end&&(t.end=G(t.end,t.elem)),t.clipInit=!0),V(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},Y={},V.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){Y[t]=function(t){return Math.pow(t,e+2)}}),V.extend(Y,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),V.each(Y,function(t,e){V.easing["easeIn"+t]=e,V.easing["easeOut"+t]=function(t){return 1-e(1-t)},V.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});y=V.effects,V.effects.define("blind","hide",function(t,e){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=V(this),n=t.direction||"up",o=s.cssClip(),a={clip:V.extend({},o)},r=V.effects.createPlaceholder(s);a.clip[i[n][0]]=a.clip[i[n][1]],"show"===t.mode&&(s.cssClip(a.clip),r&&r.css(V.effects.clipToBox(a)),a.clip=o),r&&r.animate(V.effects.clipToBox(a),t.duration,t.easing),s.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("bounce",function(t,e){var i,s,n=V(this),o=t.mode,a="hide"===o,r="show"===o,l=t.direction||"up",h=t.distance,c=t.times||5,o=2*c+(r||a?1:0),u=t.duration/o,d=t.easing,p="up"===l||"down"===l?"top":"left",f="up"===l||"left"===l,g=0,t=n.queue().length;for(V.effects.createPlaceholder(n),l=n.css(p),h=h||n["top"==p?"outerHeight":"outerWidth"]()/3,r&&((s={opacity:1})[p]=l,n.css("opacity",0).css(p,f?2*-h:2*h).animate(s,u,d)),a&&(h/=Math.pow(2,c-1)),(s={})[p]=l;g<c;g++)(i={})[p]=(f?"-=":"+=")+h,n.animate(i,u,d).animate(s,u,d),h=a?2*h:h/2;a&&((i={opacity:0})[p]=(f?"-=":"+=")+h,n.animate(i,u,d)),n.queue(e),V.effects.unshift(n,t,1+o)}),V.effects.define("clip","hide",function(t,e){var i={},s=V(this),n=t.direction||"vertical",o="both"===n,a=o||"horizontal"===n,o=o||"vertical"===n,n=s.cssClip();i.clip={top:o?(n.bottom-n.top)/2:n.top,right:a?(n.right-n.left)/2:n.right,bottom:o?(n.bottom-n.top)/2:n.bottom,left:a?(n.right-n.left)/2:n.left},V.effects.createPlaceholder(s),"show"===t.mode&&(s.cssClip(i.clip),i.clip=n),s.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("drop","hide",function(t,e){var i=V(this),s="show"===t.mode,n=t.direction||"left",o="up"===n||"down"===n?"top":"left",a="up"===n||"left"===n?"-=":"+=",r="+="==a?"-=":"+=",l={opacity:0};V.effects.createPlaceholder(i),n=t.distance||i["top"==o?"outerHeight":"outerWidth"](!0)/2,l[o]=a+n,s&&(i.css(l),l[o]=r+n,l.opacity=1),i.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("explode","hide",function(t,e){var i,s,n,o,a,r,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=l,c=V(this),u="show"===t.mode,d=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/h),f=Math.ceil(c.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*h&&(c.css({visibility:"visible"}),V(g).remove(),e())}for(i=0;i<l;i++)for(o=d.top+i*f,r=i-(l-1)/2,s=0;s<h;s++)n=d.left+s*p,a=s-(h-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:n+(u?a*p:0),top:o+(u?r*f:0),opacity:u?0:1}).animate({left:n+(u?0:a*p),top:o+(u?0:r*f),opacity:u?1:0},t.duration||500,t.easing,m)}),V.effects.define("fade","toggle",function(t,e){var i="show"===t.mode;V(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("fold","hide",function(e,t){var i=V(this),s=e.mode,n="show"===s,o="hide"===s,a=e.size||15,r=/([0-9]+)%/.exec(a),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],h=e.duration/2,c=V.effects.createPlaceholder(i),u=i.cssClip(),d={clip:V.extend({},u)},p={clip:V.extend({},u)},f=[u[l[0]],u[l[1]]],s=i.queue().length;r&&(a=parseInt(r[1],10)/100*f[o?0:1]),d.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,n&&(i.cssClip(p.clip),c&&c.css(V.effects.clipToBox(p)),p.clip=u),i.queue(function(t){c&&c.animate(V.effects.clipToBox(d),h,e.easing).animate(V.effects.clipToBox(p),h,e.easing),t()}).animate(d,h,e.easing).animate(p,h,e.easing).queue(t),V.effects.unshift(i,s,4)}),V.effects.define("highlight","show",function(t,e){var i=V(this),s={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(s.opacity=0),V.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("size",function(s,e){var n,i=V(this),t=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=s.mode,l="effect"!==r,h=s.scale||"both",c=s.origin||["middle","center"],u=i.css("position"),d=i.position(),p=V.effects.scaledDimensions(i),f=s.from||p,g=s.to||V.effects.scaledDimensions(i,0);V.effects.createPlaceholder(i),"show"===r&&(r=f,f=g,g=r),n={from:{y:f.height/p.height,x:f.width/p.width},to:{y:g.height/p.height,x:g.width/p.width}},"box"!==h&&"both"!==h||(n.from.y!==n.to.y&&(f=V.effects.setTransition(i,o,n.from.y,f),g=V.effects.setTransition(i,o,n.to.y,g)),n.from.x!==n.to.x&&(f=V.effects.setTransition(i,a,n.from.x,f),g=V.effects.setTransition(i,a,n.to.x,g))),"content"!==h&&"both"!==h||n.from.y!==n.to.y&&(f=V.effects.setTransition(i,t,n.from.y,f),g=V.effects.setTransition(i,t,n.to.y,g)),c&&(c=V.effects.getBaseline(c,p),f.top=(p.outerHeight-f.outerHeight)*c.y+d.top,f.left=(p.outerWidth-f.outerWidth)*c.x+d.left,g.top=(p.outerHeight-g.outerHeight)*c.y+d.top,g.left=(p.outerWidth-g.outerWidth)*c.x+d.left),delete f.outerHeight,delete f.outerWidth,i.css(f),"content"!==h&&"both"!==h||(o=o.concat(["marginTop","marginBottom"]).concat(t),a=a.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=V(this),e=V.effects.scaledDimensions(t),i={height:e.height*n.from.y,width:e.width*n.from.x,outerHeight:e.outerHeight*n.from.y,outerWidth:e.outerWidth*n.from.x},e={height:e.height*n.to.y,width:e.width*n.to.x,outerHeight:e.height*n.to.y,outerWidth:e.width*n.to.x};n.from.y!==n.to.y&&(i=V.effects.setTransition(t,o,n.from.y,i),e=V.effects.setTransition(t,o,n.to.y,e)),n.from.x!==n.to.x&&(i=V.effects.setTransition(t,a,n.from.x,i),e=V.effects.setTransition(t,a,n.to.x,e)),l&&V.effects.saveStyle(t),t.css(i),t.animate(e,s.duration,s.easing,function(){l&&V.effects.restoreStyle(t)})})),i.animate(g,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){var t=i.offset();0===g.opacity&&i.css("opacity",f.opacity),l||(i.css("position","static"===u?"relative":u).offset(t),V.effects.saveStyle(i)),e()}})}),V.effects.define("scale",function(t,e){var i=V(this),s=t.mode,s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==s?0:100),s=V.extend(!0,{from:V.effects.scaledDimensions(i),to:V.effects.scaledDimensions(i,s,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),V.effects.effect.size.call(this,s,e)}),V.effects.define("puff","hide",function(t,e){t=V.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});V.effects.effect.scale.call(this,t,e)}),V.effects.define("pulsate","show",function(t,e){var i=V(this),s=t.mode,n="show"===s,o=2*(t.times||5)+(n||"hide"===s?1:0),a=t.duration/o,r=0,l=1,s=i.queue().length;for(!n&&i.is(":visible")||(i.css("opacity",0).show(),r=1);l<o;l++)i.animate({opacity:r},a,t.easing),r=1-r;i.animate({opacity:r},a,t.easing),i.queue(e),V.effects.unshift(i,s,1+o)}),V.effects.define("shake",function(t,e){var i=1,s=V(this),n=t.direction||"left",o=t.distance||20,a=t.times||3,r=2*a+1,l=Math.round(t.duration/r),h="up"===n||"down"===n?"top":"left",c="up"===n||"left"===n,u={},d={},p={},n=s.queue().length;for(V.effects.createPlaceholder(s),u[h]=(c?"-=":"+=")+o,d[h]=(c?"+=":"-=")+2*o,p[h]=(c?"-=":"+=")+2*o,s.animate(u,l,t.easing);i<a;i++)s.animate(d,l,t.easing).animate(p,l,t.easing);s.animate(d,l,t.easing).animate(u,l/2,t.easing).queue(e),V.effects.unshift(s,n,1+r)}),V.effects.define("slide","show",function(t,e){var i,s,n=V(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,r=t.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,c=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0),u={};V.effects.createPlaceholder(n),i=n.cssClip(),s=n.position()[l],u[l]=(h?-1:1)*c+s,u.clip=n.cssClip(),u.clip[o[r][1]]=u.clip[o[r][0]],"show"===a&&(n.cssClip(u.clip),n.css(l,u[l]),u.clip=i,u[l]=s),n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),y=!1!==V.uiBackCompat?V.effects.define("transfer",function(t,e){V(this).transfer(t,e)}):y;V.ui.focusable=function(t,e){var i,s,n,o,a=t.nodeName.toLowerCase();return"area"===a?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(0<(s=V("img[usemap='#"+s+"']")).length&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(n=!t.disabled)&&(o=V(t).closest("fieldset")[0])&&(n=!o.disabled):n="a"===a&&t.href||e,n&&V(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(V(t)))},V.extend(V.expr.pseudos,{focusable:function(t){return V.ui.focusable(t,null!=V.attr(t,"tabindex"))}});var Q,J;V.ui.focusable,V.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):V(this[0].form)},V.ui.formResetMixin={_formResetHandler:function(){var e=V(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");V.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(V.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};V.expr.pseudos||(V.expr.pseudos=V.expr[":"]),V.uniqueSort||(V.uniqueSort=V.unique),V.escapeSelector||(Q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,J=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},V.escapeSelector=function(t){return(t+"").replace(Q,J)}),V.fn.even&&V.fn.odd||V.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}});var Z;V.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},V.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+V.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},V.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=V(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:V(this[0].ownerDocument||document)},V.extend(V.expr.pseudos,{tabbable:function(t){var e=V.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&V.ui.focusable(t,i)}}),V.fn.extend({uniqueId:(Z=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++Z)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&V(this).removeAttr("id")})}}),V.widget("ui.accordion",{version:"1.13.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(t){return t.find("> li > :first-child").add(t.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=V(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():V()}},_createIcons:function(){var t,e=this.options.icons;e&&(t=V("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+e.header),t.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,e.header)._addClass(t,null,e.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=V.ui.keyCode,i=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:n=this.headers[(s+1)%i];break;case e.LEFT:case e.UP:n=this.headers[(s-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:n=this.headers[0];break;case e.END:n=this.headers[i-1]}n&&(V(t.target).attr("tabIndex",-1),V(n).attr("tabIndex",0),V(n).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===V.ui.keyCode.UP&&t.ctrlKey&&V(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=V()):!1===t.active?this._activate(0):this.active.length&&!V.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=V()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var i,t=this.options,e=t.heightStyle,s=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=V(this),e=t.uniqueId().attr("id"),i=t.next(),s=i.uniqueId().attr("id");t.attr("aria-controls",s),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=s.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=V(this).outerHeight(!0)}),this.headers.next().each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){var t=V(this).is(":visible");t||V(this).show(),i=Math.max(i,V(this).css("height","").height()),t||V(this).hide()}).height(i))},_activate:function(t){t=this._findActive(t)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):V()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():s.next(),r=i.next(),a={oldHeader:i,oldPanel:r,newHeader:o?V():s,newPanel:a};t.preventDefault(),n&&!e.collapsible||!1===this._trigger("beforeActivate",t,a)||(e.active=!o&&this.headers.index(s),this.active=n?V():s,this._toggle(a),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),e.icons&&(i=i.children(".ui-accordion-header-icon"),this._removeClass(i,null,e.icons.activeHeader)._addClass(i,null,e.icons.header)),n||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),e.icons&&(n=s.children(".ui-accordion-header-icon"),this._removeClass(n,null,e.icons.header)._addClass(n,null,e.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(V(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,i,e){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!i.length||t.index()<i.index()),c=this.options.animate||{},u=h&&c.down||c,h=function(){a._toggleComplete(e)};return n=(n="string"==typeof u?u:n)||u.easing||c.easing,o=(o="number"==typeof u?u:o)||u.duration||c.duration,i.length?t.length?(s=t.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:h,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(r+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(s-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,n,h):t.animate(this.showProps,o,n,h)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),V.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=!(i=i||e.body).nodeName?e.body:i},V.widget("ui.menu",{version:"1.13.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault(),this._activateItem(t)},"click .ui-menu-item":function(t){var e=V(t.target),i=V(V.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this._menuItems().first();e||this.focus(t,i)},blur:function(t){this._delay(function(){V.contains(this.element[0],V.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t,!0),this.mouseHandled=!1}})},_activateItem:function(t){var e,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},e=V(t.target).closest(".ui-menu-item"),i=V(t.currentTarget),e[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=V(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,s,n=!0;switch(t.keyCode){case V.ui.keyCode.PAGE_UP:this.previousPage(t);break;case V.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case V.ui.keyCode.HOME:this._move("first","first",t);break;case V.ui.keyCode.END:this._move("last","last",t);break;case V.ui.keyCode.UP:this.previous(t);break;case V.ui.keyCode.DOWN:this.next(t);break;case V.ui.keyCode.LEFT:this.collapse(t);break;case V.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case V.ui.keyCode.ENTER:case V.ui.keyCode.SPACE:this._activate(t);break;case V.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=this.previousFilter||"",s=n=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===e?s=!0:i=e+i,e=this._filterMenuItems(i),(e=s&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,s=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=V(this),e=t.prev(),i=V("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+n),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=V(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(e=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!V.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var i;"icons"===t&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,s;this._hasScroll()&&(i=parseFloat(V.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(V.css(this.activeMenu[0],"paddingTop"))||0,e=t.offset().top-this.activeMenu.offset().top-i-s,i=this.activeMenu.scrollTop(),s=this.activeMenu.height(),t=t.outerHeight(),e<0?this.activeMenu.scrollTop(i+e):s<e+t&&this.activeMenu.scrollTop(i+e-s+t))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=V.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:V(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},i?0:this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!V(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this._menuItems(this.active.children(".ui-menu")).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(t){return(t||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(t,e,i){var s;(s=this.active?"first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").last():this.active[t+"All"](".ui-menu-item").first():s)&&s.length&&this.active||(s=this._menuItems(this.activeMenu)[e]()),this.focus(i,s)},nextPage:function(t){var e,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(e=V(this)).offset().top-i-s<0}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=V(this)).offset().top-i+s}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||V(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),e=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(String.prototype.trim.call(V(this).children(".ui-menu-item-wrapper").text()))})}});V.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,s,n,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:s=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!s){var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=V("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault()},menufocus:function(t,e){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){V(t.target).trigger(t.originalEvent)});s=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=e.item.attr("aria-label")||s.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(i))},100))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==V.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=V("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||V.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_initSource:function(){var i,s,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(V.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(t,e){n.xhr&&n.xhr.abort(),n.xhr=V.ajax({url:s,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t&&(e||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:V.map(t,function(t){return"string"==typeof t?{label:t,value:t}:V.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(V.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var s=this;V.each(t,function(t,e){s._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return V("<li>").append(V("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),V.extend(V.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(V.ui.autocomplete.escapeRegex(e),"i");return V.grep(t,function(t){return i.test(t.label||t.value||t)})}}),V.widget("ui.autocomplete",V.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(e))},100))}});V.ui.autocomplete;var tt=/ui-corner-([a-z]){2,6}/g;V.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];V.each(this.options.items,function(s,t){var e,n={};if(t)return"controlgroupLabel"===s?((e=o.element.find(t)).each(function(){var t=V(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(V.fn[s]&&(n=o["_"+s+"Options"]?o["_"+s+"Options"]("middle"):{classes:{}},o.element.find(t).each(function(){var t=V(this),e=t[s]("instance"),i=V.widget.extend({},n);"button"===s&&t.parent(".ui-spinner").length||((e=e||t[s]()[s]("instance"))&&(i.classes=o._resolveClassesValues(i.classes,e)),t[s](i),i=t[s]("widget"),V.data(i[0],"ui-controlgroup-data",e||t[s]("instance")),a.push(i[0]))})))}),this.childWidgets=V(V.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=V(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){t=this._buildSimpleOptions(t,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return V.each(i,function(t){var e=s.options.classes[t]||"",e=String.prototype.trim.call(e.replace(tt,""));n[t]=(e+" "+i[t]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var n,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,(n=this.options.onlyVisible?n.filter(":visible"):n).length&&(V.each(["first","last"],function(t,e){var i,s=n[e]().data("ui-controlgroup-data");s&&o["_"+s.widgetName+"Options"]?((i=o["_"+s.widgetName+"Options"](1===n.length?"only":e)).classes=o._resolveClassesValues(i.classes,s),s.element[s.widgetName](i)):o._updateCornerClass(n[e](),e)}),this._callChildMethod("refresh"))}});V.widget("ui.checkboxradio",[V.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=V(t[t.length-1]),this.label.length||V.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){e.originalLabel+=3===this.nodeType?V(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||V.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+V.escapeSelector(t)+"']";return t?(this.form.length?V(this.form[0].elements).filter(e):V(e).filter(function(){return 0===V(this)._form().length})).not(this.element):V([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=V(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=V("<span>"),this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),(t=this.iconSpace?t.not(this.iconSpace[0]):t).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var et;V.ui.checkboxradio;V.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===V.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,s=i?this.options.iconPosition:e,t="top"===s||"bottom"===s;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=V("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(s),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,i=(void 0===t.icon?this.options:t).icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==V.uiBackCompat&&(V.widget("ui.button",V.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),V.fn.button=(et=V.fn.button,function(i){var t="string"==typeof i,s=Array.prototype.slice.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t=V(this).attr("type"),e=V.data(this,"ui-"+("checkbox"!==t&&"radio"!==t?"button":"checkboxradio"));return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for button widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V(this).attr("type"),e="checkbox"!==t&&"radio"!==t?"button":"checkboxradio",t=V.data(this,"ui-"+e);t?(t.option(i||{}),t._init&&t._init()):"button"!=e?V(this).checkboxradio(V.extend({icon:!1},i)):et.call(V(this),i)})),n}),V.fn.buttonset=function(){return V.ui.controlgroup||V.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var it;V.ui.button;function st(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},V.extend(this._defaults,this.regional[""]),this.regional.en=V.extend(!0,{},this.regional[""]),this.regional["en-US"]=V.extend(!0,{},this.regional.en),this.dpDiv=nt(V("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function nt(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){V(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,ot)}function ot(){V.datepicker._isDisabledDatepicker((it.inline?it.dpDiv.parent():it.input)[0])||(V(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),V(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).addClass("ui-datepicker-next-hover"))}function at(t,e){for(var i in V.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}V.extend(V.ui,{datepicker:{version:"1.13.1"}}),V.extend(st.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return at(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,s=t.nodeName.toLowerCase(),n="div"===s||"span"===s;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(V(t),n)).settings=V.extend({},e||{}),"input"===s?this._connectDatepicker(t,i):n&&this._inlineDatepicker(t,i)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?nt(V("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=V(t);e.append=V([]),e.trigger=V([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),V.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,s=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),s&&(e.append=V("<span>").addClass(this._appendClass).text(s),t[n?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(e,"buttonText"),i=this._get(e,"buttonImage"),this._get(e,"buttonImageOnly")?e.trigger=V("<img>").addClass(this._triggerClass).attr({src:i,alt:s,title:s}):(e.trigger=V("<button type='button'>").addClass(this._triggerClass),i?e.trigger.html(V("<img>").attr({src:i,alt:s,title:s})):e.trigger.text(s)),t[n?"before":"after"](e.trigger),e.trigger.on("click",function(){return V.datepicker._datepickerShowing&&V.datepicker._lastInput===t[0]?V.datepicker._hideDatepicker():(V.datepicker._datepickerShowing&&V.datepicker._lastInput!==t[0]&&V.datepicker._hideDatepicker(),V.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,i,s,n,o,a;this._get(t,"autoSize")&&!t.inline&&(o=new Date(2009,11,20),(a=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(n=s=i=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length))},_inlineDatepicker:function(t,e){var i=V(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),V.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o,a=this._dialogInst;return a||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=V("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),V("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},V.data(this._dialogInput[0],"datepicker",a)),at(a.settings,s||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+e,s/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),V.blockUI&&V.blockUI(this.dpDiv),V.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(t){var e,i=V(t),s=V.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),V.removeData(t,"datepicker"),"input"===e?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty(),it===s&&(it=null,this._curInst=null))},_enableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return V.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s,n,o=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?V.extend({},V.datepicker._defaults):o?"all"===e?V.extend({},o.settings):this._get(o,e):null;s=e||{},"string"==typeof e&&((s={})[e]=i),o&&(this._curInst===o&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),e=this._getMinMaxDate(o,"min"),i=this._getMinMaxDate(o,"max"),at(o.settings,s),null!==e&&void 0!==s.dateFormat&&void 0===s.minDate&&(o.settings.minDate=this._formatDate(o,e)),null!==i&&void 0!==s.dateFormat&&void 0===s.maxDate&&(o.settings.maxDate=this._formatDate(o,i)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(V(t),o),this._autoSize(o),this._setDate(o,n),this._updateAlternate(o),this._updateDatepicker(o))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,i,s=V.datepicker._getInst(t.target),n=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,V.datepicker._datepickerShowing)switch(t.keyCode){case 9:V.datepicker._hideDatepicker(),n=!1;break;case 13:return(i=V("td."+V.datepicker._dayOverClass+":not(."+V.datepicker._currentClass+")",s.dpDiv))[0]&&V.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),(e=V.datepicker._get(s,"onSelect"))?(i=V.datepicker._formatDate(s),e.apply(s.input?s.input[0]:null,[i,s])):V.datepicker._hideDatepicker(),!1;case 27:V.datepicker._hideDatepicker();break;case 33:V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 34:V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&V.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&V.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36===t.keyCode&&t.ctrlKey?V.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i=V.datepicker._getInst(t.target);if(V.datepicker._get(i,"constrainInput"))return e=V.datepicker._possibleChars(V.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){t=V.datepicker._getInst(t.target);if(t.input.val()!==t.lastVal)try{V.datepicker.parseDate(V.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,V.datepicker._getFormatConfig(t))&&(V.datepicker._setDateFromField(t),V.datepicker._updateAlternate(t),V.datepicker._updateDatepicker(t))}catch(t){}return!0},_showDatepicker:function(t){var e,i,s,n;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=V("input",t.parentNode)[0]),V.datepicker._isDisabledDatepicker(t)||V.datepicker._lastInput===t||(n=V.datepicker._getInst(t),V.datepicker._curInst&&V.datepicker._curInst!==n&&(V.datepicker._curInst.dpDiv.stop(!0,!0),n&&V.datepicker._datepickerShowing&&V.datepicker._hideDatepicker(V.datepicker._curInst.input[0])),!1!==(i=(s=V.datepicker._get(n,"beforeShow"))?s.apply(t,[t,n]):{})&&(at(n.settings,i),n.lastVal=null,V.datepicker._lastInput=t,V.datepicker._setDateFromField(n),V.datepicker._inDialog&&(t.value=""),V.datepicker._pos||(V.datepicker._pos=V.datepicker._findPos(t),V.datepicker._pos[1]+=t.offsetHeight),e=!1,V(t).parents().each(function(){return!(e|="fixed"===V(this).css("position"))}),s={left:V.datepicker._pos[0],top:V.datepicker._pos[1]},V.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),V.datepicker._updateDatepicker(n),s=V.datepicker._checkOffset(n,s,e),n.dpDiv.css({position:V.datepicker._inDialog&&V.blockUI?"static":e?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(i=V.datepicker._get(n,"showAnim"),s=V.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(V(t))+1),V.datepicker._datepickerShowing=!0,V.effects&&V.effects.effect[i]?n.dpDiv.show(i,V.datepicker._get(n,"showOptions"),s):n.dpDiv[i||"show"](i?s:null),V.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),V.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,(it=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),s=i[1],n=t.dpDiv.find("."+this._dayOverClass+" a"),o=V.datepicker._get(t,"onUpdateDatepicker");0<n.length&&ot.apply(n.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===V.datepicker._curInst&&V.datepicker._datepickerShowing&&V.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),e=t.yearshtml=null},0)),o&&o.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:V(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:V(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left===t.input.offset().left?V(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?V(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&s<r?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>l&&n<l?Math.abs(n+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||V.expr.pseudos.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=V(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,s=this._curInst;!s||t&&s!==V.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(s,"showAnim"),i=this._get(s,"duration"),t=function(){V.datepicker._tidyDialog(s)},V.effects&&(V.effects.effect[e]||V.effects[e])?s.dpDiv.hide(e,V.datepicker._get(s,"showOptions"),i,t):s.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,t),e||t(),this._datepickerShowing=!1,(t=this._get(s,"onClose"))&&t.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),V.blockUI&&(V.unblockUI(),V("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var e;V.datepicker._curInst&&(e=V(t.target),t=V.datepicker._getInst(e[0]),(e[0].id===V.datepicker._mainDivId||0!==e.parents("#"+V.datepicker._mainDivId).length||e.hasClass(V.datepicker.markerClassName)||e.closest("."+V.datepicker._triggerClass).length||!V.datepicker._datepickerShowing||V.datepicker._inDialog&&V.blockUI)&&(!e.hasClass(V.datepicker.markerClassName)||V.datepicker._curInst===t)||V.datepicker._hideDatepicker())},_adjustDate:function(t,e,i){var s=V(t),t=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(t,e,i),this._updateDatepicker(t))},_gotoToday:function(t){var e=V(t),i=this._getInst(e[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var s=V(t),t=this._getInst(s[0]);t["selected"+("M"===i?"Month":"Year")]=t["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n=V(t);V(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||((n=this._getInst(n[0])).selectedDay=n.currentDay=parseInt(V("a",s).attr("data-date")),n.selectedMonth=n.currentMonth=e,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){t=V(t);this._selectDate(t,"")},_selectDate:function(t,e){var i=V(t),t=this._getInst(i[0]);e=null!=e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(i=this._get(t,"onSelect"))?i.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,i,s=this._get(t,"altField");s&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),t=this.formatDate(e,i,this._getFormatConfig(t)),V(document).find(s).val(t))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,n,t){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;for(var i,s,o,a=0,r=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10),l=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,h=(t?t.dayNames:null)||this._defaults.dayNames,c=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,u=(t?t.monthNames:null)||this._defaults.monthNames,d=-1,p=-1,f=-1,g=-1,m=!1,_=function(t){t=w+1<e.length&&e.charAt(w+1)===t;return t&&w++,t},v=function(t){var e=_(t),e="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,e=new RegExp("^\\d{"+("y"===t?e:1)+","+e+"}"),e=n.substring(a).match(e);if(!e)throw"Missing number at position "+a;return a+=e[0].length,parseInt(e[0],10)},b=function(t,e,i){var s=-1,e=V.map(_(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(V.each(e,function(t,e){var i=e[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase())return s=e[0],a+=i.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+a},y=function(){if(n.charAt(a)!==e.charAt(w))throw"Unexpected literal at position "+a;a++},w=0;w<e.length;w++)if(m)"'"!==e.charAt(w)||_("'")?y():m=!1;else switch(e.charAt(w)){case"d":f=v("d");break;case"D":b("D",l,h);break;case"o":g=v("o");break;case"m":p=v("m");break;case"M":p=b("M",c,u);break;case"y":d=v("y");break;case"@":d=(o=new Date(v("@"))).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"!":d=(o=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"'":_("'")?y():m=!0;break;default:y()}if(a<n.length&&(s=n.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===d?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=r?0:-100)),-1<g)for(p=1,f=g;;){if(f<=(i=this._getDaysInMonth(d,p-1)))break;p++,f-=i}if((o=this._daylightSavingAdjust(new Date(d,p-1,f))).getFullYear()!==d||o.getMonth()+1!==p||o.getDate()!==f)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";function s(t,e,i){var s=""+e;if(c(t))for(;s.length<i;)s="0"+s;return s}function n(t,e,i,s){return(c(t)?s:i)[e]}var o,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,h=(i?i.monthNames:null)||this._defaults.monthNames,c=function(t){t=o+1<e.length&&e.charAt(o+1)===t;return t&&o++,t},u="",d=!1;if(t)for(o=0;o<e.length;o++)if(d)"'"!==e.charAt(o)||c("'")?u+=e.charAt(o):d=!1;else switch(e.charAt(o)){case"d":u+=s("d",t.getDate(),2);break;case"D":u+=n("D",t.getDay(),a,r);break;case"o":u+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=s("m",t.getMonth()+1,2);break;case"M":u+=n("M",t.getMonth(),l,h);break;case"y":u+=c("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":d=!0;break;default:u+=e.charAt(o)}return u},_possibleChars:function(e){for(var t="",i=!1,s=function(t){t=n+1<e.length&&e.charAt(n+1)===t;return t&&n++,t},n=0;n<e.length;n++)if(i)"'"!==e.charAt(n)||s("'")?t+=e.charAt(n):i=!1;else switch(e.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(n)}return t},_get:function(t,e){return(void 0!==t.settings[e]?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(r,t,e){var i,s,t=null==t||""===t?e:"string"==typeof t?function(t){try{return V.datepicker.parseDate(V.datepicker._get(r,"dateFormat"),t,V.datepicker._getFormatConfig(r))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?V.datepicker._getDate(r):null)||new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s))}a=o.exec(t)}return new Date(i,s,n)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(s=new Date).setDate(s.getDate()+i),s):new Date(t.getTime());return(t=t&&"Invalid Date"===t.toString()?e:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=e.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=e.getMonth(),t.drawYear=t.selectedYear=t.currentYear=e.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){V.datepicker._adjustDate(i,-e,"M")},next:function(){V.datepicker._adjustDate(i,+e,"M")},hide:function(){V.datepicker._hideDatepicker()},today:function(){V.datepicker._gotoToday(i)},selectDay:function(){return V.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return V.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return V.datepicker._selectMonthYear(i,this,"Y"),!1}};V(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,x,k,C,D,I,T,P,M,S,H,z,A=new Date,O=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth(),A.getDate())),N=this._get(t,"isRTL"),E=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),F=this._get(t,"navigationAsDateFormat"),L=this._getNumberOfMonths(t),R=this._get(t,"showCurrentAtPos"),A=this._get(t,"stepMonths"),Y=1!==L[0]||1!==L[1],B=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),j=this._getMinMaxDate(t,"min"),q=this._getMinMaxDate(t,"max"),K=t.drawMonth-R,U=t.drawYear;if(K<0&&(K+=12,U--),q)for(e=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth()-L[0]*L[1]+1,q.getDate())),e=j&&e<j?j:e;this._daylightSavingAdjust(new Date(U,K,1))>e;)--K<0&&(K=11,U--);for(t.drawMonth=K,t.drawYear=U,R=this._get(t,"prevText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K-A,1)),this._getFormatConfig(t)):R,i=this._canAdjustMonth(t,-1,U,K)?V("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML,R=this._get(t,"nextText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K+A,1)),this._getFormatConfig(t)):R,s=this._canAdjustMonth(t,1,U,K)?V("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:R}).append(V("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML,A=this._get(t,"currentText"),W=this._get(t,"gotoCurrent")&&t.currentDay?B:O,A=F?this.formatDate(A,W,this._getFormatConfig(t)):A,R="",t.inline||(R=V("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),F="",E&&(F=V("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(N?R:"").append(this._isInRange(t,W)?V("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(A):"").append(N?"":R)[0].outerHTML),n=parseInt(this._get(t,"firstDay"),10),n=isNaN(n)?0:n,o=this._get(t,"showWeek"),a=this._get(t,"dayNames"),r=this._get(t,"dayNamesMin"),l=this._get(t,"monthNames"),h=this._get(t,"monthNamesShort"),c=this._get(t,"beforeShowDay"),u=this._get(t,"showOtherMonths"),d=this._get(t,"selectOtherMonths"),p=this._getDefaultDate(t),f="",m=0;m<L[0];m++){for(_="",this.maxRows=4,v=0;v<L[1];v++){if(b=this._daylightSavingAdjust(new Date(U,K,t.selectedDay)),y=" ui-corner-all",w="",Y){if(w+="<div class='ui-datepicker-group",1<L[1])switch(v){case 0:w+=" ui-datepicker-group-first",y=" ui-corner-"+(N?"right":"left");break;case L[1]-1:w+=" ui-datepicker-group-last",y=" ui-corner-"+(N?"left":"right");break;default:w+=" ui-datepicker-group-middle",y=""}w+="'>"}for(w+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+y+"'>"+(/all|left/.test(y)&&0===m?N?s:i:"")+(/all|right/.test(y)&&0===m?N?i:s:"")+this._generateMonthYearHeader(t,K,U,j,q,0<m||0<v,l,h)+"</div><table class='ui-datepicker-calendar'><thead><tr>",x=o?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",g=0;g<7;g++)x+="<th scope='col'"+(5<=(g+n+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+a[k=(g+n)%7]+"'>"+r[k]+"</span></th>";for(w+=x+"</tr></thead><tbody>",D=this._getDaysInMonth(U,K),U===t.selectedYear&&K===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),C=(this._getFirstDayOfMonth(U,K)-n+7)%7,D=Math.ceil((C+D)/7),I=Y&&this.maxRows>D?this.maxRows:D,this.maxRows=I,T=this._daylightSavingAdjust(new Date(U,K,1-C)),P=0;P<I;P++){for(w+="<tr>",M=o?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(T)+"</td>":"",g=0;g<7;g++)S=c?c.apply(t.input?t.input[0]:null,[T]):[!0,""],z=(H=T.getMonth()!==K)&&!d||!S[0]||j&&T<j||q&&q<T,M+="<td class='"+(5<=(g+n+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(T.getTime()===b.getTime()&&K===t.selectedMonth&&t._keyEvent||p.getTime()===T.getTime()&&p.getTime()===b.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!u?"":" "+S[1]+(T.getTime()===B.getTime()?" "+this._currentClass:"")+(T.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(H&&!u||!S[2]?"":" title='"+S[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+T.getMonth()+"' data-year='"+T.getFullYear()+"'")+">"+(H&&!u?"&#xa0;":z?"<span class='ui-state-default'>"+T.getDate()+"</span>":"<a class='ui-state-default"+(T.getTime()===O.getTime()?" ui-state-highlight":"")+(T.getTime()===B.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#' aria-current='"+(T.getTime()===B.getTime()?"true":"false")+"' data-date='"+T.getDate()+"'>"+T.getDate()+"</a>")+"</td>",T.setDate(T.getDate()+1),T=this._daylightSavingAdjust(T);w+=M+"</tr>"}11<++K&&(K=0,U++),_+=w+="</tbody></table>"+(Y?"</div>"+(0<L[0]&&v===L[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}f+=_}return f+=F,t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f=this._get(t,"changeMonth"),g=this._get(t,"changeYear"),m=this._get(t,"showMonthAfterYear"),_=this._get(t,"selectMonthLabel"),v=this._get(t,"selectYearLabel"),b="<div class='ui-datepicker-title'>",y="";if(o||!f)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' aria-label='"+_+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=s.getMonth())&&(!h||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(m||(b+=y+(!o&&f&&g?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(a=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),d=(_=function(t){t=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(t)?u:t})(a[0]),p=Math.max(d,_(a[1]||"")),d=s?Math.max(d,s.getFullYear()):d,p=n?Math.min(p,n.getFullYear()):p,t.yearshtml+="<select class='ui-datepicker-year' aria-label='"+v+"' data-handler='selectYear' data-event='change'>";d<=p;d++)t.yearshtml+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),m&&(b+=(!o&&f&&g?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),e=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,e)));t.selectedDay=e.getDate(),t.drawMonth=t.selectedMonth=e.getMonth(),t.drawYear=t.selectedYear=e.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),e=i&&e<i?i:e;return t&&t<e?t:e},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),n=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(t,n)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=null,o=null,a=this._get(t,"yearRange");return a&&(t=a.split(":"),a=(new Date).getFullYear(),n=parseInt(t[0],10),o=parseInt(t[1],10),t[0].match(/[+\-].*/)&&(n+=a),t[1].match(/[+\-].*/)&&(o+=a)),(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())&&(!n||e.getFullYear()>=n)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);e=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),e,this._getFormatConfig(t))}}),V.fn.datepicker=function(t){if(!this.length)return this;V.datepicker.initialized||(V(document).on("mousedown",V.datepicker._checkExternalClick),V.datepicker.initialized=!0),0===V("#"+V.datepicker._mainDivId).length&&V("body").append(V.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this].concat(e)):V.datepicker._attachDatepicker(this,t)})},V.datepicker=new st,V.datepicker.initialized=!1,V.datepicker.uuid=(new Date).getTime(),V.datepicker.version="1.13.1";V.datepicker,V.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var rt=!1;V(document).on("mouseup",function(){rt=!1});V.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===V.data(t.target,e.widgetName+".preventClickEvent"))return V.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!rt){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&V(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===V.data(t.target,this.widgetName+".preventClickEvent")&&V.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),rt=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(V.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&V.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,rt=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),V.ui.plugin={add:function(t,e,i){var s,n=V.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},V.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&V(t).trigger("blur")};V.widget("ui.draggable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<V(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=V(this);return V("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=V.ui.safeActiveElement(this.document[0]);V(t.target).closest(e).length||V.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),V.ui.ddmanager&&(V.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===V(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),V.ui.ddmanager&&!e.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),V.ui.ddmanager&&V.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){e=this._uiHash();if(!1===this._trigger("drag",t,e))return this._mouseUp(new V.Event("mouseup",t)),!1;this.position=e.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return V.ui.ddmanager&&!this.options.dropBehaviour&&(i=V.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?V(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),V.ui.ddmanager&&V.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),V.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new V.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!V(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i="function"==typeof e.helper,t=i?V(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(e=V(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=s.containment:this.containment=[0,0,V(n).width()-this.helperProportions.width-this.margins.left,(V(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[V(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,V(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,V(window).scrollLeft()+V(window).width()-this.helperProportions.width-this.margins.left,V(window).scrollTop()+(V(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,t=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:t?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:t?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s=this.options,n=this._isRootNode(this.scrollParent[0]),o=t.pageX,a=t.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(a=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(a=i[3]+this.offset.click.top)),s.grid&&(t=s.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,a=!i||t-this.offset.click.top>=i[1]||t-this.offset.click.top>i[3]?t:t-this.offset.click.top>=i[1]?t-s.grid[1]:t+s.grid[1],t=s.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,o=!i||t-this.offset.click.left>=i[0]||t-this.offset.click.left>i[2]?t:t-this.offset.click.left>=i[0]?t-s.grid[0]:t+s.grid[0]),"y"===s.axis&&(o=this.originalPageX),"x"===s.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),V.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),V.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),V.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=V.extend({},t,{item:i.element});i.sortables=[],V(i.options.connectToSortable).each(function(){var t=V(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=V.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,V.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){V.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,V.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,t=this!==e&&this._intersectsWith(this.containerCache)&&V.contains(e.element[0],this.element[0])?!1:t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,V.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,V.each(n.sortables,function(){this.refreshPositions()}))})}}),V.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=V("body"),i=i.options;s.css("cursor")&&(i._cursor=s.css("cursor")),s.css("cursor",i.cursor)},stop:function(t,e,i){i=i.options;i._cursor&&V("body").css("cursor",i._cursor)}}),V.ui.plugin.add("draggable","opacity",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("opacity")&&(i._opacity=e.css("opacity")),e.css("opacity",i.opacity)},stop:function(t,e,i){i=i.options;i._opacity&&V(e.helper).css("opacity",i._opacity)}}),V.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=n=o.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-V(a).scrollTop()<s.scrollSensitivity?n=V(a).scrollTop(V(a).scrollTop()-s.scrollSpeed):V(window).height()-(t.pageY-V(a).scrollTop())<s.scrollSensitivity&&(n=V(a).scrollTop(V(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-V(a).scrollLeft()<s.scrollSensitivity?n=V(a).scrollLeft(V(a).scrollLeft()-s.scrollSpeed):V(window).width()-(t.pageX-V(a).scrollLeft())<s.scrollSensitivity&&(n=V(a).scrollLeft(V(a).scrollLeft()+s.scrollSpeed)))),!1!==n&&V.ui.ddmanager&&!s.dropBehaviour&&V.ui.ddmanager.prepareOffsets(i,t)}}),V.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],V(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=V(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){for(var s,n,o,a,r,l,h,c,u,d=i.options,p=d.snapTolerance,f=e.offset.left,g=f+i.helperProportions.width,m=e.offset.top,_=m+i.helperProportions.height,v=i.snapElements.length-1;0<=v;v--)l=(r=i.snapElements[v].left-i.margins.left)+i.snapElements[v].width,c=(h=i.snapElements[v].top-i.margins.top)+i.snapElements[v].height,g<r-p||l+p<f||_<h-p||c+p<m||!V.contains(i.snapElements[v].item.ownerDocument,i.snapElements[v].item)?(i.snapElements[v].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=!1):("inner"!==d.snapMode&&(s=Math.abs(h-_)<=p,n=Math.abs(c-m)<=p,o=Math.abs(r-g)<=p,a=Math.abs(l-f)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),u=s||n||o||a,"outer"!==d.snapMode&&(s=Math.abs(h-m)<=p,n=Math.abs(c-_)<=p,o=Math.abs(r-f)<=p,a=Math.abs(l-g)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[v].snapping&&(s||n||o||a||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=s||n||o||a||u)}}),V.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,i=i.options,i=V.makeArray(V(i.stack)).sort(function(t,e){return(parseInt(V(t).css("zIndex"),10)||0)-(parseInt(V(e).css("zIndex"),10)||0)});i.length&&(s=parseInt(V(i[0]).css("zIndex"),10)||0,V(i).each(function(t){V(this).css("zIndex",s+t)}),this.css("zIndex",s+i.length))}}),V.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("zIndex")&&(i._zIndex=e.css("zIndex")),e.css("zIndex",i.zIndex)},stop:function(t,e,i){i=i.options;i._zIndex&&V(e.helper).css("zIndex",i._zIndex)}});V.ui.draggable;V.widget("ui.resizable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===V(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;if(0<t[i])return!0;try{t[i]=1,e=0<t[i],t[i]=0}catch(t){}return e},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),V.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(V("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&V(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function t(t){V(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var t,e,i,s,n,o=this.options,a=this;if(this.handles=o.handles||(V(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=V(),this._addedHandles=V(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s="ui-resizable-"+(t=String.prototype.trim.call(i[e])),n=V("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(t){var e,i,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=V(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=V(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=V(this.handles[e])[0])!==t.target&&!V.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=V(s.containment).scrollLeft()||0,i+=V(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=V(".ui-resizable-"+this.axis).css("cursor"),V("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.originalMousePosition,i=this.axis,s=t.pageX-e.left||0,e=t.pageY-e.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(e=i.apply(this,[t,s,e]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),V.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n=this.options,o=this;return this._helper&&(s=(e=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:o.sizeDiff.height,i=e?0:o.sizeDiff.width,e={width:o.helper.width()-i,height:o.helper.height()-s},i=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null,s=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,n.animate||this.element.css(V.extend(e,{top:s,left:i})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!n.animate&&this._proportionallyResize()),V("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s=this.options,n={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,i=n.minWidth/this.aspectRatio,s=n.maxHeight*this.aspectRatio,t=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),i>n.minHeight&&(n.minHeight=i),s<n.maxWidth&&(n.maxWidth=s),t<n.maxHeight&&(n.maxHeight=t)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&i&&(t.top=l-e.minHeight),n&&i&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||V("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){V.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),V.ui.plugin.add("resizable","animate",{stop:function(e){var i=V(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),o=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,n={width:i.size.width-a,height:i.size.height-o},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(V.extend(n,o&&a?{top:o,left:a}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&V(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),V.ui.plugin.add("resizable","containment",{start:function(){var i,s,n=V(this).resizable("instance"),t=n.options,e=n.element,o=t.containment,a=o instanceof V?o.get(0):/parent/.test(o)?e.parent().get(0):o;a&&(n.containerElement=V(a),/document/.test(o)||o===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:V(document),left:0,top:0,width:V(document).width(),height:V(document).height()||document.body.parentNode.scrollHeight}):(i=V(a),s=[],V(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=n._num(i.css("padding"+e))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=n.containerOffset,e=n.containerSize.height,o=n.containerSize.width,o=n._hasScroll(a,"left")?a.scrollWidth:o,e=n._hasScroll(a)?a.scrollHeight:e,n.parentData={element:a,left:t.left,top:t.top,width:o,height:e}))},resize:function(t){var e=V(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.position,o=e._aspectRatio||t.shiftKey,a={top:0,left:0},r=e.containerElement,t=!0;r[0]!==document&&/static/.test(r.css("position"))&&(a=s),n.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-a.left),o&&(e.size.height=e.size.width/e.aspectRatio,t=!1),e.position.left=i.helper?s.left:0),n.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),o&&(e.size.width=e.size.height*e.aspectRatio,t=!1),e.position.top=e._helper?s.top:0),i=e.containerElement.get(0)===e.element.parent().get(0),n=/relative|absolute/.test(e.containerElement.css("position")),i&&n?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top),n=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-a.left:e.offset.left-s.left)),s=Math.abs(e.sizeDiff.height+(e._helper?e.offset.top-a.top:e.offset.top-s.top)),n+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-n,o&&(e.size.height=e.size.width/e.aspectRatio,t=!1)),s+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-s,o&&(e.size.width=e.size.height*e.aspectRatio,t=!1)),t||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var t=V(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,o=V(t.helper),a=o.offset(),r=o.outerWidth()-t.sizeDiff.width,o=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o})}}),V.ui.plugin.add("resizable","alsoResize",{start:function(){var t=V(this).resizable("instance").options;V(t.alsoResize).each(function(){var t=V(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=V(this).resizable("instance"),s=e.options,n=e.originalSize,o=e.originalPosition,a={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};V(s.alsoResize).each(function(){var t=V(this),s=V(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];V.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){V(this).removeData("ui-resizable-alsoresize")}}),V.ui.plugin.add("resizable","ghost",{start:function(){var t=V(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==V.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=V(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=V(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),V.ui.plugin.add("resizable","grid",{resize:function(){var t,e=V(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,c=Math.round((s.width-n.width)/l)*l,u=Math.round((s.height-n.height)/h)*h,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,s=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=l),s&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):((p-h<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-h?(e.size.height=p,e.position.top=o.top-u):(p=h-t.height,e.size.height=p,e.position.top=o.top+n.height-p),0<d-l?(e.size.width=d,e.position.left=o.left-c):(d=l-t.width,e.size.width=d,e.position.left=o.left+n.width-d))}});V.ui.resizable;V.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=V(this).css(t).offset().top;e<0&&V(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&V.fn.draggable&&this._makeDraggable(),this.options.resizable&&V.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?V(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:V.noop,enable:V.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||V.ui.safeBlur(V.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+V(this).css("z-index")}).get(),s=Math.max.apply(null,s);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=V(V.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=!(t=!(t=!(t=!(t=t||this.element.find("[autofocus]")).length?this.element.find(":tabbable"):t).length?this.uiDialogButtonPane.find(":tabbable"):t).length?this.uiDialogTitlebarClose.filter(":tabbable"):t).length?this.uiDialog:t).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=V.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||V.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(t){t.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=V("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===V.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var e,i,s;t.keyCode!==V.ui.keyCode.TAB||t.isDefaultPrevented()||(e=this.uiDialog.find(":tabbable"),i=e.first(),s=e.last(),t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault()))},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=V("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){V(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=V("<button type='button'></button>").button({label:V("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=V("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=V("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=V("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var s=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),V.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(V.each(t,function(t,e){var i;e=V.extend({type:"button"},e="function"==typeof e?{click:e,text:t}:e),i=e.click,t={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,V("<button></button>",e).button(t).appendTo(s.uiButtonSet).on("click",function(){i.apply(s.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,o=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){n._addClass(V(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",t,a(e))},drag:function(t,e){n._trigger("drag",t,a(e))},stop:function(t,e){var i=e.offset.left-n.document.scrollLeft(),s=e.offset.top-n.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=s?"+":"")+s,of:n.window},n._removeClass(V(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var n=this,o=this.options,t=o.resizable,e=this.uiDialog.css("position"),t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:t,start:function(t,e){n._addClass(V(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",t,a(e))},resize:function(t,e){n._trigger("resize",t,a(e))},stop:function(t,e){var i=n.uiDialog.offset(),s=i.left-n.document.scrollLeft(),i=i.top-n.document.scrollTop();o.height=n.uiDialog.height(),o.width=n.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=s?"+":"")+s+" top"+(0<=i?"+":"")+i,of:n.window},n._removeClass(V(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=V(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=V.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};V.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:V("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=s.is(":data(ui-draggable)"))&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=s.is(":data(ui-resizable)"))&&!e&&s.resizable("destroy"),i&&"string"==typeof e&&s.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=V(this);return V("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!V(t.target).closest(".ui-dialog").length||!!V(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,s;this.options.modal&&(i=V.fn.jquery.substring(0,4),s=!0,this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(t){var e;s||((e=this._trackingInstances()[0])._allowInteraction(t)||(t.preventDefault(),e._focusTabbable(),"3.4."!==i&&"3.5."!==i||e._delay(e._restoreTabbableFocus)))}.bind(this)),this.overlay=V("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var t;this.options.modal&&this.overlay&&((t=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",t):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==V.uiBackCompat&&V.widget("ui.dialog",V.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});V.ui.dialog;function lt(t,e,i){return e<=t&&t<e+i}V.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){V.ui.ddmanager.droppables[t]=V.ui.ddmanager.droppables[t]||[],V.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=V.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var i;"accept"===t?this.accept="function"==typeof e?e:function(t){return t.is(e)}:"scope"===t&&(i=V.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=V.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=V.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||V.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=V(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&V.ui.intersect(i,V.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),V.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,r=o+t.helperProportions.height,l=e.offset.left,h=e.offset.top,c=l+e.proportions().width,u=h+e.proportions().height;switch(i){case"fit":return l<=n&&a<=c&&h<=o&&r<=u;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&h<o+t.helperProportions.height/2&&r-t.helperProportions.height/2<u;case"pointer":return lt(s.pageY,h,e.proportions().height)&&lt(s.pageX,l,e.proportions().width);case"touch":return(h<=o&&o<=u||h<=r&&r<=u||o<h&&u<r)&&(l<=n&&n<=c||l<=a&&a<=c||n<l&&c<a);default:return!1}},!(V.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=V.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return V.each((V.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&V.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)})},drag:function(n,o){n.options.refreshPositions&&V.ui.ddmanager.prepareOffsets(n,o),V.each(V.ui.ddmanager.droppables[n.options.scope]||[],function(){var t,e,i,s;this.options.disabled||this.greedyChild||!this.visible||(s=!(i=V.ui.intersect(n,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return V(this).droppable("instance").options.scope===e})).length&&((t=V(i[0]).droppable("instance")).greedyChild="isover"===s)),t&&"isover"===s&&(t.isover=!1,t.isout=!0,t._out.call(t,o)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,o),t&&"isout"===s&&(t.isout=!1,t.isover=!0,t._over.call(t,o)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)}})!==V.uiBackCompat&&V.widget("ui.droppable",V.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});V.ui.droppable,V.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=V("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=V("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),V.widget("ui.selectable",V.ui.mouse,{version:"1.13.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=V(i.element[0]).offset(),i.selectees=V(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=V(this),e=t.offset(),e={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};V.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=V("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=V(this.element[0]).offset(),this.options.disabled||(this.selectees=V(t.filter,this.element[0]),this._trigger("start",i),V(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=V.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),V(i.target).parents().addBack().each(function(){var t,e=V.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,o=this.options,a=this.opos[0],r=this.opos[1],l=s.pageX,h=s.pageY;return l<a&&(t=l,l=a,a=t),h<r&&(t=h,h=r,r=t),this.helper.css({left:a,top:r,width:l-a,height:h-r}),this.selectees.each(function(){var t=V.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===o.tolerance?e=!(i.left>l||i.right<a||i.top>h||i.bottom<r):"fit"===o.tolerance&&(e=i.left>a&&i.right<l&&i.top>r&&i.bottom<h),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,V(".ui-unselecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),V(".ui-selecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),V.widget("ui.selectmenu",[V.ui.formResetMixin,{version:"1.13.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=V()},_drawButton:function(){var t,e=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.trigger("focus"),t.preventDefault()}}),this.element.hide(),this.button=V("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=V("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=V("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=V("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){e=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&e.index!==i.focusIndex&&(i._trigger("focus",t,{item:e}),i.isOpen||i._select(e,t)),i.focusIndex=e.index,i.button.attr("aria-activedescendant",i.menuItems.eq(e.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(V.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=V("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(s,t){var n=this,o="";V.each(t,function(t,e){var i;e.optgroup!==o&&(i=V("<li>",{text:e.optgroup}),n._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(s),o=e.optgroup),n._renderItemData(s,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=V("<li>"),s=V("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(s,e.label),i.append(s).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),s+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(V(t.target).closest(".ui-selectmenu-menu, #"+V.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case V.ui.keyCode.TAB:case V.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case V.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case V.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case V.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case V.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case V.ui.keyCode.LEFT:this._move("prev",t);break;case V.ui.keyCode.RIGHT:this._move("next",t);break;case V.ui.keyCode.HOME:case V.ui.keyCode.PAGE_UP:this._move("first",t);break;case V.ui.keyCode.END:case V.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){t=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(t,e){var i;"icons"===t&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var i=this,s=[];t.each(function(t,e){e.hidden||s.push(i._parseOption(V(e),t))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),V.widget("ui.slider",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e=this.options,i=this.element.find(".ui-slider-handle"),s=[],n=e.values&&e.values.length||1;for(i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push("<span tabindex='0'></span>");this.handles=i.add(V(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){V(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=V("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,o,e,a,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(a),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-r.values(t));(e<s||s===e&&(t===r._lastChangedValue||r.values(t)===l.min))&&(s=e,n=V(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),e=n.offset(),a=!V(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-e.left-n.width()/2,top:t.pageY-e.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,t="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=t/e;return(t=1<t?1:t)<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),e=this._valueMin()+t*e,this._trimAlignValue(e)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,s,n;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!Array.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,s=t,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(s[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,e){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=s-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i;if(arguments.length)return t=this.options.values[t],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;i<e.length;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,t=t-i;return 2*Math.abs(i)>=e&&(t+=0<i?e:-e),parseFloat(t.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,s,n,o=this.options.range,a=this.options,r=this,l=!this._animateOff&&a.animate,h={};this._hasMultipleValues()?this.handles.each(function(t){i=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,h["horizontal"===r.orientation?"left":"bottom"]=i+"%",V(this).stop(1,1)[l?"animate":"css"](h,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===t&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===t&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(t=this.value(),s=this._valueMin(),n=this._valueMax(),i=n!==s?(t-s)/(n-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](h,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,i,s,n=V(t.target).data("ui-slider-handle-index");switch(t.keyCode){case V.ui.keyCode.HOME:case V.ui.keyCode.END:case V.ui.keyCode.PAGE_UP:case V.ui.keyCode.PAGE_DOWN:case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(V(t.target),null,"ui-state-active"),!1===this._start(t,n)))return}switch(s=this.options.step,e=i=this._hasMultipleValues()?this.values(n):this.value(),t.keyCode){case V.ui.keyCode.HOME:i=this._valueMin();break;case V.ui.keyCode.END:i=this._valueMax();break;case V.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+s);break;case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-s)}this._slide(t,n,i)},keyup:function(t){var e=V(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(V(t.target),null,"ui-state-active"))}}}),V.widget("ui.sortable",V.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),V.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),V(t.target).parents().each(function(){if(V.data(this,n.widgetName+"-item")===n)return i=V(this),!1}),!!(i=V.data(t.target,n.widgetName+"-item")===n?V(t.target):i)&&(!(this.options.handle&&!e&&(V(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var s,n,o=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=V("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},V.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),V.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),this.storedStylesheet=V("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return V.ui.ddmanager&&(V.ui.ddmanager.current=this),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(t){var e=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),i},_mouseDrag:function(t){var e,i,s,n,o=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===s||V.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&V.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var i,s,n,o;if(t)return V.ui.ddmanager&&!this.options.dropBehaviour&&V.ui.ddmanager.drop(this,t),this.options.revert?(s=(i=this).placeholder.offset(),o={},(n=this.options.axis)&&"x"!==n||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,V(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp(new V.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),V.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?V(this.domPosition.prev).after(this.currentItem):V(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},V(t).each(function(){var t=(V(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(V(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||r<s+h&&s+h<l,c="y"===this.options.axis||o<e+c&&e+c<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h&&c:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),t="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!e||!t)&&(e=this.dragDirection.vertical,t=this.dragDirection.horizontal,this.floating?"right"===t||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this.dragDirection.vertical,t=this.dragDirection.horizontal;return this.floating&&t?"right"===t&&i||"left"===t&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,s,n,o=[],a=[],r=this._connectWith();if(r&&t)for(e=r.length-1;0<=e;e--)for(i=(s=V(r[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&a.push(["function"==typeof n.options.items?n.options.items.call(n.element):V(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);function l(){o.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):V(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=a.length-1;0<=e;e--)a[e][0].each(l);return V(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=V.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,o,a,r,l,h=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):V(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(e=u.length-1;0<=e;e--)for(i=(s=V(u[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(c.push(["function"==typeof n.options.items?n.options.items.call(n.element[0],t,{item:this.currentItem}):V(n.options.items,n.element),n]),this.containers.push(n));for(e=c.length-1;0<=e;e--)for(o=c[e][1],l=(a=c[e][i=0]).length;i<l;i++)(r=V(a[i])).data(this.widgetName+"-item",o),h.push({item:r,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){for(var e,i,s=this.items.length-1;0<=s;s--)e=this.items[s],this.currentContainer&&e.instance!==this.currentContainer&&e.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?V(this.options.toleranceElement,e.item):e.item,t||(e.width=i.outerWidth(),e.height=i.outerHeight()),i=i.offset(),e.left=i.left,e.top=i.top)},refreshPositions:function(t){var e,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)i=this.containers[e].element.offset(),this.containers[e].containerCache.left=i.left,this.containers[e].containerCache.top=i.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(s=o.placeholder,n=i.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var t=V("<"+n+">",i.document[0]);return i._addClass(t,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===n?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),V("<tr>",i.document[0]).appendTo(t)):"tr"===n?i._createTrPlaceholder(i.currentItem,t):"img"===n&&t.attr("src",i.currentItem.attr("src")),s||t.css("visibility","hidden"),t},update:function(t,e){s&&!o.forcePlaceholderSize||(e.height()&&(!o.forcePlaceholderSize||"tbody"!==n&&"tr"!==n)||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=V(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){V("<td>&#160;</td>",i.document[0]).attr("colspan",V(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){for(var e,i,s,n,o,a,r,l,h,c=null,u=null,d=this.containers.length-1;0<=d;d--)V.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?c&&V.contains(this.containers[d].element[0],c.element[0])||(c=this.containers[d],u=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",t,this._uiHash(this)),this.containers[d].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(i=1e4,s=null,n=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",h=l?"pageX":"pageY",e=this.items.length-1;0<=e;e--)V.contains(this.containers[u].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(a=this.items[e].item.offset()[n],r=!1,t[h]-a>this.items[e][o]/2&&(r=!0),Math.abs(t[h]-a)<i&&(i=Math.abs(t[h]-a),s=this.items[e],this.direction=r?"up":"down"));(s||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[u]?(s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(t){var e=this.options,t="function"==typeof e.helper?V(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||this.appendTo[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!e.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!e.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&V.ui.ie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=V(i.containment)[0],e=V(i.containment).offset(),i="hidden"!==V(t).css("overflow"),this.containment=[e.left+(parseInt(V(t).css("borderLeftWidth"),10)||0)+(parseInt(V(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(V(t).css("borderTopWidth"),10)||0)+(parseInt(V(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(V(t).css("borderLeftWidth"),10)||0)-(parseInt(V(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(V(t).css("borderTopWidth"),10)||0)-(parseInt(V(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,t=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():t?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():t?0:s.scrollLeft())*i}},_generatePosition:function(t){var e=this.options,i=t.pageX,s=t.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),e.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/e.grid[1])*e.grid[1],s=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-e.grid[1]:t+e.grid[1],t=this.originalPageX+Math.round((i-this.originalPageX)/e.grid[0])*e.grid[0],i=!this.containment||t-this.offset.click.left>=this.containment[0]&&t-this.offset.click.left<=this.containment[2]?t:t-this.offset.click.left>=this.containment[0]?t-e.grid[0]:t+e.grid[0])),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===V.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||V([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function ht(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}V.widget("ui.spinner",{version:"1.13.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s=this._super(),n=this.element;return V.each(["min","max","step"],function(t,e){var i=n.attr(e);null!=i&&i.length&&(s[e]=i)}),s},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){var i=V.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===V.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===V.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(V(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=V.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?"function"==typeof e?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_adjustValue:function(t){var e=this.options,i=null!==e.min?e.min:0,s=t-i;return t=i+Math.round(s/e.step)*e.step,t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:ht(function(t){this._super(t)}),_parse:function(t){return""===(t="string"==typeof t&&""!==t?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t:t)||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:ht(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:ht(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:ht(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:ht(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());ht(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==V.uiBackCompat&&V.widget("ui.spinner",V.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ct;V.ui.spinner;V.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(ct=/#.*$/,function(t){var e=t.href.replace(ct,""),i=location.href.replace(ct,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return 1<t.hash.length&&e===i}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),Array.isArray(t.disabled)&&(t.disabled=V.uniqueSort(t.disabled.concat(V.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=V(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(t,e){if(V(e).attr("aria-controls")===s)return i=t,!1}),null!==(i=null===i?this.tabs.index(this.tabs.filter(".ui-tabs-active")):i)&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),i=!t&&!1===i&&this.anchors.length?0:i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):V()}},_tabKeydown:function(t){var e=V(V.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(e),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:i++;break;case V.ui.keyCode.UP:case V.ui.keyCode.LEFT:s=!1,i--;break;case V.ui.keyCode.END:i=this.anchors.length-1;break;case V.ui.keyCode.HOME:i=0;break;case V.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case V.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===V.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===V.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===V.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==V.inArray(t=(t=i<t?0:t)<0?i:t,this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=V.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!V.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=V()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=V()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){V(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){V(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return V("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=V(),this.anchors.each(function(t,e){var i,s,n,o=V(e).uniqueId().attr("id"),a=V(e).closest("li"),r=a.attr("aria-controls");l._isLocal(e)?(n=(i=e.hash).substring(1),s=l.element.find(l._sanitizeSelector(i))):(n=a.attr("aria-controls")||V({}).uniqueId()[0].id,(s=l.element.find(i="#"+n)).length||(s=l._createPanel(n)).insertAfter(l.panels[t-1]||l.tablist),s.attr("aria-live","polite")),s.length&&(l.panels=l.panels.add(s)),r&&a.data("ui-tabs-aria-controls",r),a.attr({"aria-controls":n,"aria-labelledby":o}),s.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return V("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,i;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;e=this.tabs[i];i++)e=V(e),!0===t||-1!==V.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=V(this).outerHeight(!0)}),this.panels.each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,V(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget).closest("li"),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():this._getPanelForTab(s),r=i.length?this._getPanelForTab(i):V(),i={oldTab:i,oldPanel:r,newTab:o?V():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!e.collapsible||!1===this._trigger("beforeActivate",t,i)||(e.active=!o&&this.tabs.index(s),this.active=n?V():s,this.xhr&&this.xhr.abort(),r.length||a.length||V.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,i))},_toggle:function(t,e){var i=this,s=e.newPanel,n=e.oldPanel;function o(){i.running=!1,i._trigger("activate",t,e)}function a(){i._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&i.options.show?i._show(s,i.options.show,o):(s.show(),o())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){i._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),a()),n.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?e.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===V(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var t=this._findActive(t);t[0]!==this.active[0]&&(t=(t=!t.length?this.active:t).find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return!1===t?V():this.tabs.eq(t)},_getIndex:function(t){return t="string"==typeof t?this.anchors.index(this.anchors.filter("[href$='"+V.escapeSelector(t)+"']")):t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){V.data(this,"ui-tabs-destroy")?V(this).remove():V(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=V(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),Array.isArray(t)?V.map(t,function(t){return t!==i?t:null}):V.map(this.tabs,function(t,e){return e!==i?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==V.inArray(t,e))return;e=Array.isArray(e)?V.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,s){t=this._getIndex(t);function n(t,e){"abort"===e&&o.panels.stop(!1,!0),o._removeClass(i,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr}var o=this,i=this.tabs.eq(t),t=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),r={tab:i,panel:a};this._isLocal(t[0])||(this.xhr=V.ajax(this._ajaxSettings(t,s,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,i){setTimeout(function(){a.html(t),o._trigger("load",s,r),n(i,e)},1)}).fail(function(t,e){setTimeout(function(){n(t,e)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return n._trigger("beforeLoad",i,V.extend({jqXHR:t,ajaxSettings:e},s))}}},_getPanelForTab:function(t){t=V(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==V.uiBackCompat&&V.widget("ui.tabs",V.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});V.ui.tabs;V.widget("ui.tooltip",{version:"1.13.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=V(this).attr("title");return V("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),e=V.inArray(e,i);-1!==e&&i.splice(e,1),t.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=V("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=V([])},_setOption:function(t,e){var i=this;this._super(t,e),"content"===t&&V.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur");i.target=i.currentTarget=e.element[0],s.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=V(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=V(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=V([])},open:function(t){var i=this,e=V(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=V(this);e.data("ui-tooltip-open")&&((t=V.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,i){var t=this.options.content,s=this,n=i?i.type:null;if("string"==typeof t||t.nodeType||t.jquery)return this._open(i,e,t);(t=t.call(e[0],function(t){s._delay(function(){e.data("ui-tooltip-open")&&(i&&(i.type=n),this._open(i,e,t))})}))&&this._open(i,e,t)},_open:function(t,e,i){var s,n,o,a=V.extend({},this.options.position);function r(t){a.of=t,n.is(":hidden")||n.position(a)}i&&((s=this._find(e))?s.tooltip.find(".ui-tooltip-content").html(i):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),s=this._tooltip(e),n=s.tooltip,this._addDescribedBy(e,n.attr("id")),n.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=V("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):n.position(V.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){n.is(":visible")&&(r(a.of),clearInterval(o))},13)),this._trigger("open",t,{tooltip:n})))},_registerCloseHandlers:function(t,e){var i={keyup:function(t){t.keyCode===V.ui.keyCode.ESCAPE&&((t=V.Event(t)).currentTarget=e[0],this.close(t,!0))}};e[0]!==this.element[0]&&(i.remove=function(){var t=this._find(e);t&&this._removeTooltip(t.tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,e,i)},close:function(t){var e,i=this,s=V(t?t.currentTarget:this.element),n=this._find(s);n?(e=n.tooltip,n.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),n.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){i._removeTooltip(V(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&V.each(this.parents,function(t,e){V(e.element).attr("title",e.title),delete i.parents[t]}),n.closing=!0,this._trigger("close",t,{tooltip:e}),n.hiding||(n.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(t){var e=V("<div>").attr("role","tooltip"),i=V("<div>").appendTo(e),s=e.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[s]={element:t,tooltip:e}},_find:function(t){t=t.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(t){clearInterval(this.delayedShow),t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){t=t.closest(".ui-front, dialog");return t=!t.length?this.document[0].body:t},_destroy:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur"),e=e.element;i.target=i.currentTarget=e[0],s.close(i,!0),V("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==V.uiBackCompat&&V.widget("ui.tooltip",V.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});V.ui.tooltip});
/*! jQuery UI context menu plugin - v1.18.1 - 2017-08-28 |  https://github.com/mar10/jquery-ui-contextmenu |  Copyright (c) 2013 -2017 Martin Wendt; Licensed MIT */

!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widgets/menu"],a):a(jQuery)}(function(a){"use strict";var b="onselectstart"in document.createElement("div"),c=a.ui.menu.version.match(/^(\d)\.(\d+)/),d={major:parseInt(c[1],10),minor:parseInt(c[2],10)},e=d.major<2&&d.minor<=10,f=d.major<2&&d.minor<=11;a.widget("moogle.contextmenu",{version:"1.18.1",options:{addClass:"ui-contextmenu",closeOnWindowBlur:!0,autoFocus:!1,autoTrigger:!0,delegate:null,hide:{effect:"fadeOut",duration:"fast"},ignoreParentSelect:!0,menu:null,position:null,preventContextMenuForPopup:!1,preventSelect:!1,show:{effect:"slideDown",duration:"fast"},taphold:!1,uiMenuOptions:{},beforeOpen:a.noop,blur:a.noop,close:a.noop,create:a.noop,createMenu:a.noop,focus:a.noop,open:a.noop,select:a.noop},_create:function(){var c,d,e,f=this.options;if(this.$headStyle=null,this.$menu=null,this.menuIsTemp=!1,this.currentTarget=null,this.extraData={},this.previousFocus=null,null==f.delegate&&a.error("ui-contextmenu: Missing required option `delegate`."),f.preventSelect){e=(a(this.element).is(document)?a("body"):this.element).uniqueId().attr("id"),c="#"+e+" "+f.delegate+" { -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }",this.$headStyle=a("<style class='moogle-contextmenu-style' />").prop("type","text/css").appendTo("head");try{this.$headStyle.html(c)}catch(g){this.$headStyle[0].styleSheet.cssText=c}b&&this.element.on("selectstart"+this.eventNamespace,f.delegate,function(a){a.preventDefault()})}this._createUiMenu(f.menu),d="contextmenu"+this.eventNamespace,f.taphold&&(d+=" taphold"+this.eventNamespace),this.element.on(d,f.delegate,a.proxy(this._openMenu,this))},_destroy:function(){this.element.off(this.eventNamespace),this._createUiMenu(null),this.$headStyle&&(this.$headStyle.remove(),this.$headStyle=null)},_createUiMenu:function(b){var c,d,e=this.options;this.isOpen()&&(c=this.currentTarget,d=this.extraData,this._closeMenu(!0),this.currentTarget=c,this.extraData=d),this.menuIsTemp?this.$menu.remove():this.$menu&&this.$menu.menu("destroy").removeClass(this.options.addClass).hide(),this.$menu=null,this.menuIsTemp=!1,b&&(a.isArray(b)?(this.$menu=a.moogle.contextmenu.createMenuMarkup(b),this.menuIsTemp=!0):"string"==typeof b?this.$menu=a(b):this.$menu=b,this.$menu.hide().addClass(e.addClass).menu(a.extend(!0,{},e.uiMenuOptions,{items:"> :not(.ui-widget-header)",blur:a.proxy(e.blur,this),create:a.proxy(e.createMenu,this),focus:a.proxy(e.focus,this),select:a.proxy(function(b,c){var d,f=a.moogle.contextmenu.isMenu(c.item),g=c.item.data("actionHandler");c.cmd=c.item.attr("data-command"),c.target=a(this.currentTarget),c.extraData=this.extraData,f&&e.ignoreParentSelect||(d=this._trigger.call(this,"select",b,c),g&&(d=g.call(this,b,c)),d!==!1&&this._closeMenu.call(this),b.preventDefault())},this)})))},_openMenu:function(b,c){var d,e,f,g=this.options,h=g.position,i=this,j=!!b.isTrigger;if(g.autoTrigger||j){if(b.preventDefault(),this.currentTarget=b.target,this.extraData=b._extraData||{},f={menu:this.$menu,target:a(this.currentTarget),extraData:this.extraData,originalEvent:b,result:null},!c){if(d=this._trigger("beforeOpen",b,f),e=f.result&&a.isFunction(f.result.promise)?f.result:null,f.result=null,d===!1)return this.currentTarget=null,!1;if(e)return e.done(function(){i._openMenu(b,!0)}),this.currentTarget=null,!1;f.menu=this.$menu}a(document).on("keydown"+this.eventNamespace,function(b){b.which===a.ui.keyCode.ESCAPE&&i._closeMenu()}).on("mousedown"+this.eventNamespace+" touchstart"+this.eventNamespace,function(b){a(b.target).closest(".ui-menu-item").length||i._closeMenu()}),a(window).on("blur"+this.eventNamespace,function(a){g.closeOnWindowBlur&&i._closeMenu()}),a.isFunction(h)&&(h=h(b,f)),h=a.extend({my:"left top",at:"left bottom",of:void 0===b.pageX?b.target:b,collision:"fit"},h),this._updateEntries(this.$menu),this.$menu.show().css({position:"absolute",left:0,top:0}).position(h).hide(),g.preventContextMenuForPopup&&this.$menu.on("contextmenu"+this.eventNamespace,function(a){a.preventDefault()}),this._show(this.$menu,g.show,function(){var c;g.autoFocus&&(i.previousFocus=a(b.target),c=i.$menu.children("li.ui-menu-item").not(".ui-state-disabled").first(),i.$menu.menu("focus",null,c).focus()),i._trigger.call(i,"open",b,f)})}},_closeMenu:function(b){var c=this,d=!b&&this.options.hide,e={menu:this.$menu,target:a(this.currentTarget),extraData:this.extraData};a(document).off("mousedown"+this.eventNamespace).off("touchstart"+this.eventNamespace).off("keydown"+this.eventNamespace),a(window).off("blur"+this.eventNamespace),c.currentTarget=null,c.extraData={},this.$menu?(this.$menu.off("contextmenu"+this.eventNamespace),this._hide(this.$menu,d,function(){c.previousFocus&&(c.previousFocus.focus(),c.previousFocus=null),c._trigger("close",null,e)})):c._trigger("close",null,e)},_setOption:function(b,c){switch(b){case"menu":this.replaceMenu(c)}a.Widget.prototype._setOption.apply(this,arguments)},_getMenuEntry:function(a){return this.$menu.find("li[data-command="+a+"]")},close:function(){this.isOpen()&&this._closeMenu()},_updateEntries:function(){var b=this,c={menu:this.$menu,target:a(this.currentTarget),extraData:this.extraData};a.each(this.$menu.find(".ui-menu-item"),function(d,e){var f=a(e),g=f.data("disabledHandler"),h=g?g({type:"disabled"},c):null;c.item=f,c.cmd=f.attr("data-command"),null!=h&&(b.enableEntry(c.cmd,!h),b.showEntry(c.cmd,"hide"!==h)),g=f.data("titleHandler"),h=g?g({type:"title"},c):null,null!=h&&b.setTitle(c.cmd,""+h),g=f.data("tooltipHandler"),h=g?g({type:"tooltip"},c):null,null!=h&&f.attr("title",""+h)})},enableEntry:function(a,b){this._getMenuEntry(a).toggleClass("ui-state-disabled",b===!1)},getEntry:function(a){return this._getMenuEntry(a)},getEntryWrapper:function(a){return this._getMenuEntry(a).find(">[role=menuitem]").addBack("[role=menuitem]")},getMenu:function(){return this.$menu},isOpen:function(){return!!this.$menu&&!!this.currentTarget},open:function(b,c){c=c||{};var d=b&&b.type&&b.target,e=d?b:{},f=d?b.target:b,g=jQuery.Event("contextmenu",{target:a(f).get(0),pageX:e.pageX,pageY:e.pageY,originalEvent:d?b:void 0,_extraData:c});return this.element.trigger(g)},replaceMenu:function(a){this._createUiMenu(a)},setEntry:function(b,c){var d,e=this._getMenuEntry(b);return"string"==typeof c?(window.console&&window.console.warn("setEntry(cmd, t) with a plain string title is deprecated since v1.18.Use setTitle(cmd, '"+c+"') instead."),this.setTitle(b,c)):(e.empty(),c.cmd=c.cmd||b,a.moogle.contextmenu.createEntryMarkup(c,e),a.isArray(c.children)&&(d=a("<ul/>").appendTo(e),a.moogle.contextmenu.createMenuMarkup(c.children,d)),e.removeClass("ui-menu-item"),void this.getMenu().menu("refresh"))},setIcon:function(a,b){return this.updateEntry(a,{uiIcon:b})},setTitle:function(a,b){return this.updateEntry(a,{title:b})},showEntry:function(a,b){this._getMenuEntry(a).toggle(b!==!1)},updateEntry:function(b,c){var d,e,f=this._getMenuEntry(b);void 0!==c.title&&a.moogle.contextmenu.updateTitle(f,""+c.title),void 0!==c.tooltip&&(null===c.tooltip?f.removeAttr("title"):f.attr("title",c.tooltip)),void 0!==c.uiIcon&&(e=this.getEntryWrapper(b),d=e.find("span.ui-icon").not(".ui-menu-icon"),d.remove(),c.uiIcon&&e.append(a("<span class='ui-icon' />").addClass(c.uiIcon))),void 0!==c.hide?f.toggle(!c.hide):void 0!==c.show&&f.toggle(!!c.show),void 0!==c.data&&f.data(c.data),void 0===c.disabled&&(c.disabled=f.hasClass("ui-state-disabled")),c.setClass?(f.hasClass("ui-menu-item")&&(c.setClass+=" ui-menu-item"),f.removeClass(),f.addClass(c.setClass)):c.addClass&&f.addClass(c.addClass),f.toggleClass("ui-state-disabled",!!c.disabled)}}),a.extend(a.moogle.contextmenu,{createEntryMarkup:function(b,c){var d=null;c.attr("data-command",b.cmd),/[^\-\u2014\u2013\s]/.test(b.title)?(e?d=a("<a/>",{html:""+b.title,href:"#"}).appendTo(c):f?(c.html(""+b.title),d=c):d=a("<div/>",{html:""+b.title}).appendTo(c),b.uiIcon&&d.append(a("<span class='ui-icon' />").addClass(b.uiIcon)),a.each(["action","disabled","title","tooltip"],function(d,e){a.isFunction(b[e])&&c.data(e+"Handler",b[e])}),b.disabled===!0&&c.addClass("ui-state-disabled"),b.isHeader&&c.addClass("ui-widget-header"),b.addClass&&c.addClass(b.addClass),a.isPlainObject(b.data)&&c.data(b.data),"string"==typeof b.tooltip&&c.attr("title",b.tooltip)):c.text(b.title)},createMenuMarkup:function(b,c){var d,e,f,g;for(null==c&&(c=a("<ul class='ui-helper-hidden' />").appendTo("body")),d=0;d<b.length;d++)e=b[d],g=a("<li/>").appendTo(c),a.moogle.contextmenu.createEntryMarkup(e,g),a.isArray(e.children)&&(f=a("<ul/>").appendTo(g),a.moogle.contextmenu.createMenuMarkup(e.children,f));return c},isMenu:function(a){return e?a.has(">a[aria-haspopup='true']").length>0:f?a.is("[aria-haspopup='true']"):a.has(">div[aria-haspopup='true']").length>0},replaceFirstTextNodeChild:function(a,b){var c=a.find(">span.ui-icon,>ul.ui-menu").detach();a.empty().html(b).append(c)},updateTitle:function(b,c){e?a.moogle.contextmenu.replaceFirstTextNodeChild(a("a",b),c):f?a.moogle.contextmenu.replaceFirstTextNodeChild(b,c):a.moogle.contextmenu.replaceFirstTextNodeChild(a("div",b),c)}})});
//# sourceMappingURL=jquery.ui-contextmenu.min.js.map
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map
// https://d3js.org Version 4.13.0. Copyright 2018 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})})(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=function(t){return function(e,r){return n(t(e),r)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t,n){return[t,n]}function i(t){return null===t?NaN:+t}function o(t,n){var e,r,o=t.length,u=0,a=-1,c=0,s=0;if(null==n)for(;++a<o;)isNaN(e=i(t[a]))||(s+=(r=e-c)*(e-(c+=r/++u)));else for(;++a<o;)isNaN(e=i(n(t[a],a,t)))||(s+=(r=e-c)*(e-(c+=r/++u)));if(u>1)return s/(u-1)}function u(t,n){var e=o(t,n);return e?Math.sqrt(e):e}function a(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function c(t){return function(){return t}}function s(t){return t}function f(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function l(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=h(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}function h(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Hs?10:o>=js?5:o>=Xs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Hs?10:o>=js?5:o>=Xs?2:1)}function p(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Hs?i*=10:o>=js?i*=5:o>=Xs&&(i*=2),n<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function v(t,n,e){if(null==e&&(e=i),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}function g(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function _(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function y(t){if(!(i=t.length))return[];for(var n=-1,e=_(t,m),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function m(t){return t.length}function x(t){return t}function b(t){return"translate("+(t+.5)+",0)"}function w(t){return"translate(0,"+(t+.5)+")"}function M(){return!this.__axis}function T(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,p=null==o?n.tickFormat?n.tickFormat.apply(n,r):x:o,d=Math.max(u,0)+c,v=n.range(),g=+v[0]+.5,_=+v[v.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),m=e.selection?e.selection():e,b=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(h,n).order(),T=w.exit(),N=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(N),k=k.merge(N.append("line").attr("stroke","#000").attr(f+"2",s*u)),S=S.merge(N.append("text").attr("fill","#000").attr(f,s*d).attr("dy",t===$s?"0em":t===Zs?"0.71em":"0.32em")),e!==m&&(b=b.transition(e),w=w.transition(e),k=k.transition(e),S=S.transition(e),T=T.transition(e).attr("opacity",Qs).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),N.attr("opacity",Qs).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:y(t))})),T.remove(),b.attr("d",t===Gs||t==Ws?"M"+s*a+","+g+"H0.5V"+_+"H"+s*a:"M"+g+","+s*a+"V0.5H"+_+"V"+s*a),w.attr("opacity",1).attr("transform",function(t){return l(y(t))}),k.attr(f+"2",s*u),S.attr(f,s*d).text(p),m.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ws?"start":t===Gs?"end":"middle"),m.each(function(){this.__axis=y})}var r=[],i=null,o=null,u=6,a=6,c=3,s=t===$s||t===Gs?-1:1,f=t===Gs||t===Ws?"x":"y",l=t===$s||t===Zs?b:w;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Vs.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Vs.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Vs.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(u=a=+t,e):u},e.tickSizeInner=function(t){return arguments.length?(u=+t,e):u},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(c=+t,e):c},e}function N(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new k(r)}function k(t){this._=t}function S(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Js,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function E(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tf.hasOwnProperty(n)?{space:tf[n],local:t}:t}function A(t){var n=E(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ks&&n.documentElement.namespaceURI===Ks?n.createElement(t):n.createElementNS(e,t)}})(n)}function C(){}function z(t){return null==t?C:function(){return this.querySelector(t)}}function P(){return[]}function R(t){return null==t?P:function(){return this.querySelectorAll(t)}}function L(t){return new Array(t.length)}function q(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function D(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new q(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function U(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=uf+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=uf+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new q(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function O(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function F(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function I(t,n){return t.style.getPropertyValue(n)||F(t).getComputedStyle(t,null).getPropertyValue(n)}function Y(t){return t.trim().split(/^|\s+/)}function B(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=Y(t.getAttribute("class")||"")}function j(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function X(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function V(){this.textContent=""}function $(){this.innerHTML=""}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function K(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function rt(t,n,e){var r=af.hasOwnProperty(t.type)?tt:nt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function it(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function ot(t,n,e){var r=F(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ut(t,n){this._groups=t,this._parents=n}function at(){return new ut([[document.documentElement]],cf)}function ct(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],cf)}function st(){return new ft}function ft(){this._="@"+(++sf).toString(36)}function lt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function pt(t){var n=lt();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)}function dt(t,n,e){arguments.length<3&&(e=n,n=lt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ht(t,r);return null}function vt(){t.event.stopImmediatePropagation()}function gt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function _t(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",gt,!0);"onselectstart"in n?e.on("selectstart.drag",gt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yt(t,n){var e=t.document.documentElement,r=ct(t).on("dragstart.drag",null);n&&(r.on("click.drag",gt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function mt(t){return function(){return t}}function xt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function bt(){return!t.event.button}function wt(){return this.parentNode}function Mt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Tt(){return"ontouchstart"in this}function Nt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function kt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function St(){}function Et(t){var n;return t=(t+"").trim().toLowerCase(),(n=pf.exec(t))?(n=parseInt(n[1],16),new Rt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=df.exec(t))?At(parseInt(n[1],16)):(n=vf.exec(t))?new Rt(n[1],n[2],n[3],1):(n=gf.exec(t))?new Rt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=_f.exec(t))?Ct(n[1],n[2],n[3],n[4]):(n=yf.exec(t))?Ct(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=mf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,1):(n=xf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,n[4]):bf.hasOwnProperty(t)?At(bf[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function At(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Ct(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rt(t,n,e,r)}function zt(t){return t instanceof St||(t=Et(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function Pt(t,n,e,r){return 1===arguments.length?zt(t):new Rt(t,n,e,null==r?1:r)}function Rt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Lt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Dt(t,n,e,r)}function qt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=Et(t)),!t)return new Dt;if(t instanceof Dt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new Dt(u,a,c,t.opacity)}(t):new Dt(t,n,e,null==r?1:r)}function Dt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ut(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ot(t){if(t instanceof It)return new It(t.l,t.a,t.b,t.opacity);if(t instanceof Vt){var n=t.h*wf;return new It(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Rt||(t=zt(t));var e=jt(t.r),r=jt(t.g),i=jt(t.b),o=Yt((.4124564*e+.3575761*r+.1804375*i)/Tf),u=Yt((.2126729*e+.7151522*r+.072175*i)/Nf);return new It(116*u-16,500*(o-u),200*(u-Yt((.0193339*e+.119192*r+.9503041*i)/kf)),t.opacity)}function Ft(t,n,e,r){return 1===arguments.length?Ot(t):new It(t,n,e,null==r?1:r)}function It(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Yt(t){return t>Cf?Math.pow(t,1/3):t/Af+Sf}function Bt(t){return t>Ef?t*t*t:Af*(t-Sf)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function jt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Vt)return new Vt(t.h,t.c,t.l,t.opacity);t instanceof It||(t=Ot(t));var n=Math.atan2(t.b,t.a)*Mf;return new Vt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Vt(t,n,e,null==r?1:r)}function Vt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function $t(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=zt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Df*r+Lf*n-qf*e)/(Df+Lf-qf),o=r-i,u=(Rf*(e-i)-zf*o)/Pf,a=Math.sqrt(u*u+o*o)/(Rf*i*(1-i)),c=a?Math.atan2(u,o)*Mf-120:NaN;return new Wt(c<0?c+360:c,a,i,t.opacity)}(t):new Wt(t,n,e,null==r?1:r)}function Wt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Gt(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Zt((e-r/n)*n,u,i,o,a)}}function Qt(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Zt((e-r/n)*n,i,o,u,a)}}function Jt(t){return function(){return t}}function Kt(t,n){return function(e){return t+e*n}}function tn(t,n){var e=n-t;return e?Kt(t,e>180||e<-180?e-360*Math.round(e/360):e):Jt(isNaN(t)?n:t)}function nn(t){return 1==(t=+t)?en:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Jt(isNaN(n)?e:n)}}function en(t,n){var e=n-t;return e?Kt(t,e):Jt(isNaN(t)?n:t)}function rn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Pt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function on(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=fn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function un(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function an(t,n){return t=+t,n-=t,function(e){return t+n*e}}function cn(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=fn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function sn(t,n){var e,r,i,o=Vf.lastIndex=$f.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Vf.exec(t))&&(r=$f.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:an(e,r)})),o=$f.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function fn(t,n){var e,r=typeof n;return null==n||"boolean"===r?Jt(n):("number"===r?an:"string"===r?(e=Et(n))?(n=e,Hf):sn:n instanceof Et?Hf:n instanceof Date?un:Array.isArray(n)?on:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?cn:an)(t,n)}function ln(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}function hn(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Wf,skewX:Math.atan(c)*Wf,scaleX:u,scaleY:a}}function pn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:an(t,i)},{i:c-2,x:an(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:an(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:an(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:an(t,e)},{i:a-2,x:an(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}function dn(t){return((t=Math.exp(t))+1/t)/2}function vn(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<nl)r=Math.log(s/u)/Jf,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Jf*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+tl*h)/(2*u*Kf*p),v=(s*s-u*u-tl*h)/(2*s*Kf*p),g=Math.log(Math.sqrt(d*d+1)-d),_=Math.log(Math.sqrt(v*v+1)-v);r=(_-g)/Jf,e=function(t){var n=t*r,e=dn(g),a=u/(Kf*p)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Jf*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+a*f,o+a*l,u*e/dn(Jf*n+g)]}}return e.duration=1e3*r,e}function gn(t){return function(n,e){var r=t((n=qt(n)).h,(e=qt(e)).h),i=en(n.s,e.s),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function _n(t){return function(n,e){var r=t((n=Xt(n)).h,(e=Xt(e)).h),i=en(n.c,e.c),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function yn(t){return function n(e){function r(n,r){var i=t((n=$t(n)).h,(r=$t(r)).h),o=en(n.s,r.s),u=en(n.l,r.l),a=en(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function mn(){return pl||(gl(xn),pl=vl.now()+dl)}function xn(){pl=0}function bn(){this._call=this._time=this._next=null}function wn(t,n,e){var r=new bn;return r.restart(t,n,e),r}function Mn(){mn(),++cl;for(var t,n=Yf;n;)(t=pl-n._time)>=0&&n._call.call(null,t),n=n._next;--cl}function Tn(){pl=(hl=vl.now())+dl,cl=sl=0;try{Mn()}finally{cl=0,function(){var t,n,e=Yf,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yf=n);Bf=t,kn(r)}(),pl=0}}function Nn(){var t=vl.now(),n=t-hl;n>ll&&(dl-=n,hl=t)}function kn(t){if(!cl){sl&&(sl=clearTimeout(sl));t-pl>24?(t<1/0&&(sl=setTimeout(Tn,t-vl.now()-dl)),fl&&(fl=clearInterval(fl))):(fl||(hl=vl.now(),fl=setInterval(Nn,ll)),cl=1,gl(Tn))}}function Sn(t,n,e){var r=new bn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function En(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==xl)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===wl)return Sn(r);h.state===Ml?(h.state=Nl,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=Nl,h.timer.stop(),delete a[s])}if(Sn(function(){e.state===wl&&(e.state=Ml,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=bl,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bl){for(e.state=wl,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Tl,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===Tl&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=Nl,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=wn(function(t){e.state=xl,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)})(t,e,{name:n,index:r,group:i,on:_l,tween:yl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ml})}function An(t,n){var e=zn(t,n);if(e.state>ml)throw new Error("too late; already scheduled");return e}function Cn(t,n){var e=zn(t,n);if(e.state>bl)throw new Error("too late; already started");return e}function zn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pn(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>bl&&e.state<Tl,e.state=Nl,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function Rn(t,n,e){var r=t._id;return t.each(function(){var t=Cn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return zn(t,r).value[n]}}function Ln(t,n){var e;return("number"==typeof n?an:n instanceof Et?Hf:(e=Et(n))?(n=e,Hf):sn)(t,n)}function qn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Dn(t){return at().transition(t)}function Un(){return++Sl}function On(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Fn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function In(t){return(1-Math.cos(Pl*t))/2}function Yn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Bn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Hn(t){return(t=+t)<Ll?Hl*t*t:t<Dl?Hl*(t-=ql)*t+Ul:t<Fl?Hl*(t-=Ol)*t+Il:Hl*(t-=Yl)*t+Bl}function jn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ql.time=mn(),Ql;return e}function Xn(t){return function(){return t}}function Vn(){t.event.stopImmediatePropagation()}function $n(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wn(t){return{type:t}}function Zn(){return!t.event.button}function Gn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Qn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Kn(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([Wn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",uh.overlay).merge(e).each(function(){var t=Qn(this).extent;ct(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",uh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return uh[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=ct(this),n=Qn(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-h/2:n[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-h/2:n[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=pt(w);!L||x||b||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?b=!0:x=!0),D=t,m=!0,$n(),o()}function o(){var t;switch(_=D[0]-q[0],y=D[1]-q[1],T){case th:case Kl:N&&(_=Math.max(C-a,Math.min(P-p,_)),s=a+_,d=p+_),k&&(y=Math.max(z-l,Math.min(R-v,y)),h=l+y,g=v+y);break;case nh:N<0?(_=Math.max(C-a,Math.min(P-a,_)),s=a+_,d=p):N>0&&(_=Math.max(C-p,Math.min(P-p,_)),s=a,d=p+_),k<0?(y=Math.max(z-l,Math.min(R-l,y)),h=l+y,g=v):k>0&&(y=Math.max(z-v,Math.min(R-v,y)),h=l,g=v+y);break;case eh:N&&(s=Math.max(C,Math.min(P,a-_*N)),d=Math.max(C,Math.min(P,p+_*N))),k&&(h=Math.max(z,Math.min(R,l-y*k)),g=Math.max(z,Math.min(R,v+y*k)))}d<s&&(N*=-1,t=a,a=p,p=t,t=s,s=d,d=t,M in ah&&F.attr("cursor",uh[M=ah[M]])),g<h&&(k*=-1,t=l,l=v,v=t,t=h,h=g,g=t,M in ch&&F.attr("cursor",uh[M=ch[M]])),S.selection&&(A=S.selection),x&&(s=A[0][0],d=A[1][0]),b&&(h=A[0][1],g=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===g||(S.selection=[[s,h],[d,g]],r.call(w),U.brush())}function u(){if(Vn(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",uh.overlay),S.selection&&(A=S.selection),Jn(A)&&(S.selection=null,r.call(w)),U.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return $n()}else if(c)return;if(f.apply(this,arguments)){var a,s,l,h,p,d,v,g,_,y,m,x,b,w=this,M=t.event.target.__data__.type,T="selection"===(t.event.metaKey?M="overlay":M)?Kl:t.event.altKey?eh:nh,N=n===ih?null:sh[M],k=n===rh?null:fh[M],S=Qn(w),E=S.extent,A=S.selection,C=E[0][0],z=E[0][1],P=E[1][0],R=E[1][1],L=N&&k&&t.event.shiftKey,q=pt(w),D=q,U=i(w,arguments).beforestart();"overlay"===M?S.selection=A=[[a=n===ih?C:q[0],l=n===rh?z:q[1]],[p=n===ih?P:a,v=n===rh?R:l]]:(a=A[0][0],l=A[0][1],p=A[1][0],v=A[1][1]),s=a,h=l,d=p,g=v;var O=ct(w).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",uh[M]);if(t.event.touches)O.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var I=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:L=N&&k;break;case 18:T===nh&&(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh,o());break;case 32:T!==nh&&T!==eh||(N<0?p=d-_:N>0&&(a=s-_),k<0?v=g-y:k>0&&(l=h-y),T=th,F.attr("cursor",uh.selection),o());break;default:return}$n()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:L&&(x=b=L=!1,o());break;case 18:T===eh&&(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh,o());break;case 32:T===th&&(t.event.altKey?(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh):(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh),F.attr("cursor",uh[M]),o());break;default:return}$n()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);_t(t.event.view)}Vn(),Pn(w),r.call(w),U.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=s.apply(this,arguments),t.dim=n,t}var c,s=Gn,f=Zn,l=N(e,"start","brush","end"),h=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&Jn(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=fn(c,s);return c&&s?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,u=n.input("function"==typeof e?e.apply(this,t):e,o.extent),a=i(this,t).beforestart();Pn(this),o.selection=null==u||Jn(u)?null:u,r.call(this),a.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.selection=e}(e,t,n.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(s="function"==typeof t?t:Xn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):s},e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Xn(!!t),e):f},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=l.on.apply(l,arguments);return t===l?e:t},e}function te(t){return function(){return t}}function ne(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ee(){return new ne}function re(t){return t.source}function ie(t){return t.target}function oe(t){return t.radius}function ue(t){return t.startAngle}function ae(t){return t.endAngle}function ce(){}function se(t,n){var e=new ce;if(t instanceof ce)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function fe(){return{}}function le(t,n,e){t[n]=e}function he(){return se()}function pe(t,n,e){t.set(n,e)}function de(){}function ve(t,n){var e=new de;if(t instanceof de)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function ge(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function _e(t){function n(t,n){function e(){if(s)return Mh;if(f)return f=!1,wh;var n,e,r=a;if(t.charCodeAt(r)===Th){for(;a++<u&&t.charCodeAt(a)!==Th||t.charCodeAt(++a)===Th;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Nh?f=!0:e===kh&&(f=!0,t.charCodeAt(a)===Nh&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Nh)f=!0;else if(e===kh)f=!0,t.charCodeAt(a)===Nh&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Nh&&--u,t.charCodeAt(u-1)===kh&&--u;(r=e())!==Mh;){for(var l=[];r!==wh&&r!==Mh;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=ge(t);return function(r,i){return n(e(r),i,t)}}(t,e):ge(t)});return o.columns=i||[],o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}function ye(t){return function(){return t}}function me(){return 1e-6*(Math.random()-.5)}function xe(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,g=t._y0,_=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function be(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function we(t){return t[0]}function Me(t){return t[1]}function Te(t,n,e){var r=new Ne(null==n?we:n,null==e?Me:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ne(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ke(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function Se(t){return t.x+t.vx}function Ee(t){return t.y+t.vy}function Ae(t){return t.index}function Ce(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function ze(t){return t.x}function Pe(t){return t.y}function Re(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return(t=Re(Math.abs(t)))?t[1]:NaN}function qe(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function De(t){return new Ue(t)}function Ue(t){if(!(n=Bh.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Yh[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function Oe(t){return t}function Fe(t){function n(t){function n(t){var n,r,u,f=g,x=_;if("c"===v)x=y(t)+x,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=("s"===v?jh[8+Oh/3]:"")+x+(b&&"("===s?")":""),m)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){x=(46===u?i+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=e(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(a):"";switch(p&&l&&(t=e(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return o(t)}var a=(t=De(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,g="$"===f?r[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===f?r[1]:/[%p]/.test(v)?u:"",y=Yh[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):Oe,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Oe,u=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=De(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Le(e)/3))),o=Math.pow(10,-i),u=jh[8+i/3];return function(t){return r(o*t)+u}}}}function Ie(n){return Hh=Fe(n),t.format=Hh.format,t.formatPrefix=Hh.formatPrefix,Hh}function Ye(t){return Math.max(0,-Le(Math.abs(t)))}function Be(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))-Le(Math.abs(t)))}function He(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}function je(){return new Xe}function Xe(){this.reset()}function Ve(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function $e(t){return t>1?0:t<-1?Np:Math.acos(t)}function We(t){return t>1?kp:t<-1?-kp:Math.asin(t)}function Ze(t){return(t=Fp(t/2))*t}function Ge(){}function Qe(t,n){t&&jp.hasOwnProperty(t.type)&&jp[t.type](t,n)}function Je(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ke(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Je(t[e],n,1);n.polygonEnd()}function tr(t,n){t&&Hp.hasOwnProperty(t.type)?Hp[t.type](t,n):Qe(t,n)}function nr(){$p.point=rr}function er(){ir(Xh,Vh)}function rr(t,n){$p.point=ir,Xh=t,Vh=n,$h=t*=Cp,Wh=Lp(n=(n*=Cp)/2+Sp),Zh=Fp(n)}function ir(t,n){n=(n*=Cp)/2+Sp;var e=(t*=Cp)-$h,r=e>=0?1:-1,i=r*e,o=Lp(n),u=Fp(n),a=Zh*u,c=Wh*o+a*Lp(i),s=a*r*Fp(i);Xp.add(Rp(s,c)),$h=t,Wh=o,Zh=u}function or(t){return[Rp(t[1],t[0]),We(t[2])]}function ur(t){var n=t[0],e=t[1],r=Lp(e);return[r*Lp(n),r*Fp(n),Fp(e)]}function ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function sr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function fr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function lr(t){var n=Yp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function hr(t,n){ip.push(op=[Gh=t,Jh=t]),n<Qh&&(Qh=n),n>Kh&&(Kh=n)}function pr(t,n){var e=ur([t*Cp,n*Cp]);if(rp){var r=cr(rp,e),i=cr([r[1],-r[0],0],r);lr(i),i=or(i);var o,u=t-tp,a=u>0?1:-1,c=i[0]*Ap*a,s=zp(u)>180;s^(a*tp<c&&c<a*t)?(o=i[1]*Ap)>Kh&&(Kh=o):(c=(c+360)%360-180,s^(a*tp<c&&c<a*t)?(o=-i[1]*Ap)<Qh&&(Qh=o):(n<Qh&&(Qh=n),n>Kh&&(Kh=n))),s?t<tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t):Jh>=Gh?(t<Gh&&(Gh=t),t>Jh&&(Jh=t)):t>tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t)}else ip.push(op=[Gh=t,Jh=t]);n<Qh&&(Qh=n),n>Kh&&(Kh=n),rp=e,tp=t}function dr(){Zp.point=pr}function vr(){op[0]=Gh,op[1]=Jh,Zp.point=hr,rp=null}function gr(t,n){if(rp){var e=t-tp;Wp.add(zp(e)>180?e+(e>0?360:-360):e)}else np=t,ep=n;$p.point(t,n),pr(t,n)}function _r(){$p.lineStart()}function yr(){gr(np,ep),$p.lineEnd(),zp(Wp)>Mp&&(Gh=-(Jh=180)),op[0]=Gh,op[1]=Jh,rp=null}function mr(t,n){return(n-=t)<0?n+360:n}function xr(t,n){return t[0]-n[0]}function br(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function wr(t,n){t*=Cp;var e=Lp(n*=Cp);Mr(e*Lp(t),e*Fp(t),Fp(n))}function Mr(t,n,e){cp+=(t-cp)/++up,sp+=(n-sp)/up,fp+=(e-fp)/up}function Tr(){Gp.point=Nr}function Nr(t,n){t*=Cp;var e=Lp(n*=Cp);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Gp.point=kr,Mr(mp,xp,bp)}function kr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=Rp(Yp((u=xp*o-bp*i)*u+(u=bp*r-mp*o)*u+(u=mp*i-xp*r)*u),mp*r+xp*i+bp*o);ap+=u,lp+=u*(mp+(mp=r)),hp+=u*(xp+(xp=i)),pp+=u*(bp+(bp=o)),Mr(mp,xp,bp)}function Sr(){Gp.point=wr}function Er(){Gp.point=Cr}function Ar(){zr(_p,yp),Gp.point=wr}function Cr(t,n){_p=t,yp=n,t*=Cp,n*=Cp,Gp.point=zr;var e=Lp(n);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Mr(mp,xp,bp)}function zr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=xp*o-bp*i,a=bp*r-mp*o,c=mp*i-xp*r,s=Yp(u*u+a*a+c*c),f=We(s),l=s&&-f/s;dp+=l*u,vp+=l*a,gp+=l*c,ap+=f,lp+=f*(mp+(mp=r)),hp+=f*(xp+(xp=i)),pp+=f*(bp+(bp=o)),Mr(mp,xp,bp)}function Pr(t){return function(){return t}}function Rr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Lr(t,n){return[t>Np?t-Ep:t<-Np?t+Ep:t,n]}function qr(t,n,e){return(t%=Ep)?n||e?Rr(Ur(t),Or(n,e)):Ur(t):n||e?Or(n,e):Lr}function Dr(t){return function(n,e){return n+=t,[n>Np?n-Ep:n<-Np?n+Ep:n,e]}}function Ur(t){var n=Dr(t);return n.invert=Dr(-t),n}function Or(t,n){function e(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*r+a*i;return[Rp(c*o-f*u,a*r-s*i),We(f*o+c*u)]}var r=Lp(t),i=Fp(t),o=Lp(n),u=Fp(n);return e.invert=function(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*o-c*u;return[Rp(c*o+s*u,a*r+f*i),We(f*r-a*i)]},e}function Fr(t){function n(n){return n=t(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n}return t=qr(t[0]*Cp,t[1]*Cp,t.length>2?t[2]*Cp:0),n.invert=function(n){return n=t.invert(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n},n}function Ir(t,n,e,r,i,o){if(e){var u=Lp(n),a=Fp(n),c=r*e;null==i?(i=n+r*Ep,o=n-c/2):(i=Yr(u,i),o=Yr(u,o),(r>0?i<o:i>o)&&(i+=r*Ep));for(var s,f=i;r>0?f>o:f<o;f-=c)s=or([u,-a*Lp(f),-a*Fp(f)]),t.point(s[0],s[1])}}function Yr(t,n){(n=ur(n))[0]-=t,lr(n);var e=$e(-n[1]);return((-n[2]<0?-e:e)+Ep-Mp)%Ep}function Br(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Ge,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Hr(t,n){return zp(t[0]-n[0])<Mp&&zp(t[1]-n[1])<Mp}function jr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Xr(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Hr(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new jr(r,t,null,!0)),c.push(e.o=new jr(r,null,e,!1)),a.push(e=new jr(u,t,null,!1)),c.push(e.o=new jr(u,null,e,!0))}}),a.length){for(c.sort(n),Vr(a),Vr(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Vr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function $r(t,n){var e=n[0],r=n[1],i=[Fp(e),-Lp(e),0],o=0,u=0;cd.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+Sp,d=Fp(p),v=Lp(p),g=0;g<f;++g,h=y,d=x,v=b,l=_){var _=s[g],y=_[0],m=_[1]/2+Sp,x=Fp(m),b=Lp(m),w=y-h,M=w>=0?1:-1,T=M*w,N=T>Np,k=d*x;if(cd.add(Rp(k*M*Fp(T),v*b+k*Lp(T))),o+=N?w+M*Ep:w,N^h>=e^y>=e){var S=cr(ur(l),ur(_));lr(S);var E=cr(i,S);lr(E);var A=(N^w>=0?-1:1)*We(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=N^w>=0?1:-1)}}return(o<-Mp||o<Mp&&cd<-Mp)^1&u}function Wr(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){v.point(t,n)}function a(){x.point=u,v.lineStart()}function c(){x.point=o,v.lineEnd()}function s(t,n){d.push([t,n]),y.point(t,n)}function f(){y.lineStart(),d=[]}function l(){s(d[0][0],d[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=_.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(m||(i.polygonStart(),m=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(Zr))}var h,p,d,v=n(i),_=Br(),y=n(_),m=!1,x={point:o,lineStart:a,lineEnd:c,polygonStart:function(){x.point=s,x.lineStart=f,x.lineEnd=l,p=[],h=[]},polygonEnd:function(){x.point=o,x.lineStart=a,x.lineEnd=c,p=g(p);var t=$r(h,r);p.length?(m||(i.polygonStart(),m=!0),Xr(p,Gr,t,e,i)):t&&(m||(i.polygonStart(),m=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return x}}function Zr(t){return t.length>1}function Gr(t,n){return((t=t.x)[0]<0?t[1]-kp-Mp:kp-t[1])-((n=n.x)[0]<0?n[1]-kp-Mp:kp-n[1])}function Qr(t){function n(t,n){return Lp(t)*Lp(n)>i}function e(t,n,e){var r=[1,0,0],o=cr(ur(t),ur(n)),u=ar(o,o),a=o[0],c=u-a*a;if(!c)return!e&&t;var s=i*u/c,f=-i*a/c,l=cr(r,o),h=fr(r,s);sr(h,fr(o,f));var p=l,d=ar(h,p),v=ar(p,p),g=d*d-v*(ar(h,h)-1);if(!(g<0)){var _=Yp(g),y=fr(p,(-d-_)/v);if(sr(y,h),y=or(y),!e)return y;var m,x=t[0],b=n[0],w=t[1],M=n[1];b<x&&(m=x,x=b,b=m);var T=b-x,N=zp(T-Np)<Mp;if(!N&&M<w&&(m=w,w=M,M=m),N||T<Mp?N?w+M>0^y[1]<(zp(y[0]-x)<Mp?w:M):w<=y[1]&&y[1]<=M:T>Np^(x<=y[0]&&y[0]<=b)){var k=fr(p,(-d+_)/v);return sr(k,h),[y,or(k)]}}}function r(n,e){var r=u?t:Np-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var i=Lp(t),o=6*Cp,u=i>0,a=zp(i)>Mp;return Wr(n,function(t){var i,o,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,d=[l,h],v=n(l,h),g=u?v?0:r(l,h):v?r(l+(l<0?Np:-Np),h):0;if(!i&&(s=c=v)&&t.lineStart(),v!==c&&(!(p=e(i,d))||Hr(i,p)||Hr(d,p))&&(d[0]+=Mp,d[1]+=Mp,v=n(d[0],d[1])),v!==c)f=0,v?(t.lineStart(),p=e(d,i),t.point(p[0],p[1])):(p=e(i,d),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(a&&i&&u^v){var _;g&o||!(_=e(d,i,!0))||(f=0,u?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!v||i&&Hr(i,d)||t.point(d[0],d[1]),i=d,c=v,o=g},lineEnd:function(){c&&t.lineEnd(),i=null},clean:function(){return f|(s&&c)<<1}}},function(n,e,r,i){Ir(i,t,o,r,n,e)},u?[0,-t]:[-Np,t-Np])}function Jr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return zp(r[0]-t)<Mp?i>0?0:3:zp(r[0]-e)<Mp?i>0?2:1:zp(r[1]-n)<Mp?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&w.point(t,n)}function s(o,u){var a=i(o,u);if(l&&h.push([o,u]),x)p=o,d=u,v=a,x=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&m)w.point(o,u);else{var c=[_=Math.max(ld,Math.min(fd,_)),y=Math.max(ld,Math.min(fd,y))],s=[o=Math.max(ld,Math.min(fd,o)),u=Math.max(ld,Math.min(fd,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=0,f=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<s)return;u<f&&(f=u)}else if(l>0){if(u>f)return;u>s&&(s=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>f)return;u>s&&(s=u)}else if(l>0){if(u<s)return;u<f&&(f=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<f&&(f=u)}else if(h>0){if(u>f)return;u>s&&(s=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>f)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<f&&(f=u)}return s>0&&(t[0]=a+s*l,t[1]=c+s*h),f<1&&(n[0]=a+f*l,n[1]=c+f*h),!0}}}}}(c,s,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),b=!1):(m||(w.lineStart(),w.point(c[0],c[1])),w.point(s[0],s[1]),a||w.lineEnd(),b=!1)}_=o,y=u,m=a}var f,l,h,p,d,v,_,y,m,x,b,w=u,M=Br(),T={point:c,lineStart:function(){T.point=s,l&&l.push(h=[]),x=!0,m=!1,_=y=NaN},lineEnd:function(){f&&(s(p,d),v&&m&&M.rejoin(),f.push(M.result())),T.point=c,m&&w.lineEnd()},polygonStart:function(){w=M,f=[],l=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,h=(f=a[c])[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=b&&n,i=(f=g(f)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Xr(f,a,n,o,u),u.polygonEnd()),w=u,f=l=h=null}};return T}}function Kr(){pd.point=pd.lineEnd=Ge}function ti(t,n){Qp=t*=Cp,Jp=Fp(n*=Cp),Kp=Lp(n),pd.point=ni}function ni(t,n){t*=Cp;var e=Fp(n*=Cp),r=Lp(n),i=zp(t-Qp),o=Lp(i),u=r*Fp(i),a=Kp*e-Jp*r*o,c=Jp*e+Kp*r*o;hd.add(Rp(Yp(u*u+a*a),c)),Qp=t,Jp=e,Kp=r}function ei(t){return hd.reset(),tr(t,pd),+hd}function ri(t,n){return dd[0]=t,dd[1]=n,ei(vd)}function ii(t,n){return!(!t||!_d.hasOwnProperty(t.type))&&_d[t.type](t,n)}function oi(t,n){return 0===ri(t,n)}function ui(t,n){var e=ri(t[0],t[1]);return ri(t[0],n)+ri(n,t[1])<=e+Mp}function ai(t,n){return!!$r(t.map(ci),si(n))}function ci(t){return(t=t.map(si)).pop(),t}function si(t){return[t[0]*Cp,t[1]*Cp]}function fi(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function li(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function hi(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return f(qp(o/_)*_,i,_).map(p).concat(f(qp(s/y)*y,c,y).map(d)).concat(f(qp(r/v)*v,e,v).filter(function(t){return zp(t%_)>Mp}).map(l)).concat(f(qp(a/g)*g,u,g).filter(function(t){return zp(t%y)>Mp}).map(h))}var e,r,i,o,u,a,c,s,l,h,p,d,v=10,g=v,_=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(c).slice(1),p(i).reverse().slice(1),d(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(m)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(m)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],y=+n[1],t):[_,y]},t.stepMinor=function(n){return arguments.length?(v=+n[0],g=+n[1],t):[v,g]},t.precision=function(n){return arguments.length?(m=+n,l=fi(a,u,90),h=li(r,e,m),p=fi(s,c,90),d=li(o,i,m),t):m},t.extentMajor([[-180,-90+Mp],[180,90-Mp]]).extentMinor([[-180,-80-Mp],[180,80+Mp]])}function pi(t){return t}function di(){xd.point=vi}function vi(t,n){xd.point=gi,td=ed=t,nd=rd=n}function gi(t,n){md.add(rd*t-ed*n),ed=t,rd=n}function _i(){gi(td,nd)}function yi(t,n){kd+=t,Sd+=n,++Ed}function mi(){qd.point=xi}function xi(t,n){qd.point=bi,yi(ud=t,ad=n)}function bi(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,yi(ud=t,ad=n)}function wi(){qd.point=yi}function Mi(){qd.point=Ni}function Ti(){ki(id,od)}function Ni(t,n){qd.point=ki,yi(id=ud=t,od=ad=n)}function ki(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,Pd+=(i=ad*t-ud*n)*(ud+t),Rd+=i*(ad+n),Ld+=3*i,yi(ud=t,ad=n)}function Si(t){this._context=t}function Ei(t,n){Bd.point=Ai,Ud=Fd=t,Od=Id=n}function Ai(t,n){Fd-=t,Id-=n,Yd.add(Yp(Fd*Fd+Id*Id)),Fd=t,Id=n}function Ci(){this._string=[]}function zi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Pi(t){return function(n){var e=new Ri;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ri(){}function Li(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tr(e,t.stream(Nd)),n(Nd.result()),null!=r&&t.clipExtent(r),t}function qi(t,n,e){return Li(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function Di(t,n,e){return qi(t,[[0,0],n],e)}function Ui(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function Oi(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}function Fi(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,g){var _=s-r,y=f-i,m=_*_+y*y;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=Yp(x*x+b*b+w*w),T=We(w/=M),N=zp(zp(w)-1)<Mp||zp(o-l)<Mp?(o+l)/2:Rp(b,x),k=t(N,T),S=k[0],E=k[1],A=S-r,C=E-i,z=y*A-_*C;(z*z/m>n||zp((_*A+y*C)/m-.5)>.3||u*h+a*p+c*d<jd)&&(e(r,i,o,u,a,c,S,E,N,x/=M,b/=M,w,v,g),g.point(S,E),e(S,E,N,x,b,w,s,f,l,h,p,d,v,g))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){_=NaN,w.point=o,n.lineStart()}function o(r,i){var o=ur([r,i]),u=t(r,i);e(_,y,g,m,x,b,_=u[0],y=u[1],g=r,m=o[0],x=o[1],b=o[2],Hd,n),n.point(_,y)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=_,h=y,p=m,d=x,v=b,w.point=o}function s(){e(_,y,g,m,x,b,l,h,f,p,d,v,Hd,n),w.lineEnd=u,u()}var f,l,h,p,d,v,g,_,y,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}(t,n):function(t){return Pi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}function Ii(t){return Yi(function(){return t})()}function Yi(t){function n(t){return t=s(t[0]*Cp,t[1]*Cp),[t[0]*v+u,a-t[1]*v]}function e(t,n){return t=o(t,n),[t[0]*v+u,a-t[1]*v]}function r(){s=Rr(c=qr(x,b,w),o);var t=o(y,m);return u=g-t[0]*v,a=_+t[1]*v,i()}function i(){return p=d=null,n}var o,u,a,c,s,f,l,h,p,d,v=150,g=480,_=250,y=0,m=0,x=0,b=0,w=0,M=null,T=sd,N=null,k=pi,S=.5,E=Fi(e,S);return n.stream=function(t){return p&&d===t?p:p=Xd(function(t){return Pi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(c)(T(E(k(d=t)))))},n.preclip=function(t){return arguments.length?(T=t,M=void 0,i()):T},n.postclip=function(t){return arguments.length?(k=t,N=f=l=h=null,i()):k},n.clipAngle=function(t){return arguments.length?(T=+t?Qr(M=t*Cp):(M=null,sd),i()):M*Ap},n.clipExtent=function(t){return arguments.length?(k=null==t?(N=f=l=h=null,pi):Jr(N=+t[0][0],f=+t[0][1],l=+t[1][0],h=+t[1][1]),i()):null==N?null:[[N,f],[l,h]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(g=+t[0],_=+t[1],r()):[g,_]},n.center=function(t){return arguments.length?(y=t[0]%360*Cp,m=t[1]%360*Cp,r()):[y*Ap,m*Ap]},n.rotate=function(t){return arguments.length?(x=t[0]%360*Cp,b=t[1]%360*Cp,w=t.length>2?t[2]%360*Cp:0,r()):[x*Ap,b*Ap,w*Ap]},n.precision=function(t){return arguments.length?(E=Fi(e,S=t*t),i()):Yp(S)},n.fitExtent=function(t,e){return qi(n,t,e)},n.fitSize=function(t,e){return Di(n,t,e)},n.fitWidth=function(t,e){return Ui(n,t,e)},n.fitHeight=function(t,e){return Oi(n,t,e)},function(){return o=t.apply(this,arguments),n.invert=o.invert&&function(t){return(t=s.invert((t[0]-u)/v,(a-t[1])/v))&&[t[0]*Ap,t[1]*Ap]},r()}}function Bi(t){var n=0,e=Np/3,r=Yi(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Cp,e=t[1]*Cp):[n*Ap,e*Ap]},i}function Hi(t,n){function e(t,n){var e=Yp(o-2*i*Fp(n))/i;return[e*Fp(t*=i),u-e*Lp(t)]}var r=Fp(t),i=(r+Fp(n))/2;if(zp(i)<Mp)return function(t){function n(t,n){return[t*e,Fp(n)/e]}var e=Lp(t);return n.invert=function(t,n){return[t/e,We(n*e)]},n}(t);var o=1+r*(2*i-r),u=Yp(o)/i;return e.invert=function(t,n){var e=u-n;return[Rp(t,zp(e))/i*Ip(e),We((o-(t*t+e*e)*i*i)/(2*i))]},e}function ji(){return Bi(Hi).scale(155.424).center([0,33.6442])}function Xi(){return ji().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vi(t){return function(n,e){var r=Lp(n),i=Lp(e),o=t(r*i);return[o*i*Fp(n),o*Fp(e)]}}function $i(t){return function(n,e){var r=Yp(n*n+e*e),i=t(r),o=Fp(i),u=Lp(i);return[Rp(n*o,r*u),We(r&&e*o/r)]}}function Wi(t,n){return[t,Up(Bp((kp+n)/2))]}function Zi(t){function n(){var n=Np*a(),u=o(Fr(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===Wi?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=Ii(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function Gi(t){return Bp((kp+t)/2)}function Qi(t,n){function e(t,n){o>0?n<-kp+Mp&&(n=-kp+Mp):n>kp-Mp&&(n=kp-Mp);var e=o/Op(Gi(n),i);return[e*Fp(i*t),o-e*Lp(i*t)]}var r=Lp(t),i=t===n?Fp(t):Up(r/Lp(n))/Up(Gi(n)/Gi(t)),o=r*Op(Gi(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=Ip(i)*Yp(t*t+e*e);return[Rp(t,zp(e))/i*Ip(e),2*Pp(Op(o/r,1/i))-kp]},e):Wi}function Ji(t,n){return[t,n]}function Ki(t,n){function e(t,n){var e=o-n,r=i*t;return[e*Fp(r),o-e*Lp(r)]}var r=Lp(t),i=t===n?Fp(t):(r-Lp(n))/(n-t),o=r/i+t;return zp(i)<Mp?Ji:(e.invert=function(t,n){var e=o-n;return[Rp(t,zp(e))/i*Ip(e),o-Ip(i)*Yp(t*t+e*e)]},e)}function to(t,n){var e=Lp(n),r=Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function no(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?pi:Pi({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function eo(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function ro(t,n){return[Lp(n)*Fp(t),Fp(n)]}function io(t,n){var e=Lp(n),r=1+Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function oo(t,n){return[Up(Bp((kp+n)/2)),-t]}function uo(t,n){return t.parent===n.parent?1:2}function ao(t,n){return t+n.x}function co(t,n){return Math.max(t,n.y)}function so(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function fo(t,n){var e,r,i,o,u,a=new vo(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=lo);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new vo(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(po)}function lo(t){return t.children}function ho(t){t.data=t.data.data}function po(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function vo(t){this.data=t,this.depth=this.height=0,this.parent=null}function go(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Wd.call(t))).length,o=[];r<i;)n=t[r],e&&yo(e,n)?++r:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return xo(t[0],t[1]);case 3:return bo(t[0],t[1],t[2])}}(o=function(t,n){var e,r;if(mo(n,t))return[n];for(e=0;e<t.length;++e)if(_o(n,t[e])&&mo(xo(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(_o(xo(t[e],t[r]),n)&&_o(xo(t[e],n),t[r])&&_o(xo(t[r],n),t[e])&&mo(bo(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}(o,n)),r=0);return e}function _o(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yo(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function mo(t,n){for(var e=0;e<n.length;++e)if(!yo(t,n[e]))return!1;return!0}function xo(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function bo(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,p=r-s,d=i-a,v=i-f,g=c-o,_=l-o,y=r*r+i*i-o*o,m=y-u*u-a*a+c*c,x=y-s*s-f*f+l*l,b=p*d-h*v,w=(d*x-v*m)/(2*b)-r,M=(v*g-d*_)/b,T=(p*m-h*x)/(2*b)-i,N=(h*_-p*g)/b,k=M*M+N*N-1,S=2*(o+w*M+T*N),E=w*w+T*T-o*o,A=-(k?(S+Math.sqrt(S*S-4*k*E))/(2*k):E/S);return{x:r+w+M*A,y:i+T+N*A,r:A}}function wo(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function Mo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function To(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function No(t){this._=t,this.next=null,this.previous=null}function ko(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;wo(e,n,r=t[2]),n=new No(n),e=new No(e),r=new No(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){wo(n._,e._,r=t[a]),r=new No(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Mo(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(Mo(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=To(n);(r=r.next)!==e;)(u=To(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=go(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function So(t){if("function"!=typeof t)throw new Error;return t}function Eo(){return 0}function Ao(t){return function(){return t}}function Co(t){return Math.sqrt(t.value)}function zo(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Po(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=ko(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Ro(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Lo(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function qo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function Do(t){return t.id}function Uo(t){return t.parentId}function Oo(t,n){return t.parent===n.parent?1:2}function Fo(t){var n=t.children;return n?n[0]:t.t}function Io(t){var n=t.children;return n?n[n.length-1]:t.t}function Yo(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Bo(t,n,e){return t.a.parent===n.parent?t.a:e}function Ho(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function jo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}function Xo(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,g,_=[],y=n.children,m=0,x=0,b=y.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=y[x++].value}while(!f&&x<b);for(l=h=f,g=f*f*(v=Math.max(s/c,c/s)/(w*t)),d=Math.max(h/g,g/l);x<b;++x){if(f+=a=y[x].value,a<l&&(l=a),a>h&&(h=a),g=f*f*v,(p=Math.max(h/g,g/l))>d){f-=a;break}d=p}_.push(u={value:f,dice:c<s,children:y.slice(m,x)}),u.dice?qo(u,e,r,i,w?r+=s*f/w:o):jo(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return _}function Vo(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function $o(t,n){return t[0]-n[0]||t[1]-n[1]}function Wo(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Vo(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Zo(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Go(t){if(!t._start)try{(function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=function(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?Qo(t,e):(t._data[n]=r,t._waiting?Go(t):Jo(t))))}}(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||ev)}})(t)}catch(n){if(t._tasks[t._ended+t._active-1])Qo(t,n);else if(!t._data)throw n}}function Qo(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,Jo(t)}function Jo(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Ko(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Zo(t)}function tu(){return Math.random()}function nu(t,n){function e(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=N("beforesend","progress","load","error"),c=se(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=function(t){return function(n,e){t(null==n?e:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function eu(t,n){return function(e,r){var i=nu(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function ru(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=nu(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}}function iu(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==yv)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=se(),r=[],i=yv;return t=null==t?[]:_v.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=se();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=_v.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return iu().domain(r).range(t).unknown(i)},n}function ou(){function t(){var t=i().length,r=u[1]<u[0],h=u[r-0],p=u[1-r];n=(p-h)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),h+=(p-h-n*(t-c))*l,e=n*(1-c),a&&(h=Math.round(h),e=Math.round(e));var d=f(t).map(function(t){return h+n*t});return o(r?d.reverse():d)}var n,e,r=iu().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,l=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),t()):l},r.copy=function(){return ou().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(l)},t()}function uu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uu(n())},t}function au(t){return function(){return t}}function cu(t){return+t}function su(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:au(n)}function fu(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function lu(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=Os(t,n,1,i)-1;return u[e](o[e](n))}}function hu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function pu(t,n){function e(){return i=Math.min(a.length,c.length)>2?lu:fu,o=u=null,r}function r(n){return(o||(o=i(a,c,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}var i,o,u,a=mv,c=mv,s=fn,f=!1;return r.invert=function(t){return(u||(u=i(c,a,su,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=gv.call(t,cu),e()):a.slice()},r.range=function(t){return arguments.length?(c=_v.call(t),e()):c.slice()},r.rangeRound=function(t){return c=_v.call(t),s=ln,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function du(n){var e=n.domain;return n.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],u=n[n.length-1],a=p(o,u,null==e?10:e);switch((r=De(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=r.precision||isNaN(i=Be(a,c))||(r.precision=i),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=He(a,Math.max(Math.abs(o),Math.abs(u))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ye(a))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=h(a,c,t))>0?r=h(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,t):r<0&&(r=h(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,t)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,e(i)),n},n}function vu(){var t=pu(su,an);return t.copy=function(){return hu(t,vu())},du(t)}function gu(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=gv.call(e,cu),t):n.slice()},t.copy=function(){return gu().domain(n)},du(t)}function _u(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function yu(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:au(n)}function mu(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function xu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bu(t){return 10===t?xu:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function wu(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Mu(t){return function(n){return-t(-n)}}function Tu(){function n(){return o=wu(i),u=bu(i),r()[0]<0&&(o=Mu(o),u=Mu(u)),e}var e=pu(yu,mu).domain([1,10]),r=e.domain,i=10,o=wu(10),u=bu(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(p=a,a=c,c=p);var s,f,h,p=o(a),d=o(c),v=null==t?10:+t,g=[];if(!(i%1)&&d-p<v){if(p=Math.round(p)-1,d=Math.round(d)+1,a>0){for(;p<d;++p)for(f=1,s=u(p);f<i;++f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else for(;p<d;++p)for(f=i-1,s=u(p);f>=1;--f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else g=l(p,d,Math.min(d-p,v)).map(u);return n?g.reverse():g},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(_u(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return hu(e,Tu().base(i))},e}function Nu(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function ku(){var t=1,n=pu(function(n,e){return(e=Nu(e,t)-(n=Nu(n,t)))?function(r){return(Nu(r,t)-n)/e}:au(e)},function(n,e){return e=Nu(e,t)-(n=Nu(n,t)),function(r){return Nu(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return hu(n,ku().exponent(t))},du(n)}function Su(){function t(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=v(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[Os(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var i,o=0,u=e.length;o<u;++o)null==(i=e[o])||isNaN(i=+i)||r.push(i);return r.sort(n),t()},e.range=function(n){return arguments.length?(i=_v.call(n),t()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return Su().domain(r).range(i)},e}function Eu(){function t(t){if(t<=t)return u[Os(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=_v.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return Eu().domain([e,r]).range(u)},du(t)}function Au(){function t(t){if(t<=t)return e[Os(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=_v.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=_v.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return Au().domain(n).range(e)},t}function Cu(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Cu(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return xv.setTime(+n),bv.setTime(+r),t(xv),t(bv),Math.floor(e(xv,bv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function zu(t){return Cu(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/Nv})}function Pu(t){return Cu(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Nv})}function Ru(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qu(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Du(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Mg[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i,o,u=qu(1900);if(r(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(o=(i=Lu(qu(u.y))).getUTCDay())>4||0===o?og.ceil(i):og(i),i=eg.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(o=(i=n(qu(u.y))).getDay())>4||0===o?qv.ceil(i):qv(i),i=Pv.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),o="Z"in u?Lu(qu(u.y)).getUTCDay():n(qu(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(o+5)%7:u.w+7*u.U-(o+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Lu(u)):n(u)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Mg?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=Fu(a),p=Iu(a),d=Fu(c),v=Iu(c),g=Fu(s),_=Iu(s),y=Fu(f),m=Iu(f),x=Fu(l),b=Iu(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:ua,e:ua,f:la,H:aa,I:ca,j:sa,L:fa,m:ha,M:pa,p:function(t){return a[+(t.getHours()>=12)]},Q:Ya,s:Ba,S:da,u:va,U:ga,V:_a,w:ya,W:ma,x:null,X:null,y:xa,Y:ba,Z:wa,"%":Ia},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:Ma,e:Ma,f:Ea,H:Ta,I:Na,j:ka,L:Sa,m:Aa,M:Ca,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Ya,s:Ba,S:za,u:Pa,U:Ra,V:La,w:qa,W:Da,x:null,X:null,y:Ua,Y:Oa,Z:Fa,"%":Ia},T={a:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=_[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:Gu,e:Gu,f:ea,H:Ju,I:Ju,j:Qu,L:na,m:Zu,M:Ku,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=p[r[0].toLowerCase()],e+r[0].length):-1},Q:ia,s:oa,S:ta,u:Bu,U:Hu,V:ju,w:Yu,W:Xu,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:$u,Y:Vu,Z:Wu,"%":ra};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",Ru);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Lu);return n.toString=function(){return t},n}}}function Uu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ou(t){return t.replace(kg,"\\$&")}function Fu(t){return new RegExp("^(?:"+t.map(Ou).join("|")+")","i")}function Iu(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Yu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Bu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Hu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Xu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=Tg.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function $u(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Wu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Zu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Gu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ta(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function na(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ea(t,n,e){var r=Tg.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ra(t,n,e){var r=Ng.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ia(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function oa(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ua(t,n){return Uu(t.getDate(),n,2)}function aa(t,n){return Uu(t.getHours(),n,2)}function ca(t,n){return Uu(t.getHours()%12||12,n,2)}function sa(t,n){return Uu(1+Pv.count(Gv(t),t),n,3)}function fa(t,n){return Uu(t.getMilliseconds(),n,3)}function la(t,n){return fa(t,n)+"000"}function ha(t,n){return Uu(t.getMonth()+1,n,2)}function pa(t,n){return Uu(t.getMinutes(),n,2)}function da(t,n){return Uu(t.getSeconds(),n,2)}function va(t){var n=t.getDay();return 0===n?7:n}function ga(t,n){return Uu(Lv.count(Gv(t),t),n,2)}function _a(t,n){var e=t.getDay();return t=e>=4||0===e?Ov(t):Ov.ceil(t),Uu(Ov.count(Gv(t),t)+(4===Gv(t).getDay()),n,2)}function ya(t){return t.getDay()}function ma(t,n){return Uu(qv.count(Gv(t),t),n,2)}function xa(t,n){return Uu(t.getFullYear()%100,n,2)}function ba(t,n){return Uu(t.getFullYear()%1e4,n,4)}function wa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Uu(n/60|0,"0",2)+Uu(n%60,"0",2)}function Ma(t,n){return Uu(t.getUTCDate(),n,2)}function Ta(t,n){return Uu(t.getUTCHours(),n,2)}function Na(t,n){return Uu(t.getUTCHours()%12||12,n,2)}function ka(t,n){return Uu(1+eg.count(xg(t),t),n,3)}function Sa(t,n){return Uu(t.getUTCMilliseconds(),n,3)}function Ea(t,n){return Sa(t,n)+"000"}function Aa(t,n){return Uu(t.getUTCMonth()+1,n,2)}function Ca(t,n){return Uu(t.getUTCMinutes(),n,2)}function za(t,n){return Uu(t.getUTCSeconds(),n,2)}function Pa(t){var n=t.getUTCDay();return 0===n?7:n}function Ra(t,n){return Uu(ig.count(xg(t),t),n,2)}function La(t,n){var e=t.getUTCDay();return t=e>=4||0===e?cg(t):cg.ceil(t),Uu(cg.count(xg(t),t)+(4===xg(t).getUTCDay()),n,2)}function qa(t){return t.getUTCDay()}function Da(t,n){return Uu(og.count(xg(t),t),n,2)}function Ua(t,n){return Uu(t.getUTCFullYear()%100,n,2)}function Oa(t,n){return Uu(t.getUTCFullYear()%1e4,n,4)}function Fa(){return"+0000"}function Ia(){return"%"}function Ya(t){return+t}function Ba(t){return Math.floor(+t/1e3)}function Ha(n){return bg=Du(n),t.timeFormat=bg.format,t.timeParse=bg.parse,t.utcFormat=bg.utcFormat,t.utcParse=bg.utcParse,bg}function ja(t){return new Date(t)}function Xa(t){return t instanceof Date?+t:+new Date(+t)}function Va(t,n,r,i,o,u,a,c,s){function f(e){return(a(e)<e?g:u(e)<e?_:o(e)<e?y:i(e)<e?m:n(e)<e?r(e)<e?x:b:t(e)<e?w:M)(e)}function l(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,a=e(function(t){return t[2]}).right(T,u);a===T.length?(o=p(r/Dg,i/Dg,n),n=t):a?(o=(a=T[u/T[a-1][2]<T[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(p(r,i,n),1),n=c)}return null==o?n:n.every(o)}var h=pu(su,an),d=h.invert,v=h.domain,g=s(".%L"),_=s(":%S"),y=s("%I:%M"),m=s("%I %p"),x=s("%a %d"),b=s("%b %d"),w=s("%B"),M=s("%Y"),T=[[a,1,Cg],[a,5,5*Cg],[a,15,15*Cg],[a,30,30*Cg],[u,1,zg],[u,5,5*zg],[u,15,15*zg],[u,30,30*zg],[o,1,Pg],[o,3,3*Pg],[o,6,6*Pg],[o,12,12*Pg],[i,1,Rg],[i,2,2*Rg],[r,1,Lg],[n,1,qg],[n,3,3*qg],[t,1,Dg]];return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?v(gv.call(t,Xa)):v().map(ja)},h.ticks=function(t,n){var e,r=v(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=v();return(t=l(t,e[0],e[e.length-1],n))?v(_u(e,t)):h},h.copy=function(){return hu(h,Va(t,n,r,i,o,u,a,c,s))},h}function $a(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Wa(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Za(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Za(t).domain([e,r]).clamp(i)},du(n)}function Ga(t){return function(){return t}}function Qa(t){return t>=1?i_:t<=-1?-i_:Math.asin(t)}function Ja(t){return t.innerRadius}function Ka(t){return t.outerRadius}function tc(t){return t.startAngle}function nc(t){return t.endAngle}function ec(t){return t&&t.padAngle}function rc(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/n_(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,g=(h+d)/2,_=(p+v)/2,y=d-h,m=v-p,x=y*y+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*n_(Jg(0,b*b*x-w*w)),T=(w*m-y*M)/x,N=(-w*y-m*M)/x,k=(w*m+y*M)/x,S=(-w*y+m*M)/x,E=T-g,A=N-_,C=k-g,z=S-_;return E*E+A*A>C*C+z*z&&(T=k,N=S),{cx:T,cy:N,x01:-f,y01:-l,x11:T*(i/b-1),y11:N*(i/b-1)}}function ic(t){this._context=t}function oc(t){return new ic(t)}function uc(t){return t[0]}function ac(t){return t[1]}function cc(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=ee())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=uc,e=ac,r=Ga(!0),i=null,o=oc,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:Ga(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t}function sc(){function t(t){var n,f,l,h,p,d=t.length,v=!1,g=new Array(d),_=new Array(d);for(null==a&&(s=c(p=ee())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(g[l],_[l]);s.lineEnd(),s.areaEnd()}v&&(g[n]=+e(h,n,t),_[n]=+i(h,n,t),s.point(r?+r(h,n,t):g[n],o?+o(h,n,t):_[n]))}if(p)return s=null,p+""||null}function n(){return cc().defined(u).curve(c).context(a)}var e=uc,r=null,i=Ga(0),o=ac,u=Ga(!0),a=null,c=oc,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Ga(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:Ga(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Ga(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t}function fc(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function lc(t){return t}function hc(t){this._curve=t}function pc(t){function n(n){return new hc(t(n))}return n._curve=t,n}function dc(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function vc(){return dc(cc().curve(u_))}function gc(){var t=sc().curve(u_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return dc(e())},delete t.lineX0,t.lineEndAngle=function(){return dc(r())},delete t.lineX1,t.lineInnerRadius=function(){return dc(i())},delete t.lineY0,t.lineOuterRadius=function(){return dc(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function _c(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function yc(t){return t.source}function mc(t){return t.target}function xc(t){function n(){var n,a=a_.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=ee()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=yc,r=mc,i=uc,o=ac,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Ga(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:Ga(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function bc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function wc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Mc(t,n,e,r,i){var o=_c(n,e),u=_c(n,e=(e+i)/2),a=_c(r,e),c=_c(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Tc(){}function Nc(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function kc(t){this._context=t}function Sc(t){this._context=t}function Ec(t){this._context=t}function Ac(t,n){this._basis=new kc(t),this._beta=n}function Cc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zc(t,n){this._context=t,this._k=(1-n)/6}function Pc(t,n){this._context=t,this._k=(1-n)/6}function Rc(t,n){this._context=t,this._k=(1-n)/6}function Lc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>e_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>e_){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function qc(t,n){this._context=t,this._alpha=n}function Dc(t,n){this._context=t,this._alpha=n}function Uc(t,n){this._context=t,this._alpha=n}function Oc(t){this._context=t}function Fc(t){return t<0?-1:1}function Ic(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Fc(o)+Fc(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Yc(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Bc(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Hc(t){this._context=t}function jc(t){this._context=new Xc(t)}function Xc(t){this._context=t}function Vc(t){this._context=t}function $c(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Wc(t,n){this._context=t,this._t=n}function Zc(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Gc(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Qc(t,n){return t[n]}function Jc(t){var n=t.map(Kc);return Gc(t).sort(function(t,e){return n[t]-n[e]})}function Kc(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function ts(t){return function(){return t}}function ns(t){return t[0]}function es(t){return t[1]}function rs(){this._=null}function is(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function os(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function us(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function as(t){for(;t.L;)t=t.L;return t}function cs(t,n,e,r){var i=[null,null],o=D_.push(i)-1;return i.left=t,i.right=n,e&&fs(i,t,n,e),r&&fs(i,n,t,r),L_[t.index].halfedges.push(o),L_[n.index].halfedges.push(o),i}function ss(t,n,e){var r=[n,e];return r.left=t,r}function fs(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function ls(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,p=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*p]),l<1&&(t[1]=[c+l*h,s+l*p]),!0)}}}}}function hs(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,g=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=g-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function ps(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ds(t,n){return n[+(n.left!==t.site)]}function vs(t,n){return n[+(n.left===t.site)]}function gs(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-I_)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,g=(c*d-f*p)/h,_=U_.pop()||new function(){is(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=i,_.x=v+u,_.y=(_.cy=g+a)+Math.sqrt(v*v+g*g),t.circle=_;for(var y=null,m=q_._;m;)if(_.y<m.y||_.y===m.y&&_.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}q_.insert(y,_),y||(P_=_)}}}}function _s(t){var n=t.circle;n&&(n.P||(P_=n.N),q_.remove(n),U_.push(n),is(n),t.circle=null)}function ys(t){var n=O_.pop()||new function(){is(this),this.edge=this.site=this.circle=null};return n.site=t,n}function ms(t){_s(t),R_.remove(t),O_.push(t),is(t)}function xs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];ms(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<F_&&Math.abs(r-c.circle.cy)<F_;)o=c.P,a.unshift(c),ms(c),c=o;a.unshift(c),_s(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<F_&&Math.abs(r-s.circle.cy)<F_;)u=s.N,a.push(s),ms(s),s=u;a.push(s),_s(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],fs(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=cs(c.site,s.site,null,i),gs(c),gs(s)}function bs(t){for(var n,e,r,i,o=t[0],u=t[1],a=R_._;a;)if((r=ws(a,u)-o)>F_)a=a.L;else{if(!((i=o-function(t,n){var e=t.N;if(e)return ws(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(a,u))>F_)){r>-F_?(n=a.P,e=a):i>-F_?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}(function(t){L_[t.index]={site:t,halfedges:[]}})(t);var c=ys(t);if(R_.insert(n,c),n||e){if(n===e)return _s(n),e=ys(n.site),R_.insert(c,e),c.edge=e.edge=cs(n.site,c.site),gs(n),void gs(e);if(e){_s(n),_s(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,p=t[1]-l,d=e.site,v=d[0]-f,g=d[1]-l,_=2*(h*g-p*v),y=h*h+p*p,m=v*v+g*g,x=[(g*y-p*m)/_+f,(h*m-v*y)/_+l];fs(e.edge,s,d,x),c.edge=cs(s,t,null,x),e.edge=cs(t,d,null,x),gs(n),gs(e)}else c.edge=cs(n.site,c.site)}}function ws(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Ms(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Ts(t,n){return n[1]-t[1]||n[0]-t[0]}function Ns(t,n){var e,r,i,o=t.sort(Ts).pop();for(D_=[],L_=new Array(t.length),R_=new rs,q_=new rs;;)if(i=P_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(bs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;xs(i.arc)}if(function(){for(var t,n,e,r,i=0,o=L_.length;i<o;++i)if((t=L_[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ps(t,D_[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=D_.length;o--;)hs(i=D_[o],t,n,e,r)&&ls(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>F_||Math.abs(i[0][1]-i[1][1])>F_)||delete D_[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,g=L_.length,_=!0;for(i=0;i<g;++i)if(o=L_[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)D_[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)d=(p=vs(o,D_[c[a]]))[0],v=p[1],l=(f=ds(o,D_[c[++a%s]]))[0],h=f[1],(Math.abs(d-l)>F_||Math.abs(v-h)>F_)&&(c.splice(a,0,D_.push(ss(u,p,Math.abs(d-t)<F_&&r-v>F_?[t,Math.abs(l-t)<F_?h:r]:Math.abs(v-r)<F_&&e-d>F_?[Math.abs(h-r)<F_?l:e,r]:Math.abs(d-e)<F_&&v-n>F_?[e,Math.abs(l-e)<F_?h:n]:Math.abs(v-n)<F_&&d-t>F_?[Math.abs(h-n)<F_?l:t,n]:null))-1),++s);s&&(_=!1)}if(_){var y,m,x,b=1/0;for(i=0,_=null;i<g;++i)(o=L_[i])&&(x=(y=(u=o.site)[0]-t)*y+(m=u[1]-n)*m)<b&&(b=x,_=o);if(_){var w=[t,n],M=[t,r],T=[e,r],N=[e,n];_.halfedges.push(D_.push(ss(u=_.site,w,M))-1,D_.push(ss(u,M,T))-1,D_.push(ss(u,T,N))-1,D_.push(ss(u,N,w))-1)}}for(i=0;i<g;++i)(o=L_[i])&&(o.halfedges.length||delete L_[i])}(u,a,c,s)}this.edges=D_,this.cells=L_,R_=q_=D_=L_=null}function ks(t){return function(){return t}}function Ss(t,n,e){this.k=t,this.x=n,this.y=e}function Es(t){return t.__zoom||Y_}function As(){t.event.stopImmediatePropagation()}function Cs(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function zs(){return!t.event.button}function Ps(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Rs(){return this.__zoom||Y_}function Ls(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function qs(){return"ontouchstart"in this}function Ds(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var Us=e(n),Os=Us.right,Fs=Us.left,Is=Array.prototype,Ys=Is.slice,Bs=Is.map,Hs=Math.sqrt(50),js=Math.sqrt(10),Xs=Math.sqrt(2),Vs=Array.prototype.slice,$s=1,Ws=2,Zs=3,Gs=4,Qs=1e-6,Js={value:function(){}};k.prototype=N.prototype={constructor:k,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=S(r[e],t.name,n);else if(null==n)for(e in r)r[e]=S(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new k(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ks="http://www.w3.org/1999/xhtml",tf={svg:"http://www.w3.org/2000/svg",xhtml:Ks,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nf=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ef=document.documentElement;if(!ef.matches){var rf=ef.webkitMatchesSelector||ef.msMatchesSelector||ef.mozMatchesSelector||ef.oMatchesSelector;nf=function(t){return function(){return rf.call(this,t)}}}}var of=nf;q.prototype={constructor:q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var uf="$";H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var af={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(af={mouseenter:"mouseover",mouseleave:"mouseout"})}var cf=[null];ut.prototype=at.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new ut(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new ut(r,i)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ut(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?U:D,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,p=t.call(f,f&&f.__data__,s,r),d=p.length,v=a[s]=new Array(d),g=u[s]=new Array(d);e(f,l,v,g,c[s]=new Array(h),p,n);for(var _,y,m=0,x=0;m<d;++m)if(_=v[m]){for(m>=x&&(x=m+1);!(y=g[x])&&++x<d;);_._next=y||null}}return u=new ut(u,r),u._enter=a,u._exit=c,u},enter:function(){return new ut(this._enter||this._groups.map(L),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(L),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new ut(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=O);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=E(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Y(t+"");if(arguments.length<2){for(var r=B(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?j:X)(this,t)}}:n?function(t){return function(){j(this,t)}}:function(t){return function(){X(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(Z)},append:function(t){var n="function"==typeof t?t:A(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:A(t),r=null==n?G:"function"==typeof n?n:z(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?K:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?rt:et,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ot(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ot(this,t,n)}})(t,n))}};var sf=0;ft.prototype=st.prototype={constructor:ft,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ff="\\s*([+-]?\\d+)\\s*",lf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pf=/^#([0-9a-f]{3})$/,df=/^#([0-9a-f]{6})$/,vf=new RegExp("^rgb\\("+[ff,ff,ff]+"\\)$"),gf=new RegExp("^rgb\\("+[hf,hf,hf]+"\\)$"),_f=new RegExp("^rgba\\("+[ff,ff,ff,lf]+"\\)$"),yf=new RegExp("^rgba\\("+[hf,hf,hf,lf]+"\\)$"),mf=new RegExp("^hsl\\("+[lf,hf,hf]+"\\)$"),xf=new RegExp("^hsla\\("+[lf,hf,hf,lf]+"\\)$"),bf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nt(St,Et,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Nt(Rt,Pt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Nt(Dt,qt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var wf=Math.PI/180,Mf=180/Math.PI,Tf=.95047,Nf=1,kf=1.08883,Sf=4/29,Ef=6/29,Af=3*Ef*Ef,Cf=Ef*Ef*Ef;Nt(It,Ft,kt(St,{brighter:function(t){return new It(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new It(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=Nf*Bt(t),n=Tf*Bt(n),e=kf*Bt(e),new Rt(Ht(3.2404542*n-1.5371385*t-.4985314*e),Ht(-.969266*n+1.8760108*t+.041556*e),Ht(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Nt(Vt,Xt,kt(St,{brighter:function(t){return new Vt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Vt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ot(this).rgb()}}));var zf=-.29227,Pf=-.90649,Rf=1.97294,Lf=Rf*Pf,qf=1.78277*Rf,Df=1.78277*zf- -.14861*Pf;Nt(Wt,$t,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*wf,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(zf*r+Pf*i)),255*(n+e*(Rf*r)),this.opacity)}}));var Uf,Of,Ff,If,Yf,Bf,Hf=function t(n){function e(t,n){var e=r((t=Pt(t)).r,(n=Pt(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=en(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=nn(n);return e.gamma=t,e}(1),jf=rn(Gt),Xf=rn(Qt),Vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$f=new RegExp(Vf.source,"g"),Wf=180/Math.PI,Zf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Gf=pn(function(t){return"none"===t?Zf:(Uf||(Uf=document.createElement("DIV"),Of=document.documentElement,Ff=document.defaultView),Uf.style.transform=t,t=Ff.getComputedStyle(Of.appendChild(Uf),null).getPropertyValue("transform"),Of.removeChild(Uf),t=t.slice(7,-1).split(","),hn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Qf=pn(function(t){return null==t?Zf:(If||(If=document.createElementNS("http://www.w3.org/2000/svg","g")),If.setAttribute("transform",t),(t=If.transform.baseVal.consolidate())?(t=t.matrix,hn(t.a,t.b,t.c,t.d,t.e,t.f)):Zf)},", ",")",")"),Jf=Math.SQRT2,Kf=2,tl=4,nl=1e-12,el=gn(tn),rl=gn(en),il=_n(tn),ol=_n(en),ul=yn(tn),al=yn(en),cl=0,sl=0,fl=0,ll=1e3,hl=0,pl=0,dl=0,vl="object"==typeof performance&&performance.now?performance:Date,gl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};bn.prototype=wn.prototype={constructor:bn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mn():+e)+(null==n?0:+n),this._next||Bf===this||(Bf?Bf._next=this:Yf=this,Bf=this),this._call=t,this._time=e,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};var _l=N("start","end","interrupt"),yl=[],ml=0,xl=1,bl=2,wl=3,Ml=4,Tl=5,Nl=6,kl=at.prototype.constructor,Sl=0,El=at.prototype;qn.prototype=Dn.prototype={constructor:qn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=z(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,En(l[h],n,e,h,l,zn(a,e)));return new qn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=zn(c,e),v=0,g=p.length;v<g;++v)(h=p[v])&&En(h,n,e,v,p,d);o.push(p),u.push(c)}return new qn(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new qn(u,this._parents,this._name,this._id)},selection:function(){return new kl(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Un(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=zn(u,n);En(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new qn(r,this._parents,t,e)},call:El.call,nodes:El.nodes,node:El.node,size:El.size,empty:El.empty,each:El.each,on:function(t,n){var e=this._id;return arguments.length<2?zn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?An:Cn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=E(t),r="transform"===e?Qf:Ln;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,Rn(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=E(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Gf:Ln;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=I(this,t),u=(this.style.removeProperty(t),I(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=I(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=I(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,Rn(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=I(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Rn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=zn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Cn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Cn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){An(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){An(this,t).delay=n}})(n,t)):zn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Cn(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Cn(this,t).duration=n}})(n,t)):zn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Cn(this,t).ease=n}}(n,t)):zn(this.node(),n).ease}};var Al=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Cl=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),zl=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Pl=Math.PI,Rl=Pl/2,Ll=4/11,ql=6/11,Dl=8/11,Ul=.75,Ol=9/11,Fl=10/11,Il=.9375,Yl=21/22,Bl=63/64,Hl=1/Ll/Ll,jl=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Xl=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Vl=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),$l=2*Math.PI,Wl=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Zl=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Gl=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Ql={time:null,delay:0,duration:250,ease:Fn};at.prototype.interrupt=function(t){return this.each(function(){Pn(this,t)})},at.prototype.transition=function(t){var n,e;t instanceof qn?(n=t._id,t=t._name):(n=Un(),(e=Ql).time=mn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&En(u,t,n,s,a,e||jn(u,n));return new qn(r,this._parents,t,n)};var Jl=[null],Kl={name:"drag"},th={name:"space"},nh={name:"handle"},eh={name:"center"},rh={name:"x",handles:["e","w"].map(Wn),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ih={name:"y",handles:["n","s"].map(Wn),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},oh={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Wn),input:function(t){return t},output:function(t){return t}},uh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ah={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ch={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},sh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},lh=Math.cos,hh=Math.sin,ph=Math.PI,dh=ph/2,vh=2*ph,gh=Math.max,_h=Array.prototype.slice,yh=Math.PI,mh=2*yh,xh=mh-1e-6;ne.prototype=ee.prototype={constructor:ne,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,g=Math.sqrt(d),_=Math.sqrt(l),y=i*Math.tan((yh-Math.acos((d+l-v)/(2*g*_)))/2),m=y/_,x=y/g;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%mh+mh),l>xh?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=yh)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};ce.prototype=se.prototype={constructor:ce,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var bh=se.prototype;de.prototype=ve.prototype={constructor:de,has:bh.has,add:function(t){return t+="",this["$"+t]=t,this},remove:bh.remove,clear:bh.clear,values:bh.keys,size:bh.size,empty:bh.empty,each:bh.each};var wh={},Mh={},Th=34,Nh=10,kh=13,Sh=_e(","),Eh=Sh.parse,Ah=Sh.parseRows,Ch=Sh.format,zh=Sh.formatRows,Ph=_e("\t"),Rh=Ph.parse,Lh=Ph.parseRows,qh=Ph.format,Dh=Ph.formatRows,Uh=Te.prototype=Ne.prototype;Uh.copy=function(){var t,n,e=new Ne(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ke(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ke(n));return e},Uh.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return xe(this.cover(n,e),n,e,t)},Uh.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)xe(this,u[e],a[e],t[e]);return this},Uh.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Uh.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Uh.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Uh.find=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new be(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var g=(i+u)/2,_=(o+a)/2;d.push(new be(v[3],g,_,u,a),new be(v[2],i,_,g,a),new be(v[1],g,o,u,_),new be(v[0],i,o,g,_)),(s=(n>=_)<<1|t>=g)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=y*y+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},Uh.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,g=this._x1,_=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+g)/2))?d=a:g=a,(f=u>=(c=(v+_)/2))?v=c:_=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},Uh.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Uh.root=function(){return this._root},Uh.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Uh.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new be(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new be(e,s,f,o,u)),(e=c[2])&&a.push(new be(e,r,f,s,u)),(e=c[1])&&a.push(new be(e,s,i,o,f)),(e=c[0])&&a.push(new be(e,r,i,s,f))}return this},Uh.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new be(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new be(o,u,a,f,l)),(o=i[1])&&e.push(new be(o,f,a,c,l)),(o=i[2])&&e.push(new be(o,u,l,f,s)),(o=i[3])&&e.push(new be(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Uh.x=function(t){return arguments.length?(this._x=t,this):this._x},Uh.y=function(t){return arguments.length?(this._y=t,this):this._y};var Oh,Fh=10,Ih=Math.PI*(3-Math.sqrt(5)),Yh={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return qe(100*t,n)},r:qe,s:function(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Oh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Re(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Bh=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;De.prototype=Ue.prototype,Ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Hh,jh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Ie({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Xe.prototype={constructor:Xe,reset:function(){this.s=this.t=0},add:function(t){Ve(wp,t,this.t),Ve(this,wp.s,this.s),this.s?this.t+=wp.t:this.s=wp.t},valueOf:function(){return this.s}};var Xh,Vh,$h,Wh,Zh,Gh,Qh,Jh,Kh,tp,np,ep,rp,ip,op,up,ap,cp,sp,fp,lp,hp,pp,dp,vp,gp,_p,yp,mp,xp,bp,wp=new Xe,Mp=1e-6,Tp=1e-12,Np=Math.PI,kp=Np/2,Sp=Np/4,Ep=2*Np,Ap=180/Np,Cp=Np/180,zp=Math.abs,Pp=Math.atan,Rp=Math.atan2,Lp=Math.cos,qp=Math.ceil,Dp=Math.exp,Up=Math.log,Op=Math.pow,Fp=Math.sin,Ip=Math.sign||function(t){return t>0?1:t<0?-1:0},Yp=Math.sqrt,Bp=Math.tan,Hp={Feature:function(t,n){Qe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Qe(e[r].geometry,n)}},jp={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Je(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Je(e[r],n,0)},Polygon:function(t,n){Ke(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ke(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Qe(e[r],n)}},Xp=je(),Vp=je(),$p={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){Xp.reset(),$p.lineStart=nr,$p.lineEnd=er},polygonEnd:function(){var t=+Xp;Vp.add(t<0?Ep+t:t),this.lineStart=this.lineEnd=this.point=Ge},sphere:function(){Vp.add(Ep)}},Wp=je(),Zp={point:hr,lineStart:dr,lineEnd:vr,polygonStart:function(){Zp.point=gr,Zp.lineStart=_r,Zp.lineEnd=yr,Wp.reset(),$p.polygonStart()},polygonEnd:function(){$p.polygonEnd(),Zp.point=hr,Zp.lineStart=dr,Zp.lineEnd=vr,Xp<0?(Gh=-(Jh=180),Qh=-(Kh=90)):Wp>Mp?Kh=90:Wp<-Mp&&(Qh=-90),op[0]=Gh,op[1]=Jh}},Gp={sphere:Ge,point:wr,lineStart:Tr,lineEnd:Sr,polygonStart:function(){Gp.lineStart=Er,Gp.lineEnd=Ar},polygonEnd:function(){Gp.lineStart=Tr,Gp.lineEnd=Sr}};Lr.invert=Lr;var Qp,Jp,Kp,td,nd,ed,rd,id,od,ud,ad,cd=je(),sd=Wr(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Np:-Np,c=zp(o-e);zp(c-Np)<Mp?(t.point(e,r=(r+u)/2>0?kp:-kp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Np&&(zp(e-i)<Mp&&(e-=i*Mp),zp(o-a)<Mp&&(o-=a*Mp),r=function(t,n,e,r){var i,o,u=Fp(t-e);return zp(u)>Mp?Pp((Fp(n)*(o=Lp(r))*Fp(e)-Fp(r)*(i=Lp(n))*Fp(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*kp,r.point(-Np,i),r.point(0,i),r.point(Np,i),r.point(Np,0),r.point(Np,-i),r.point(0,-i),r.point(-Np,-i),r.point(-Np,0),r.point(-Np,i);else if(zp(t[0]-n[0])>Mp){var o=t[0]<n[0]?Np:-Np;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Np,-kp]),fd=1e9,ld=-fd,hd=je(),pd={sphere:Ge,point:Ge,lineStart:function(){pd.point=ti,pd.lineEnd=Kr},lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge},dd=[null,null],vd={type:"LineString",coordinates:dd},gd={Feature:function(t,n){return ii(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ii(e[r].geometry,n))return!0;return!1}},_d={Sphere:function(){return!0},Point:function(t,n){return oi(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(oi(e[r],n))return!0;return!1},LineString:function(t,n){return ui(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ui(e[r],n))return!0;return!1},Polygon:function(t,n){return ai(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ai(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ii(e[r],n))return!0;return!1}},yd=je(),md=je(),xd={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){xd.lineStart=di,xd.lineEnd=_i},polygonEnd:function(){xd.lineStart=xd.lineEnd=xd.point=Ge,yd.add(zp(md)),md.reset()},result:function(){var t=yd/2;return yd.reset(),t}},bd=1/0,wd=bd,Md=-bd,Td=Md,Nd={point:function(t,n){t<bd&&(bd=t),t>Md&&(Md=t),n<wd&&(wd=n),n>Td&&(Td=n)},lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var t=[[bd,wd],[Md,Td]];return Md=Td=-(wd=bd=1/0),t}},kd=0,Sd=0,Ed=0,Ad=0,Cd=0,zd=0,Pd=0,Rd=0,Ld=0,qd={point:yi,lineStart:mi,lineEnd:wi,polygonStart:function(){qd.lineStart=Mi,qd.lineEnd=Ti},polygonEnd:function(){qd.point=yi,qd.lineStart=mi,qd.lineEnd=wi},result:function(){var t=Ld?[Pd/Ld,Rd/Ld]:zd?[Ad/zd,Cd/zd]:Ed?[kd/Ed,Sd/Ed]:[NaN,NaN];return kd=Sd=Ed=Ad=Cd=zd=Pd=Rd=Ld=0,t}};Si.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ep)}},result:Ge};var Dd,Ud,Od,Fd,Id,Yd=je(),Bd={point:Ge,lineStart:function(){Bd.point=Ei},lineEnd:function(){Dd&&Ai(Ud,Od),Bd.point=Ge},polygonStart:function(){Dd=!0},polygonEnd:function(){Dd=null},result:function(){var t=+Yd;return Yd.reset(),t}};Ci.prototype={_radius:4.5,_circle:zi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=zi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ri.prototype={constructor:Ri,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hd=16,jd=Lp(30*Cp),Xd=Pi({point:function(t,n){this.stream.point(t*Cp,n*Cp)}}),Vd=Vi(function(t){return Yp(2/(1+t))});Vd.invert=$i(function(t){return 2*We(t/2)});var $d=Vi(function(t){return(t=$e(t))&&t/Fp(t)});$d.invert=$i(function(t){return t}),Wi.invert=function(t,n){return[t,2*Pp(Dp(n))-kp]},Ji.invert=Ji,to.invert=$i(Pp),eo.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(zp(e)>Mp&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},ro.invert=$i(We),io.invert=$i(function(t){return 2*Pp(t)}),oo.invert=function(t,n){return[-n,2*Pp(Dp(t))-kp]},vo.prototype=fo.prototype={constructor:vo,count:function(){return this.eachAfter(so)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return fo(this).eachBefore(ho)}};var Wd=Array.prototype.slice,Zd="$",Gd={depth:-1},Qd={};Ho.prototype=Object.create(vo.prototype);var Jd=(1+Math.sqrt(5))/2,Kd=function t(n){function e(t,e,r,i,o){Xo(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),tv=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?qo(a,e,r,i,r+=(o-r)*a.value/p):jo(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=Xo(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),nv=[].slice,ev={};Zo.prototype=Ko.prototype={constructor:Zo,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=nv.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Go(this),this},abort:function(){return null==this._error&&Qo(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},Jo(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Jo(this),this}};var rv=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(tu),iv=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(tu),ov=function t(n){function e(){var t=iv.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(tu),uv=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(tu),av=function t(n){function e(t){var e=uv.source(n)(t);return function(){return e()/t}}return e.source=t,e}(tu),cv=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(tu),sv=eu("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),fv=eu("application/json",function(t){return JSON.parse(t.responseText)}),lv=eu("text/plain",function(t){return t.responseText}),hv=eu("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),pv=ru("text/csv",Eh),dv=ru("text/tab-separated-values",Rh),vv=Array.prototype,gv=vv.map,_v=vv.slice,yv={name:"implicit"},mv=[0,1],xv=new Date,bv=new Date,wv=Cu(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});wv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Cu(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):wv:null};var Mv=wv.range,Tv=6e4,Nv=6048e5,kv=Cu(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Sv=kv.range,Ev=Cu(function(t){t.setTime(Math.floor(t/Tv)*Tv)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getMinutes()}),Av=Ev.range,Cv=Cu(function(t){var n=t.getTimezoneOffset()*Tv%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),zv=Cv.range,Pv=Cu(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/864e5},function(t){return t.getDate()-1}),Rv=Pv.range,Lv=zu(0),qv=zu(1),Dv=zu(2),Uv=zu(3),Ov=zu(4),Fv=zu(5),Iv=zu(6),Yv=Lv.range,Bv=qv.range,Hv=Dv.range,jv=Uv.range,Xv=Ov.range,Vv=Fv.range,$v=Iv.range,Wv=Cu(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Zv=Wv.range,Gv=Cu(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Gv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Qv=Gv.range,Jv=Cu(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getUTCMinutes()}),Kv=Jv.range,tg=Cu(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),ng=tg.range,eg=Cu(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),rg=eg.range,ig=Pu(0),og=Pu(1),ug=Pu(2),ag=Pu(3),cg=Pu(4),sg=Pu(5),fg=Pu(6),lg=ig.range,hg=og.range,pg=ug.range,dg=ag.range,vg=cg.range,gg=sg.range,_g=fg.range,yg=Cu(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),mg=yg.range,xg=Cu(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var bg,wg=xg.range,Mg={"-":"",_:" ",0:"0"},Tg=/^\s*\d+/,Ng=/^%/,kg=/[\\^$*+?|[\]().{}]/g;Ha({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Sg="%Y-%m-%dT%H:%M:%S.%LZ",Eg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Sg),Ag=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(Sg),Cg=1e3,zg=60*Cg,Pg=60*zg,Rg=24*Pg,Lg=7*Rg,qg=30*Rg,Dg=365*Rg,Ug=$a("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Og=$a("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Fg=$a("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ig=$a("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Yg=al($t(300,.5,0),$t(-240,.5,1)),Bg=al($t(-100,.75,.35),$t(80,1.5,.8)),Hg=al($t(260,.75,.35),$t(80,1.5,.8)),jg=$t(),Xg=Wa($a("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vg=Wa($a("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$g=Wa($a("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Wg=Wa($a("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Zg=Math.abs,Gg=Math.atan2,Qg=Math.cos,Jg=Math.max,Kg=Math.min,t_=Math.sin,n_=Math.sqrt,e_=1e-12,r_=Math.PI,i_=r_/2,o_=2*r_;ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var u_=pc(oc);hc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var a_=Array.prototype.slice,c_={draw:function(t,n){var e=Math.sqrt(n/r_);t.moveTo(e,0),t.arc(0,0,e,0,o_)}},s_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},f_=Math.sqrt(1/3),l_=2*f_,h_={draw:function(t,n){var e=Math.sqrt(n/l_),r=e*f_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},p_=Math.sin(r_/10)/Math.sin(7*r_/10),d_=Math.sin(o_/10)*p_,v_=-Math.cos(o_/10)*p_,g_={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=d_*e,i=v_*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=o_*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},__={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},y_=Math.sqrt(3),m_={draw:function(t,n){var e=-Math.sqrt(n/(3*y_));t.moveTo(0,2*e),t.lineTo(-y_*e,-e),t.lineTo(y_*e,-e),t.closePath()}},x_=Math.sqrt(3)/2,b_=1/Math.sqrt(12),w_=3*(b_/2+1),M_={draw:function(t,n){var e=Math.sqrt(n/w_),r=e/2,i=e*b_,o=r,u=e*b_+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-x_*i,x_*r+-.5*i),t.lineTo(-.5*o-x_*u,x_*o+-.5*u),t.lineTo(-.5*a-x_*c,x_*a+-.5*c),t.lineTo(-.5*r+x_*i,-.5*i-x_*r),t.lineTo(-.5*o+x_*u,-.5*u-x_*o),t.lineTo(-.5*a+x_*c,-.5*c-x_*a),t.closePath()}},T_=[c_,s_,h_,__,g_,m_,M_];kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Sc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ac.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var N_=function t(n){function e(t){return 1===n?new kc(t):new Ac(t,n)}return e.beta=function(n){return t(+n)},e}(.85);zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var k_=function t(n){function e(t){return new zc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Pc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var S_=function t(n){function e(t){return new Pc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var E_=function t(n){function e(t){return new Rc(t,n)}return e.tension=function(n){return t(+n)},e}(0);qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var A_=function t(n){function e(t){return n?new qc(t,n):new zc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Dc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var C_=function t(n){function e(t){return n?new Dc(t,n):new Pc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var z_=function t(n){function e(t){return n?new Uc(t,n):new Rc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Oc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bc(this,this._t0,Yc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bc(this,Yc(this,e=Ic(this,t,n)),e);break;default:Bc(this,this._t0,e=Ic(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(jc.prototype=Object.create(Hc.prototype)).point=function(t,n){Hc.prototype.point.call(this,n,t)},Xc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=$c(t),i=$c(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},rs.prototype={constructor:rs,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=as(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(os(this,e),e=(t=e).U),e.C=!1,r.C=!0,us(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(us(this,e),e=(t=e).U),e.C=!1,r.C=!0,os(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?as(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,os(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,us(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,os(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,us(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,os(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,us(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var P_,R_,L_,q_,D_,U_=[],O_=[],F_=1e-6,I_=1e-12;Ns.prototype={constructor:Ns,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return ds(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Ms(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}},Ss.prototype={constructor:Ss,scale:function(t){return 1===t?this:new Ss(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ss(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Y_=new Ss(1,0,0);Es.prototype=Ss.prototype,t.version="4.13.0",t.bisect=Os,t.bisectRight=Os,t.bisectLeft=Fs,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==e&&(e=r),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=e(a,n[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=u,t.extent=a,t.histogram=function(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var c=e(a),s=c[0],l=c[1],h=r(a,s,l);Array.isArray(h)||(h=p(s,l,h),h=f(Math.ceil(s/h)*h,Math.floor(l/h)*h,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var v,g=new Array(d+1);for(i=0;i<=d;++i)(v=g[i]=[]).x0=i>0?h[i-1]:s,v.x1=i<d?h[i]:l;for(i=0;i<u;++i)s<=(o=a[i])&&o<=l&&g[Os(h,o,0,d)].push(t[i]);return g}var n=s,e=a,r=d;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:c(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:c([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:Array.isArray(n)?c(Ys.call(n)):c(n),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,r){return t=Bs.call(t,i).sort(n),Math.ceil((r-e)/(2*(v(t,.75)-v(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*u(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=d,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,u=-1,a=0;if(null==n)for(;++u<r;)isNaN(e=i(t[u]))?--o:a+=e;else for(;++u<r;)isNaN(e=i(n(t[u],u,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,e){var r,o=t.length,u=-1,a=[];if(null==e)for(;++u<o;)isNaN(r=i(t[u]))||a.push(r);else for(;++u<o;)isNaN(r=i(e(t[u],u,t)))||a.push(r);return v(a.sort(n),.5)},t.merge=g,t.min=_,t.pairs=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=v,t.range=f,t.scan=function(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(null==e&&(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=l,t.tickIncrement=h,t.tickStep=p,t.transpose=y,t.variance=o,t.zip=function(){return y(arguments)},t.axisTop=function(t){return T($s,t)},t.axisRight=function(t){return T(Ws,t)},t.axisBottom=function(t){return T(Zs,t)},t.axisLeft=function(t){return T(Gs,t)},t.brush=function(){return Kn(oh)},t.brushX=function(){return Kn(rh)},t.brushY=function(){return Kn(ih)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){function t(t){var o,u,a,c,s,l,h=t.length,p=[],d=f(h),v=[],g=[],_=g.groups=new Array(h),y=new Array(h*h);for(o=0,s=-1;++s<h;){for(u=0,l=-1;++l<h;)u+=t[s][l];p.push(u),v.push(f(h)),o+=u}for(e&&d.sort(function(t,n){return e(p[t],p[n])}),r&&v.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),c=(o=gh(0,vh-n*h)/o)?n:vh/h,u=0,s=-1;++s<h;){for(a=u,l=-1;++l<h;){var m=d[s],x=v[m][l],b=t[m][x],w=u,M=u+=b*o;y[x*h+m]={index:m,subindex:x,startAngle:w,endAngle:M,value:b}}_[m]={index:m,startAngle:a,endAngle:u,value:p[m]},u+=c}for(s=-1;++s<h;)for(l=s-1;++l<h;){var T=y[l*h+s],N=y[s*h+l];(T.value||N.value)&&g.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}return i?g.sort(i):g}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=gh(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(i=function(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}(n))._=n,t):i&&i._},t},t.ribbon=function(){function t(){var t,a=_h.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-dh,h=o.apply(this,a)-dh,p=f*lh(l),d=f*hh(l),v=+r.apply(this,(a[0]=s,a)),g=i.apply(this,a)-dh,_=o.apply(this,a)-dh;if(u||(u=t=ee()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===g&&h===_||(u.quadraticCurveTo(0,0,v*lh(g),v*hh(g)),u.arc(0,0,v,g,_)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=re,e=ie,r=oe,i=ue,o=ae,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:te(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:te(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:te(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t},t.nest=function(){function t(n,i,u,a){if(i>=o.length)return null!=e&&n.sort(e),null!=r?r(n):n;for(var c,s,f,l=-1,h=n.length,p=o[i++],d=se(),v=u();++l<h;)(f=d.get(c=p(s=n[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,i,u,a))}),v}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,fe,le)},map:function(n){return t(n,0,he,pe)},entries:function(e){return n(t(e,0,he,pe),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},t.set=ve,t.map=se,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=Et,t.rgb=Pt,t.hsl=qt,t.lab=Ft,t.hcl=Xt,t.cubehelix=$t,t.dispatch=N,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(g).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),pt,this,arguments);n&&(ct(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),_t(t.event.view),vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(gt(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}_.mouse("drag")}function i(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,l),gt(),_.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,dt,this,arguments))&&(vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=_[r[n].identifier])&&(gt(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=_[r[n].identifier])&&(vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=y.copy();if(it(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=v.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":_[e]=t,p=m++;break;case"end":delete _[e],--m;case"drag":f=i(r,e),p=m}it(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,v=Mt,g=Tt,_={},y=N("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:mt(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:mt(t),n):d},n.subject=function(t){return arguments.length?(v="function"==typeof t?t:mt(t),n):v},n.touchable=function(t){return arguments.length?(g="function"==typeof t?t:mt(!!t),n):g},n.on=function(){var t=y.on.apply(y,arguments);return t===y?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=_t,t.dragEnable=yt,t.dsvFormat=_e,t.csvParse=Eh,t.csvParseRows=Ah,t.csvFormat=Ch,t.csvFormatRows=zh,t.tsvParse=Rh,t.tsvParseRows=Lh,t.tsvFormat=qh,t.tsvFormatRows=Dh,t.easeLinear=function(t){return+t},t.easeQuad=On,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=On,t.easeCubic=Fn,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Fn,t.easePoly=zl,t.easePolyIn=Al,t.easePolyOut=Cl,t.easePolyInOut=zl,t.easeSin=In,t.easeSinIn=function(t){return 1-Math.cos(t*Rl)},t.easeSinOut=function(t){return Math.sin(t*Rl)},t.easeSinInOut=In,t.easeExp=Yn,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Yn,t.easeCircle=Bn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Bn,t.easeBounce=Hn,t.easeBounceIn=function(t){return 1-Hn(1-t)},t.easeBounceOut=Hn,t.easeBounceInOut=function(t){return((t*=2)<=1?1-Hn(1-t):Hn(t-1)+1)/2},t.easeBack=Vl,t.easeBackIn=jl,t.easeBackOut=Xl,t.easeBackInOut=Vl,t.easeElastic=Zl,t.easeElasticIn=Wl,t.easeElasticOut=Zl,t.easeElasticInOut=Gl,t.forceCenter=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)u+=(i=r[e]).x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)(i=r[e]).x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},t.forceCollide=function(t){function n(){for(var t,n,r,c,s,f,l,h=i.length,p=0;p<a;++p)for(n=Te(i,Se,Ee).visitAfter(e),t=0;t<h;++t)r=i[t],f=o[r.index],l=f*f,c=r.x+r.vx,s=r.y+r.vy,n.visit(function(t,n,e,i,o){var a=t.data,h=t.r,p=f+h;if(!a)return n>c+p||i<c-p||e>s+p||o<s-p;if(a.index>r.index){var d=c-a.x-a.vx,v=s-a.y-a.vy,g=d*d+v*v;g<p*p&&(0===d&&(d=me(),g+=d*d),0===v&&(v=me(),g+=v*v),g=(p-(g=Math.sqrt(g)))/g*u,r.vx+=(d*=g)*(p=(h*=h)/(l+h)),r.vy+=(v*=g)*p,a.vx-=d*(p=1-p),a.vy-=v*p)}})}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1;return"function"!=typeof t&&(t=ye(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ye(+e),r(),n):t},n},t.forceLink=function(t){function n(n){for(var e=0,r=t.length;e<p;++e)for(var i,a,c,f,l,h,d,v=0;v<r;++v)a=(i=t[v]).source,f=(c=i.target).x+c.vx-a.x-a.vx||me(),l=c.y+c.vy-a.y-a.vy||me(),f*=h=((h=Math.sqrt(f*f+l*l))-u[v])/h*n*o[v],l*=h,c.vx-=f*(d=s[v]),c.vy-=l*d,a.vx+=f*(d=1-d),a.vy+=l*d}function e(){if(a){var n,e,l=a.length,h=t.length,p=se(a,f);for(n=0,c=new Array(l);n<h;++n)(e=t[n]).index=n,"object"!=typeof e.source&&(e.source=Ce(p,e.source)),"object"!=typeof e.target&&(e.target=Ce(p,e.target)),c[e.source.index]=(c[e.source.index]||0)+1,c[e.target.index]=(c[e.target.index]||0)+1;for(n=0,s=new Array(h);n<h;++n)e=t[n],s[n]=c[e.source.index]/(c[e.source.index]+c[e.target.index]);o=new Array(h),r(),u=new Array(h),i()}}function r(){if(a)for(var n=0,e=t.length;n<e;++n)o[n]=+l(t[n],n,t)}function i(){if(a)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}var o,u,a,c,s,f=Ae,l=function(t){return 1/Math.min(c[t.source.index],c[t.target.index])},h=ye(30),p=1;return null==t&&(t=[]),n.initialize=function(t){a=t,e()},n.links=function(r){return arguments.length?(t=r,e(),n):t},n.id=function(t){return arguments.length?(f=t,n):f},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(l="function"==typeof t?t:ye(+t),r(),n):l},n.distance=function(t){return arguments.length?(h="function"==typeof t?t:ye(+t),i(),n):h},n},t.forceManyBody=function(){function t(t){var n,a=i.length,c=Te(i,ze,Pe).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0,c=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,i+=e*n.y);t.x=r/c,t.y=i/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ye(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ye(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},t.forceRadial=function(t,n,e){function r(t){for(var r=0,i=o.length;r<i;++r){var c=o[r],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(a[r]-l)*u[r]*t/l;c.vx+=s*h,c.vy+=f*h}}function i(){if(o){var n,e=o.length;for(u=new Array(e),a=new Array(e),n=0;n<e;++n)a[n]=+t(o[n],n,o),u[n]=isNaN(a[n])?0:+c(o[n],n,o)}}var o,u,a,c=ye(.1);return"function"!=typeof t&&(t=ye(+t)),null==n&&(n=0),null==e&&(e=0),r.initialize=function(t){o=t,i()},r.strength=function(t){return arguments.length?(c="function"==typeof t?t:ye(+t),i(),r):c},r.radius=function(n){return arguments.length?(t="function"==typeof n?n:ye(+n),i(),r):t},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(t){return arguments.length?(e=+t,r):e},r},t.forceSimulation=function(t){function n(){e(),p.call("tick",o),u<a&&(h.stop(),p.call("end",o))}function e(){var n,e,r=t.length;for(u+=(s-u)*c,l.each(function(t){t(u)}),n=0;n<r;++n)null==(e=t[n]).fx?e.x+=e.vx*=f:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=f:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=Fh*Math.sqrt(e),o=e*Ih;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),s=0,f=.6,l=se(),h=wn(n),p=N("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return h.restart(n),o},stop:function(){return h.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),l.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(s=+t,o):s},velocityDecay:function(t){return arguments.length?(f=1-t,o):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,i(n)),o):l.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(p.on(t,n),o):p.on(t)}}},t.forceX=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.forceY=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.formatDefaultLocale=Ie,t.formatLocale=Fe,t.formatSpecifier=De,t.precisionFixed=Ye,t.precisionPrefix=Be,t.precisionRound=He,t.geoArea=function(t){return Vp.reset(),tr(t,$p),2*Vp},t.geoBounds=function(t){var n,e,r,i,o,u,a;if(Kh=Jh=-(Gh=Qh=1/0),ip=[],tr(t,Zp),e=ip.length){for(ip.sort(xr),n=1,o=[r=ip[0]];n<e;++n)br(r,(i=ip[n])[0])||br(r,i[1])?(mr(r[0],i[1])>mr(r[0],r[1])&&(r[1]=i[1]),mr(i[0],r[1])>mr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=mr(r[1],i[0]))>u&&(u=a,Gh=i[0],Jh=r[1])}return ip=op=null,Gh===1/0||Qh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gh,Qh],[Jh,Kh]]},t.geoCentroid=function(t){up=ap=cp=sp=fp=lp=hp=pp=dp=vp=gp=0,tr(t,Gp);var n=dp,e=vp,r=gp,i=n*n+e*e+r*r;return i<Tp&&(n=lp,e=hp,r=pp,ap<Mp&&(n=cp,e=sp,r=fp),(i=n*n+e*e+r*r)<Tp)?[NaN,NaN]:[Rp(e,n)*Ap,We(r/Yp(i))*Ap]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),a=i.apply(this,arguments)*Cp,c=o.apply(this,arguments)*Cp;return n=[],e=qr(-t[0]*Cp,-t[1]*Cp,0).invert,Ir(u,a,c,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,r=Pr([0,0]),i=Pr(90),o=Pr(6),u={point:function(t,r){n.push(t=e(t,r)),t[0]*=Ap,t[1]*=Ap}};return t.center=function(n){return arguments.length?(r="function"==typeof n?n:Pr([+n[0],+n[1]]),t):r},t.radius=function(n){return arguments.length?(i="function"==typeof n?n:Pr(+n),t):i},t.precision=function(n){return arguments.length?(o="function"==typeof n?n:Pr(+n),t):o},t},t.geoClipAntimeridian=sd,t.geoClipCircle=Qr,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Jr(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},t.geoClipRectangle=Jr,t.geoContains=function(t,n){return(t&&gd.hasOwnProperty(t.type)?gd[t.type]:ii)(t,n)},t.geoDistance=ri,t.geoGraticule=hi,t.geoGraticule10=function(){return hi()()},t.geoInterpolate=function(t,n){var e=t[0]*Cp,r=t[1]*Cp,i=n[0]*Cp,o=n[1]*Cp,u=Lp(r),a=Fp(r),c=Lp(o),s=Fp(o),f=u*Lp(e),l=u*Fp(e),h=c*Lp(i),p=c*Fp(i),d=2*We(Yp(Ze(o-r)+u*c*Ze(i-e))),v=Fp(d),g=d?function(t){var n=Fp(t*=d)/v,e=Fp(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[Rp(i,r)*Ap,Rp(o,Yp(r*r+i*i))*Ap]}:function(){return[e*Ap,r*Ap]};return g.distance=d,g},t.geoLength=ei,t.geoPath=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),tr(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return tr(t,r(xd)),xd.result()},e.measure=function(t){return tr(t,r(Bd)),Bd.result()},e.bounds=function(t){return tr(t,r(Nd)),Nd.result()},e.centroid=function(t){return tr(t,r(qd)),qd.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,pi):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new Ci):new Si(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},t.geoAlbers=Xi,t.geoAlbersUsa=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=Xi(),s=ji().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=ji().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+Mp,a+.12*e+Mp],[r-.214*e-Mp,a+.234*e-Mp]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+Mp,a+.166*e+Mp],[r-.115*e-Mp,a+.234*e-Mp]]).stream(l),n()},t.fitExtent=function(n,e){return qi(t,n,e)},t.fitSize=function(n,e){return Di(t,n,e)},t.fitWidth=function(n,e){return Ui(t,n,e)},t.fitHeight=function(n,e){return Oi(t,n,e)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return Ii(Vd).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Vd,t.geoAzimuthalEquidistant=function(){return Ii($d).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=$d,t.geoConicConformal=function(){return Bi(Qi).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Qi,t.geoConicEqualArea=ji,t.geoConicEqualAreaRaw=Hi,t.geoConicEquidistant=function(){return Bi(Ki).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Ki,t.geoEquirectangular=function(){return Ii(Ji).scale(152.63)},t.geoEquirectangularRaw=Ji,t.geoGnomonic=function(){return Ii(to).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=to,t.geoIdentity=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=pi,p=null,d=pi;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=n=e=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,pi):Jr(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=no((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=no(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=no(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=no(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return qi(u,t,n)},fitSize:function(t,n){return Di(u,t,n)},fitWidth:function(t,n){return Ui(u,t,n)},fitHeight:function(t,n){return Oi(u,t,n)}}},t.geoProjection=Ii,t.geoProjectionMutator=Yi,t.geoMercator=function(){return Zi(Wi).scale(961/Ep)},t.geoMercatorRaw=Wi,t.geoNaturalEarth1=function(){return Ii(eo).scale(175.295)},t.geoNaturalEarth1Raw=eo,t.geoOrthographic=function(){return Ii(ro).scale(249.5).clipAngle(90+Mp)},t.geoOrthographicRaw=ro,t.geoStereographic=function(){return Ii(io).scale(250).clipAngle(142)},t.geoStereographicRaw=io,t.geoTransverseMercator=function(){var t=Zi(oo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=oo,t.geoRotation=Fr,t.geoStream=tr,t.geoTransform=function(t){return{stream:Pi(t)}},t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(ao,0)/t.length}(e),t.y=function(t){return 1+t.reduce(co,0)}(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=uo,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=fo,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(zo(n)).eachAfter(Po(i,.5)).eachBefore(Ro(1)):t.eachBefore(zo(Co)).eachAfter(Po(Eo,1)).eachAfter(Po(i,t.r/Math.min(e,r))).eachBefore(Ro(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Eo;return t.radius=function(e){return arguments.length?(n=function(t){return null==t?null:So(t)}(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Ao(+n),t):i},t},t.packSiblings=function(t){return ko(t),t},t.packEnclose=go,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore(function(t,n){return function(e){e.children&&qo(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,o=e.y0,u=e.x1-r,a=e.y1-r;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),e.x0=i,e.y0=o,e.x1=u,e.y1=a}}(e,o)),i&&t.eachBefore(Lo),t}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new vo(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Zd+(a.id=c)]=s in h?Qd:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Zd+c]))throw new Error("missing: "+c);if(u===Qd)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Gd,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(po),o.parent=null,f>0)throw new Error("cycle");return o}var n=Do,e=Uo;return t.id=function(e){return arguments.length?(n=So(e),t):n},t.parentId=function(n){return arguments.length?(e=So(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new Ho(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new Ho(r[i],i)),e.parent=n;return(u.parent=new Ho(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,p=h-s.x,d=o/(f.x+h+p),v=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){(function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)})(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=Io(a),o=Fo(o),a&&o;)c=Fo(c),(u=Io(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(Yo(Bo(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!Io(u)&&(u.t=a,u.m+=l-f),o&&!Fo(c)&&(c.t=o,c.m+=s-h,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=Oo,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Lo),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=Kd,r=!1,i=1,o=1,u=[0],a=Eo,c=Eo,s=Eo,f=Eo,l=Eo;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=So(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Ao(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Ao(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Ao(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Ao(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Ao(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,void(s.y1=a)}for(var l=f[t],h=e/2+l,p=t+1,d=n-1;p<d;){var v=p+d>>>1;f[v]<h?p=v+1:d=v}h-f[p-1]<f[p]-h&&t+1<p&&--p;var g=f[p]-l,_=e-g;if(u-r>a-i){var y=(r*_+u*g)/e;o(t,p,g,r,i,y,a),o(p,n,_,y,i,u,a)}else{var m=(i*_+a*g)/e;o(t,p,g,r,i,u,m),o(p,n,_,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},t.treemapDice=qo,t.treemapSlice=jo,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?jo:qo)(t,n,e,r,i)},t.treemapSquarify=Kd,t.treemapResquarify=tv,t.interpolate=fn,t.interpolateArray=on,t.interpolateBasis=Gt,t.interpolateBasisClosed=Qt,t.interpolateDate=un,t.interpolateNumber=an,t.interpolateObject=cn,t.interpolateRound=ln,t.interpolateString=sn,t.interpolateTransformCss=Gf,t.interpolateTransformSvg=Qf,t.interpolateZoom=vn,t.interpolateRgb=Hf,t.interpolateRgbBasis=jf,t.interpolateRgbBasisClosed=Xf,t.interpolateHsl=el,t.interpolateHslLong=rl,t.interpolateLab=function(t,n){var e=en((t=Ft(t)).l,(n=Ft(n)).l),r=en(t.a,n.a),i=en(t.b,n.b),o=en(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=il,t.interpolateHclLong=ol,t.interpolateCubehelix=ul,t.interpolateCubehelixLong=al,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=ee,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort($o),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Wo(r),u=Wo(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.quadtree=Te,t.queue=Ko,t.randomUniform=rv,t.randomNormal=iv,t.randomLogNormal=ov,t.randomBates=av,t.randomIrwinHall=uv,t.randomExponential=cv,t.request=nu,t.html=sv,t.json=fv,t.text=lv,t.xml=hv,t.csv=pv,t.tsv=dv,t.scaleBand=ou,t.scalePoint=function(){return uu(ou().paddingInner(1))},t.scaleIdentity=gu,t.scaleLinear=vu,t.scaleLog=Tu,t.scaleOrdinal=iu,t.scaleImplicit=yv,t.scalePow=ku,t.scaleSqrt=function(){return ku().exponent(.5)},t.scaleQuantile=Su,t.scaleQuantize=Eu,t.scaleThreshold=Au,t.scaleTime=function(){return Va(Gv,Wv,Lv,Pv,Cv,Ev,kv,wv,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Va(xg,yg,ig,eg,tg,Jv,kv,wv,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Ug,t.schemeCategory20b=Og,t.schemeCategory20c=Fg,t.schemeCategory20=Ig,t.interpolateCubehelixDefault=Yg,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return jg.h=360*t-100,jg.s=1.5-1.5*n,jg.l=.8-.9*n,jg+""},t.interpolateWarm=Bg,t.interpolateCool=Hg,t.interpolateViridis=Xg,t.interpolateMagma=Vg,t.interpolateInferno=$g,t.interpolatePlasma=Wg,t.scaleSequential=Za,t.create=function(t){return ct(A(t).call(document.documentElement))},t.creator=A,t.local=st,t.matcher=of,t.mouse=pt,t.namespace=E,t.namespaces=tf,t.clientPoint=ht,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new ut([document.querySelectorAll(t)],[document.documentElement]):new ut([null==t?[]:t],cf)},t.selection=at,t.selector=z,t.selectorAll=R,t.style=I,t.touch=dt,t.touches=function(t,n){null==n&&(n=lt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=ht(t,n[e]);return i},t.window=F,t.customEvent=it,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-i_,p=u.apply(this,arguments)-i_,d=Zg(p-h),v=p>h;if(c||(c=t=ee()),l<f&&(s=l,l=f,f=s),l>e_)if(d>o_-e_)c.moveTo(l*Qg(h),l*t_(h)),c.arc(0,0,l,h,p,!v),f>e_&&(c.moveTo(f*Qg(p),f*t_(p)),c.arc(0,0,f,p,h,v));else{var g,_,y=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,N=T>e_&&(i?+i.apply(this,arguments):n_(f*f+l*l)),k=Kg(Zg(l-f)/2,+r.apply(this,arguments)),S=k,E=k;if(N>e_){var A=Qa(N/f*t_(T)),C=Qa(N/l*t_(T));(w-=2*A)>e_?(A*=v?1:-1,x+=A,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>e_?(C*=v?1:-1,y+=C,m-=C):(M=0,y=m=(h+p)/2)}var z=l*Qg(y),P=l*t_(y),R=f*Qg(b),L=f*t_(b);if(k>e_){var q=l*Qg(m),D=l*t_(m),U=f*Qg(x),O=f*t_(x);if(d<r_){var F=w>e_?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,U,O,q,D,R,L):[R,L],I=z-F[0],Y=P-F[1],B=q-F[0],H=D-F[1],j=1/t_(function(t){return t>1?0:t<-1?r_:Math.acos(t)}((I*B+Y*H)/(n_(I*I+Y*Y)*n_(B*B+H*H)))/2),X=n_(F[0]*F[0]+F[1]*F[1]);S=Kg(k,(f-X)/(j-1)),E=Kg(k,(l-X)/(j+1))}}M>e_?E>e_?(g=rc(U,O,z,P,l,E,v),_=rc(q,D,R,L,l,E,v),c.moveTo(g.cx+g.x01,g.cy+g.y01),E<k?c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,l,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),!v),c.arc(_.cx,_.cy,E,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,y,m,!v)):c.moveTo(z,P),f>e_&&w>e_?S>e_?(g=rc(R,L,q,D,f,-S,v),_=rc(z,P,U,O,f,-S,v),c.lineTo(g.cx+g.x01,g.cy+g.y01),S<k?c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,f,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),v),c.arc(_.cx,_.cy,S,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(R,L)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=Ja,e=Ka,r=Ga(0),i=null,o=tc,u=nc,a=ec,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-r_/2;return[Qg(r)*t,t_(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:Ga(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:Ga(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:Ga(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=sc,t.line=cc,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),g=+i.apply(this,arguments),_=Math.min(o_,Math.max(-o_,o.apply(this,arguments)-g)),y=Math.min(Math.abs(_)/h,u.apply(this,arguments)),m=y*(_<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(_-h*m)/p:0;a<h;++a,g=f)c=d[a],f=g+((l=v[c])>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:g,endAngle:f,padAngle:y};return v}var n=lc,e=fc,r=null,i=Ga(0),o=Ga(o_),u=Ga(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t},t.areaRadial=gc,t.radialArea=gc,t.lineRadial=vc,t.radialLine=vc,t.pointRadial=_c,t.linkHorizontal=function(){return xc(bc)},t.linkVertical=function(){return xc(wc)},t.linkRadial=function(){var t=xc(Mc);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=ee()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=Ga(c_),e=Ga(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Ga(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=T_,t.symbolCircle=c_,t.symbolCross=s_,t.symbolDiamond=h_,t.symbolSquare=__,t.symbolStar=g_,t.symbolTriangle=m_,t.symbolWye=M_,t.curveBasisClosed=function(t){return new Sc(t)},t.curveBasisOpen=function(t){return new Ec(t)},t.curveBasis=function(t){return new kc(t)},t.curveBundle=N_,t.curveCardinalClosed=S_,t.curveCardinalOpen=E_,t.curveCardinal=k_,t.curveCatmullRomClosed=C_,t.curveCatmullRomOpen=z_,t.curveCatmullRom=A_,t.curveLinearClosed=function(t){return new Oc(t)},t.curveLinear=oc,t.curveMonotoneX=function(t){return new Hc(t)},t.curveMonotoneY=function(t){return new jc(t)},t.curveNatural=function(t){return new Vc(t)},t.curveStep=function(t){return new Wc(t,.5)},t.curveStepAfter=function(t){return new Wc(t,1)},t.curveStepBefore=function(t){return new Wc(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=Ga([]),e=Gc,r=Zc,i=Qc;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Ga(a_.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?Gc:"function"==typeof n?n:Ga(a_.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?Zc:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Zc(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=Zc,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}Zc(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,p=0;p<a;++p){var d=t[n[p]];h+=(d[u][1]||0)-(d[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,Zc(t,n)}},t.stackOrderAscending=Jc,t.stackOrderDescending=function(t){return Jc(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Kc),o=Gc(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=Gc,t.stackOrderReverse=function(t){return Gc(t).reverse()},t.timeInterval=Cu,t.timeMillisecond=wv,t.timeMilliseconds=Mv,t.utcMillisecond=wv,t.utcMilliseconds=Mv,t.timeSecond=kv,t.timeSeconds=Sv,t.utcSecond=kv,t.utcSeconds=Sv,t.timeMinute=Ev,t.timeMinutes=Av,t.timeHour=Cv,t.timeHours=zv,t.timeDay=Pv,t.timeDays=Rv,t.timeWeek=Lv,t.timeWeeks=Yv,t.timeSunday=Lv,t.timeSundays=Yv,t.timeMonday=qv,t.timeMondays=Bv,t.timeTuesday=Dv,t.timeTuesdays=Hv,t.timeWednesday=Uv,t.timeWednesdays=jv,t.timeThursday=Ov,t.timeThursdays=Xv,t.timeFriday=Fv,t.timeFridays=Vv,t.timeSaturday=Iv,t.timeSaturdays=$v,t.timeMonth=Wv,t.timeMonths=Zv,t.timeYear=Gv,t.timeYears=Qv,t.utcMinute=Jv,t.utcMinutes=Kv,t.utcHour=tg,t.utcHours=ng,t.utcDay=eg,t.utcDays=rg,t.utcWeek=ig,t.utcWeeks=lg,t.utcSunday=ig,t.utcSundays=lg,t.utcMonday=og,t.utcMondays=hg,t.utcTuesday=ug,t.utcTuesdays=pg,t.utcWednesday=ag,t.utcWednesdays=dg,t.utcThursday=cg,t.utcThursdays=vg,t.utcFriday=sg,t.utcFridays=gg,t.utcSaturday=fg,t.utcSaturdays=_g,t.utcMonth=yg,t.utcMonths=mg,t.utcYear=xg,t.utcYears=wg,t.timeFormatDefaultLocale=Ha,t.timeFormatLocale=Du,t.isoFormat=Eg,t.isoParse=Ag,t.now=mn,t.timer=wn,t.timerFlush=Mn,t.timeout=Sn,t.interval=function(t,n,e){var r=new bn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?mn():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=Dn,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>xl&&e.name===n)return new qn([[t]],Jl,n,+r)}return null},t.interrupt=Pn,t.voronoi=function(){function t(t){return new Ns(t.map(function(r,i){var o=[Math.round(n(r,i,t)/F_)*F_,Math.round(e(r,i,t)/F_)*F_];return o.index=i,o.data=r,o}),r)}var n=ns,e=es,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:ts(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:ts(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Rs).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Ss(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ss(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=_.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Ss(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=_.apply(t,n)}function c(){if(g.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=pt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],Pn(this),t.start()}Cs(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zoom("mouse",y(r(e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!v&&g.apply(this,arguments)){var n=u(this,arguments),e=ct(t.event.view).on("mousemove.zoom",function(){if(Cs(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>C}n.zoom("mouse",y(r(n.that.__zoom,n.mouse[0]=pt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,n.moved),Cs(),n.end()},!0),i=pt(this),o=t.event.clientX,a=t.event.clientY;_t(t.event.view),As(),n.mouse=[i,this.__zoom.invert(i)],Pn(this),n.start()}}function f(){if(g.apply(this,arguments)){var i=this.__zoom,u=pt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=y(r(e(i,c),u,a),_.apply(this,arguments),w);Cs(),M>0?ct(this).transition().duration(M).call(o,s,u):ct(this).call(n.transform,s)}}function l(){if(g.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(As(),e=0;e<c;++e)i=[i=dt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(d&&(d=clearTimeout(d),!o.touch1))return o.end(),void((i=ct(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(d=setTimeout(function(){d=null},E),Pn(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(Cs(),d&&(d=clearTimeout(d)),n=0;n<f;++n)o=dt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],p=c.touch1[0],v=c.touch1[1],g=(g=p[0]-l[0])*g+(g=p[1]-l[1])*g,_=(_=v[0]-h[0])*_+(_=v[1]-h[1])*_;i=e(i,Math.sqrt(g/_)),o=[(l[0]+p[0])/2,(l[1]+p[1])/2],a=[(h[0]+v[0])/2,(h[1]+v[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",y(r(i,o,a),c.extent,w))}function p(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(As(),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var d,v,g=zs,_=Ps,y=Ds,m=Ls,x=qs,b=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],M=250,T=vn,k=[],S=N("start","zoom","end"),E=500,A=150,C=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Rs),t!==e?o(t,n):e.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,o){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,u=i(t),a=n.invert(u),c="function"==typeof o?o.apply(this,arguments):o;return y(r(e(n,c),u,a),t,w)})},n.translateBy=function(t,e,r){n.transform(t,function(){return y(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),_.apply(this,arguments),w)})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,o=i(t);return y(Y_.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),S.apply,S,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(m="function"==typeof t?t:ks(+t),n):m},n.filter=function(t){return arguments.length?(g="function"==typeof t?t:ks(!!t),n):g},n.touchable=function(t){return arguments.length?(x="function"==typeof t?t:ks(!!t),n):x},n.extent=function(t){return arguments.length?(_="function"==typeof t?t:ks([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):_},n.scaleExtent=function(t){return arguments.length?(b[0]=+t[0],b[1]=+t[1],n):[b[0],b[1]]},n.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],n):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},n.constrain=function(t){return arguments.length?(y=t,n):y},n.duration=function(t){return arguments.length?(M=+t,n):M},n.interpolate=function(t){return arguments.length?(T=t,n):T},n.on=function(){var t=S.on.apply(S,arguments);return t===S?n:t},n.clickDistance=function(t){return arguments.length?(C=(t=+t)*t,n):Math.sqrt(C)},n},t.zoomTransform=Es,t.zoomIdentity=Y_,Object.defineProperty(t,"__esModule",{value:!0})});
// TinyColor v1.4.1
// https://github.com/bgrins/TinyColor
// 2016-07-07, Brian Grinstead, MIT License
!function(a){function b(a,d){if(a=a?a:"",d=d||{},a instanceof b)return a;if(!(this instanceof b))return new b(a,d);var e=c(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=P(100*this._a)/100,this._format=d.format||e.format,this._gradientType=d.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=e.ok,this._tc_id=O++}function c(a){var b={r:0,g:0,b:0},c=1,e=null,g=null,i=null,j=!1,k=!1;return"string"==typeof a&&(a=K(a)),"object"==typeof a&&(J(a.r)&&J(a.g)&&J(a.b)?(b=d(a.r,a.g,a.b),j=!0,k="%"===String(a.r).substr(-1)?"prgb":"rgb"):J(a.h)&&J(a.s)&&J(a.v)?(e=G(a.s),g=G(a.v),b=h(a.h,e,g),j=!0,k="hsv"):J(a.h)&&J(a.s)&&J(a.l)&&(e=G(a.s),i=G(a.l),b=f(a.h,e,i),j=!0,k="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=z(c),{ok:j,format:a.format||k,r:Q(255,R(b.r,0)),g:Q(255,R(b.g,0)),b:Q(255,R(b.b,0)),a:c}}function d(a,b,c){return{r:255*A(a,255),g:255*A(b,255),b:255*A(c,255)}}function e(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function f(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a}var e,f,g;if(a=A(a,360),b=A(b,100),c=A(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function g(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function h(b,c,d){b=6*A(b,360),c=A(c,100),d=A(d,100);var e=a.floor(b),f=b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=e%6,k=[d,h,g,g,i,d][j],l=[i,d,d,h,g,g][j],m=[g,g,i,d,d,h][j];return{r:255*k,g:255*l,b:255*m}}function i(a,b,c,d){var e=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function j(a,b,c,d,e){var f=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16)),F(H(d))];return e&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function k(a,b,c,d){var e=[F(H(d)),F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return e.join("")}function l(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s-=c/100,d.s=B(d.s),b(d)}function m(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s+=c/100,d.s=B(d.s),b(d)}function n(a){return b(a).desaturate(100)}function o(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l+=c/100,d.l=B(d.l),b(d)}function p(a,c){c=0===c?0:c||10;var d=b(a).toRgb();return d.r=R(0,Q(255,d.r-P(255*-(c/100)))),d.g=R(0,Q(255,d.g-P(255*-(c/100)))),d.b=R(0,Q(255,d.b-P(255*-(c/100)))),b(d)}function q(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l-=c/100,d.l=B(d.l),b(d)}function r(a,c){var d=b(a).toHsl(),e=(d.h+c)%360;return d.h=0>e?360+e:e,b(d)}function s(a){var c=b(a).toHsl();return c.h=(c.h+180)%360,b(c)}function t(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+120)%360,s:c.s,l:c.l}),b({h:(d+240)%360,s:c.s,l:c.l})]}function u(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+90)%360,s:c.s,l:c.l}),b({h:(d+180)%360,s:c.s,l:c.l}),b({h:(d+270)%360,s:c.s,l:c.l})]}function v(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+72)%360,s:c.s,l:c.l}),b({h:(d+216)%360,s:c.s,l:c.l})]}function w(a,c,d){c=c||6,d=d||30;var e=b(a).toHsl(),f=360/d,g=[b(a)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;)e.h=(e.h+f)%360,g.push(b(e));return g}function x(a,c){c=c||6;for(var d=b(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;)h.push(b({h:e,s:f,v:g})),g=(g+i)%1;return h}function y(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function z(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function A(b,c){D(b)&&(b="100%");var d=E(b);return b=Q(c,R(0,parseFloat(b))),d&&(b=parseInt(b*c,10)/100),a.abs(b-c)<1e-6?1:b%c/parseFloat(c)}function B(a){return Q(1,R(0,a))}function C(a){return parseInt(a,16)}function D(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function E(a){return"string"==typeof a&&-1!=a.indexOf("%")}function F(a){return 1==a.length?"0"+a:""+a}function G(a){return 1>=a&&(a=100*a+"%"),a}function H(b){return a.round(255*parseFloat(b)).toString(16)}function I(a){return C(a)/255}function J(a){return!!V.CSS_UNIT.exec(a)}function K(a){a=a.replace(M,"").replace(N,"").toLowerCase();var b=!1;if(T[a])a=T[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=V.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=V.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=V.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=V.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=V.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=V.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=V.hex8.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),a:I(c[4]),format:b?"name":"hex8"}:(c=V.hex6.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),format:b?"name":"hex"}:(c=V.hex4.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),a:I(c[4]+""+c[4]),format:b?"name":"hex8"}:(c=V.hex3.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),format:b?"name":"hex"}:!1}function L(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var M=/^\s+/,N=/\s+$/,O=0,P=a.round,Q=a.min,R=a.max,S=a.random;b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var b,c,d,e,f,g,h=this.toRgb();return b=h.r/255,c=h.g/255,d=h.b/255,e=.03928>=b?b/12.92:a.pow((b+.055)/1.055,2.4),f=.03928>=c?c/12.92:a.pow((c+.055)/1.055,2.4),g=.03928>=d?d/12.92:a.pow((d+.055)/1.055,2.4),.2126*e+.7152*f+.0722*g},setAlpha:function(a){return this._a=z(a),this._roundA=P(100*this._a)/100,this},toHsv:function(){var a=g(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=g(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=e(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return i(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){return j(this._r,this._g,this._b,this._a,a)},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*A(this._r,255))+"%",g:P(100*A(this._g,255))+"%",b:P(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%)":"rgba("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:U[i(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var c="#"+k(this._r,this._g,this._b,this._a),d=c,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=b(a);d="#"+k(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},clone:function(){return b(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(o,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(q,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(n,arguments)},spin:function(){return this._applyModification(r,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(v,arguments)},triad:function(){return this._applyCombination(t,arguments)},tetrad:function(){return this._applyCombination(u,arguments)}},b.fromRatio=function(a,c){if("object"==typeof a){var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]="a"===e?a[e]:G(a[e]));a=d}return b(a,c)},b.equals=function(a,c){return a&&c?b(a).toRgbString()==b(c).toRgbString():!1},b.random=function(){return b.fromRatio({r:S(),g:S(),b:S()})},b.mix=function(a,c,d){d=0===d?0:d||50;var e=b(a).toRgb(),f=b(c).toRgb(),g=d/100,h={r:(f.r-e.r)*g+e.r,g:(f.g-e.g)*g+e.g,b:(f.b-e.b)*g+e.b,a:(f.a-e.a)*g+e.a};return b(h)},b.readability=function(c,d){var e=b(c),f=b(d);return(a.max(e.getLuminance(),f.getLuminance())+.05)/(a.min(e.getLuminance(),f.getLuminance())+.05)},b.isReadable=function(a,c,d){var e,f,g=b.readability(a,c);switch(f=!1,e=L(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},b.mostReadable=function(a,c,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<c.length;k++)e=b.readability(a,c[k]),e>j&&(j=e,i=b(c[k]));return b.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,b.mostReadable(a,["#fff","#000"],d))};var T=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=b.hexNames=y(T),V=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{CSS_UNIT:new RegExp(c),rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):window.tinycolor=b}(Math);
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var H;function f(){return H.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(c(e,t))return;return 1}function o(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function G(e,t){for(var n=[],s=e.length,i=0;i<s;++i)n.push(t(e[i],i));return n}function E(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Pt(e,t,n,s,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function A(e){if(null==e._isValid){var t=m(e),n=j.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function I(e){var t=l(NaN);return null!=e?E(m(t),e):m(t).userInvalidated=!0,t}var j=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},Z=f.momentProperties=[],z=!1;function $(e,t){var n,s,i,r=Z.length;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=m(t)),o(t._locale)||(e._locale=t._locale),0<r)for(n=0;n<r;n++)o(i=t[s=Z[n]])||(e[s]=i);return e}function q(e){$(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===z&&(z=!0,f.updateOffset(this),z=!1)}function h(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function B(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,a){var o=!0;return E(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,r),o){for(var e,t,n=[],s=arguments.length,i=0;i<s;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])c(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}B(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var J={};function Q(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),J[e]||(B(t),J[e]=!0)}function d(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,s=E({},e);for(n in t)c(t,n)&&(F(e[n])&&F(t[n])?(s[n]={},E(s[n],e[n]),E(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)c(e,n)&&!c(t,n)&&F(e[n])&&(s[n]=E({},s[n]));return s}function K(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};function r(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,se={},ie={};function s(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(ie[e]=i),t&&(ie[t[0]]=function(){return r(i.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function re(e,t){return e.isValid()?(t=ae(t,e.localeData()),se[t]=se[t]||function(s){for(var e,i=s.match(te),t=0,r=i.length;t<r;t++)ie[i[t]]?i[t]=ie[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=d(i[n])?i[n].call(e,s):i[n];return t}}(t),se[t](e)):e.localeData().invalidDate()}function ae(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,s),ne.lastIndex=0,--n;return e}var oe={};function t(e,t){var n=e.toLowerCase();oe[n]=oe[n+"s"]=oe[t]=e}function _(e){return"string"==typeof e?oe[e]||oe[e.toLowerCase()]:void 0}function ue(e){var t,n,s={};for(n in e)c(e,n)&&(t=_(n))&&(s[t]=e[n]);return s}var le={};function n(e,t){le[e]=t}function he(e){return e%4==0&&e%100!=0||e%400==0}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function g(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?y(e):t}function de(t,n){return function(e){return null!=e?(fe(this,t,e),f.updateOffset(this,n),this):ce(this,t)}}function ce(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&he(e.year())&&1===e.month()&&29===e.date()?(n=g(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),We(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var i=/\d/,w=/\d\d/,me=/\d{3}/,_e=/\d{4}/,ye=/[+-]?\d{6}/,p=/\d\d?/,ge=/\d\d\d\d?/,we=/\d\d\d\d\d\d?/,pe=/\d{1,3}/,ke=/\d{1,4}/,ve=/[+-]?\d{1,6}/,Me=/\d+/,De=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,Ye=/Z|[+-]\d\d(?::?\d\d)?/gi,k=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function v(e,n,s){be[e]=d(n)?n:function(e,t){return e&&s?s:n}}function Oe(e,t){return c(be,e)?be[e](t._strict,t._locale):new RegExp(M(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function M(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var be={},xe={};function D(e,n){var t,s,i=n;for("string"==typeof e&&(e=[e]),u(n)&&(i=function(e,t){t[n]=g(e)}),s=e.length,t=0;t<s;t++)xe[e[t]]=i}function Te(e,i){D(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var S,Y=0,O=1,b=2,x=3,T=4,N=5,Ne=6,Pe=7,Re=8;function We(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?he(e)?29:28:31-n%7%2}S=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),v("M",p),v("MM",p,w),v("MMM",function(e,t){return t.monthsShortRegex(e)}),v("MMMM",function(e,t){return t.monthsRegex(e)}),D(["M","MM"],function(e,t){t[O]=g(e)-1}),D(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict);null!=s?t[O]=s:m(n).invalidMonth=e});var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),He=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fe=k,Le=k;function Ve(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if(!u(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),We(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Ge(e){return null!=e?(Ve(this,e),f.updateOffset(this,!0),this):ce(this,"Month")}function Ee(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=l([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=M(n[r]),s[r]=M(s[r]);for(r=0;r<24;r++)i[r]=M(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ae(e){return he(e)?366:365}s("Y",0,0,function(){var e=this.year();return e<=9999?r(e,4):"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),v("Y",De),v("YY",p,w),v("YYYY",ke,_e),v("YYYYY",ve,ye),v("YYYYYY",ve,ye),D(["YYYYY","YYYYYY"],Y),D("YYYY",function(e,t){t[Y]=2===e.length?f.parseTwoDigitYear(e):g(e)}),D("YY",function(e,t){t[Y]=f.parseTwoDigitYear(e)}),D("Y",function(e,t){t[Y]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return g(e)+(68<g(e)?1900:2e3)};var Ie=de("FullYear",!0);function je(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function Ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ze(e,t,n){n=7+t-n;return n-(7+Ze(e,0,n).getUTCDay()-t)%7-1}function $e(e,t,n,s,i){var r,t=1+7*(t-1)+(7+n-s)%7+ze(e,s,i),n=t<=0?Ae(r=e-1)+t:t>Ae(e)?(r=e+1,t-Ae(e)):(r=e,t);return{year:r,dayOfYear:n}}function qe(e,t,n){var s,i,r=ze(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?s=r+P(i=e.year()-1,t,n):r>P(e.year(),t,n)?(s=r-P(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function P(e,t,n){var s=ze(e,t,n),t=ze(e+1,t,n);return(Ae(e)-s+t)/7}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),v("w",p),v("ww",p,w),v("W",p),v("WW",p,w),Te(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=g(e)});function Be(e,t){return e.slice(t,7).concat(e.slice(0,t))}s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),v("d",p),v("e",p),v("E",p),v("dd",function(e,t){return t.weekdaysMinRegex(e)}),v("ddd",function(e,t){return t.weekdaysShortRegex(e)}),v("dddd",function(e,t){return t.weekdaysRegex(e)}),Te(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict);null!=s?t.d=s:m(n).invalidWeekday=e}),Te(["d","e","E"],function(e,t,n,s){t[s]=g(e)});var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=k,et=k,tt=k;function nt(){function e(e,t){return t.length-e.length}for(var t,n,s,i=[],r=[],a=[],o=[],u=0;u<7;u++)s=l([2e3,1]).day(u),t=M(this.weekdaysMin(s,"")),n=M(this.weekdaysShort(s,"")),s=M(this.weekdays(s,"")),i.push(t),r.push(n),a.push(s),o.push(t),o.push(n),o.push(s);i.sort(e),r.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function st(){return this.hours()%12||12}function it(e,t){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,st),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+st.apply(this)+r(this.minutes(),2)}),s("hmmss",0,0,function(){return""+st.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+r(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)}),it("a",!0),it("A",!1),t("hour","h"),n("hour",13),v("a",rt),v("A",rt),v("H",p),v("h",p),v("k",p),v("HH",p,w),v("hh",p,w),v("kk",p,w),v("hmm",ge),v("hmmss",we),v("Hmm",ge),v("Hmmss",we),D(["H","HH"],x),D(["k","kk"],function(e,t,n){e=g(e);t[x]=24===e?0:e}),D(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),D(["h","hh"],function(e,t,n){t[x]=g(e),m(n).bigHour=!0}),D("hmm",function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s)),m(n).bigHour=!0}),D("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i)),m(n).bigHour=!0}),D("Hmm",function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s))}),D("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i))});k=de("Hours",!0);var at,ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:Xe,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},R={},ut={};function lt(e){return e&&e.toLowerCase().replace("_","-")}function ht(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=lt(e[r]).split("-")).length,n=(n=lt(e[r+1]))?n.split("-"):null;0<t;){if(s=dt(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}(i,n)>=t-1)break;t--}r++}return at}function dt(t){var e;if(void 0===R[t]&&"undefined"!=typeof module&&module&&module.exports&&null!=t.match("^[^/\\\\]*$"))try{e=at._abbr,require("./locale/"+t),ct(e)}catch(e){R[t]=null}return R[t]}function ct(e,t){return e&&((t=o(t)?mt(e):ft(e,t))?at=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ft(e,t){if(null===t)return delete R[e],null;var n,s=ot;if(t.abbr=e,null!=R[e])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=R[e]._config;else if(null!=t.parentLocale)if(null!=R[t.parentLocale])s=R[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;s=n._config}return R[e]=new K(X(s,t)),ut[e]&&ut[e].forEach(function(e){ft(e.name,e.config)}),ct(e),R[e]}function mt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return at;if(!a(e)){if(t=dt(e))return t;e=[e]}return ht(e)}function _t(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[O]<0||11<t[O]?O:t[b]<1||t[b]>We(t[Y],t[O])?b:t[x]<0||24<t[x]||24===t[x]&&(0!==t[T]||0!==t[N]||0!==t[Ne])?x:t[T]<0||59<t[T]?T:t[N]<0||59<t[N]?N:t[Ne]<0||999<t[Ne]?Ne:-1,m(e)._overflowDayOfYear&&(t<Y||b<t)&&(t=b),m(e)._overflowWeeks&&-1===t&&(t=Pe),m(e)._overflowWeekday&&-1===t&&(t=Re),m(e).overflow=t),e}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,s,i,r,a,o=e._i,u=yt.exec(o)||gt.exec(o),o=pt.length,l=kt.length;if(u){for(m(e).iso=!0,t=0,n=o;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],s=!1!==pt[t][2];break}if(null==i)e._isValid=!1;else{if(u[3]){for(t=0,n=l;t<n;t++)if(kt[t][1].exec(u[3])){r=(u[2]||" ")+kt[t][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(u[4]){if(!wt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Tt(e)}else e._isValid=!1}}else e._isValid=!1}function Yt(e,t,n,s,i,r){e=[function(e){e=parseInt(e,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(e),Ue.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&e.push(parseInt(r,10)),e}function Ot(e){var t,n,s,i,r=Mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(t=Yt(r[4],r[3],r[2],r[5],r[6],r[7]),n=r[1],s=t,i=e,n&&Qe.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()?(m(i).weekdayMismatch=!0,i._isValid=!1):(e._a=t,e._tzm=(n=r[8],s=r[9],i=r[10],n?Dt[n]:s?0:60*(((n=parseInt(i,10))-(s=n%100))/100)+s),e._d=Ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0)):e._isValid=!1}function bt(e,t,n){return null!=e?e:null!=t?t:n}function xt(e){var t,n,s,i,r,a,o,u,l,h,d,c=[];if(!e._d){for(s=e,i=new Date(f.now()),n=s._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[b]&&null==e._a[O]&&(null!=(i=(s=e)._w).GG||null!=i.W||null!=i.E?(u=1,l=4,r=bt(i.GG,s._a[Y],qe(W(),1,4).year),a=bt(i.W,1),((o=bt(i.E,1))<1||7<o)&&(h=!0)):(u=s._locale._week.dow,l=s._locale._week.doy,d=qe(W(),u,l),r=bt(i.gg,s._a[Y],d.year),a=bt(i.w,d.week),null!=i.d?((o=i.d)<0||6<o)&&(h=!0):null!=i.e?(o=i.e+u,(i.e<0||6<i.e)&&(h=!0)):o=u),a<1||a>P(r,u,l)?m(s)._overflowWeeks=!0:null!=h?m(s)._overflowWeekday=!0:(d=$e(r,a,o,u,l),s._a[Y]=d.year,s._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(i=bt(e._a[Y],n[Y]),(e._dayOfYear>Ae(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),h=Ze(i,0,e._dayOfYear),e._a[O]=h.getUTCMonth(),e._a[b]=h.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=c[t]=n[t];for(;t<7;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[x]&&0===e._a[T]&&0===e._a[N]&&0===e._a[Ne]&&(e._nextDay=!0,e._a[x]=0),e._d=(e._useUTC?Ze:je).apply(null,c),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[x]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(m(e).weekdayMismatch=!0)}}function Tt(e){if(e._f===f.ISO_8601)St(e);else if(e._f===f.RFC_2822)Ot(e);else{e._a=[],m(e).empty=!0;for(var t,n,s,i,r,a=""+e._i,o=a.length,u=0,l=ae(e._f,e._locale).match(te)||[],h=l.length,d=0;d<h;d++)n=l[d],(t=(a.match(Oe(n,e))||[])[0])&&(0<(s=a.substr(0,a.indexOf(t))).length&&m(e).unusedInput.push(s),a=a.slice(a.indexOf(t)+t.length),u+=t.length),ie[n]?(t?m(e).empty=!1:m(e).unusedTokens.push(n),s=n,r=e,null!=(i=t)&&c(xe,s)&&xe[s](i,r._a,r,s)):e._strict&&!t&&m(e).unusedTokens.push(n);m(e).charsLeftOver=o-u,0<a.length&&m(e).unusedInput.push(a),e._a[x]<=12&&!0===m(e).bigHour&&0<e._a[x]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[x]=function(e,t,n){if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[x],e._meridiem),null!==(o=m(e).era)&&(e._a[Y]=e._locale.erasConvertYear(o,e._a[Y])),xt(e),_t(e)}}function Nt(e){var t,n,s,i=e._i,r=e._f;if(e._locale=e._locale||mt(e._l),null===i||void 0===r&&""===i)return I({nullInput:!0});if("string"==typeof i&&(e._i=i=e._locale.preparse(i)),h(i))return new q(_t(i));if(V(i))e._d=i;else if(a(r))!function(e){var t,n,s,i,r,a,o=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<u;i++)r=0,a=!1,t=$({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),A(t)&&(a=!0),r=(r+=m(t).charsLeftOver)+10*m(t).unusedTokens.length,m(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));E(e,n||t)}(e);else if(r)Tt(e);else if(o(r=(i=e)._i))i._d=new Date(f.now());else V(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(n=i,null!==(t=vt.exec(n._i))?n._d=new Date(+t[1]):(St(n),!1===n._isValid&&(delete n._isValid,Ot(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:f.createFromInputFallback(n))))):a(r)?(i._a=G(r.slice(0),function(e){return parseInt(e,10)}),xt(i)):F(r)?(t=i)._d||(s=void 0===(n=ue(t._i)).day?n.date:n.day,t._a=G([n.year,n.month,s,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),xt(t)):u(r)?i._d=new Date(r):f.createFromInputFallback(i);return A(e)||(e._d=null),e}function Pt(e,t,n,s,i){var r={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(F(e)&&L(e)||a(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,(i=new q(_t(Nt(i=r))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function W(e,t,n,s){return Pt(e,t,n,s,!1)}f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};ge=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:I()}),we=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:I()});function Rt(e,t){var n,s;if(!(t=1===t.length&&a(t[0])?t[0]:t).length)return W();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var e=ue(e),t=e.year||0,n=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,i=Wt.length;for(t in e)if(c(e,t)&&(-1===S.call(Wt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Wt[n]]){if(s)return!1;parseFloat(e[Wt[n]])!==g(e[Wt[n]])&&(s=!0)}return!0}(e),this._milliseconds=+l+1e3*u+6e4*o+1e3*a*60*60,this._days=+r+7*i,this._months=+s+3*n+12*t,this._data={},this._locale=mt(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){s(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+r(~~(e/60),2)+n+r(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),v("Z",Ye),v("ZZ",Ye),D(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(Ye,e)});var Lt=/([\+\-]|\d\d)/gi;function Vt(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Lt)||["-",0,0])[1]+g(e[2]))?0:"+"===e[0]?t:-t}function Gt(e,t){var n;return t._isUTC?(t=t.clone(),n=(h(e)||V(e)?e:W(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):W(e).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var It=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function C(e,t){var n,s=e,i=null;return Ut(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=It.exec(e))?(n="-"===i[1]?-1:1,s={y:0,d:g(i[b])*n,h:g(i[x])*n,m:g(i[T])*n,s:g(i[N])*n,ms:g(Ht(1e3*i[Ne]))*n}):(i=jt.exec(e))?(n="-"===i[1]?-1:1,s={y:Zt(i[2],n),M:Zt(i[3],n),w:Zt(i[4],n),d:Zt(i[5],n),h:Zt(i[6],n),m:Zt(i[7],n),s:Zt(i[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(t=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(W(s.from),W(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),i=new Ct(s),Ut(e)&&c(e,"_locale")&&(i._locale=e._locale),Ut(e)&&c(e,"_isValid")&&(i._isValid=e._isValid),i}function Zt(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(Q(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,C(e,t),s),this}}function qt(e,t,n,s){var i=t._milliseconds,r=Ht(t._days),t=Ht(t._months);e.isValid()&&(s=null==s||s,t&&Ve(e,ce(e,"Month")+t*n),r&&fe(e,"Date",ce(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&f.updateOffset(e,r||t))}C.fn=Ct.prototype,C.invalid=function(){return C(NaN)};Ce=$t(1,"add"),Je=$t(-1,"subtract");function Bt(e){return"string"==typeof e||e instanceof String}function Jt(e){return h(e)||V(e)||Bt(e)||u(e)||function(t){var e=a(t),n=!1;e&&(n=0===t.filter(function(e){return!u(e)&&Bt(t)}).length);return e&&n}(e)||function(e){var t,n,s=F(e)&&!L(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=r.length;for(t=0;t<a;t+=1)n=r[t],i=i||c(e,n);return s&&i}(e)||null==e}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months"),t=t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s);return-(n+t)||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=mt(e))&&(this._locale=e),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Xe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Kt(){return this._locale}var en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function an(){for(var e=[],t=[],n=[],s=[],i=this.eras(),r=0,a=i.length;r<a;++r)t.push(M(i[r].name)),e.push(M(i[r].abbr)),n.push(M(i[r].narrow)),s.push(M(i[r].name)),s.push(M(i[r].abbr)),s.push(M(i[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function on(e,t){s(0,[e,e.length],0,t)}function un(e,t,n,s,i){var r;return null==e?qe(this,s,i).year:(r=P(e,s,i),function(e,t,n,s,i){e=$e(e,t,n,s,i),t=Ze(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,s,i))}s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),v("N",rn),v("NN",rn),v("NNN",rn),v("NNNN",function(e,t){return t.erasNameRegex(e)}),v("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),D(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){s=n._locale.erasParse(e,s,n._strict);s?m(n).era=s:m(n).invalidEra=e}),v("y",Me),v("yy",Me),v("yyy",Me),v("yyyy",Me),v("yo",function(e,t){return t._eraYearOrdinalRegex||Me}),D(["y","yy","yyy","yyyy"],Y),D(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Y]=n._locale.eraYearOrdinalParse(e,i):t[Y]=parseInt(e,10)}),s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),v("G",De),v("g",De),v("GG",p,w),v("gg",p,w),v("GGGG",ke,_e),v("gggg",ke,_e),v("GGGGG",ve,ye),v("ggggg",ve,ye),Te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=g(e)}),Te(["gg","GG"],function(e,t,n,s){t[s]=f.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),v("Q",i),D("Q",function(e,t){t[O]=3*(g(e)-1)}),s("D",["DD",2],"Do","date"),t("date","D"),n("date",9),v("D",p),v("DD",p,w),v("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),D(["D","DD"],b),D("Do",function(e,t){t[b]=g(e.match(p)[0])});ke=de("Date",!0);s("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),v("DDD",pe),v("DDDD",me),D(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),s("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),v("m",p),v("mm",p,w),D(["m","mm"],T);var ln,_e=de("Minutes",!1),ve=(s("s",["ss",2],0,"second"),t("second","s"),n("second",15),v("s",p),v("ss",p,w),D(["s","ss"],N),de("Seconds",!1));for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),v("S",pe,i),v("SS",pe,w),v("SSS",pe,me),ln="SSSS";ln.length<=9;ln+="S")v(ln,Me);function hn(e,t){t[Ne]=g(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")D(ln,hn);ye=de("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName");i=q.prototype;function dn(e){return e}i.add=Ce,i.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!L(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<s.length;i+=1)n=n||c(e,s[i]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var e=e||W(),n=Gt(e,this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",t=t&&(d(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,W(e)))},i.clone=function(){return new q(this)},i.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=_(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:y(r)},i.endOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1;break}return this._d.setTime(t),f.updateOffset(this,!0),this},i.format=function(e){return e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat),e=re(this,e),this.localeData().postformat(e)},i.from=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.fromNow=function(e){return this.from(W(),e)},i.to=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.toNow=function(e){return this.to(W(),e)},i.get=function(e){return d(this[e=_(e)])?this[e]():this},i.invalidAt=function(){return m(this).overflow},i.isAfter=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},i.isBefore=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},i.isBetween=function(e,t,n,s){return e=h(e)?e:W(e),t=h(t)?t:W(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&(("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n)))},i.isSame=function(e,t){var e=h(e)?e:W(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},i.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},i.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},i.isValid=function(){return A(this)},i.lang=Xe,i.locale=Xt,i.localeData=Kt,i.max=we,i.min=ge,i.parsingFlags=function(){return E({},m(this))},i.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)c(e,t)&&n.push({unit:t,priority:le[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=ue(e)),s=n.length,i=0;i<s;i++)this[n[i].unit](e[n[i].unit]);else if(d(this[e=_(e)]))return this[e](t);return this},i.startOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3);break}return this._d.setTime(t),f.updateOffset(this,!0),this},i.subtract=Je,i.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},i.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},i.toDate=function(){return new Date(this.valueOf())},i.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?re(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):d(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",re(t,"Z")):re(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},i.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+t+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(i[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},i.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},i.eraName=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},i.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},i.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},i.eraYear=function(){for(var e,t,n=this.localeData().eras(),s=0,i=n.length;s<i;++s)if(e=n[s].since<=n[s].until?1:-1,t=this.clone().startOf("day").valueOf(),n[s].since<=t&&t<=n[s].until||n[s].until<=t&&t<=n[s].since)return(this.year()-f(n[s].since).year())*e+n[s].offset;return this.year()},i.year=Ie,i.isLeapYear=function(){return he(this.year())},i.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},i.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},i.quarter=i.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},i.month=Ge,i.daysInMonth=function(){return We(this.year(),this.month())},i.week=i.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},i.isoWeek=i.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},i.weeksInYear=function(){var e=this.localeData()._week;return P(this.year(),e.dow,e.doy)},i.weeksInWeekYear=function(){var e=this.localeData()._week;return P(this.weekYear(),e.dow,e.doy)},i.isoWeeksInYear=function(){return P(this.year(),1,4)},i.isoWeeksInISOWeekYear=function(){return P(this.isoWeekYear(),1,4)},i.date=ke,i.day=i.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},i.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},i.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},i.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},i.hour=i.hours=k,i.minute=i.minutes=_e,i.second=i.seconds=ve,i.millisecond=i.milliseconds=ye,i.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Et(this);if("string"==typeof e){if(null===(e=Vt(Ye,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Et(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,C(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},i.utc=function(e){return this.utcOffset(0,e)},i.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this},i.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Vt(Se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},i.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?W(e).utcOffset():0,(this.utcOffset()-e)%60==0)},i.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},i.isLocal=function(){return!!this.isValid()&&!this._isUTC},i.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},i.isUtc=At,i.isUTC=At,i.zoneAbbr=function(){return this._isUTC?"UTC":""},i.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},i.dates=e("dates accessor is deprecated. Use date instead.",ke),i.months=e("months accessor is deprecated. Use month instead",Ge),i.years=e("years accessor is deprecated. Use year instead",Ie),i.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),i.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return $(t,this),(t=Nt(t))._a?(e=(t._isUTC?l:W)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&g(e[a])!==g(t[a]))&&r++;return r+i}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});w=K.prototype;function cn(e,t,n,s){var i=mt(),s=l().set(s,t);return i[n](s,e)}function fn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=cn(e,i,n,"month");return s}function mn(e,t,n,s){t=("boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t||"");var i,r=mt(),a=e?r._week.dow:0,o=[];if(null!=n)return cn(t,(n+a)%7,s,"day");for(i=0;i<7;i++)o[i]=cn(t,(i+a)%7,s,"day");return o}w.calendar=function(e,t,n){return d(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},w.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},w.invalidDate=function(){return this._invalidDate},w.ordinal=function(e){return this._ordinal.replace("%d",e)},w.preparse=dn,w.postformat=dn,w.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return d(i)?i(e,t,n,s):i.replace(/%d/i,e)},w.pastFuture=function(e,t){return d(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},w.set=function(e){var t,n;for(n in e)c(e,n)&&(d(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},w.eras=function(e,t){for(var n,s=this._eras||mt("en")._eras,i=0,r=s.length;i<r;++i){switch(typeof s[i].since){case"string":n=f(s[i].since).startOf("day"),s[i].since=n.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":n=f(s[i].until).startOf("day").valueOf(),s[i].until=n.valueOf();break}}return s},w.erasParse=function(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s];break}else if(0<=[r,a,o].indexOf(e))return u[s]},w.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?f(e.since).year():f(e.since).year()+(t-e.offset)*n},w.erasAbbrRegex=function(e){return c(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},w.erasNameRegex=function(e){return c(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},w.erasNarrowRegex=function(e){return c(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},w.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||He).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},w.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[He.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},w.monthsParse=function(e,t,n){var s,i;if(this._monthsParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))||-1!==(i=S.call(this._longMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))||-1!==(i=S.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},w.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},w.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},w.week=function(e){return qe(e,this._week.dow,this._week.doy).week},w.firstDayOfYear=function(){return this._week.doy},w.firstDayOfWeek=function(){return this._week.dow},w.weekdays=function(e,t){return t=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Be(t,this._week.dow):e?t[e.day()]:t},w.weekdaysMin=function(e){return!0===e?Be(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},w.weekdaysShort=function(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},w.weekdaysParse=function(e,t,n){var s,i;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},w.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},w.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},w.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},w.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},w.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ct),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",mt);var _n=Math.abs;function yn(e,t,n,s){t=C(t,n);return e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function gn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}pe=kn("ms"),me=kn("s"),Ce=kn("m"),we=kn("h"),ge=kn("d"),Je=kn("w"),k=kn("M"),_e=kn("Q"),ve=kn("y");function vn(e){return function(){return this.isValid()?this._data[e]:NaN}}var ye=vn("milliseconds"),ke=vn("seconds"),Ie=vn("minutes"),w=vn("hours"),Mn=vn("days"),Dn=vn("months"),Sn=vn("years");var Yn=Math.round,On={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bn(e,t,n,s){var i=C(e).abs(),r=Yn(i.as("s")),a=Yn(i.as("m")),o=Yn(i.as("h")),u=Yn(i.as("d")),l=Yn(i.as("M")),h=Yn(i.as("w")),i=Yn(i.as("y")),r=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return(r=(r=null!=n.w?r||h<=1&&["w"]||h<n.w&&["ww",h]:r)||l<=1&&["M"]||l<n.M&&["MM",l]||i<=1&&["y"]||["yy",i])[2]=t,r[3]=0<+e,r[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,r)}var xn=Math.abs;function Tn(e){return(0<e)-(e<0)||+e}function Nn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o=xn(this._milliseconds)/1e3,u=xn(this._days),l=xn(this._months),h=this.asSeconds();return h?(e=y(o/60),t=y(e/60),o%=60,e%=60,n=y(l/12),l%=12,s=o?o.toFixed(3).replace(/\.?0+$/,""):"",i=Tn(this._months)!==Tn(h)?"-":"",r=Tn(this._days)!==Tn(h)?"-":"",a=Tn(this._milliseconds)!==Tn(h)?"-":"",(h<0?"-":"")+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(u?r+u+"D":"")+(t||e||o?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(o?a+s+"S":"")):"P0D"}var U=Ct.prototype;return U.isValid=function(){return this._isValid},U.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},U.add=function(e,t){return yn(this,e,t,1)},U.subtract=function(e,t){return yn(this,e,t,-1)},U.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=_(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+wn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},U.asMilliseconds=pe,U.asSeconds=me,U.asMinutes=Ce,U.asHours=we,U.asDays=ge,U.asWeeks=Je,U.asMonths=k,U.asQuarters=_e,U.asYears=ve,U.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12):NaN},U._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*gn(pn(n)+t),n=t=0),s.milliseconds=e%1e3,e=y(e/1e3),s.seconds=e%60,e=y(e/60),s.minutes=e%60,e=y(e/60),s.hours=e%24,t+=y(e/24),n+=e=y(wn(t)),t-=gn(pn(e)),e=y(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},U.clone=function(){return C(this)},U.get=function(e){return e=_(e),this.isValid()?this[e+"s"]():NaN},U.milliseconds=ye,U.seconds=ke,U.minutes=Ie,U.hours=w,U.days=Mn,U.weeks=function(){return y(this.days()/7)},U.months=Dn,U.years=Sn,U.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=On;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},On,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),e=this.localeData(),t=bn(this,!n,s,e),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},U.toISOString=Nn,U.toString=Nn,U.toJSON=Nn,U.locale=Xt,U.localeData=Kt,U.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),U.lang=Xe,s("X",0,0,"unix"),s("x",0,0,"valueOf"),v("x",De),v("X",/[+-]?\d+(\.\d{1,3})?/),D("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),D("x",function(e,t,n){n._d=new Date(g(e))}),f.version="2.29.3",H=W,f.fn=i,f.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},f.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=l,f.unix=function(e){return W(1e3*e)},f.months=function(e,t){return fn(e,t,"months")},f.isDate=V,f.locale=ct,f.invalid=I,f.duration=C,f.isMoment=h,f.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},f.parseZone=function(){return W.apply(null,arguments).parseZone()},f.localeData=mt,f.isDuration=Ut,f.monthsShort=function(e,t){return fn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},f.defineLocale=ft,f.updateLocale=function(e,t){var n,s;return null!=t?(s=ot,null!=R[e]&&null!=R[e].parentLocale?R[e].set(X(R[e]._config,t)):(t=X(s=null!=(n=dt(e))?n._config:s,t),null==n&&(t.abbr=e),(s=new K(t)).parentLocale=R[e],R[e]=s),ct(e)):null!=R[e]&&(null!=R[e].parentLocale?(R[e]=R[e].parentLocale,e===ct()&&ct(e)):null!=R[e]&&delete R[e]),R[e]},f.locales=function(){return ee(R)},f.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},f.normalizeUnits=_,f.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==On[e]&&(void 0===t?On[e]:(On[e]=t,"s"===e&&(On.ss=t-1),!0))},f.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=i,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},f});
//# sourceMappingURL=moment.min.js.map
!function(a,i){"use strict";"object"==typeof module&&module.exports?module.exports=i(require("moment")):"function"==typeof define&&define.amd?define(["moment"],i):i(a.moment)}(this,function(c){"use strict";void 0===c.version&&c.default&&(c=c.default);var i,A={},n={},t={},s={},u={};c&&"string"==typeof c.version||y("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var a=c.version.split("."),e=+a[0],r=+a[1];function m(a){return 96<a?a-87:64<a?a-29:a-48}function o(a){var i=0,e=a.split("."),r=e[0],o=e[1]||"",c=1,A=0,n=1;for(45===a.charCodeAt(0)&&(n=-(i=1));i<r.length;i++)A=60*A+m(r.charCodeAt(i));for(i=0;i<o.length;i++)c/=60,A+=m(o.charCodeAt(i))*c;return A*n}function f(a){for(var i=0;i<a.length;i++)a[i]=o(a[i])}function l(a,i){var e,r=[];for(e=0;e<i.length;e++)r[e]=a[i[e]];return r}function p(a){var i=a.split("|"),e=i[2].split(" "),r=i[3].split(""),o=i[4].split(" ");return f(e),f(r),f(o),function(a,i){for(var e=0;e<i;e++)a[e]=Math.round((a[e-1]||0)+6e4*a[e]);a[i-1]=1/0}(o,r.length),{name:i[0],abbrs:l(i[1].split(" "),r),offsets:l(e,r),untils:o,population:0|i[5]}}function M(a){a&&this._set(p(a))}function b(a,i){this.name=a,this.zones=i}function d(a){var i=a.toTimeString(),e=i.match(/\([a-z ]+\)/i);"GMT"===(e=e&&e[0]?(e=e[0].match(/[A-Z]/g))?e.join(""):void 0:(e=i.match(/[A-Z]{3,5}/g))?e[0]:void 0)&&(e=void 0),this.at=+a,this.abbr=e,this.offset=a.getTimezoneOffset()}function h(a){this.zone=a,this.offsetScore=0,this.abbrScore=0}function g(a,i){for(var e,r;r=6e4*((i.at-a.at)/12e4|0);)(e=new d(new Date(a.at+r))).offset===a.offset?a=e:i=e;return a}function E(a,i){return a.offsetScore!==i.offsetScore?a.offsetScore-i.offsetScore:a.abbrScore!==i.abbrScore?a.abbrScore-i.abbrScore:a.zone.population!==i.zone.population?i.zone.population-a.zone.population:i.zone.name.localeCompare(a.zone.name)}function z(a,i){var e,r;for(f(i),e=0;e<i.length;e++)r=i[e],u[r]=u[r]||{},u[r][a]=!0}function P(){try{var a=Intl.DateTimeFormat().resolvedOptions().timeZone;if(a&&3<a.length){var i=s[S(a)];if(i)return i;y("Moment Timezone found "+a+" from the Intl api, but did not have that data loaded.")}}catch(a){}var e,r,o,c=function(){var a,i,e,r=(new Date).getFullYear()-2,o=new d(new Date(r,0,1)),c=[o];for(e=1;e<48;e++)(i=new d(new Date(r,e,1))).offset!==o.offset&&(a=g(o,i),c.push(a),c.push(new d(new Date(a.at+6e4)))),o=i;for(e=0;e<4;e++)c.push(new d(new Date(r+e,0,1))),c.push(new d(new Date(r+e,6,1)));return c}(),A=c.length,n=function(a){var i,e,r,o=a.length,c={},A=[];for(i=0;i<o;i++)for(e in r=u[a[i].offset]||{})r.hasOwnProperty(e)&&(c[e]=!0);for(i in c)c.hasOwnProperty(i)&&A.push(s[i]);return A}(c),t=[];for(r=0;r<n.length;r++){for(e=new h(_(n[r]),A),o=0;o<A;o++)e.scoreOffsetAt(c[o]);t.push(e)}return t.sort(E),0<t.length?t[0].zone.name:void 0}function S(a){return(a||"").toLowerCase().replace(/\//g,"_")}function T(a){var i,e,r,o;for("string"==typeof a&&(a=[a]),i=0;i<a.length;i++)o=S(e=(r=a[i].split("|"))[0]),A[o]=a[i],s[o]=e,z(o,r[2].split(" "))}function _(a,i){a=S(a);var e,r=A[a];return r instanceof M?r:"string"==typeof r?(r=new M(r),A[a]=r):n[a]&&i!==_&&(e=_(n[a],_))?((r=A[a]=new M)._set(e),r.name=s[a],r):null}function k(a){var i,e,r,o;for("string"==typeof a&&(a=[a]),i=0;i<a.length;i++)r=S((e=a[i].split("|"))[0]),o=S(e[1]),n[r]=o,s[r]=e[0],n[o]=r,s[o]=e[1]}function B(a){T(a.zones),k(a.links),function(a){var i,e,r,o;if(a&&a.length)for(i=0;i<a.length;i++)e=(o=a[i].split("|"))[0].toUpperCase(),r=o[1].split(" "),t[e]=new b(e,r)}(a.countries),O.dataVersion=a.version}function C(a){var i="X"===a._f||"x"===a._f;return!(!a._a||void 0!==a._tzm||i)}function y(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function O(a){var i=Array.prototype.slice.call(arguments,0,-1),e=arguments[arguments.length-1],r=_(e),o=c.utc.apply(null,i);return r&&!c.isMoment(a)&&C(o)&&o.add(r.parse(o),"minutes"),o.tz(e),o}(e<2||2==e&&r<6)&&y("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+c.version+". See momentjs.com"),M.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets,this.population=a.population},_index:function(a){var i,e=+a,r=this.untils;for(i=0;i<r.length;i++)if(e<r[i])return i},countries:function(){var i=this.name;return Object.keys(t).filter(function(a){return-1!==t[a].zones.indexOf(i)})},parse:function(a){var i,e,r,o,c=+a,A=this.offsets,n=this.untils,t=n.length-1;for(o=0;o<t;o++)if(i=A[o],e=A[o+1],r=A[o?o-1:o],i<e&&O.moveAmbiguousForward?i=e:r<i&&O.moveInvalidForward&&(i=r),c<n[o]-6e4*i)return A[o];return A[t]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return y("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(a)]},utcOffset:function(a){return this.offsets[this._index(a)]}},h.prototype.scoreOffsetAt=function(a){this.offsetScore+=Math.abs(this.zone.utcOffset(a.at)-a.offset),this.zone.abbr(a.at).replace(/[^A-Z]/g,"")!==a.abbr&&this.abbrScore++},O.version="0.5.34",O.dataVersion="",O._zones=A,O._links=n,O._names=s,O._countries=t,O.add=T,O.link=k,O.load=B,O.zone=_,O.zoneExists=function a(i){return a.didShowError||(a.didShowError=!0,y("moment.tz.zoneExists('"+i+"') has been deprecated in favor of !moment.tz.zone('"+i+"')")),!!_(i)},O.guess=function(a){return i&&!a||(i=P()),i},O.names=function(){var a,i=[];for(a in s)s.hasOwnProperty(a)&&(A[a]||A[n[a]])&&s[a]&&i.push(s[a]);return i.sort()},O.Zone=M,O.unpack=p,O.unpackBase60=o,O.needsOffset=C,O.moveInvalidForward=!0,O.moveAmbiguousForward=!1,O.countries=function(){return Object.keys(t)},O.zonesForCountry=function(a,i){if(!(a=function(a){return a=a.toUpperCase(),t[a]||null}(a)))return null;var e=a.zones.sort();return i?e.map(function(a){return{name:a,offset:_(a).utcOffset(new Date)}}):e};var L,N=c.fn;function D(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function v(a){return function(){return this._z=null,a.apply(this,arguments)}}c.tz=O,c.defaultZone=null,c.updateOffset=function(a,i){var e,r=c.defaultZone;if(void 0===a._z&&(r&&C(a)&&!a._isUTC&&(a._d=c.utc(a._a)._d,a.utc().add(r.parse(a),"minutes")),a._z=r),a._z)if(e=a._z.utcOffset(a),Math.abs(e)<16&&(e/=60),void 0!==a.utcOffset){var o=a._z;a.utcOffset(-e,i),a._z=o}else a.zone(e,i)},N.tz=function(a,i){if(a){if("string"!=typeof a)throw new Error("Time zone name must be a string, got "+a+" ["+typeof a+"]");return this._z=_(a),this._z?c.updateOffset(this,i):y("Moment Timezone has no data for "+a+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},N.zoneName=D(N.zoneName),N.zoneAbbr=D(N.zoneAbbr),N.utc=v(N.utc),N.local=v(N.local),N.utcOffset=(L=N.utcOffset,function(){return 0<arguments.length&&(this._z=null),L.apply(this,arguments)}),c.tz.setDefault=function(a){return(e<2||2==e&&r<9)&&y("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+c.version+"."),c.defaultZone=a?_(a):null,c};var G=c.momentProperties;return"[object Array]"===Object.prototype.toString.call(G)?(G.push("_z"),G.push("_a")):G&&(G._z=null),B({version:"2021e",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET|-20|0||15e6","Africa/Casablanca|+00 +01|0 -10|0101010101010101010101010101|1QyO0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 gM0 2600 e00 2600 gM0 2600 e00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Juba|EAT CAT|-30 -20|01|24nx0|","Africa/Khartoum|EAT CAT|-30 -20|01|1Usl0|51e5","Africa/Sao_Tome|GMT WAT|0 -10|010|1UQN0 2q00|","Africa/Windhoek|CAT WAT|-20 -10|01010|1QBA0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1Qto0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1Qtn0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1QyP0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Panama|EST|50|0||15e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1QBI0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0|20e6","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1Qtl0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101|1QkP0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1Qtk0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1QBJ0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0|81e4","America/Phoenix|MST|70|0||42e5","America/Whitehorse|PST PDT MST|80 70 70|01010101012|1Qtm0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1z90|23e3","America/New_York|EST EDT|50 40|01010101010101010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1Qtm0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Halifax|AST ADT|40 30|01010101010101010101010|1Qti0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|17e3","America/Grand_Turk|AST EDT EST|40 40 50|0121212121212121212|1Vkv0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1Qth0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|AKST AKDT PST|90 80 80|010101201010101010101010|1Qtn0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1Qth0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1SST0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010|1QSr0 Ap0|40","America/Santiago|-03 -04|30 40|01010101010101010101010|1QSr0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101|1QkO0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1Qthu 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+08 +11|-80 -b0|01010101|1RWg0 3m10 1o30 14k0 1kr0 12l0 1o01|10","Asia/Bangkok|+07|-70|0||15e6","Asia/Vladivostok|+10|-a0|0||60e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1QBs0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1QBq0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|01010101010101010101010|1QAK0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 LA0 1C00 LA0 1C00 Oo0 1zc0 Oo0 1C00 LA0 1C00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Dubai|+04|-40|0||39e5","Asia/Barnaul|+06 +07|-60 -70|01|1QyI0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1QyK0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0|22e5","Asia/Kuala_Lumpur|+08|-80|0||71e5","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+08 +09|-80 -90|01|1QyG0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|010|1Qyi0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1QxW0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Yakutsk|+09|-90|0||28e4","Asia/Famagusta|EET EEST +03|-20 -30 -30|0120101010101010101010|1QyN0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1Qyn0 1qL0 WN0 1qL0 WN0 1qL0 11c0 1on0 11B0 1o00 11A0 1qo0 Xc0 1qo0 Xc0 1qo0 1200 1nA0 1200 1qo0 Xc0 1qo0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|010|1Qyj0 1cJ0|81e3","Europe/Istanbul|EET EEST +03|-20 -30 -30|012|1QyN0 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1Qy00 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Magadan|+10 +11|-a0 -b0|01|1QJQ0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PST|-80|0||24e6","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|35e5","Asia/Novosibirsk|+06 +07|-60 -70|01|1Rmk0|15e5","Asia/Pyongyang|KST KST|-8u -90|01|1VGf0|29e5","Asia/Qyzylorda|+06 +05|-60 -50|01|1Xei0|73e4","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+10 +11|-a0 -b0|01|1QyE0|58e4","Asia/Seoul|KST|-90|0||23e6","Pacific/Bougainville|+11|-b0|0||18e4","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1Qwku 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+06 +07|-60 -70|01|1QXU0|10e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1QBsu 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1QBr0 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|01010101010101010101010|1QSr0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|12e5","Etc/GMT-1|+01|-10|0||","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0||","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0||","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0||","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/UTC|UTC|0|0||","Europe/Ulyanovsk|+03 +04|-30 -40|01|1QyL0|13e5","Europe/London|GMT BST|0 -10|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1QyM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|67e4","Europe/Moscow|MSK|-30|0||16e6","Europe/Saratov|+03 +04|-30 -40|01|1Sfz0|","Europe/Volgograd|+03 +04|-30 -40|010|1WQL0 5gn0|10e5","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1QyN0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1QBq0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|010101010101|1QBq0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0|37e3","Pacific/Fiji|+13 +12|-d0 -c0|010101010101010101010|1Q6C0 1VA0 s00 1VA0 s00 1VA0 s00 20o0 pc0 2hc0 bc0 4q00 pc0 20o0 pc0 20o0 pc0 20o0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+11 +12|-b0 -c0|0101010101010101|219P0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|010|1S4d0 s00|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Africa/Tripoli","Africa/Cairo|Egypt","Africa/Cairo|Europe/Kaliningrad","Africa/Cairo|Libya","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Araguaina","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Bahia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Montevideo","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Godthab|America/Nuuk","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Eirunepe","America/Lima|America/Guayaquil","America/Lima|America/Porto_Acre","America/Lima|America/Rio_Branco","America/Lima|Brazil/Acre","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cancun","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Fort_Nelson","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Whitehorse|America/Dawson","America/Whitehorse|Canada/Yukon","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Kirov","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Antarctica/Davis","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Krasnoyarsk","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Omsk","Asia/Dhaka|Asia/Qostanay","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dubai|Asia/Baku","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Brunei","Asia/Kuala_Lumpur|Asia/Irkutsk","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Etc/GMT-8","Asia/Kuala_Lumpur|Singapore","Asia/Makassar|Asia/Ujung_Pandang","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Asia/Yekaterinburg","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Antarctica/DumontDUrville","Asia/Vladivostok|Asia/Ust-Nera","Asia/Vladivostok|Etc/GMT-10","Asia/Vladivostok|Pacific/Chuuk","Asia/Vladivostok|Pacific/Port_Moresby","Asia/Vladivostok|Pacific/Truk","Asia/Vladivostok|Pacific/Yap","Asia/Yakutsk|Asia/Dili","Asia/Yakutsk|Asia/Khandyga","Asia/Yakutsk|Etc/GMT-9","Asia/Yakutsk|Pacific/Palau","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Antarctica/Macquarie","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|Europe/Simferopol","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Ulyanovsk|Europe/Astrakhan","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Bougainville|Asia/Srednekolymsk","Pacific/Bougainville|Etc/GMT-11","Pacific/Bougainville|Pacific/Efate","Pacific/Bougainville|Pacific/Guadalcanal","Pacific/Bougainville|Pacific/Kosrae","Pacific/Bougainville|Pacific/Noumea","Pacific/Bougainville|Pacific/Pohnpei","Pacific/Bougainville|Pacific/Ponape","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Fakaofo|Pacific/Kanton","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"],countries:["AD|Europe/Andorra","AE|Asia/Dubai","AF|Asia/Kabul","AG|America/Port_of_Spain America/Antigua","AI|America/Port_of_Spain America/Anguilla","AL|Europe/Tirane","AM|Asia/Yerevan","AO|Africa/Lagos Africa/Luanda","AQ|Antarctica/Casey Antarctica/Davis Antarctica/DumontDUrville Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Syowa Antarctica/Troll Antarctica/Vostok Pacific/Auckland Antarctica/McMurdo","AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia","AS|Pacific/Pago_Pago","AT|Europe/Vienna","AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla","AW|America/Curacao America/Aruba","AX|Europe/Helsinki Europe/Mariehamn","AZ|Asia/Baku","BA|Europe/Belgrade Europe/Sarajevo","BB|America/Barbados","BD|Asia/Dhaka","BE|Europe/Brussels","BF|Africa/Abidjan Africa/Ouagadougou","BG|Europe/Sofia","BH|Asia/Qatar Asia/Bahrain","BI|Africa/Maputo Africa/Bujumbura","BJ|Africa/Lagos Africa/Porto-Novo","BL|America/Port_of_Spain America/St_Barthelemy","BM|Atlantic/Bermuda","BN|Asia/Brunei","BO|America/La_Paz","BQ|America/Curacao America/Kralendijk","BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco","BS|America/Nassau","BT|Asia/Thimphu","BW|Africa/Maputo Africa/Gaborone","BY|Europe/Minsk","BZ|America/Belize","CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Blanc-Sablon America/Toronto America/Nipigon America/Thunder_Bay America/Iqaluit America/Pangnirtung America/Atikokan America/Winnipeg America/Rainy_River America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Yellowknife America/Inuvik America/Creston America/Dawson_Creek America/Fort_Nelson America/Whitehorse America/Dawson America/Vancouver","CC|Indian/Cocos","CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi","CF|Africa/Lagos Africa/Bangui","CG|Africa/Lagos Africa/Brazzaville","CH|Europe/Zurich","CI|Africa/Abidjan","CK|Pacific/Rarotonga","CL|America/Santiago America/Punta_Arenas Pacific/Easter","CM|Africa/Lagos Africa/Douala","CN|Asia/Shanghai Asia/Urumqi","CO|America/Bogota","CR|America/Costa_Rica","CU|America/Havana","CV|Atlantic/Cape_Verde","CW|America/Curacao","CX|Indian/Christmas","CY|Asia/Nicosia Asia/Famagusta","CZ|Europe/Prague","DE|Europe/Zurich Europe/Berlin Europe/Busingen","DJ|Africa/Nairobi Africa/Djibouti","DK|Europe/Copenhagen","DM|America/Port_of_Spain America/Dominica","DO|America/Santo_Domingo","DZ|Africa/Algiers","EC|America/Guayaquil Pacific/Galapagos","EE|Europe/Tallinn","EG|Africa/Cairo","EH|Africa/El_Aaiun","ER|Africa/Nairobi Africa/Asmara","ES|Europe/Madrid Africa/Ceuta Atlantic/Canary","ET|Africa/Nairobi Africa/Addis_Ababa","FI|Europe/Helsinki","FJ|Pacific/Fiji","FK|Atlantic/Stanley","FM|Pacific/Chuuk Pacific/Pohnpei Pacific/Kosrae","FO|Atlantic/Faroe","FR|Europe/Paris","GA|Africa/Lagos Africa/Libreville","GB|Europe/London","GD|America/Port_of_Spain America/Grenada","GE|Asia/Tbilisi","GF|America/Cayenne","GG|Europe/London Europe/Guernsey","GH|Africa/Accra","GI|Europe/Gibraltar","GL|America/Nuuk America/Danmarkshavn America/Scoresbysund America/Thule","GM|Africa/Abidjan Africa/Banjul","GN|Africa/Abidjan Africa/Conakry","GP|America/Port_of_Spain America/Guadeloupe","GQ|Africa/Lagos Africa/Malabo","GR|Europe/Athens","GS|Atlantic/South_Georgia","GT|America/Guatemala","GU|Pacific/Guam","GW|Africa/Bissau","GY|America/Guyana","HK|Asia/Hong_Kong","HN|America/Tegucigalpa","HR|Europe/Belgrade Europe/Zagreb","HT|America/Port-au-Prince","HU|Europe/Budapest","ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura","IE|Europe/Dublin","IL|Asia/Jerusalem","IM|Europe/London Europe/Isle_of_Man","IN|Asia/Kolkata","IO|Indian/Chagos","IQ|Asia/Baghdad","IR|Asia/Tehran","IS|Atlantic/Reykjavik","IT|Europe/Rome","JE|Europe/London Europe/Jersey","JM|America/Jamaica","JO|Asia/Amman","JP|Asia/Tokyo","KE|Africa/Nairobi","KG|Asia/Bishkek","KH|Asia/Bangkok Asia/Phnom_Penh","KI|Pacific/Tarawa Pacific/Enderbury Pacific/Kiritimati","KM|Africa/Nairobi Indian/Comoro","KN|America/Port_of_Spain America/St_Kitts","KP|Asia/Pyongyang","KR|Asia/Seoul","KW|Asia/Riyadh Asia/Kuwait","KY|America/Panama America/Cayman","KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral","LA|Asia/Bangkok Asia/Vientiane","LB|Asia/Beirut","LC|America/Port_of_Spain America/St_Lucia","LI|Europe/Zurich Europe/Vaduz","LK|Asia/Colombo","LR|Africa/Monrovia","LS|Africa/Johannesburg Africa/Maseru","LT|Europe/Vilnius","LU|Europe/Luxembourg","LV|Europe/Riga","LY|Africa/Tripoli","MA|Africa/Casablanca","MC|Europe/Monaco","MD|Europe/Chisinau","ME|Europe/Belgrade Europe/Podgorica","MF|America/Port_of_Spain America/Marigot","MG|Africa/Nairobi Indian/Antananarivo","MH|Pacific/Majuro Pacific/Kwajalein","MK|Europe/Belgrade Europe/Skopje","ML|Africa/Abidjan Africa/Bamako","MM|Asia/Yangon","MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan","MO|Asia/Macau","MP|Pacific/Guam Pacific/Saipan","MQ|America/Martinique","MR|Africa/Abidjan Africa/Nouakchott","MS|America/Port_of_Spain America/Montserrat","MT|Europe/Malta","MU|Indian/Mauritius","MV|Indian/Maldives","MW|Africa/Maputo Africa/Blantyre","MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Mazatlan America/Chihuahua America/Ojinaga America/Hermosillo America/Tijuana America/Bahia_Banderas","MY|Asia/Kuala_Lumpur Asia/Kuching","MZ|Africa/Maputo","NA|Africa/Windhoek","NC|Pacific/Noumea","NE|Africa/Lagos Africa/Niamey","NF|Pacific/Norfolk","NG|Africa/Lagos","NI|America/Managua","NL|Europe/Amsterdam","NO|Europe/Oslo","NP|Asia/Kathmandu","NR|Pacific/Nauru","NU|Pacific/Niue","NZ|Pacific/Auckland Pacific/Chatham","OM|Asia/Dubai Asia/Muscat","PA|America/Panama","PE|America/Lima","PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier","PG|Pacific/Port_Moresby Pacific/Bougainville","PH|Asia/Manila","PK|Asia/Karachi","PL|Europe/Warsaw","PM|America/Miquelon","PN|Pacific/Pitcairn","PR|America/Puerto_Rico","PS|Asia/Gaza Asia/Hebron","PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores","PW|Pacific/Palau","PY|America/Asuncion","QA|Asia/Qatar","RE|Indian/Reunion","RO|Europe/Bucharest","RS|Europe/Belgrade","RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Volgograd Europe/Astrakhan Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr","RW|Africa/Maputo Africa/Kigali","SA|Asia/Riyadh","SB|Pacific/Guadalcanal","SC|Indian/Mahe","SD|Africa/Khartoum","SE|Europe/Stockholm","SG|Asia/Singapore","SH|Africa/Abidjan Atlantic/St_Helena","SI|Europe/Belgrade Europe/Ljubljana","SJ|Europe/Oslo Arctic/Longyearbyen","SK|Europe/Prague Europe/Bratislava","SL|Africa/Abidjan Africa/Freetown","SM|Europe/Rome Europe/San_Marino","SN|Africa/Abidjan Africa/Dakar","SO|Africa/Nairobi Africa/Mogadishu","SR|America/Paramaribo","SS|Africa/Juba","ST|Africa/Sao_Tome","SV|America/El_Salvador","SX|America/Curacao America/Lower_Princes","SY|Asia/Damascus","SZ|Africa/Johannesburg Africa/Mbabane","TC|America/Grand_Turk","TD|Africa/Ndjamena","TF|Indian/Reunion Indian/Kerguelen","TG|Africa/Abidjan Africa/Lome","TH|Asia/Bangkok","TJ|Asia/Dushanbe","TK|Pacific/Fakaofo","TL|Asia/Dili","TM|Asia/Ashgabat","TN|Africa/Tunis","TO|Pacific/Tongatapu","TR|Europe/Istanbul","TT|America/Port_of_Spain","TV|Pacific/Funafuti","TW|Asia/Taipei","TZ|Africa/Nairobi Africa/Dar_es_Salaam","UA|Europe/Simferopol Europe/Kiev Europe/Uzhgorod Europe/Zaporozhye","UG|Africa/Nairobi Africa/Kampala","UM|Pacific/Pago_Pago Pacific/Wake Pacific/Honolulu Pacific/Midway","US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu","UY|America/Montevideo","UZ|Asia/Samarkand Asia/Tashkent","VA|Europe/Rome Europe/Vatican","VC|America/Port_of_Spain America/St_Vincent","VE|America/Caracas","VG|America/Port_of_Spain America/Tortola","VI|America/Port_of_Spain America/St_Thomas","VN|Asia/Bangkok Asia/Ho_Chi_Minh","VU|Pacific/Efate","WF|Pacific/Wallis","WS|Pacific/Apia","YE|Asia/Riyadh Asia/Aden","YT|Africa/Nairobi Indian/Mayotte","ZA|Africa/Johannesburg","ZM|Africa/Maputo Africa/Lusaka","ZW|Africa/Maputo Africa/Harare"]}),c});
/*! (c) Copyright 2013-2023 NETRONIC Software GmbH. All rights reserved. Version 7.8.4 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("jquery"),require("jquery-ui/ui/widget"),require("hammerjs"),require("jquery-ui/ui/widgets/dialog")):"function"==typeof define&&define.amd?define(["d3","jquery","jquery-ui/ui/widget","hammerjs","jquery-ui/ui/widgets/dialog"],e):"object"==typeof exports?exports.nwaf_apptools=e(require("d3"),require("jquery"),require("jquery-ui/ui/widget"),require("hammerjs"),require("jquery-ui/ui/widgets/dialog")):t.nwaf_apptools=e(t.d3,t.jQuery,t.jQuery,t.Hammer,t.jQuery)}(globalThis,((t,e,i,n,r)=>(()=>{var a={3595:(t,e,i)=>{var n=i(5549);i(8276);var r=".nautoscroll";n.widget("netronic.nAutoscrollWidget",{options:{verticallyActive:!1,horizontallyActive:!1,outsideActive:!0,hotMargin:50,initialDelay:500,delay:100,horDistance:0,verDistance:0,distance:10,callback:void 0},_create:function(){this._eventsRegistered=!1,this._cachedPointerMoveEvent=null,this._scrollEventTriggered=!1,this._registerOrUnregisterEvents()},_destroy:function(){this.options.verticallyActive=this.options.horizontallyActive=!1,this._registerOrUnregisterEvents()},_setOption:function(t,e){"horizontallyActive"===t||"verticallyActive"===t?(this._super(t,e),this._registerOrUnregisterEvents()):this._super(t,e)},_registerOrUnregisterEvents:function(){"use strict";var t=this;t.options.horizontallyActive||t.options.verticallyActive?t._eventsRegistered||(t.element.on("pointermove"+r,(function(e){return t._onPointerMove(e)})).on("scroll"+r,(function(e){return t._onScroll(e)})),t._eventsRegistered=!0):t._eventsRegistered&&(t.element.off(r),t._eventsRegistered=!1,void 0!==t._timerID&&t._stop())},_onScroll:function(){"use strict";this.options.callback&&this.options.callback.call(this,this._cachedPointerMoveEvent)},_onPointerMove:function(t){"use strict";var e=this,i={},n=e.element[0].getBoundingClientRect(),r=t.pageX,a=t.pageY,s=e.options.hotMargin;"number"==typeof s&&(s={left:s,top:s,right:s,bottom:s});var o=n.width/(s.left+s.right);o<1&&(s.left*=o,s.right*=o);var l=n.height/(s.top+s.bottom);l<1&&(s.top*=l,s.bottom*=l),e._cachedPointerMoveEvent=t,e.options.horizontallyActive&&(i.left=(e.options.outsideActive||n.left<=r)&&r<n.left+s.left,i.right=n.right-s.right<=r&&(e.options.outsideActive||r<n.right)),e.options.verticallyActive&&(i.top=(e.options.outsideActive||n.top<=a)&&a<n.top+s.top,i.bottom=n.bottom-s.bottom<=a&&(e.options.outsideActive||a<n.bottom)),i.left||i.top||i.right||i.bottom?(e._inMargins=i,void 0!==e._timerID&&e._stop(),e.options.initialDelay?e._timerID=setTimeout((function(){e._onTimer()}),e.options.initialDelay):e._onTimer()):e._stop()},_onTimer:function(){"use strict";var t=this;t._timerID=setTimeout((function(){t._onTimer()}),Math.max(t.options.delay,2));var e=t.element.scrollLeft(),i=t.element.scrollTop(),n=t.options.horDistance>0?t.options.horDistance:Math.max(t.options.distance,.01);n<1&&(n=t.element.width()*n);var r,a,s=t.options.verDistance>0?t.options.verDistance:Math.max(t.options.distance,.01);s<1&&(s=t.element.height()*s),t._inMargins.left?r=e-n:t._inMargins.right&&(r=e+n),t._inMargins.top?a=i-s:t._inMargins.bottom&&(a=i+s),void 0!==r&&r!==e&&t.element.scrollLeft(r),void 0!==a&&a!==i&&t.element.scrollTop(a)},_stop:function(){"use strict";var t=this;void 0!==t._timerID&&(clearTimeout(t._timerID),t._timerID=void 0)},isActive:function(){return!!this._timerID}}),t.exports=n.netronic.nAutoscrollWidget},1892:t=>{var e,i=!1,n=/xyz/.test((function(){xyz}))?/\b_super\b/:/.*/,r=function(){};r.prototype._dbgClassName="Class",r.extend=e=function(t,r){var a=this.prototype;i=!0;var s=new this;for(var o in i=!1,t)s[o]="function"==typeof t[o]&&"function"==typeof a[o]&&n.test(t[o])?function(t,e){return function(){var i=this._super;this._super=a[t];var n=e.apply(this,arguments);return this._super=i,n}}(o,t[o]):t[o];function l(){if(!i){var t=Object.getPrototypeOf(this);t&&(this._dbgClassName=t._dbgClassName),this.construct&&this.construct.apply(this,arguments)}}return l.prototype=s,l.prototype.constructor=l,l.extend=e,l.prototype._dbgClassName=r,l},t.exports=r},2391:t=>{t.exports={extendClass:function(t,e,i,n){t&&i&&(t[e]=i.extend(n,e))}}},4262:t=>{t.exports={toBoolean:function(t){"use strict";switch(typeof t){case"boolean":return t;case"string":switch(t.toLowerCase()){case"true":case"1":return!0;case"false":case"0":return!1}break;case"number":switch(t){case 1:return!0;case 0:return!1}}return!1}}},131:(t,e,i)=>{var n=function(t,e,i){this._minimumLinearExtent=isNaN(+t)?1e4:t,this._maximumLinearExtent=isNaN(+e)?1e5:e,this._linearReserve=isNaN(+i)?1e4:i,this._currentViewScrollOffset=0,this._currentViewExtent=0,this._currentChartExtent=0,this._currentLinearMinimum=0,this._currentLinearMaximum=0};i(5549).extend(n.prototype,{updateTransformIfNecessary:function(t){"object"!=typeof t&&(t={});var e=+t.viewScrollOffset>=0?+t.viewScrollOffset:void 0;e===this._currentViewScrollOffset&&(e=void 0);var i=+t.viewExtent;i===this._currentViewExtent&&(i=void 0);var n=+t.chartExtent;n===this._currentChartExtent&&(n=void 0);var r=+t.chartStretchCenterCoordinate;if(n>=0){if(r>=0){var a=(this._currentLinearMaximum-this._currentLinearMinimum)*(n/this._currentChartExtent),s=(r-this._currentLinearMinimum)/(this._currentLinearMaximum-this._currentLinearMinimum);this._currentLinearMinimum=Math.floor(Math.max(this._currentLinearMinimum-a*s,0)),this._currentLinearMaximum=Math.min(this._currentLinearMinimum+a,n)}else this._currentLinearMaximum=Math.min(this._currentLinearMaximum,n);this._currentChartExtent=n}i>=0&&(this._currentViewExtent=i),e>=0&&(this._currentViewScrollOffset=e);var o=this._currentViewScrollOffset,l=o+this._currentViewExtent,c=this._currentLinearMaximum-this._currentLinearMinimum;if(isNaN(c)||this._currentViewExtent>0&&(o<this._currentLinearMinimum||l>this._currentLinearMaximum||c<Math.min(this._minimumLinearExtent,this._currentChartExtent)||c>this._maximumLinearExtent)){var u=this._currentViewScrollOffset+this._currentViewExtent/2,h=(this._minimumLinearExtent+this._maximumLinearExtent)/2;return this._currentLinearMinimum=Math.floor(Math.max(u-h/2,0)),this._currentLinearMaximum=Math.min(this._currentLinearMinimum+h,this._currentChartExtent),!0}return!1},transform:function(t){return Math.max(Math.min(t,this._currentLinearMaximum+this._linearReserve)-this._currentLinearMinimum,-this._linearReserve)},reverseTransform:function(t){return t+this._currentLinearMinimum},limit:function(t){return Math.max(Math.min(t,this._currentLinearMaximum+this._linearReserve)-this._currentLinearMinimum,-this._linearReserve)+this._currentLinearMinimum},getCurrentLowerLimit:function(){return this._currentLinearMinimum-this._linearReserve},getCurrentUpperLimit:function(){return this._currentLinearMaximum+this._linearReserve},isCoordOutsideLimits:function(t){return+t<this._currentLinearMinimum-this._linearReserve?-1:t>this._currentLinearMaximum+this._linearReserve?1:0}}),t.exports=n},6478:(t,e,i)=>{var n=i(9990),r="ncursor-",a={grab:!0,grabbing:!0,"ew-grabbing":!0,"grab-important":!0,"grabbing-important":!0,"ew-grabbing-important":!0},s={setCursor:function(t,e,i){var s=n.select(t),o=s.attr("data-ncursor"),l=i?e+"-important":e,c=i?e+" !important":e;if((o||"")!==(l||"")){if(o&&(s.classed(r+o,!1),!e)){let t=s.attr("data-ncursor-savedstyle");s.style("cursor",t||null),s.attr("data-ncursor-savedstyle",null),s.attr("data-ncursor",t)}if(e){if(!o){let t=s.style("cursor");"auto"===t&&(t=""),s.attr("data-ncursor-savedstyle",t),s.style("cursor",null)}a[l]||(a[l]=!0,n.select(document.head).append("style").text("."+r+l+" { cursor: "+c+" }")),s.classed(r+l,!0)}s.attr("data-ncursor",l||"")}},removeCursorTemporarily:function(t){var e=n.select(t),i=e.attr("data-ncursor");i&&e.classed(r+i,!1)},restoreRemovedCursor:function(t){var e=n.select(t),i=e.attr("data-ncursor");i&&e.classed(r+i,!0)}};t.exports=s},2296:(t,e,i)=>{var n=i(9990),r={};n.version[0]>="4"||"."!==n.version[1]?r.transform=function(t){var e={},i=t?.indexOf("translate(");if(i>=0){var n=t.indexOf(")",i),r=t.substring(i+10,n);r.indexOf(",")<0?e.translate=r.split(" ").map((function(t){return parseInt(t)})):e.translate=r.split(",").map((function(t){return parseInt(t)})),e.rest=t.substring(n+1)}else e.translate=[0,0],e.rest=t;return e.toString=function(){return"translate("+this.translate.join(",")+")"+this.rest},e}:r.transform=n.transform,t.exports=r},3965:(t,e,i)=>{i(7658);var n,r=i(5549),a=i(6501),s="__netrdehf",o={eventListenerHelper:{on:function(t,e,i,n){return e=e.split(" "),"function"==typeof i?n=i:e=e.map((t=>`${t}${i}`)),(Array.isArray(t)?t:[t]).forEach((t=>{if(t){let i=t[s];i||(i=t[s]=new Map),e.forEach((e=>{let[r,a]=e.split("."),s=i.get(e);s&&t.removeEventListener(r,s),t.addEventListener(r,n),i.set(e,n)}))}})),o.eventListenerHelper},off:function(t,e,i){return e=e.split(" "),i&&(i.startsWith(".")||(i=`.${i}`),e=e.map((t=>`${t}${i}`))),(Array.isArray(t)?t:[t]).forEach((t=>{if(t){let n=t[s];n&&e.forEach((e=>{let[r,a]=e.split(".");if(r&&"*"!==a){let i=n.get(e);i&&(t.removeEventListener(r,i),n.delete(e))}else{for(let e of n.keys()){let[r,s]=e.split(".");"*"!==i&&s!==a||(t.removeEventListener(r,n.get(e)),n.delete(e))}n.size||delete t[s]}}))}})),o.eventListenerHelper}},mouseEnterAndLeaveListener:function(t,e,i,n){var r=this;r._svgParentGElem=i,r._onEnterCallback=t,r._onLeaveCallback=e,r._withPointerMoveEvents=n,r._svgGElems=[],r._EVENT_NAMESPACE=".nwaf-apptools-domhelper"+a.generate()}};o.mouseEnterAndLeaveListener.prototype={add:function(t){var e=this;let a=o.eventListenerHelper;e._svgGElems.push(t),n||(n=i(9315)),r(t).attr(n.POINTER_ENTER_ATTR_NAME,"1").attr(n.POINTER_LEAVE_ATTR_NAME,"1"),a.on(t,"pointerenter",e._EVENT_NAMESPACE,(function(i){e._lastEnteredElem&&(e._onLeaveCallback?.(e._lastEnteredElem,i),a.off(e._lastEnteredElem,"pointerleave pointermove",e._EVENT_NAMESPACE)),e._lastEnteredElem=t,e._onEnterCallback?.(t,i),a.on(t,"pointerleave",e._EVENT_NAMESPACE,(function(i){e._lastEnteredElem===t&&(e._lastEnteredElem=void 0,e._onLeaveCallback?.(t,i),a.off(t,"pointerleave pointermove",e._EVENT_NAMESPACE))})),e._withPointerMoveEvents&&a.on(t,"pointermove",e._EVENT_NAMESPACE,(function(i){e._onEnterCallback?.(t,i)}))}))},remove:function(t){var e=this,i=e._svgGElems.indexOf(t);i>=0&&(e._svgGElems.splice(i,1),e._doRemove(t))},_doRemove:function(t){let e=o.eventListenerHelper;r(t).removeAttr(n.POINTER_ENTER_ATTR_NAME).removeAttr(n.POINTER_LEAVE_ATTR_NAME),e.off(t,"pointerenter pointermove pointerleave",this._EVENT_NAMESPACE)},dispose:function(){var t=this;t._svgGElems.forEach((function(e){t._doRemove(e)}))}},t.exports=o},1744:(t,e,i)=>{var n=i(5549),r=i(1892),a=i(2391),s=i(730),o=i(1980),l=i(5017),c={construct:function(t,e,i,r,a,c){"use strict";if(this._propertyName=t,this._classConstructor=e,this._primaryKeyNames=i,this._relationshipInfos=void 0!==r?(this._relationshipInfos||[]).concat(r):this._relationshipInfos,this._booleans=void 0!==a?n.extend({},a):{},this._functions=void 0!==c?n.extend({},c):{},this._functions.anyRelationshipChangedFunc||(this._functions.anyRelationshipChangedFunc=this.defaultAnyRelationshipChangedFunc),this._subDescriptorsDepository=new s("PropertyName"),this._workingLevel=-1,(null!=i||null!=this._relationshipInfos)&&null!=e){var u=e.prototype;if(null!=u){var h=function(t){t in u==!1&&Object.defineProperty(u,t,{get:function(){let e=this._data?.[t];return e||0===e?e.toString():void 0}})};null!=i&&l.each(i,h),null!=this._relationshipInfos&&l.each(this._relationshipInfos,(function(t){t.autoPropertyGenerationDisabled||l.each(o.getPrimaryKeyNamesByRelationshipInfo(t),h)}))}}},defaultAnyRelationshipChangedFunc:function(t,e,i){return e.detectChangedRelationships(i)},incWorkingLevel:function(){"use strict";return this._workingLevel++},decWorkingLevel:function(){"use strict";return--this._workingLevel},getWorkingLevel:function(){"use strict";return this._workingLevel},getPropertyName:function(){"use strict";return this._propertyName},isArrayProperty:function(){return this._booleans.isArrayProperty},getClassConstructor:function(){"use strict";return this._classConstructor},getPrimaryKeyNames:function(){"use strict";return this._primaryKeyNames},getPrimaryKeyMustBeUnique:function(){"use strict";return void 0===this._booleans.primaryKeyMustBeUnique||this._booleans.primaryKeyMustBeUnique},getEnableBridge:function(){"use strict";return void 0!==this._booleans.enableBridge&&this._booleans.enableBridge},getEnableIterator:function(){"use strict";return void 0!==this._booleans.enableIterator&&this._booleans.enableIterator},getEnableRelationshipCache:function(){"use strict";return void 0!==this._booleans.enableRelationshipCache&&this._booleans.enableRelationshipCache},getEnableCycleDetection:function(){"use strict";return void 0!==this._booleans.enableCycleDetection&&this._booleans.enableCycleDetection},getEnableInheritChangedRelationships:function(){"use strict";return void 0!==this._booleans.enableInheritChangedRelationships&&this._booleans.enableInheritChangedRelationships},getSubDescriptorsArray:function(){"use strict";return this._subDescriptorsDepository.getArray()},getBooleans:function(){"use strict";return this._booleans},getFunctions:function(){"use strict";return this._functions},getRelationshipInfos:function(){"use strict";return this._relationshipInfos},getSharedDepositoryGetterFunc:function(){"use strict";return this._functions.sharedDepositoryGetterFunc},getDataValidationFunc:function(){"use strict";return this._functions.dataValidationFunc},getPrimaryKeyManipulationFunc:function(){"use strict";return this._functions.primaryKeyManipulationFunc},getHandleHierarchyParentFunc:function(){"use strict";return this._functions.handleHierarchyParentFunc},getAnyRelationshipChangedFunc:function(){"use strict";return this._functions.anyRelationshipChangedFunc},getHandleRelationshipChangedFunc:function(){"use strict";return this._functions.handleRelationshipChangedFunc},getPostAddToParentFunc:function(){"use strict";return this._functions.postAddToParentFunc},getPreRemoveFromParentFunc:function(){"use strict";return this._functions.preRemoveFromParentFunc},getHandleCycleDetectedFunc:function(){"use strict";return this._functions.handleCycleDetectedFunc},getIteratorContentGetterFunc:function(){"use strict";return this._functions.iteratorContentGetterFunc},addSubDescriptor:function(t,e){"use strict";this._subDescriptorsDepository.add(t,e)},getSubDescriptor:function(t){"use strict";return this._subDescriptorsDepository.getObjectByPrimaryKey(t)},getPrimaryKey:function(t,e){"use strict";return o.getPrimaryKey(t,this._primaryKeyNames,this,this._functions.primaryKeyManipulationFunc,e)},getSharedDepository:function(){"use strict";return this._functions.sharedDepositoryGetterFunc?this._functions.sharedDepositoryGetterFunc.call(this):void 0},dataValidation:function(t,e,i){"use strict";return this._functions.dataValidationFunc?this._functions.dataValidationFunc.call(this,t,e,i):e},handleHierarchyParent:function(t,e){"use strict";return this._functions.handleHierarchyParentFunc?this._functions.handleHierarchyParentFunc.call(this,t,e):t},anyRelationshipChanged:function(t,e,i){"use strict";return this._functions.anyRelationshipChangedFunc?this._functions.anyRelationshipChangedFunc.call(this,t,e,i):void 0},handleRelationshipChanged:function(t,e,i,n){"use strict";return this._functions.handleRelationshipChangedFunc?this._functions.handleRelationshipChangedFunc.call(this,t,e,i,n):null},handleCycleDetected:function(t,e){"use strict";return this._functions.handleCycleDetectedFunc?this._functions.handleCycleDetectedFunc.call(this,t,e):null},handlePostAddToParent:function(t){"use strict";return!this._functions.postAddToParentFunc||this._functions.postAddToParentFunc.call(this,t)},handlePreRemoveFromParent:function(t){"use strict";return!this._functions.preRemoveFromParentFunc||this._functions.preRemoveFromParentFunc.call(this,t)},getIteratorContent:function(t,e){"use strict";return this._functions.iteratorContentGetterFunc?this._functions.iteratorContentGetterFunc.call(this,t,e):0===e.currentIndex},getRelationshipInfoTo:function(t){"use strict";if(null!=this._relationshipInfos){var e=this.getPropertyName();return o.getRelationshipInfoTo(this._relationshipInfos,e,t)}},isActive:function(){"use strict";return!this._functions.isActiveFunc||this._functions.isActiveFunc.call(this)}},u={};a.extendClass(u,"nDataDescriptor",r,c);var h=u.nDataDescriptor;Object.defineProperty(h.prototype,"PropertyName",{get:function(){return this._propertyName}}),t.exports=h},6807:(t,e,i)=>{i(1703),i(7658);var n=i(5549),r=i(501),a=self&&self.moment?self.moment:i.m.null,s={a:"ddd",A:"dddd",b:"MMM",B:"MMMM",d:"DD",e:"D",F:"YYYY-MM-DD",H:"HH",I:"hh",j:"DDDD",k:"H",l:"h",m:"MM",M:"mm",p:"A",S:"ss",u:"E",U:"ww",w:"d",W:"ww",y:"YY",Y:"YYYY",z:"ZZ",Z:"z","%":"%"},o=new Date(2e3,0,1),l={ms:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,Q:7776e6,y:31104e6},c={_currentTimeZone:"",_currentDeterminedTimeZone:"",isMomentJSCurrentlyUsed:!1,_cachedYearForIsDST:null,timeZone:function(t){"use strict";var e=c;if(0!==arguments.length){if(!(!t||null===a||a&&a.tz))throw new Error("moment-timezone.js is necessary but not found!");e._timeZone(t,!0)}return e._currentDeterminedTimeZone},_timeZone:function(t,e){"use strict";var i=c;i._currentTimeZone!==t&&(i._currentTimeZone=t,i.isMomentJSCurrentlyUsed=!!i._currentTimeZone,i._isUTC="UTC"===t,i._currentDeterminedTimeZone="local"===i._currentTimeZone?a.tz.guess():i._currentTimeZone,e&&n(window).trigger("netronic_nDateHelper_timeZoneChanged"))},updateManually:function(){"use strict";var t=c;t._currentDeterminedTimeZone="local"===t._currentTimeZone?a.tz.guess():t._currentTimeZone,n(window).trigger("netronic_nDateHelper_timeZoneChanged")},determineBestDateBetween:function(t,e){"use strict";if(!t||!e||isNaN(t)||isNaN(e))return t;var i=function(t,e,i,n,r,a){var s,o={59:{0:10,30:4,15:3,45:3,10:2,20:2,40:2,50:2,5:1,25:1,35:1,55:1},23:{0:10,12:10,6:3,18:3,3:2,9:2,15:2,21:2,2:1,4:1,8:1,10:1,14:1,16:1,20:1,22:1},31:{1:10,10:2,20:2,30:2,5:1,15:1,25:1},11:{0:10,6:2,3:1,9:1}}[a],l=new Date(e);e.valueOf()===t.valueOf()&&r.call(l,n.call(l)-1);for(var c=-1;r.call(l,n.call(l)+1),!(l>i);){var u=o[n.call(l)]||0;if(u>c&&(c=u,s=new Date(l),10===c))break}return s};(t=new Date(t)).setMilliseconds(0);var n=t;return e.getFullYear()>t.getFullYear()?n=new Date(t.getFullYear()+1,0):e.getMonth()!==t.getMonth()?n=i(t,new Date(t.getFullYear(),t.getMonth()),e,Date.prototype.getMonth,Date.prototype.setMonth,11)||new Date(t.getFullYear(),t.getMonth()+1):e.getDate()!==t.getDate()?n=i(t,new Date(t.getFullYear(),t.getMonth(),t.getDate()),e,Date.prototype.getDate,Date.prototype.setDate,31)||new Date(t.getFullYear(),t.getMonth(),t.getDate()+1):e.getUTCHours()!==t.getUTCHours()?n=i(t,new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),e,Date.prototype.getHours,Date.prototype.setHours,23)||new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+1):e.getMinutes()!==t.getMinutes()?n=i(t,new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()),e,Date.prototype.getMinutes,Date.prototype.setMinutes,59)||new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+1):e.getSeconds()!==t.getSeconds()&&(n=i(t,new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),e,Date.prototype.getSeconds,Date.prototype.setSeconds,59)||n),n},isMoment:function(t){"use strict";return c.isMomentJSCurrentlyUsed&&t instanceof a},dateToMomentIfNecessary:function(t){"use strict";var e=c;return e.isMomentJSCurrentlyUsed?e._isUTC?a(t).utc():a.tz(t,e._currentDeterminedTimeZone):t},toDate:function(t){"use strict";var e=c;return e.isMomentJSCurrentlyUsed&&e.isMoment(t)?t.toDate():t},toDisplayDate:function(t){"use strict";var e=c;return e.isMomentJSCurrentlyUsed&&e.isMoment(t)?new Date(t.valueOf()+6e4*t.utcOffset()):t},createDateOrMoment:function(t){"use strict";var e=c;return e.isMomentJSCurrentlyUsed?e._isUTC?a(t).utc():a.tz(t,e._currentDeterminedTimeZone):Array.isArray(t)?null:new Date(t)},addToDateOrMoment:function(t,e,i,n){"use strict";var r=c;if(0===(i=Math.round(i)||1))return r.createDateOrMoment(t);if(n)return r.createDateOrMoment(t.valueOf()+l[e]*i);var a=r.isMomentJSCurrentlyUsed&&r.isMoment(t);if("h"===e&&Math.abs(i)>1){var s,o=r.isDST(t);if(a){s=r.createDateOrMoment(t).add(i,"h");var u=r.isDST(s);o&&!u&&s.add(1,"h")}else{s=new Date(t.getTime()+60*i*60*1e3);u=r.isDST(s);o&&!u&&s.setTime(s.getTime()+36e5)}return s}if(a)switch(e){case"ms":case"s":case"m":case"h":return r.createDateOrMoment(r.createDateOrMoment(t).utc().add(i,e).valueOf());case"d":case"w":case"M":case"Q":case"y":return r.createDateOrMoment(t).startOf("day").add(12,"h").add(i,e).startOf("day").milliseconds(60*t.hours()+60*t.minutes()+1e3*t.seconds()+t.milliseconds())}else switch(e){case"ms":return new Date(t.valueOf()+i);case"s":return new Date(t.valueOf()+1e3*i);case"m":return new Date(t.valueOf()+60*i*1e3);case"h":return new Date(t.valueOf()+60*i*60*1e3);case"d":return new Date(t.getFullYear(),t.getMonth(),t.getDate()+i);case"w":return new Date(t.getFullYear(),t.getMonth(),t.getDate()+7*i);case"M":return new Date(t.getFullYear(),t.getMonth()+i);case"Q":return new Date(t.getFullYear(),t.getMonth()+3*i);case"y":return new Date(t.getFullYear()+i,0)}},normalizeDateOrMoment:function(t,e,i,n){"use strict";var s=c;if(n){var u=o.valueOf(),h=t.valueOf(),d=l[e]*i,p=Math.abs(h-u)%d;return h<u&&p&&(p=d-p),s.createDateOrMoment(h-p)}if(s.isMomentJSCurrentlyUsed&&s.isMoment(t))switch(e){case"s":t.seconds()%i&&(t=a(t.valueOf()-t.seconds()%i*1e3));break;case"m":t.minutes()%i&&(t=s.createDateOrMoment(t.valueOf()-t.minutes()%i*60*1e3));break;case"h":t.hours()%i&&(t=s.createDateOrMoment(t.valueOf()-t.hours()%i*60*60*1e3));break;case"w":var _=r.locale().firstDay;t.day()!==_&&t.date(t.date()-(t.day()||7)+_);break;case"Q":t.month(t.month()-t.month()%3)}else switch(e){case"s":t.getSeconds()%i&&t.setTime(t.valueOf()-t.getSeconds()%i*1e3);break;case"m":t.getMinutes()%i&&t.setTime(t.valueOf()-t.getMinutes()%i*60*1e3);break;case"h":t.getHours()%i&&t.setTime(t.valueOf()-t.getHours()%i*60*60*1e3);break;case"w":_=r.locale().firstDay;t.getDay()!==_&&t.setDate(t.getDate()-(7-(_-t.getDay()))%7);break;case"Q":t.setMonth(t.getMonth()-t.getMonth()%3)}return s.roundDateOrMoment(t,e)},roundDateOrMoment:function(t,e,i){"use strict";var n=c;if(i){var a=o.valueOf(),s=t.valueOf(),u=l[e],h=Math.abs(s-a)%u;s<a&&h&&(h=u-h),t=n.createDateOrMoment(s-h)}else if(n.isMomentJSCurrentlyUsed&&n.isMoment(t)){var d=t.valueOf();switch(e){case"y":t.month(0);case"Q":case"M":t.date(1);case"d":t.hours(0),d=void 0;case"h":t.minutes(0);case"m":t.seconds(0);case"s":t.milliseconds(0),t.valueOf()<d-36e5&&(t=n.createDateOrMoment(t.valueOf()+60*Math.floor((d-t.valueOf())/60/60/1e3)*60*1e3));break;case"w":t.hours(0),t.minutes(0),t.seconds(0),t.milliseconds(0);var p=r.locale().firstDay;t.day()!==p&&t.date(t.date()-(t.day()||7)+p)}}else switch(e){case"y":t.setMonth(0);case"Q":case"M":t.setDate(1);case"d":t.setHours(0);case"h":t.getMinutes()&&t.setTime(t.valueOf()-60*t.getMinutes()*1e3);case"m":t.getSeconds()&&t.setTime(t.valueOf()-1e3*t.getSeconds());case"s":t.getMilliseconds()&&t.setTime(t.valueOf()-t.getMilliseconds());break;case"w":t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);p=r.locale().firstDay;t.getDay()!==p&&t.setDate(t.getDate()-(t.getDay()||7)+p)}return t},roundDateTimeWithExactStepping:function(t,e,i){"use strict";var n,r,a=new Date(t);switch(e){case"h":a.getMinutes()&&a.setTime(a.valueOf()-60*a.getMinutes()*1e3),n=Date.prototype.getHours,r=Date.prototype.setHours;case"m":a.getSeconds()&&a.setTime(a.valueOf()-1e3*a.getSeconds()),n||(n=Date.prototype.getMinutes,r=Date.prototype.setMinutes);case"s":a.getMilliseconds()&&a.setTime(a.valueOf()-a.getMilliseconds()),n||(n=Date.prototype.getSeconds,r=Date.prototype.setSeconds)}var s=new Date(a),o=new Date(a),l=n.call(a);return r.call(s,l-l%i),r.call(o,l+i-l%i),Math.abs(s-t)<Math.abs(o-t)?s:o},d3TimeFormatToMomentFormat:function(t){"use strict";var e=t.replace(/[^%](\w+)/g,(function(t){return"["+t+"]"}));return Object.keys(s).forEach((function(t){var i=s[t];e=e.replace("%"+t,i)})),e},isDST:function(t){"use strict";var e=c;if(e.isMomentJSCurrentlyUsed&&e.isMoment(t))return t.isDST();var i=t.getFullYear();if(e._cachedYearForIsDST!==i){var n=new Date(i,0,1),r=new Date(i,6,1);e._cachedYearForIsDST=i,e._cachedStdTimezoneOffsetInYearForIsDST=Math.max(n.getTimezoneOffset(),r.getTimezoneOffset())}return t.getTimezoneOffset()<e._cachedStdTimezoneOffsetInYearForIsDST},findDateWithinSortedArray:function(t,e,i,n){var r=this.findIndexOfDateInSortedArray(t,e,i,n);return r>0&&(r===t.length||(n?n(r):t[r])>e)?r-1:r},findInsertionIndexForDateInSortedArray:function(t,e,i){var n=this.findIndexOfDateInSortedArray(t,e,!1,i);return(n===t.length||(i?i(n):t[n]).getTime()!==e.getTime())&&n},findIndexOfDateInSortedArray:function(t,e,i,n){var r,a=t.length,s=0,o=a,l=e instanceof Date?e.getTime():e;for(n||(n=function(e){return t[e]});s<=o;){var c=-1===(r=(s+o)/2|0)?-864e11:r===a?864e11:n(r).getTime(),u=c>l?1:c<l?-1:0;if(u<0)s=r+1;else{if(!(u>0))return r;o=r-1}}return r=Math.max(s,o),!i&&(r===a?r:-1===r?0:n(r).getTime()<l?r+1:r)},applyTimeZone:function(t,e){"use strict";var i=c;if("function"==typeof e){var n=i._currentTimeZone;t&&i._timeZone(t,!1);var r=e(i._currentDeterminedTimeZone);return i._timeZone(n,!1),r}},dateToRelativeDateTimeString:function(t,e){"use strict";e||(e=o);var i=(t.getTime()-e.getTime())/1e3,n="+";i<0&&(n="-",i=-i);var r=[],a=Math.floor(i/2592e3).toString();return r.push(("0"+a).slice(-Math.max(a.length,2))),i%=2592e3,r.push(("0"+Math.floor(i/86400)).slice(-2)),i%=86400,r.push(("0"+Math.floor(i/3600)).slice(-2)),i%=3600,r.push(("0"+Math.floor(i/60)).slice(-2)),r.push(("0"+Math.floor(i%60)).slice(-2)),n+r.join(":")},relativeDateTimeStringToDate:function(t,e){"use strict";var i;i=e?new Date(e):new Date(o);var n=1;"-"===t[0]&&(t=t.slice(1),n=-1);var r=t.split(":");return 5!==r.length||i.setTime(i.getTime()+1e3*n*(parseInt(r[4])+60*(parseInt(r[3])+60*(parseInt(r[2])+24*(parseInt(r[1])+30*parseInt(r[0])))))),i}};t.exports=c},4178:(t,e,i)=>{i(1703);var n={active:function(){},assert:function(t,e,i){if(!t&&!i)throw new Error(e);return t},_emitMessageOnAssertionTypeFailure:function(t,e,i){return t||(e&&(e+=": "),"number"==typeof i&&(i=`Parameter ${i}`),n.assert(t,(e||"")+i+" has invalid type!")),t},assertNotNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null!=t,e,i)},assertStringOrNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null==t||"string"==typeof t,e,i)},assertString:function(t,e,i){return n._emitMessageOnAssertionTypeFailure("string"==typeof t,e,i)},assertArrayOrNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null==t||Array.isArray(t),e,i)},assertArray:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(Array.isArray(t),e,i)},assertFunctionOrNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null==t||t instanceof Function,e,i)},assertFunction:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(t instanceof Function,e,i)},assertNumberOrNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null==t||"number"==typeof t,e,i)},assertNumber:function(t,e,i){return n._emitMessageOnAssertionTypeFailure("number"==typeof t,e,i)},assertDateOrNull:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(null==t||t instanceof Date,e,i)},assertDate:function(t,e,i){return n._emitMessageOnAssertionTypeFailure(t instanceof Date,e,i)},trace:function(t){}};t.exports=n},5066:t=>{t.exports={nDefaultSeparator:"",VerticalPositions:{Top:8,Center:16,Bottom:32},HorizontalPositions:{Left:1,Center:2,Right:4},Positions:{TopLeft:9,TopCenter:10,TopRight:12,CenterLeft:17,CenterCenter:18,CenterRight:20,BottomLeft:33,BottomCenter:34,BottomRight:36}}},730:(t,e,i)=>{i(7658);var n=i(1892),r=i(2391),a=i(1980),s={construct:function(t,e,i,n,r,a,s){"use strict";t||a?(this._primaryKeyNames=t,this._map=new Map):this._array=i||[],this._sharedDepository=r,this._primaryKeyManipulationFunc=a,this._primaryKeyMustBeUnique=e??!0,this._handleWarningFunc=s},isEmpty:function(){return!this._map.size},add:function(t,e){"use strict";var i=!0;if(this._map){i=!1,null==e&&this._primaryKeyManipulationFunc&&!this._primaryKeyNames&&(e=this._map.size);var n=this.getPrimaryKey(t,e);null!=n&&(i=this._addIntoMap(this._map,n,t))}return i&&(this._array?this._addIntoArray(this._array,t,e):delete this._immutableArray,this._sharedDepository&&(i=this._sharedDepository.add(t,e))),i},remove:function(t,e){"use strict";return this._doRemove(t,e)},_doRemove:function(t,e,i){"use strict";var n,r=!0;if(!i&&this._map){if(r=!1,this._primaryKeyManipulationFunc&&!this._primaryKeyNames)if(this._immutableArray)n=this._immutableArray.indexOf(t);else{n=0;for(let e of this._map.values()){if(e===t)break;n++}}var a=this.getPrimaryKey(t,n);null!=a&&(r=this._removeFromMap(this._map,a,t))}return r&&(!i&&this._array&&this._removeFromArray(this._array,t,n),delete this._immutableArray,this._sharedDepository&&(r=this._sharedDepository.remove(t,!1)),e&&t.dispose&&t.dispose()),r},removeAll:function(){"use strict";var t=this;this._array&&(this._array.forEach((function(e){t._doRemove(e,!0,!0)})),this._array.length=0),this._map&&this._map.clear(),delete this._immutableArray},dispose:function(t){"use strict";var e=this,i=function(i){e._sharedDepository&&e._sharedDepository.remove(i),i.dispose&&i.dispose(t)};if(this._array)this._array.forEach(i);else{let t=0;for(let e of this._map.values())i(e,t++)}!t&&this._array&&(this._array.length=0),delete this._immutableArray,this._map&&(this._map=new Map)},getArray:function(){"use strict";return this._array?this._array:(this._immutableArray||(this._immutableArray=Array.from(this._map.values())),this._immutableArray)},getObjectByPrimaryKey:function(t){return this._map.get(t)},getPrimaryKeyNames:function(){"use strict";return this._primaryKeyNames},getPrimaryKeyMustBeUnique:function(){"use strict";return this._primaryKeyMustBeUnique},_addIntoArray:function(t,e,i){"use strict";return!!t&&(void 0===i?t.push(e):t.splice(i,0,e),!0)},_removeFromArray:function(t,e,i){"use strict";return!!(t&&(null==i&&(i=t.indexOf(e)),i>=0))&&(t.splice(i,1),!0)},_addIntoMap:function(t,e,i){"use strict";if(t){if(!t.has(e))return t.set(e,i),!0;if(!this._primaryKeyMustBeUnique){let n=t.get(e);if(!Array.isArray(n)){let i=[];t.set(e,i),this._addIntoArray(i,n),n=i}return this._addIntoArray(n,i)}}return!1},_removeFromMap:function(t,e,i){"use strict";if(t&&t.has(e)){if(!this._primaryKeyMustBeUnique){let n=t.get(e);if(Array.isArray(n)&&this._removeFromArray(n,i))return n.length||t.delete(e),!0}return t.delete(e),!0}return!1},getPrimaryKey:function(t,e){"use strict";return a.getPrimaryKey(t,this._primaryKeyNames,this,this._primaryKeyManipulationFunc,e)}},o={};r.extendClass(o,"nDepository",n,s),t.exports=o.nDepository},7433:(t,e,i)=>{var n=i(5549);i(8276);var r=i(6501),a="ndroppable",s=".ndroppable",o="netronic_ndroppable_dragenter",l="netronic_ndroppable_dragover",c="netronic_ndroppable_dragleave",u="netronic_ndroppable_drop",h={DragEnter:"dragenter",DragOver:"dragover",DragLeave:"dragleave",Drop:"drop"};n.widget("netronic.nDroppableWidget",{options:{onEventFunc:null},_create:function(){"use strict";var t=this;this._uniqueID=r.generate(),t.element.addClass(a).on(o+s+t._uniqueID,(function(e,i){t.options.onEventFunc&&t.options.onEventFunc.call(t,{eventType:h.DragEnter,data:i})})).on(l+s+t._uniqueID,(function(e,i){t.options.onEventFunc&&t.options.onEventFunc.call(t,{eventType:h.DragOver,data:i})})).on(c+s+t._uniqueID,(function(e,i){t.options.onEventFunc&&t.options.onEventFunc.call(t,{eventType:h.DragLeave,data:i})})).on(u+s+t._uniqueID,(function(e,i){t.options.onEventFunc&&t.options.onEventFunc.call(t,{eventType:h.Drop,data:i})}))},_destroy:function(){"use strict";this.element.off(s+this._uniqueID)}});var d=n.netronic.nDroppableWidget;d.NDROPPABLE_CLASS=a,d.DRAG_ENTER_EVENT_NAME=o,d.DRAG_OVER_EVENT_NAME=l,d.DRAG_LEAVE_EVENT_NAME=c,d.DROP_EVENT_NAME=u,d.EventType=h,t.exports=d},1280:(t,e,i)=>{i(6699);var n=i(5549),r=i(7337),a=i(8309),s=".nevd",o=function(t,e,i){var l=this;this._elem=t,this._handlerFunctionPropertySuffix=i||"",this._hammerManager=new r.Manager(t),this._pressRecognizer=null,this._pressTargetElem=null,this._pressTargetSubElem=null,this._tapRecognizer=null,this._tapTargetElem=null,this._tapTargetSubElem=null,this._quickPanRecognizer=null,this._panRecognizer=null,this._panTargetElem=null,this._panTargetSubElem=null,this._swipeTargetElem=null,this._swipeTargetSubElem=null,this._pinchRecognizer=null,this._pinchTargetElem=null,this._pinchTargetSubElem=null,this._rotateRecognizer=null,this._rotateTargetElem=null,this._rotateTargetSubElem=null,this._cachedTargetSubElem=null,this._tapCachedHammerEvent=null,this._panCachedHammerEvent=null,this._pointerDownPosition=null,this._targetSubElemOnPointerDown=null,this._slowPanActive=!1,this._quickPanActive=!1,this.TAP_TIMEOUT_MS=a.isFirefox?400:280,e.forEach((function(e){switch(e){case o.TAP_EVENT_NAME:case o.DOUBLE_TAP_EVENT_NAME:l._tapRecognizer||(l._tapRecognizer=new r.Tap({interval:l.TAP_TIMEOUT_MS}));break;case o.PRESS_EVENT_NAME:case o.PRESS_PAN_EVENT_NAME:if(l._pressRecognizer||(l._pressRecognizer=new r.Press({threshold:10})),e!==o.PRESS_PAN_EVENT_NAME)break;case o.PAN_EVENT_NAME:case o.SWIPE_EVENT_NAME:l._panRecognizer||(l._panRecognizer=new r.Pan,l._quickPanRecognizer=new r.Pan({event:"quickpan",threshold:2}));break;case o.PINCH_EVENT_NAME:l._pinchRecognizer||(l._pinchRecognizer=new r.Pinch);break;case o.ROTATE_EVENT_NAME:l._rotateRecognizer||(l._rotateRecognizer=new r.Rotate);break;case o.CONTEXTMENU_EVENT_NAME:n(t).on("contextmenu"+s,(function(t){return l._onContextMenu(t)}))}})),this._tapRecognizer&&(this._hammerManager.add(this._tapRecognizer),this._hammerManager.on("tap",(function(t){l._onTap(t)}))),this._pressRecognizer&&(this._hammerManager.add(this._pressRecognizer),this._hammerManager.on("press",(function(t){l._onPress(t)})),this._hammerManager.on("pressup",(function(t){l._onPressUp(t)}))),this._panRecognizer&&(this._hammerManager.add(this._quickPanRecognizer),this._hammerManager.add(this._panRecognizer),this._hammerManager.on("panstart",(function(t){l._onSlowPanStart(t)})),this._hammerManager.on("panmove",(function(t){l._onSlowPanMove(t)})),this._hammerManager.on("panend",(function(t){l._onSlowPanEnd(t)})),this._hammerManager.on("pancancel",(function(t){l._onSlowPanCancel(t)})),this._hammerManager.on("quickpanstart",(function(t){l._onQuickPanStart(t)})),this._hammerManager.on("quickpanmove",(function(t){l._onQuickPanMove(t)})),this._hammerManager.on("quickpanend",(function(t){l._onQuickPanEnd(t)})),this._hammerManager.on("quickpancancel",(function(t){l._onQuickPanCancel(t)}))),this._pinchRecognizer&&(this._hammerManager.add(this._pinchRecognizer),this._hammerManager.on("pinchstart",(function(t){l._onPinch(t)})),this._hammerManager.on("pinch",(function(t){l._onPinch(t)})),this._hammerManager.on("pinchend",(function(t){l._onPinchEnd(t)}))),this._rotateRecognizer&&(this._hammerManager.add(this._rotateRecognizer),this._hammerManager.on("rotatestart",(function(t){l._onRotateStart(t)})),this._hammerManager.on("rotatemove",(function(t){l._onRotateMove(t)})),this._hammerManager.on("rotateend",(function(t){l._onRotateEnd(t)})),this._hammerManager.on("rotatecancel",(function(t){l._onRotateCancel(t)}))),this._hammerManager.on("hammer.input",(function(t){if("pointerdown"===t.srcEvent.type){if(l._swipeTargetElem&&l._onSwipeCancel(),1===t.pointers.length){l._targetSubElemOnPointerDown=t.target,l._pointerDownPosition=t.center;var e=l._determineTargetElems(t,o.PAN_EVENT_CLASS_NAME);!e&&["mouse","pen"].includes(t.pointerType)?e=l._determineTargetElems(t,o.PRESS_PAN_EVENT_CLASS_NAME):e||"touch"!==t.pointerType||(e=l._determineTargetElems(t,o.SWIPE_EVENT_CLASS_NAME)),e&&e.subElem&&["use","image"].includes(e.subElem.nodeName)&&(t.srcEvent.stopPropagation(),t.srcEvent.preventDefault())}if(l._targetSubElemOnPointerDown){var i=n(l._targetSubElemOnPointerDown).closest('[class~="'+o.POINTER_DOWN_EVENT_CLASS_NAME+'"]');if(i.length){var r=document.createEvent("CustomEvent");t.type=o.POINTER_DOWN_EVENT_NAME,r.initCustomEvent(o.TARGET_EVENT_NAME,!1,!1,{hammerEvent:t}),i[0].dispatchEvent(r)}}}else 1===t.pointers.length&&"pointerup"===t.srcEvent.type&&setTimeout((function(){l._clearCachedPointerDownTargetElem()}),1),"pointerup"===t.srcEvent.type&&"touch"===t.pointerType&&(l._pinchTargetElem=null,l._pointerDownPosition=null)}))};n.extend(o.prototype,{destroy:function(){this._hammerManager.destroy(),this._elem=null,this._hammerManager=null,this._pressTargetElem=null,this._pressTargetSubElem=null,this._tapTargetElem=null,this._tapTargetSubElem=null,this._panTargetElem=null,this._panTargetSubElem=null,this._swipeTargetElem=null,this._swipeTargetSubElem=null,this._pinchTargetElem=null,this._pinchTargetSubElem=null,this._rotateTargetElem=null,this._rotateTargetSubElem=null,this._cachedTargetSubElem=null,this._tapCachedHammerEvent=null,this._panCachedHammerEvent=null,this._pointerDownPosition=null,this._targetSubElemOnPointerDown=null},replacePressOrPanTargetElem:function(t){this._panTargetElem&&(this._panTargetElem=t),this._pressTargetElem&&(this._pressTargetElem=t)},_onTap:function(t){var e=this._determineTargetElems(t,o.QUICK_TAP_EVENT_CLASS_NAME),i=e?null:this._determineTargetElems(t,o.DOUBLE_TAP_EVENT_CLASS_NAME),n=e||this._determineTargetElems(t,o.TAP_EVENT_CLASS_NAME),r=t.tapCount,a=r;if(n)if(1===a){if(this._clearTapTimeout())try{this._sendDelayedTapEvent()}catch(t){throw this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=0,t}this._tapTargetElem=n.elem,this._tapTargetSubElem=n.subElem,this._tapCount=a}else if(this._tapTargetElem!==n.elem){if(this._clearTapTimeout())try{this._sendDelayedTapEvent()}catch(t){throw this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=0,t}this._tapTargetElem=n.elem,this._tapTargetSubElem=n.subElem,this._tapCount=a=1,t.isFirst=!0}else a=++this._tapCount;else try{this._clearTapTimeout()&&this._sendDelayedTapEvent()}finally{this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=a=0}if(t.tapCount=a,n&&1===a&&1===r&&(this._tapCachedHammerEvent=t,t[o.SUB_ELEM_PROPERTY]=n.subElem,!e&&i&&(this._setTapTimeout(),a=0)),a>0){if(a>1&&this._tapCachedHammerEvent&&t.pointerType!==this._tapCachedHammerEvent.pointerType){if(this._clearTapTimeout())try{this._sendDelayedTapEvent()}finally{this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=0}n=i=null}if(i&&2===a&&2===r){this._clearTapTimeout(),t.type=o.DOUBLE_TAP_EVENT_NAME,t[o.SUB_ELEM_PROPERTY]=i.subElem;try{this._sendEventToTargetElem(i.elem,t)}finally{this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=0}}else{if(2===r&&this._clearTapTimeout())try{this._sendDelayedTapEvent()}catch(t){throw this._tapTargetElem=null,this._tapTargetSubElem=null,this._tapCount=0,t}t[o.SUB_ELEM_PROPERTY]=this._tapTargetSubElem,this._sendEventToTargetElem(this._tapTargetElem,t)}}},_setTapTimeout:function(){var t=this;this._tapTimeoutHandle=setTimeout((function(){t._tapTimeoutHandle=0,t._sendDelayedTapEvent(),t._tapCachedHammerEvent=null,t._tapTargetElem=null,t._tapTargetSubElem=null,t._tapCount=0}),t.TAP_TIMEOUT_MS+1)},_clearTapTimeout:function(){return!!this._tapTimeoutHandle&&(clearTimeout(this._tapTimeoutHandle),this._tapTimeoutHandle=0,!0)},_sendDelayedTapEvent:function(){this._tapTargetElem&&this._sendEventToTargetElem(this._tapTargetElem,this._tapCachedHammerEvent)},_onPress:function(t){if(this._tapCount>1)this._pressRecognizer.reset();else{var e,i=this._determineTargetElems(t,o.PRESS_EVENT_CLASS_NAME),r=this._determineTargetElems(t,o.PRESS_PAN_EVENT_CLASS_NAME);(e=i&&r?n(i.elem).closest(r.elem).length?i:r:i||r)?(this._pressTargetElem=e.elem,this._pressTargetSubElem=e.subElem,t[o.SUB_ELEM_PROPERTY]=this._pressTargetSubElem,t[o.CANCEL_PROPERTY]=!1,this._sendEventToTargetElem(this._pressTargetElem,t),t[o.CANCEL_PROPERTY]&&(this._pressTargetElem=null,this._pressTargetSubElem=null,this._pressRecognizer.reset()),this._handleException()):this._pressRecognizer.reset()}},_onPressUp:function(t){t[o.SUB_ELEM_PROPERTY]=this._pressTargetSubElem;try{this._sendEventToTargetElem(this._pressTargetElem,t)}finally{this._pressTargetElem=null,this._pressTargetSubElem=null}t.srcEvent.stopPropagation(),t.preventDefault()},_onOffPanEscapeKeyEvent:function(t){for(var e=this,i="keydown"+s,r=window;;r=r.parent){if(!r||!r.document)return!1;if(t?(n(r.document).on(i,(function(t){"Escape"!==t.key&&"Esc"!==t.key||e._boundPanCancelEventHandlerFunc()})),r.addEventListener("contextmenu",e._boundPanCancelEventHandlerFunc,!0)):(n(r.document).off(i),window.removeEventListener("contextmenu",e._boundPanCancelEventHandlerFunc,!0)),r===r.parent)return!1}},_onQuickPanStart:function(t){this._slowPanActive||(t.type="panstart",this._quickPanActive=!0,this._onPanStart(t),this._panTargetElem||this._swipeTargetElem||(this._quickPanActive=!1))},_onQuickPanMove:function(t){this._quickPanActive&&(this._panTargetElem||this._swipeTargetElem)&&(t.type="panmove",this._onPanMove(t))},_onQuickPanEnd:function(t){this._quickPanActive&&(this._panTargetElem||this._swipeTargetElem)&&(t.type="panend",this._onPanEnd(t),this._quickPanActive=!1)},_onQuickPanCancel:function(t){this._quickPanActive&&(this._panTargetElem||this._swipeTargetElem)&&(t.type="pancancel",this._onPanCancel(t),this._quickPanActive=!1)},_onSlowPanStart:function(t){this._quickPanActive||(this._pressTargetElem=null,this._pressTargetSubElem=null,this._onPanStart(t),this._panTargetElem||this._swipeTargetElem?this._slowPanActive=!0:this._panRecognizer.reset())},_onSlowPanMove:function(t){this._slowPanActive&&(this._panTargetElem||this._swipeTargetElem)&&this._onPanMove(t)},_onSlowPanEnd:function(t){this._slowPanActive&&(this._panTargetElem||this._swipeTargetElem)&&(this._onPanEnd(t),this._slowPanActive=!1)},_onSlowPanCancel:function(t){this._slowPanActive&&(this._panTargetElem||this._swipeTargetElem)&&(this._onPanCancel(t),this._slowPanActive=!1)},_onPanStart:function(t){if(!this._panTargetElem){var e=!1;if(this._swipeTargetElem&&this._onSwipeCancel(),this._quickPanActive&&this._pressTargetElem&&n(this._pressTargetElem).attr("class").indexOf(o.PRESS_PAN_EVENT_CLASS_NAME)>=0)this._panTargetElem=this._pressTargetElem;else if(!this._quickPanActive||"mouse"===t.pointerType){var i,r=this._determineTargetElems(t,o.PAN_EVENT_CLASS_NAME),a="mouse"===t.pointerType?this._determineTargetElems(t,o.PRESS_PAN_EVENT_CLASS_NAME):void 0;i=r&&a?n(r.elem).closest(a.elem).length?r:a:r||a,this._panTargetElem=i?i.elem:null,this._panTargetSubElem=i?i.subElem:null}if(this._panTargetElem){if(t[o.SUB_ELEM_PROPERTY]=this._panTargetSubElem,t[o.CANCEL_PROPERTY]=!1,t.center=this._pointerDownPosition,this._sendEventToTargetElem(this._panTargetElem,t),t[o.CANCEL_PROPERTY])this._panTargetElem=null,this._panTargetSubElem=null,e=!0;else{var s=this;this._panCachedHammerEvent=t,s._boundPanCancelEventHandlerFunc||(s._boundPanCancelEventHandlerFunc=function(){s._panTargetElem&&(s._panCachedHammerEvent.type=o.PAN_EVENT_NAME+"cancel",s._onPanCancel(s._panCachedHammerEvent))}.bind(s)),this._onOffPanEscapeKeyEvent(!0)}this._handleException()}else e=!0;if(e&&!this._pressTargetElem&&"touch"===t.pointerType){var l=this._determineTargetElems(t,o.SWIPE_EVENT_CLASS_NAME);l&&(this._swipeTargetElem=l.elem,this._swipeTargetSubElem=l.subElem,t.type=o.SWIPE_EVENT_NAME,t[o.SUB_ELEM_PROPERTY]=this._swipeTargetSubElem,t[o.CANCEL_PROPERTY]=!1,this._cachedSwipeParams={deltaX:t.deltaX,deltaY:t.deltaY,timestamp:Date.now()},this._sendEventToTargetElem(this._swipeTargetElem,t),t[o.CANCEL_PROPERTY]&&(this._swipeTargetElem=null,this._swipeTargetSubElem=null),this._handleException())}}},_onPanMove:function(t){this._panTargetElem?(this._panCachedHammerEvent=t,t[o.SUB_ELEM_PROPERTY]=this._panTargetSubElem,t[o.CANCEL_PROPERTY]=!1,this._sendEventToTargetElem(this._panTargetElem,t),t[o.CANCEL_PROPERTY]&&(this._panTargetElem=null,this._panTargetSubElem=null),this._handleException()):this._swipeTargetElem&&(this._cachedSwipeParams2=this._cachedSwipeParams,this._cachedSwipeParams={deltaX:t.deltaX,deltaY:t.deltaY,timestamp:Date.now()},t.type=o.SWIPE_EVENT_NAME,t[o.SUB_ELEM_PROPERTY]=this._swipeTargetSubElem,t[o.CANCEL_PROPERTY]=!1,this._sendEventToTargetElem(this._swipeTargetElem,t),t[o.CANCEL_PROPERTY]&&(this._swipeTargetElem=null,this._swipeTargetSubElem=null),this._handleException())},_onPanEnd:function(t){if(this._panTargetElem){t[o.SUB_ELEM_PROPERTY]=this._panTargetSubElem;try{this._sendEventToTargetElem(this._panTargetElem,t)}finally{this._panTargetElem=null,this._panTargetSubElem=null,this._swipeTargetElem=null,this._swipeTargetSubElem=null,this._pressTargetElem=null,this._pressTargetSubElem=null,this._onOffPanEscapeKeyEvent(!1),this._panCachedHammerEvent=null}this._handleException()}else if(this._swipeTargetElem){var e=.95;if(this._cachedSwipeParams2){var i=17/(Date.now()-this._cachedSwipeParams2.timestamp),n=(t.deltaX-this._cachedSwipeParams2.deltaX)*i*e,r=(t.deltaY-this._cachedSwipeParams2.deltaY)*i*e;if(this._cachedSwipeParams=void 0,this._cachedSwipeParams2=void 0,t.type=o.SWIPE_EVENT_NAME,t[o.SUB_ELEM_PROPERTY]=this._swipeTargetSubElem,t[o.CANCEL_PROPERTY]=!1,t[o.IS_FINAL_PROPERTY]=Math.abs(n)<1&&Math.abs(r)<1,this._sendEventToTargetElem(this._swipeTargetElem,t),this._swipeCachedHammerEvent=t,this._swipeTimestamp=Date.now(),t[o.CANCEL_PROPERTY]||t[o.IS_FINAL_PROPERTY])this._swipeCachedHammerEvent=null,this._swipeTargetElem=null,this._swipeTargetSubElem=null;else{var a=this;this._swipeIntervalHandle=setInterval((function(){var i=Math.floor((Date.now()-a._swipeTimestamp)/17);a._swipeTimestamp+=17*i;for(var s=0;s<i&&!t[o.IS_FINAL_PROPERTY];s++)t.deltaX+=n,t.deltaY+=r,t.center.x+=n,t.center.y+=r,n*=e,r*=e,Math.abs(n)<1&&Math.abs(r)<1&&(t[o.IS_FINAL_PROPERTY]=!0);t.delta=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY),a._sendEventToTargetElem(a._swipeTargetElem,t),(t[o.CANCEL_PROPERTY]||t[o.IS_FINAL_PROPERTY])&&(a._swipeIntervalHandle&&(clearInterval(a._swipeIntervalHandle),a._swipeIntervalHandle=null),a._swipeCachedHammerEvent=null,a._swipeTargetElem=null,a._swipeTargetSubElem=null)}),17)}this._handleException()}else this._swipeTargetElem=null,this._swipeTargetSubElem=null}},_onSwipeCancel:function(){if(this._swipeTargetElem){try{this._swipeCachedHammerEvent&&!this._swipeCachedHammerEvent[o.IS_FINAL_PROPERTY]&&(this._swipeCachedHammerEvent[o.IS_FINAL_PROPERTY]=!0,this._sendEventToTargetElem(this._swipeTargetElem,this._swipeCachedHammerEvent)),this._swipeIntervalHandle&&(clearInterval(this._swipeIntervalHandle),this._swipeIntervalHandle=null)}finally{this._swipeCachedHammerEvent=null,this._swipeTargetElem=null,this._swipeTargetSubElem=null}this._handleException()}},_onPanCancel:function(t){try{this._sendEventToTargetElem(this._panTargetElem,t)}finally{this._panTargetElem=null,this._panTargetSubElem=null,this._pressTargetElem=null,this._pressTargetSubElem=null,this._panCachedHammerEvent=null,this._onOffPanEscapeKeyEvent(!1)}this._handleException()},_onPinch:function(t){if(!this._pinchTargetElem){var e=this._determineTargetElems(t,o.PINCH_EVENT_CLASS_NAME);this._pinchTargetElem=e?e.elem:null,this._pinchTargetSubElem=e?e.subElem:null}if(this._pinchTargetElem){t[o.SUB_ELEM_PROPERTY]=this._pinchTargetSubElem;try{this._sendEventToTargetElem(this._pinchTargetElem,t)}catch(t){throw this._pinchTargetElem=null,this._pinchTargetSubElem=null,t}this._handleException()}},_onPinchEnd:function(t){if(this._pinchTargetElem){t[o.SUB_ELEM_PROPERTY]=this._pinchTargetSubElem;try{this._sendEventToTargetElem(this._pinchTargetElem,t)}finally{this._pinchTargetElem=null,this._pinchTargetSubElem=null}this._handleException()}},_onRotateStart:function(t){var e=this._determineTargetElems(t,o.ROTATE_EVENT_CLASS_NAME);this._rotateTargetElem=e?e.elem:null,this._rotateTargetSubElem=e?e.subElem:null,t[o.SUB_ELEM_PROPERTY]=this._rotateTargetSubElem,this._sendEventToTargetElem(this._rotateTargetElem,t),this._handleException()},_onRotateMove:function(t){t[o.SUB_ELEM_PROPERTY]=this._rotateTargetSubElem,this._sendEventToTargetElem(this._rotateTargetElem,t)},_onRotateEnd:function(t){t[o.SUB_ELEM_PROPERTY]=this._rotateTargetSubElem,this._sendEventToTargetElem(this._rotateTargetElem,t),this._handleException()},_onRotateCancel:function(t){t[o.SUB_ELEM_PROPERTY]=this._rotateTargetSubElem,this._sendEventToTargetElem(this._rotateTargetElem,t),this._handleException()},_onContextMenu:function(t){if(!this._pressTargetElem){var e=this._determineTargetElems(t,o.CONTEXTMENU_EVENT_CLASS_NAME);e&&(this._sendEventToTargetElem(e.elem,t),this._handleException())}},_determineTargetElems:function(t,e){var i;(i=e===o.CONTEXTMENU_EVENT_CLASS_NAME?t.target:this._targetSubElemOnPointerDown)?this._cachedTargetSubElem=i:i=this._cachedTargetSubElem;var r=n(i).closest('[class~="'+e+'"]');return r.length?{elem:r[0],subElem:i}:null},_clearCachedPointerDownTargetElem:function(){this._targetSubElemOnPointerDown=null,this._cachedTargetSubElem=null,this._pressTargetElem=null,this._pressTargetSubElem=null,this._savedHandlerFunctionTargetElem=null,this._savedHandlerFunction=null},_sendEventToTargetElem:function(t,e){if(delete this._error,t){var i=n(t).data(o.HANDLER_FUNCTION_PROPERTY+this._handlerFunctionPropertySuffix);if(null!=i||t!==this._savedHandlerFunctionTargetElem||document.body.contains(t)||(i=this._savedHandlerFunction),"function"==typeof i){try{i.call(t,e)}catch(t){o.CANCEL_PROPERTY in e&&(e[o.CANCEL_PROPERTY]=!0),this._error=t}this._savedHandlerFunction=i,this._savedHandlerFunctionTargetElem=t}else{var r=document.createEvent("CustomEvent");r.initCustomEvent(o.TARGET_EVENT_NAME,!1,!1,{hammerEvent:e});try{t.dispatchEvent(r)}catch(t){o.CANCEL_PROPERTY in e&&(e[o.CANCEL_PROPERTY]=!0),this._error=t}}}},_handleException:function(){if(this._error){let t=this._error;throw delete this._error,t}}}),o.TAP_EVENT_NAME="tap",o.DOUBLE_TAP_EVENT_NAME="doubletap",o.PRESS_EVENT_NAME="press",o.PAN_EVENT_NAME="pan",o.PRESS_PAN_EVENT_NAME="press-pan",o.SWIPE_EVENT_NAME="swipe",o.PINCH_EVENT_NAME="pinch",o.ROTATE_EVENT_NAME="rotate",o.POINTER_DOWN_EVENT_NAME="pointerdown",o.CONTEXTMENU_EVENT_NAME="contextmenu",o.TAP_EVENT_CLASS_NAME="nevd-tap",o.QUICK_TAP_EVENT_CLASS_NAME="nevd-quick-tap",o.DOUBLE_TAP_EVENT_CLASS_NAME="nevd-doubletap",o.PRESS_EVENT_CLASS_NAME="nevd-press",o.PAN_EVENT_CLASS_NAME="nevd-pan",o.PRESS_PAN_EVENT_CLASS_NAME="nevd-press-pan",o.SWIPE_EVENT_CLASS_NAME="nevd-swipe",o.PINCH_EVENT_CLASS_NAME="nevd-pinch",o.ROTATE_EVENT_CLASS_NAME="nevd-rotate",o.POINTER_DOWN_EVENT_CLASS_NAME="nevd-pointerdown",o.CONTEXTMENU_EVENT_CLASS_NAME="nevd-contextmenu",o.TARGET_EVENT_NAME="nevd-event",o.CANCEL_PROPERTY="__nevd_cancel",o.IS_FINAL_PROPERTY="__nevd_isFinal",o.SUB_ELEM_PROPERTY="__nevd_subElem",o.HANDLER_FUNCTION_PROPERTY="__nevd_handler",t.exports=o},9544:(t,e,i)=>{t.exports=i(3162)},5017:t=>{var e={each:function(t,e,i){"use strict";var n;return null!=t&&(Array.isArray(t)?null!=i?t.some(((t,r)=>t&&(n=e(t,r))===i)):t.forEach(((t,i)=>{t&&(n=e(t,i))})):n=e(t,0)),n}};t.exports=e},1197:t=>{t.exports=function(t){var e,i=window.location.search.substring(1).split("&");for(e=0;e<i.length;e++){var n=i[e].split("=");if(n[0].toUpperCase()===t.toUpperCase())return n[1]}}},5252:(t,e,i)=>{i(7658),i(2801);var n=i(9990),r={calculateOriginalImageSize:function(t){return new Promise((function(e){if(null==t.getAttribute("data-originalwidth")||null==t.getAttribute("data-originalheight")){var i=new Image;i.onload=function(){t.setAttribute("data-originalwidth",this.naturalWidth),t.setAttribute("data-originalheight",this.naturalHeight),e()},i.onerror=function(){e()},i.src=t.getAttribute("href"),i.complete&&i.onload()}else e()}))},convertImagesToBase64:function(t){return new Promise((e=>{var i=[],n=[];t.querySelectorAll("image").forEach((t=>{var e=t.getAttribute("href"),a=r.loadImageAsynchronously(e);i.push(a),a.then((e=>{t.setAttribute("href",e),n.push(r.calculateOriginalImageSize(t))}))})),Promise.all(i).then((()=>{Promise.all(n).then((()=>{e()}))}))}))},loadImageAsynchronously:function(t){return new Promise((function(e){var i=new XMLHttpRequest;i.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},"blob"===i.responseType?t.readAsDataURL(i.response):e(i.response)},i.onerror=function(){e(t)},t.match(/^data:image/)?e(t):(i.open("GET",t),i.responseType="blob",i.send())}))},replaceUseTagsBySVGTags:function(t,e){var i=n.select(t).select("defs");n.select(t).selectAll("use").each((function(){var t=n.select(this),r=t.attr("href");if(r.match(e)){var a=i.select(r);if(a.size()){var s=a;if("image"!==s.node().tagName&&(s=a.select("image")),s.attr("href").match(/^data:image\/svg/)){var o=this.parentNode,l=n.select(o).insert("g",(()=>this));l.attr("class",t.attr("class")),l.classed("nimagehelper-container",!0),a.node().cloneNode(!0).removeAttribute("id");var c=atob(s.attr("href").slice(s.attr("href").indexOf(",")+1));l.html(c);var u=t.attr("width")||s.attr("width"),h=t.attr("height")||s.attr("height"),d=s.attr("data-originalwidth"),p=s.attr("data-originalheight"),_=t.attr("x")||0,f=t.attr("y")||0;l.attr("transform",`translate(${_}, ${f})scale(${u/d},${h/p})`),l.select("svg").attr("width",d).attr("height",p),t.remove()}}}}))}};t.exports=r},5933:(t,e,i)=>{var n=i(2391),r=i(3603),a={};n.extendClass(a,"nLayoutDirectedObject",r,{construct:function(t){"use strict";this._super(),this._layoutElements=t},getLayoutElements:function(){return this._layoutElements}}),t.exports=a.nLayoutDirectedObject},465:(t,e,i)=>{var n=i(2391),r=i(3603),a=i(8059),s="Columns",o="Rows",l={construct:function(t,e,i,n,r){"use strict";this._super(),this._cellUpdateFunc=r,this._layoutStacks={},this._layoutStacks[s]=this._createLayoutStack(s,t,i,n),this._layoutStacks[o]=this._createLayoutStack(o,e,i,n)},update:function(){"use strict";var t=this,e=this._layoutStacks[s],i=this._layoutStacks[o];if(e.update(),i.update(),null!=this._cellUpdateFunc){var n=e.getLayoutStripes(),r=i.getLayoutStripes();n.forEach((function(e){var i=e.isUpdating();r.forEach((function(n){var r=n.isUpdating();(i||r)&&t._cellUpdateFunc.call(t,e,n)}))}))}e.finishUpdate(),i.finishUpdate()},_createLayoutStack:function(t,e,i,n){"use strict";var r=new a(t,e,n);return i&&i.call(r),r},getLayoutStacks:function(){return this._layoutStacks},pointToLayoutCell:function(t,e){"use strict";return{column:null!=t?this._layoutStacks[s].identifyStripe(t):void 0,row:null!=e?this._layoutStacks[o].identifyStripe(e):void 0}}},c={};n.extendClass(c,"nLayoutGrid",r,l),t.exports=c.nLayoutGrid},3603:(t,e,i)=>{var n=i(1892),r={};i(2391).extendClass(r,"nLayoutObject",n,{construct:function(){"use strict";this._updateFunc=null},update:function(){"use strict";null!=this._updateFunc&&this._updateFunc.call(this)},finishUpdate:function(){},setUpdateFunc:function(t){this._updateFunc=t}}),t.exports=r.nLayoutObject},8059:(t,e,i)=>{i(7658);var n=i(5549),r=i(2391),a=i(5933),s=i(9109),o={construct:function(t,e,i){"use strict";this._super(t),this._stripeAppendedFunc=i,this._layoutStripes=[],this.appendStripes(e),this._actualValues=this._createValues(),this._oldValues=this._createValues(),this._updating=!1},update:function(){"use strict";null!=this._updateFunc&&(this._updating||(this._actualValues.extent=this.extent(),this._actualValues.innerViewExtent=this.innerViewExtent(),this._actualValues.outerViewExtent=this.outerViewExtent(),JSON.stringify(this._actualValues)!==JSON.stringify(this._oldValues)&&(this._updating=!0,this._updateFunc.call(this,this._oldValues,this._actualValues))));for(var t=0;t<this._layoutStripes.length;t++)this._layoutStripes[t].update()},finishUpdate:function(){"use strict";for(var t=0;t<this._layoutStripes.length;t++)this._layoutStripes[t].finishUpdate();null!=this._updateFunc&&this._updating&&(this._oldValues=this._createValues(this._actualValues),this._updating=!1)},_createValues:function(t){return n.extend({extent:void 0,innerViewExtent:void 0,outerViewExtent:void 0},t)},appendStripes:function(t){"use strict";void 0===t&&(t=["Default"]);for(var e,i,n=this._layoutStripes.length,r=0;r<t.length;r++)e=n+r,i=new s(this._layoutElements,e,t[r]),this._layoutStripes.push(i),e>0&&this._layoutStripes[e-1].setNextStripe(i),this._stripeAppendedFunc&&this._stripeAppendedFunc.call(i)},getLayoutStripes:function(){return this._layoutStripes},identifyStripe:function(t){"use strict";for(var e=0;e<this._layoutStripes.length;e++)if(t>=this._layoutStripes[e].start()&&t<this._layoutStripes[e].start()+this._layoutStripes[e].innerViewExtent())return this._layoutStripes[e]},scrollStarts:function(){"use strict";for(var t=[],e=0;e<this._layoutStripes.length;e++)t[e]=this._layoutStripes[e].scrollStart();return t},extents:function(){"use strict";for(var t=[],e=0;e<this._layoutStripes.length;e++)t[e]=this._layoutStripes[e].extent();return t},innerViewExtents:function(){"use strict";for(var t=[],e=0;e<this._layoutStripes.length;e++)t[e]=this._layoutStripes[e].innerViewExtent();return t},outerViewExtents:function(){"use strict";for(var t=[],e=0;e<this._layoutStripes.length;e++)t[e]=this._layoutStripes[e].outerViewExtent();return t},extent:function(){"use strict";for(var t=0,e=0;e<this._layoutStripes.length;e++)t+=this._layoutStripes[e].extent();return t},innerViewExtent:function(){"use strict";for(var t=0,e=0;e<this._layoutStripes.length;e++)t+=this._layoutStripes[e].innerViewExtent();return t},outerViewExtent:function(){"use strict";for(var t=0,e=0;e<this._layoutStripes.length;e++)t+=this._layoutStripes[e].outerViewExtent();return t}},l={};r.extendClass(l,"nLayoutStack",a,o),t.exports=l.nLayoutStack},9109:(t,e,i)=>{var n=i(5549),r=i(2391),a=i(5933),s={construct:function(t,e,i){"use strict";this._super(t),this._index=e,this._stripeID=i,this._nextStripe=void 0,this._actualValues=this._createValues(),this._oldValues=this._createValues(),this._updating=!1},update:function(){"use strict";null!=this._updateFunc&&(this._updating||JSON.stringify(this._actualValues)!==JSON.stringify(this._oldValues)&&(this._updating=!0,this._updateFunc.call(this,this._oldValues,this._actualValues)))},isUpdating:function(){return this._updating},finishUpdate:function(){"use strict";null!=this._updateFunc&&this._updating&&(this._oldValues=this._createValues(this._actualValues),this._updating=!1)},getIndex:function(){return this._index},getStripeID:function(){return this._stripeID},_createValues:function(t){return n.extend({scrollStart:void 0,cachedScrollStart:void 0,scrollFactorFixed:void 0,scrollFactorExceeding:void 0,start:void 0,extent:void 0,innerViewExtent:void 0,outerViewExtent:void 0,virtualizedExtent:void 0,visibleRange:void 0},t)},setNextStripe:function(t){this._nextStripe=t},scrollStart:function(t){"use strict";return null!=t?(this._actualValues.scrollStart=t,this._oldValues.scrollStart):this.rawScrollStart()||0},rawScrollStart:function(){return this._actualValues.scrollStart},cachedScrollStart:function(t){"use strict";return null!=t?(this._actualValues.cachedScrollStart=t,this._oldValues.cachedScrollStart):this.rawCachedScrollStart()||0},rawCachedScrollStart:function(){return this._actualValues.cachedScrollStart},scrollFactorFixed:function(t){"use strict";return null!=t?(this._actualValues.scrollFactorFixed=t,this._oldValues.scrollFactorFixed):this.rawScrollFactorFixed()||1},rawScrollFactorFixed:function(){return this._actualValues.scrollFactorFixed},scrollFactorExceeding:function(t){"use strict";return null!=t?(this._actualValues.scrollFactorExceeding=t,this._oldValues.scrollFactorExceeding):this.rawScrollFactorExceeding()||1},rawScrollFactorExceeding:function(){return this._actualValues.scrollFactorExceeding},start:function(t){"use strict";return null!=t?(this._actualValues.start=t,this._oldValues.start):this.rawStart()||0},rawStart:function(){return this._actualValues.start},extent:function(t){"use strict";return null!=t?(this._actualValues.extent=t,this._oldValues.extent):this.rawExtent()||0},rawExtent:function(){return this._actualValues.extent},innerViewExtent:function(t){"use strict";return null!=t?(this._actualValues.innerViewExtent=t,this._oldValues.innerViewExtent):this.rawInnerViewExtent()||0},rawInnerViewExtent:function(){return this._actualValues.innerViewExtent},outerViewExtent:function(t){"use strict";return null!=t?(this._actualValues.outerViewExtent=t,this._oldValues.outerViewExtent):this.rawOuterViewExtent()||0},rawOuterViewExtent:function(){return this._actualValues.outerViewExtent},virtualizedExtent:function(t){"use strict";return null!=t?(this._actualValues.virtualizedExtent=t,this._oldValues.virtualizedExtent):this.rawVirtualizedExtent()||0},rawVirtualizedExtent:function(){return this._actualValues.virtualizedExtent},visibleRange:function(t){"use strict";return null!=t?(this._actualValues.visibleRange=t,this._oldValues.visibleRange):this.rawVisibleRange()||{top:0,exactTop:0,bottom:0,exactBottom:0}},rawVisibleRange:function(){return this._actualValues.visibleRange}},o={};r.extendClass(o,"nLayoutStripe",a,s),t.exports=o.nLayoutStripe},782:(t,e,i)=>{i(7658);var n=i(5549),r=i(501),a=function(t,e,i){this._listeners=[],this.locale(t,!1),this.language(e,!1),this.weekNumbering(i)};n.extend(a.prototype,{locale:function(t){t&&"string"!=typeof t||(this._locale=(t||"en-US").substring(0,5).toLowerCase(),this._localeParams=r[this._locale],!this._localeParams&&this._locale.length>=5&&(this._locale=this._locale.substring(0,2),this._localeParams=r[this._locale]),this._localeParams||(this._locale="en",this._localeParams=r[this._locale]),!1!==arguments[1]&&this._compose())},language:function(t){t&&"string"!=typeof t||(this._language=t?t.substring(0,5).toLowerCase():void 0,this._languageParams=this._language?r[this._language]:void 0,t&&!this._languageParams&&this._language.length>=5&&(this._language=this._language.substring(0,2),this._languageParams=r[this._language]),this._languageParams||(this._language=void 0),!1!==arguments[1]&&this._compose())},weekNumbering:function(t){switch(this._weekNumbering=t,t){case"ISO8601":this._firstDayOfWeekByWeekNumbering=1;break;case"USA":this._firstDayOfWeekByWeekNumbering=0;break;default:this._firstDayOfWeekByWeekNumbering=void 0}!1!==arguments[1]&&this._compose()},firstDayOfWeek:function(t){if(!arguments.length)return null!=this._firstDayOfWeek?this._firstDayOfWeek:this._firstDayOfWeekByWeekNumbering;(null==t||t>=0&&t<=6)&&(this._firstDayOfWeek=t,!1!==arguments[1]&&this._compose())},_compose:function(){var t=this,e=t._composedLocaleParams;t._composedLocaleParams=n.extend(!0,{},t._localeParams),t._languageParams&&(t._composedLocaleParams.periods=t._languageParams.periods,t._composedLocaleParams.days=t._languageParams.days,t._composedLocaleParams.shortDays=t._languageParams.shortDays,t._composedLocaleParams.months=t._languageParams.months,t._composedLocaleParams.shortMonths=t._languageParams.shortMonths,t._composedLocaleParams.patterns.W=t._languageParams.patterns.W,t._composedLocaleParams.patterns.Q=t._languageParams.patterns.Q),void 0!==t._firstDayOfWeekByWeekNumbering&&(t._composedLocaleParams.weekNumbering=t._weekNumbering,t._composedLocaleParams.firstDay=t._firstDayOfWeekByWeekNumbering),null!=t._firstDayOfWeek&&(t._composedLocaleParams.firstDay=t._firstDayOfWeek),JSON.stringify(e)!==JSON.stringify(t._composedLocaleParams)&&t._listeners.forEach((function(e){e(t._composedLocaleParams)}))},addListener:function(t){"function"==typeof t&&this._listeners.push(t)},removeListener:function(t){if("function"==typeof t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}},params:function(){return this._composedLocaleParams},applyDateFormat:function(t){return r.applyDateFormatWithParams(this._locale,this._composedLocaleParams,t)},applyNumberFormat:function(t){return r.applyNumberFormatWithParams(this._locale,this._composedLocaleParams,t)}}),t.exports=a},501:(t,e,i)=>{var n,r=i(5549),a=i(9990),s="en",o={locale:function(t){"use strict";var e=o;if(0!==arguments.length&&"string"==typeof t&&(!e[t=t.substring(0,5).toLowerCase()]&&"-"===t[2]&&t.length>=5&&(t=t.substring(0,2)),e[t]&&s!==t)){s=t;var i=e[t];if(n=i,a.timeFormatLocale)a.timeFormat=a.timeFormatLocale(i).format,a.utcFormat=a.timeFormatLocale(i).utcFormat,a.format=a.formatLocale(i).format;else{var l=a.locale(i);a.time.format=l.timeFormat,a.format=l.numberFormat}r(window).trigger("netronic_nLocales_localeChanged")}return n},applyDateFormatWithParams:function(t,e,i){"use strict";var r,o,l=s,c=n;if(s=t,n=e,a.timeFormatLocale)r=a.timeFormat,o=a.utcFormat,a.timeFormat=a.timeFormatLocale(e).format,a.utcFormat=a.timeFormatLocale(e).utcFormat;else{r=a.time.format;var u=a.locale(e);a.time.format=u.timeFormat}var h=i(e);return a.timeFormatLocale?(a.timeFormat=r,a.utcFormat=o):a.time.format=r,s=l,n=c,h},applyNumberFormatWithParams:function(t,e,i){"use strict";var r,o=s,l=n;if(s=t,n=e,a.timeFormatLocale)r=a.format,a.format=a.formatLocale(e).format;else{r=a.format;var c=a.locale(e);a.format=c.numberFormat}var u=i(e);return a.format=r,s=o,n=l,u},updateManually:function(){r(window).trigger("netronic_nLocales_localeChanged")},da:{locale:"da-dk",decimal:",",thousands:".",grouping:[3],currency:["kr.",""],dateTime:"%a %b %e %X %Y",date:"%d-%m-%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],shortDays:["sø","ma","ti","on","to","fr","lø"],months:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],shortMonths:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A %d %B %Y",W:"uge %W",Q:"k"},firstDay:1,weekNumbering:"ISO8601"},de:{locale:"de-de",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d. %B %Y",W:"KW %W",Q:"Q"},firstDay:1,weekNumbering:"ISO8601"},"en-gb":{locale:"en-gb",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d. %B %Y",W:"Wk %W",Q:"Q"},firstDay:1,weekNumbering:"ISO8601"},en:{locale:"en-us",decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%I:%M:%S %p",timeAccurateToMinute:"%I:%M %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],patterns:{t:"%I:%M %p",T:"%I:%M:%S %p",D:"%A, %B %d, %Y",W:"Wk %U",Q:"Q"},firstDay:0,weekNumbering:"USA"},es:{locale:"es-es",decimal:".",thousands:",",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["do","lu","ma","mi","ju","vi","sá"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d %B %Y",W:"sem %W",Q:"tri"},firstDay:1,weekNumbering:"ISO8601"},fi:{locale:"fi-fi",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["su","ma","ti","ke","to","pe","la"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d. %B %Y",W:"viikko %W",Q:"nelj."},firstDay:1,weekNumbering:"ISO8601"},fr:{locale:"fr-fr",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDays:["Di","Lu","Ma","Me","Je","Ve","Sa"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonths:["Janv.","Févr.","Mars","Avr.","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A %d %B %Y",W:"Sem %W",Q:"Trim"},firstDay:1,weekNumbering:"ISO8601"},it:{locale:"it-it",decimal:".",thousands:",",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],shortDays:["do","lu","ma","me","gi","ve","sa"],months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortMonths:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d %B %Y",W:"set %W",Q:"tri"},firstDay:1,weekNumbering:"ISO8601"},ja:{locale:"ja-jp",decimal:".",thousands:",",grouping:[3],currency:["¥",""],dateTime:"%a %b %e %X %Y",date:"%Y/%d/%m",time:"%h:%M:%S",timeAccurateToMinute:"%H:%M",periods:["午前","午後"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%Y年%m月%d日",W:"%U 週",Q:"Q"},firstDay:0,weekNumbering:"USA"},nl:{locale:"nl-nl",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","mo","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d. %B %Y",W:"wn %W",Q:"k"},firstDay:1,weekNumbering:"ISO8601"},nb:{locale:"nb-no",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],shortDays:["Sø","Ma","Ti","On","To","Fr","Lø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],shortMonths:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d. %B %Y",W:"Uke %W",Q:"K"},firstDay:1,weekNumbering:"ISO8601"},pl:{locale:"pl-pl",decimal:",",thousands:".",grouping:[3],currency:["zł",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],shortDays:["n","pn","wt","śr","cz","pt","so"],months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],shortMonths:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d %B %Y",W:"Tydz %W",Q:"Kw"},firstDay:1,weekNumbering:"ISO8601"},pt:{locale:"pt-pt",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d-%m-%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],shortDays:["dom","seg","ter","qua","qui","sex","sáb"],months:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortMonths:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d de %B de %Y",W:"s %W",Q:"t"},firstDay:1,weekNumbering:"ISO8601"},"pt-br":{locale:"pt-br",decimal:",",thousands:".",grouping:[3],currency:["R$",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],shortDays:["dom","seg","ter","qua","qui","sex","sáb"],months:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortMonths:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d de %B de %Y",W:"s %W",Q:"t"},firstDay:0,weekNumbering:"USA"},ru:{locale:"ru-ru",decimal:",",thousands:" ",grouping:[3],currency:["р.",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d %B %Y",W:"кн %W",Q:"к"},firstDay:1,weekNumbering:"ISO8601"},sv:{locale:"sv-se",decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],shortDays:["sö","må","ti","on","to","fr","lö"],months:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],shortMonths:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d:e %B %Y",W:"vecka %W",Q:"K"},firstDay:1,weekNumbering:"ISO8601"},th:{locale:"th-th",decimal:".",thousands:",",grouping:[3],currency:["¥",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],shortDays:["อ","จ","อ","พ","พ","ศ","ส"],months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],shortMonths:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%A, %d %B %Y",W:"Wk %W",Q:"Q"},firstDay:1,weekNumbering:"ISO8601"},"zh-cn":{locale:"zh-cn",decimal:".",thousands:",",grouping:[3],currency:["¥",""],dateTime:"%a %b %e %X %Y",date:"%Y/%m/%d",time:"%H:%M:%S",timeAccurateToMinute:"%H:%M",periods:["AM","PM"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],patterns:{t:"%H:%M",T:"%H:%M:%S",D:"%Y年%m月%d日",W:"%W一周",Q:"季度"},firstDay:0,weekNumbering:"ISO8601"}};o.no=o.nb,n=o[s],t.exports=o},8309:t=>{var e={isIOS:navigator&&(!!navigator.userAgent.match(/iPhone/)||!!navigator.userAgent.match(/iPad/)||!!navigator.userAgent.match(/iPod/)),isIE:navigator&&!!navigator.userAgent.match(/Trident/),isFirefox:navigator&&!!navigator.userAgent.match(/firefox/i),isEdge:navigator&&!!navigator.userAgent.match(/Edge/),isChrome:navigator&&!!navigator.userAgent.match(/Chrome/),isWindowsPhone:navigator&&!!navigator.userAgent.match(/Windows Phone/),isAndroid:navigator&&!!navigator.userAgent.match(/Android/),isMacOrIOS:navigator&&!!navigator.userAgent.match(/mac/i),isWindows:navigator&&!!navigator.userAgent.match(/Windows NT/i),isIEWebBrowserControl:navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident\/7\.0/)&&!navigator.userAgent.match(/\.NET/))};e.isMac=e.isMacOrIOS&&!e.isIOS,t.exports=e},3199:(t,e,i)=>{i(1703);var n=i(1892),r=i(2391),a=i(4178),s={construct:function(){"use strict";this._options={}},setOption:function(t,e,i){"use strict";var n=this._options[t];if(null==n)throw new Error(`Option name "${t}" unknown!`);if(n.typeConvert&&(e=n.typeConvert.call(this,e)),!0===n.check.call(this,t,e)&&n.value!==e){var r=n.value;i||n.callbacks[0]?.call(this,t,e,r),n.value=e,i||(n.callbacks[1]?.call(this,t,e,r),n.callbacks[2]?.call(this,t,e,r))}},getOption:function(t){"use strict";var e=this._options[t];return e&&(e.value??e.defaultValue)},setCallback:function(t,e,i){"use strict";var n=this._options[t];null!=n&&null!=i&&"function"==typeof i&&(n.callbacks[e]=i,0!==e&&1!==e||void 0!==n.value&&n.value!==n.defaultValue&&n.callbacks[e].call(this,t,n.value,void 0))},defineOption:function(t,e,i,n){"use strict";void 0===n&&(n=function(){return!0}),this._options[t]={defaultValue:e,check:n,typeConvert:i,callbacks:{}}},overwriteDefaultValue:function(t,e){"use strict";null!=this._options[t]&&(this._options[t].defaultValue=e)},convertAnyToBoolean:function(t){"use strict";return!!t},convertAnyToString:function(t){"use strict";return t&&"string"!=typeof t?t.toString():t},convertAnyNonObjectToString:function(t){"use strict";return"object"!=typeof t&&t&&"string"!=typeof t?t.toString():t},convertStringToDate:function(t){"use strict";return"string"==typeof t?new Date(t):t},convertStringToNumber:function(t){"use strict";if("string"==typeof t){var e=+t;if(!isNaN(e))return e}return t},assertNumber:function(t,e){"use strict";return a.assertNumber(e,null,`Option "${t}"`)},assertNumberOrNull:function(t,e){"use strict";return a.assertNumberOrNull(e,null,`Option "${t}"`)},assertDateOrNull:function(t,e){"use strict";return a.assertDateOrNull(e,null,t)},assertStringOrNull:function(t,e){"use strict";return a.assertStringOrNull(e,null,`Option "${t}"`)},assertFunctionOrNull:function(t,e){"use strict";return a.assertFunctionOrNull(e,null,`Option "${t}"`)},assertFiniteNumberGreaterOrEqualZeroOrNull:function(t,e){"use strict";return a.assert(null==e||e>=0&&isFinite(e),`Option "${t}" is out of range or has invalid type!`)},assertFiniteNumberGreaterOrEqualZero:function(t,e){"use strict";return a.assert(e>=0&&isFinite(e),`Option "${t}" is out of range or has invalid type!`)},assertFiniteNumberGreaterZeroOrNull:function(t,e){"use strict";return a.assert(null==e||e>0&&isFinite(e),`Option "${t}" is out of range or has invalid type!`)},assertFiniteNumberGreaterZero:function(t,e){"use strict";return a.assert(e>0&&isFinite(e),`Option "${t}" is out of range or has invalid type!`)}};s.assertFiniteNumberGreaterOrEqualNullOrNull=s.assertFiniteNumberGreaterOrEqualZeroOrNull;var o={};r.extendClass(o,"nOptionsCollector",n,s),t.exports=o.nOptionsCollector},9315:(t,e,i)=>{i(6699);var n=i(5549),r=i(1892),a=i(2391),s=i(6478),o=i(3965).eventListenerHelper,l=i(8309),c=null,u=null;const h="data-noa-pointerenter",d="data-noa-pointerleave",p="data-noa-tp",_="data-noa-dt";var f={construct:function(t,e,i){"use strict";this._overlayScrollBarForX=e?.forX??!1,this._overlayScrollBarForY=e?.forY??!1,this._overlayScrollParentJQ=void 0,this._overlayContentJQ=void 0,this._overlayScrollBarsParentJQ=void 0,this._overlayScrollBarsJQ=void 0,this._overlayInViewJQ=void 0,this._ignoreNextScrollEvents=!1,this.setLayoutCell(t),this.setScrollBarExistence(e??{forX:!0,forY:!0}),this._scrollBarWidthFnc=i},destroy:function(){this._overlayScrollParentJQ?.off("scroll pointerdown"),this._overlayScrollBarsParentJQ&&o.off(this._overlayScrollBarsParentJQ[0],"pointerdown pointermove pointerup wheel click contextmenu pointerdown pointermove pointerup pointerleave"),this._overlayScrollBarsParentJQ?.off("scroll")},setLayoutCell:function(t){this._layoutCell=t},setScrollBarExistence:function(t){"use strict";var e,i,n=this._scrollBarExistence;if((this._scrollBarExistence=t,this._overlayScrollParentJQ)&&(null!=n&&null!=this._scrollBarExistence&&(null!=n.forX&&n.forX!=this._scrollBarExistence.forX&&(e=this._scrollBarExistence.forX),null!=n.forY&&n.forY!=this._scrollBarExistence.forY&&(i=this._scrollBarExistence.forY),null!=e||null!=i))){var r={};null!=e&&(r["overflow-x"]=!0===e?"scroll":"hidden"),null!=i&&(r["overflow-y"]=!0===i?"scroll":"hidden"),this.setParentCSS(r)}},_actualViewTop:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutRow)return this._layoutCell.layoutRow.viewTop},_setViewTop:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutRow&&t!=this._layoutCell.layoutRow.viewTop&&(this._layoutCell.layoutRow.viewTop=t,this._updateViewTop())},_updateViewTop:function(){"use strict";var t=this._actualViewTop();null!=t&&this.setParentCSS("top",t+"px")},_actualHeight:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutRow)return this._layoutCell.layoutRow.height},_setHeight:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutRow&&t!=this._layoutCell.layoutRow.height&&(this._layoutCell.layoutRow.height=t,this._updateHeight())},_updateHeight:function(){"use strict";var t=this._actualHeight();null!=t&&this.setContentCSS("height",Math.max(1,t)+"px")},_actualViewHeight:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutRow)return this._layoutCell.layoutRow.viewHeight},_setViewHeight:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutRow&&t!=this._layoutCell.layoutRow.viewHeight&&(this._layoutCell.layoutRow.viewHeight=t,this._updateViewHeight())},_updateViewHeight:function(){"use strict";var t=this._actualViewHeight();null!=t&&this.setParentCSS("height",t+"px")},_setViewTopHeightWithAnimation:function(t,e,i){"use strict";if(this._layoutCell&&this._layoutCell.layoutRow){var n=!1;e!=this._layoutCell.layoutRow.viewTop&&(this._layoutCell.layoutRow.viewTop=e,n=!0),i!=this._layoutCell.layoutRow.viewHeight&&(this._layoutCell.layoutRow.viewHeight=i,n=!0),n&&this._updateViewTopHeightWithAnimation(t)}},_updateViewTopHeightWithAnimation:function(t){"use strict";if(this._overlayScrollParentJQ){var e=this._actualViewTop();if(null!=e){var i=this._actualViewHeight();null!=i&&(t(this._overlayScrollParentJQ).style("top",e+"px").style("height",i+"px"),this._overlayScrollBarsParentJQ&&t(this._overlayScrollBarsParentJQ).style("top",e+"px").style("height",i+"px"))}}},_actualViewLeft:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutColumn)return this._layoutCell.layoutColumn.viewLeft},_setViewLeft:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutColumn&&t!=this._layoutCell.layoutRow.viewLeft&&(this._layoutCell.layoutColumn.viewLeft=t,this._updateViewLeft())},_updateViewLeft:function(){"use strict";var t=this._actualViewLeft();null!=t&&this.setParentCSS("left",t+"px")},_actualWidth:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutColumn)return this._layoutCell.layoutColumn.width},_setWidth:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutColumn&&t!=this._layoutCell.layoutRow.width&&(this._layoutCell.layoutColumn.width=t,this._updateWidth())},_updateWidth:function(){"use strict";var t=this._actualWidth();null!=t&&this.setContentCSS("width",t+"px")},_actualViewWidth:function(){"use strict";if(this._layoutCell&&this._layoutCell.layoutColumn)return this._layoutCell.layoutColumn.viewWidth},_setViewWidth:function(t){"use strict";this._layoutCell&&this._layoutCell.layoutColumn&&t!=this._layoutCell.layoutRow.viewWidth&&(this._layoutCell.layoutColumn.viewWidth=t,this._updateViewWidth())},_updateViewWidth:function(){"use strict";var t=this._actualViewWidth();null!=t&&this.setParentCSS("width",t+"px")},_actualScrollBarWidth:function(){"use strict";return this._scrollBarWidthFnc?this._scrollBarWidthFnc():0},_createAndPositionDivOverlays:function(t,e,i,r,a,f,m){"use strict";var g=this;if(this._overlayContentJQ=n("<div></div>").attr("tabindex",-1).addClass(i),e?(this._overlayScrollParentJQ=n("<div></div>").attr("tabindex",-1).addClass(e),t.append(this._overlayScrollParentJQ),this._overlayScrollParentJQ.append(this._overlayContentJQ),m&&this._overlayScrollParentJQ.on("pointerdown",(function(t){t.offsetY<g._overlayScrollParentJQ[0].clientHeight&&m.call(g,a)}))):t.append(this._overlayContentJQ),null==v.isPermanentScrollbarOverlayActive&&(v.isPermanentScrollbarOverlayActive=l.isWindows&&(l.isFirefox||l.isEdge)),(l.isIOS||v.isPermanentScrollbarOverlayActive)&&e){this._overlayScrollBarsParentJQ=n("<div></div>").attr("tabindex",-1).addClass(e),l.isIOS?this._overlayScrollBarsParentJQ.attr("tabindex",-1).addClass(r).css("opacity",0):this._overlayScrollBarsParentJQ.css("overflow-x",g._overlayScrollBarForX?"scroll":"hidden").css("overflow-y",g._overlayScrollBarForY?"scroll":"hidden"),this._overlayScrollBarsJQ=n("<div></div>").attr("tabindex",-1).addClass(i);let t=function(t,e){let i;for(;t&&(i=t.getAttribute?.("data-ncursor"),!i);t=t.parentNode);t&&s.removeCursorTemporarily(t);let n=window.getComputedStyle(e).cursor;return"auto"===n&&(n=""),t&&s.restoreRemovedCursor(t),n};const a=function(t){return[h,d].some((e=>t.hasAttribute(e)))};if(v.isPermanentScrollbarOverlayActive){let e=g._overlayScrollBarsParentJQ[0];o.on(e,"pointerdown pointermove pointerup wheel contextmenu pointerdown pointermove pointerup pointerleave",(function(i){let r=e.getBoundingClientRect(),s=r.left+e.clientLeft,o=r.top+e.clientTop,l=i.clientX>=s&&i.clientX<s+e.clientWidth&&i.clientY>=o&&i.clientY<o+e.clientHeight;if(c&&["pointerleave","pointermove"].includes(i.type)||l){g.showOrHidePermanentScrollbarOverlay(!1);try{let e,r,s,o,f,m="pointerleave"===i.type,v="pointermove"===i.type,y=v||m,E=y&&{pointerType:i.pointerType,buttons:i.buttons,button:i.button,shiftKey:i.shiftKey,altKey:i.altKey,ctrlKey:i.ctrlKey,metaKey:i.metaKey,clientX:i.clientX,clientY:i.clientY},b="",T=!m&&l?document.elementFromPoint(i.clientX,i.clientY):void 0;if(v)for(;T?.hasAttribute(p);)T=T.parentNode;if(y){if(T&&["g","rect","path","line","polygon","text","image","use"].includes(T.tagName)){let i=T;do{if(a(i)){e=i;break}}while((i=i.parentElement)&&"g"===i.tagName);i=T;do{if(b=t(this,i),b){r=i;break}}while((i=i.parentElement)&&"g"===i.tagName)}s=c,o=s!==e,f=u!==r}if(o&&s?.hasAttribute(d)){let t=Object.assign({},E,{target:s,relatedTarget:e});s.dispatchEvent(new PointerEvent("pointerleave",t))}if(!m){let t=T,e=new i.constructor(i.type,i);t&&(t.hasAttribute(_)&&v?(n(t).trigger(n.Event(e)),n(t).trigger(n.Event(new i.constructor("pointermove",i)))):t.dispatchEvent(e)||i.preventDefault()),i.stopPropagation()}if(o&&e?.hasAttribute(h)){let t=Object.assign({},E,{target:e,relatedTarget:s});e.dispatchEvent(new PointerEvent("pointerenter",t))}f&&(this.style.cursor===b||!b&&"auto"===this.style.cursor||(this.style.cursor=b)),y&&(c=e,u=r)}finally{g.showOrHidePermanentScrollbarOverlay(!0)}}}))}}this._updateViewLeft(),this._updateViewTop(),this._updateViewWidth(),this._updateViewHeight(),this._updateWidth(),this._updateHeight(),f&&(g._overlayScrollParentJQ?.on("scroll",(function(){g._ignoreNextScrollEvents?g._ignoreNextScrollEvents=!1:f.call(g,a)})),v.isPermanentScrollbarOverlayActive&&g._overlayScrollBarsParentJQ?.on("scroll",(function(){g._overlayScrollParentJQ.scrollTop()!==this.scrollTop&&g._overlayScrollParentJQ.scrollTop(this.scrollTop),g._overlayScrollParentJQ.scrollLeft()!==this.scrollLeft&&g._overlayScrollParentJQ.scrollLeft(this.scrollLeft)})))},appendIOSScrollBars:function(t){"use strict";this._overlayScrollBarsParentJQ&&(t.append(this._overlayScrollBarsParentJQ),this._overlayScrollBarsParentJQ.append(this._overlayScrollBarsJQ))},_PE_ParentOverlays:function(){"use strict";return this._overlayScrollBarsParentJQ?[this._overlayScrollParentJQ,this._overlayScrollBarsParentJQ]:[this._overlayScrollParentJQ]},overlayParentJQ:function(){return this._overlayScrollParentJQ},_PE_ContentOverlays:function(){"use strict";return this._overlayScrollBarsJQ?[this._overlayContentJQ,this._overlayScrollBarsJQ]:[this._overlayContentJQ]},_calcOverlayWidthByOverflow:function(t){"use strict";if(this._overlayScrollParentJQ&&null!=t){switch(this._overlayScrollParentJQ.css("overflow-y")){case"auto":this._overlayScrollParentJQ[0].clientHeight<this._overlayScrollParentJQ[0].scrollHeight&&(t-=this._actualScrollBarWidth());break;case"scroll":t-=this._actualScrollBarWidth()}return Math.max(0,t)}return t},_calcOverlayHeightByOverflow:function(t){"use strict";if(this._overlayScrollParentJQ&&null!=t){switch(this._overlayScrollParentJQ.css("overflow-x")){case"auto":this._overlayScrollParentJQ[0].clientWidth<this._overlayScrollParentJQ[0].scrollWidth&&(t-=this._actualScrollBarWidth());break;case"scroll":t-=this._actualScrollBarWidth()}return Math.max(0,t)}return t},scrollTop:function(t){"use strict";var e;return this._overlayScrollParentJQ&&(null!=t?(this._ignoreNextScrollEvents=!0,e=this._overlayScrollParentJQ.scrollTop(t),this._overlayScrollBarsParentJQ&&this._overlayScrollBarsParentJQ.scrollTop(t)):e=this._overlayScrollParentJQ.scrollTop()),e},scrollLeft:function(t){"use strict";var e;return this._overlayScrollParentJQ&&(null!=t?(this._ignoreNextScrollEvents=!0,e=this._overlayScrollParentJQ.scrollLeft(t),this._overlayScrollBarsParentJQ&&this._overlayScrollBarsParentJQ.scrollLeft(t)):e=this._overlayScrollParentJQ.scrollLeft()),e},clientHeight:function(){"use strict";if(this._overlayScrollParentJQ)return this._overlayScrollParentJQ[0].clientHeight},clientWidth:function(){"use strict";if(this._overlayScrollParentJQ)return this._overlayScrollParentJQ[0].clientWidth},setParentCSS:function(t,e){"use strict";this._overlayScrollParentJQ&&this._setCSS(this._overlayScrollParentJQ,this._overlayScrollBarsParentJQ,t,e)},setContentCSS:function(t,e){"use strict";this._setCSS(this._overlayContentJQ,this._overlayScrollBarsJQ,t,e)},_setCSS:function(t,e,i,n){"use strict";t.css(i,n),e&&e.css(i,n)},getBoundingClientRect:function(){"use strict";if(this._overlayScrollParentJQ)return this._overlayScrollParentJQ[0].getBoundingClientRect()},showIOSScrollBars:function(t){"use strict";if(l.isIOS&&this._overlayScrollBarsParentJQ)if(!0===t){var e=!0===this._overlayScrollBarForX&&!0===this._scrollBarExistence.forX&&this._overlayScrollBarForX,i=!0===this._overlayScrollBarForY&&!0===this._scrollBarExistence.forY&&this._overlayScrollBarForY;this._overlayScrollBarsParentJQ.css({"overflow-x":!0===e?"scroll":"hidden","overflow-y":!0===i?"scroll":"hidden",opacity:"1"})}else this._overlayScrollBarsParentJQ.css({"overflow-x":"hidden","overflow-y":"hidden",opacity:"0"})},showOrHidePermanentScrollbarOverlay:function(t){v.isPermanentScrollbarOverlayActive&&(this._overlayScrollBarsParentJQ.css("pointer-events",t?"":"none"),this._overlayScrollBarsJQ.css("pointer-events",t?"":"none"))}},m={};a.extendClass(m,"nOverlayArea",r,f);var g=m.nOverlayArea;g.POINTER_ENTER_ATTR_NAME=h,g.POINTER_LEAVE_ATTR_NAME=d,g.TAKE_PARENT_ATTR_NAME=p,g.DIRECT_TRIGGER_ATTR_NAME=_;var v=g;t.exports=v},5114:t=>{SVGElement&&void 0===SVGElement.prototype.getElementsByClassName&&(SVGElement.prototype.getElementsByClassName=function(t){return this.querySelectorAll("."+String(t).split(/\s+/).join("."))}),t.exports=null},494:(t,e,i)=>{i(1703),i(7658);var n=i(5549);i(160);var r="npopup-container",a="npopup-close",s="npopup-background",o="npopup-background",l="npopup",c="npopup-context-menu",u=".npopup",h="pointerdown pointermove pointerup pointerover pointerout pointerenter pointerleave wheel click",d={_isPopupOpen:!1,_busyStateCounter:0,_closeContextMenuCallbacks:[],showPopup:function(t,e,i,o,c){if(void 0===i&&(i=!0),!d._isPopupOpen&&t){var h=n(t);if(h.length){h.addClass(r),h.html(e);var p=h.children();p.addClass(l),i&&p.prepend('<div class="'+a+'"></div>'),h.prepend('<div class="'+s+'"></div>'),h.fadeIn("normal"),d._isPopupOpen=!0,d._resizePopup();var _="."+a,f="click";!1!==o&&(_+=",."+s,f+=" keypress"),!0===i&&n(_).one(f,(function(){h.fadeOut("normal",(function(){d._isPopupOpen||(h.empty(),h.removeClass(r))})),n(window).off("resize"+u),d._isPopupOpen=!1})),!0===c&&p.draggable(),n(window).on("resize"+u,(function(){d._resizePopup()}))}}},_resizePopup:function(){var t=n("."+l);t.css("margin-left",(n(window).width()-t.width())/2+"px");var e=t.children("div").slice(1,2),i=parseInt(t.css("margin-top"))+parseInt(t.css("margin-bottom")),r=n(window).height()-i;e.length&&(e.height()>=r?t.height(r):(t.height(""),t.height()>=r&&t.height(r))),t.css("top",(n(window).height()-t.outerHeight()-i)/2)},showMessageBox:function(t,e,i,r,a,s,o,c,u){if(n.ui&&n.ui.dialog){var h,p=new n.Deferred;if(d._busyStateCounter&&d._doRemoveBusyState(),t){var _;_=void 0===o?'<span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;"></span>':null===o?"":'<span class="ui-icon ui-icon-'+o+'" style="float:left; margin:0 7px 20px 0;"></span>',n(t).append('<div class="'+l+'" title="'+e+'">'+_+i+"</div>"),h=n("."+l);var f={};r.forEach((function(t,e){f[t]=function(){p.resolve(e,u?u(h[0]):null)}})),h.dialog({dialogClass:c?"npopup-no-close":void 0,width:"auto",position:{within:document.body},resizable:!1,modal:!0,buttons:f,closeOnEscape:!(c&&!u),close:function(){p.resolve(s)}}),n("."+l+", ."+l+" *").keydown((function(t){if("Enter"==t.key)return n(this).closest(".ui-dialog").find(".ui-dialog-buttonpane button").eq(a).click(),!1}))}else setTimeout((function(){p.resolve(s)}),0);return p.then((function(){h&&(h.dialog("destroy"),h.remove()),d._busyStateCounter&&(d._isPopupOpen=!1,d._busyStateCounter--,d.showBusyState(t,!0,!0))})),p.promise()}throw new Error("jQuery UI Dialog is not loaded!")},showBusyState:function(t,e,i){if(e){if((!d._isPopupOpen||d._busyStateCounter)&&!d._busyStateCounter){var a=n(t);a.addClass(r),a.append('<div class="'+o+'"></div>'),a.on(h,(function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()})),a.fadeIn(0),d._isPopupOpen=!0}d._busyStateCounter++}else d._busyStateCounter&&!--d._busyStateCounter&&(d._isPopupOpen=!1,i?d._doRemoveBusyState():setTimeout((function(){d._isPopupOpen||d._doRemoveBusyState()}),0))},_doRemoveBusyState:function(){var t=n("."+r);t.find("."+o).css("cursor","default"),t.off(h),t.fadeOut(0,(function(){t.empty(),t.removeClass(r)}))},showContextMenu:function(t,e,i){if(!n.moogle||!n.moogle.contextmenu)throw new Error("Plug-in jquery.ui-contextmenu is not loaded!");if(void 0!==d._callbackTimerID&&(window.clearTimeout(d._callbackTimerID),delete d._callbackTimerID),this.closeContextMenu(),!d._isPopupOpen&&t&&e){var r=new n.Deferred;n(document).on("pointerdown"+u,(function(t){2&t.buttons&&(n(t.target).addClass("ui-menu-item"),window.setTimeout((function(){n(t.target).removeClass("ui-menu-item")}),1))}));var a=d._activeContextMenu=n(t).contextmenu({addClass:c,delegate:"",preventContextMenuForPopup:!0,position:function(){return{my:"left top",at:"right bottom",of:i,within:document.body}},menu:e,select:function(t,e){r.resolve(e.item,e.cmd)},beforeOpen:function(){if(d._isPopupOpen)return!1},close:function(){n("."+c).off("contextmenu"+u),n(document).off("pointerdown"+u),"resolved"!==r.state()&&r.reject()}}).contextmenu("open",n(t)).contextmenu("instance");return n("."+c).on("contextmenu"+u,(function(t){t.preventDefault(),t.stopPropagation()})),d._isPopupOpen=!0,r.always((function(){a.destroy(),a===d._activeContextMenu&&(d._activeContextMenu=null),d._isPopupOpen=!1})),r.promise()}return null},closeContextMenu:function(t){if(d._activeContextMenu){if("object"==typeof d._activeContextMenu){if(t&&n(t.target).closest(d._activeContextMenu.element))return;d._activeContextMenu.close(),d._activeContextMenu.destroy(),d._activeContextMenu=null,d._isPopupOpen=!1}else d.setContextMenuActive(!1);var e=function(){d._closeContextMenuCallbacks.forEach((function(t){t()}))};void 0===d._callbackTimerID&&(t?d._callbackTimerID=window.setTimeout((function(){delete d._callbackTimerID,e()}),50):e())}},addCallbackForCloseContextMenu:function(t){t&&d._closeContextMenuCallbacks.push(t)},removeCallbackForCloseContextMenu:function(t){if(t){var e=d._closeContextMenuCallbacks.indexOf(t);e>=0&&d._closeContextMenuCallbacks.splice(e,1)}},isContextMenuActive:function(){return!!d._activeContextMenu},setContextMenuActive:function(t){d._activeContextMenu=t},NPOPUP_CLOSE_CLASS:a};t.exports=d},1980:(t,e,i)=>{i(7658);var n=i(5017),r=i(9093),a=i(59),s={getPrimaryKeyNamesByRelationshipInfo:function(t){"use strict";if(null!=t)return void 0===t._relatedPrimaryKeyNames&&(t._relatedPrimaryKeyNames=s.getPrimaryKeyNamesByPrimaryKeyInfos(t.primaryKeyInfos)),t._relatedPrimaryKeyNames},getCombinedPrimaryKeyNamesByRelationshipInfo:function(t){"use strict";if(null!=t){if(void 0===t._combinedRelatedPrimaryKeyNames){var e=s.getPrimaryKeyNamesByRelationshipInfo(t);Array.isArray(e)?t._combinedRelatedPrimaryKeyNames=e.join("|"):t._combinedRelatedPrimaryKeyNames=e}return t._combinedRelatedPrimaryKeyNames}},getPrimaryKeyNamesByPrimaryKeyInfos:function(t){"use strict";var e;if(null!=t)return Array.isArray(t)?(e=[],t.forEach((function(t){"string"==typeof t?e.push(t):e.push(t.primaryKeyName)}))):e="string"==typeof t?t:t.primaryKeyName,e},getPrimaryKeyByRelationshipInfo:function(t,e){"use strict";if(null!=t&&null!=e){var i=s.getPrimaryKeyByPrimaryKeyNames(t,s.getPrimaryKeyNamesByRelationshipInfo(e));return!0===e.isMultiRelationship?i.split(","):i}},getPrimaryKeyByPrimaryKeyNames:function(t,e){"use strict";if(null!=t&&null!=e)return r.compose(t,e)},getPrimaryKey:function(t,e,i,n,r){"use strict";if(null!=t){var a=null!=e?s.getPrimaryKeyByPrimaryKeyNames(t,e):void 0;return i&&n?n.call(i,t,a,r):a}},evaluatePrimaryKeyInfo:function(t,e){"use strict";if(null!=t&&null!=e){var i=e.primaryKeyName;if(a.notIsNullOrEmpty(i)){var n=t[i];return null!=n?""!==n?n:!0===Object.prototype.hasOwnProperty.call(e,"empty")?e.empty:n:n}}},evaluatePrimaryKeyInfos:function(t,e,i){"use strict";if(null!=t&&null!=e)return"string"==typeof e?s.evaluatePrimaryKeyInfos(t,{primaryKeyName:e}):n.each(e,(function(e){if(!0===e.essential){var n=s.evaluatePrimaryKeyInfo(t,e);if(null!=n){if(""!==n)return!0;i?.("nPrimaryKeyManager: primary key empty!")}return!1}return!0}),!1)},allEssentialPrimaryKeysAvailable:function(t,e,i){"use strict";if(null!=t&&null!=e)return n.each(e,(function(e){return s.evaluatePrimaryKeyInfos(t,e.primaryKeyInfos,i)}),!1)},getRelationshipInfoTo:function(t,e,i){"use strict";var n;if(null!=t)for(var r=0;r<t.length;r++)if(t[r].comingFrom===e&&t[r].relatedTo===i)if(n){if(!Array.isArray(n)){var a=n;(n=[]).push(a)}n.push(t[r])}else n=t[r];return n}};t.exports=s},9093:(t,e,i)=>{var n=i(5066).nDefaultSeparator,r={compose:function(t,e){"use strict";if(t){if(Array.isArray(e)){let i=e.map((e=>t[e]||"")).join(n);return i.length<e.length?"":i}return t[e]||""}}};t.exports=r},7838:(t,e,i)=>{var n=i(1892),r={};i(2391).extendClass(r,"nRawDataHolder",n,{construct:function(t){"use strict";this.store(t)},update:function(t){"use strict";this.store(t)},data:function(){"use strict";return this._data},store:function(t){"use strict";this._data=t}}),t.exports=r.nRawDataHolder},49:(t,e,i)=>{i(7658);var n=i(5549),r=i(1892),a={construct:function(){},registerRect:function(t){"use strict";var e=this,i=n.extend({},t);i.displacementX=0,i.displacementY=0;var r=t.order||0;this._registeredRects||(this._registeredRects=[]),this._registeredRects[r]||(this._registeredRects[r]=[]);var a=function(t){var i;return e._registeredRects.every((function(e){if(e){var n=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(!(n.id===e.id&&n.order===e.order||(r=e,(a=n).left>=r.right||a.right<=r.left||a.top>=r.bottom||a.bottom<=r.top)))return n}var r,a}(e,t);if(n)return i=n,!1}return!0})),i},s=function(t,e){var i=n.extend({},t),r=e*t.width;return i.displacementX+=r,i.left+=r,i.right+=r,i},o=function(t,e,i){var r=n.extend({},e),a=i*t.height;return r.displacementY=t.displacementY+a,r.top+=a,r.bottom+=a,r},l=function(t){return s(t,-1)},c=function(t,e){return o(t,e,-1)},u=function(t,e){return o(t,e,1)},h=a(i);if(h){var d,p=i;do{(1&t.position||4&t.position)&&(h=a(d=1&t.position?s(p,1):l(p))),h&&(h=a(d=p=8&t.position?c(h,p):u(h,p)))}while(h);h||(i=d)}return this._registeredRects[r].push(i),i},removeRects:function(){delete this._registeredRects}},s={};i(2391).extendClass(s,"nRectManager",r,a),t.exports=s.nRectManager},2566:(t,e,i)=>{i(7658);var n=i(9843).ResizeSensor,r=i(4178),a=!!window.ResizeObserver;const s=new Map,o=a&&new ResizeObserver((t=>{for(let{target:e}of t)s.get(e)?.forEach((t=>{let{callbackFunc:i}=t;return i(e)}))}));class l{constructor(t,e){let i={callbackFunc:e,reference:this},n=s.get(t);n||(s.set(t,n=[]),o.observe(this.elem=t)),n.push(i)}detach(){let t=this.elem,e=s.get(t);if(e){let i=e.findIndex((t=>{let{reference:e}=t;return e===this}));i>=0&&(e.splice(i,1),e.length||(s.delete(t),o.unobserve(t)))}}}var c=function(t,e){r.assert(!(t instanceof Window),"nResizeSensor: window not allowed in parameter 1"),r.assertNotNull(t,"nResizeSensor",0),r.assertFunction(e,"nResizeSensor",1),this._3rdPartyObject=new(a?l:n)(t,e),a||t.querySelector(".resize-sensor").setAttribute("tabindex",-1)};Object.assign(c.prototype,{detach:function(){this._3rdPartyObject&&(this._3rdPartyObject.detach(),delete this._3rdPartyObject)}}),t.exports=c},9231:(t,e,i)=>{var n=i(5549);i(8276);var r=i(2566),a=i(8309),s=".nribbon",o="nribbon-widget",l="nribbon",c="nribbon-section",u="nribbon-last-section",h="nribbon-section-button",d="nribbon-section-button-selected",p="nribbon-section-button-hover",_="nribbon-section-button-hover-enabled",f="nribbon-section-button-disabled",m="nribbon-section-button-disabled-mark",g="nribbon-section-button-mouse-down",v="nribbon-section-custom-button",y="nribbon-tab",E="nribbon-tab-title",b="nribbon-tab-selected",T={Action:"action",Toggle:"toggle",Radio:"radio",Custom:"custom"};n.widget("netronic.nRibbonWidget",{options:{tabs:null,sections:null,imageWidth:48,imageHeight:48,visibleButtonTitles:!1,buttonTitleFontSize:"13px"},_create:function(){"use strict";var t=this;t._buttons={},t.element.addClass(o),t._ribbonContainerJQ=n('<div class="nribbon-container"></div>').appendTo(t.element),t._ribbonJQ=n('<ul class="'+l+'"></ul>').appendTo(t._ribbonContainerJQ),t._resizeSensor=new r(t.element[0],(function(){t._adjustWidth()})),t.options&&t.options.sections&&t._createContent(t.options.sections,t.options.tabs)},_setOption:function(t,e){"use strict";"sections"===t?this._createContent(e,this.options.tabs):"tabs"===t&&this._createContent(this.options.sections,e),this._super(t,e)},_destroy:function(){"use strict";var t=this;t._resizeSensor.detach(),delete t._resizeSensor,n(window).unbind(s),t.element.removeClass(o),t.element.find("*").remove()},_getTab:function(t){"use strict";var e=null;return this.options.tabs.forEach((function(i){i.id===t&&(e=i)})),e},_getSection:function(t){"use strict";var e=null;return this.options.sections.some((function(i){if(i.id===t)return e=i,!0})),e},selectTab:function(t){"use strict";var e=this;if(e.options.tabs){e._tabsJQ.find("."+y).removeClass(b),e.options.tabs.forEach((function(t){t.selected=!1}));var i=this._getTab(t);if(i)e._ribbonJQ.find("."+c).removeClass(u),e._ribbonJQ.find("."+c).each((function(t,r){i.sectionIds.some((function(t){return t===r.id}))?(e._getSection(r.id).displayDisabled?n(r).css("display","none"):n(r).css("display","list-item"),n(r).find("."+m).each((function(t,e){var i=n(this).closest("."+h);n(e).width(i.width()).height(i.height())}))):n(r).css("display","none")})),e._ribbonJQ.find("."+c).filter(":visible").last().addClass(u),e._tabsJQ.find("#"+i.id).parent().addClass(b),i.selected=!0,e._adjustWidth()}},_tabClicked:function(t){"use strict";var e=t.currentTarget.children[0].id;this.selectTab(e);var i=this._getTab(e);i.clicked&&i.clicked.call(this,{tabID:e})},getSelectedTab:function(){"use strict";var t="";return this.options.tabs.forEach((function(e){e.selected&&(t=e.id)})),t},_createContent:function(t,e){"use strict";var i=this;e?i._tabsJQ?i._tabsJQ.find("*").remove():i._tabsJQ=n('<div class="nribbon-tabs"></div>').prependTo(i.element):!e&&i._tabsJQ&&(i._tabsJQ.remove(),delete i._tabsJQ),i._ribbonJQ.find("*").remove(),t.forEach((function(t){var e=n('<li id="'+t.id+'" class="'+c+'">   <h2><span class="nribbon-section-title">'+t.title+"</span></h2></li>").appendTo(i._ribbonJQ);t.buttons&&t.buttons.forEach((function(t){var r=n('<div id="'+t.id+'" class="'+h+'"></div>').appendTo(e);i._buttons[t.id]=t;var s=n('<div class="'+m+'"></div>');if(r.append(s),t.html)r.append(t.html);else{n("<img />").appendTo(r).attr("src",t.image).attr("title",t.title).attr("draggable","false").attr("width",i.options.imageWidth+"px").attr("height",i.options.imageHeight+"px");var o=i.options.visibleButtonTitles?t.title:"",l=n('<div class="nribbon-section-button-title">'+o+"</div>");r.append(l),i.options.buttonTitleFontSize&&l.attr("font-size",i.options.buttonTitleFontSize),t.type===T.Toggle?"on"!==t.initialState&&!0!==t.initialState||r.addClass(d):t.type===T.Radio&&t.initiallySelected&&r.addClass(d)}t.type===T.Custom&&r.addClass(v),!0===t.disabled?i._disableButton(t.id,!0):i._disableButton(t.id,!1),a.isIOS||!1===t.hovering||t.disabled||r.addClass(_)}))})),i._ribbonJQ.append('<li style="clear:both"></li>'),i._ribbonJQ.find("."+h).addClass(p),n(window).bind("pointermove"+s,(function(){i._ribbonJQ.find("."+h).addClass(p)})),i._ribbonJQ.find("."+c).filter(":visible").last().addClass(u),e&&(e.forEach((function(t){n('<div class="'+y+'">   <a href="javascript:void(0)" id="'+t.id+'" class="'+E+'">'+t.title+"</a></div>").bind("click"+s,(function(t){i._tabClicked(t)})).appendTo(i._tabsJQ)})),i._tabsJQ.append('<div class="'+y+' nribbon-last-tab">   <a href="javascript:void(0)" class="'+E+'">&nbsp;</a></div>'),i.selectTab(e[0].id))},selectButton:function(t){"use strict";var e=this,i=e.element.find("#"+t),r=e._buttons[t];if(r.type===T.Toggle)return i.hasClass(d)?i.removeClass(d+" "+p):(i.addClass(d),i.removeClass(p)),null;if(r.type===T.Radio){if(!i.hasClass(d))i.addClass(d),n.each(e._buttons,(function(t,i){if(i!==r&&i.type===T.Radio&&i.group===r.group){var n=e.element.find("#"+t);if(n.hasClass(d))return n.removeClass(d),i}}));return null}},buttonClicked:function(t){"use strict";var e=this.element.find("#"+t);e.length&&this._buttonClicked(e[0])},_buttonClicked:function(t){"use strict";var e,i=this,r=n(t),a=i._buttons[r.attr("id")];a.type!==T.Toggle?a.type!==T.Radio?(a.clicked&&a.clicked.call(this,{buttonID:a.id}),i._trigger("clicked",null,{buttonID:a.id})):r.hasClass(d)||(r.addClass(d),n.each(i._buttons,(function(t,n){if(n!==a&&n.type===T.Radio&&n.group===a.group){var r=i.element.find("#"+t);if(r.hasClass(d))return r.removeClass(d),e=n,!1}})),e&&(a.clicked&&a.clicked.call(this,{buttonID:a.id,previousButtonID:e.id}),i._trigger("clicked",null,{buttonID:a.id,previousButtonID:e.id}))):r.hasClass(d)?(r.removeClass(d+" "+p),a.clicked&&a.clicked.call(this,{buttonID:a.id,state:!1}),i._trigger("clicked",null,{buttonID:a.id,state:!1})):(r.addClass(d),r.removeClass(p),a.clicked&&a.clicked.call(this,{buttonID:a.id,state:!0}),i._trigger("clicked",null,{buttonID:a.id,state:!0}))},_adjustWidth:function(){"use strict";var t=this;t.element.find("."+l).css("width",1e4);var e=0;t.element.find("."+c).each((function(){e+=this.getBoundingClientRect().width+.01})),t.element.find("."+l).css("width",e)},_disableButton:function(t,e){var i=this,r=i.element.find("#"+t);r.off("click"+s),r.off("pointerdown"+s),r.off("pointerup"+s),!0===e?(r.addClass(f),r.removeClass(_),n("#"+t+" ."+m).width(r.width()).height(r.height()).css("visibility","visible")):(r.on("click"+s,(function(t){return i._buttonClicked(this,t)})),r.on("pointerdown"+s,(function(){var t=n(this);t.hasClass(v)||t.addClass(g)})),r.on("pointerup"+s,(function(){n(this).removeClass(g)})),r.on("pointerleave"+s,(function(){n(this).removeClass(g)})),r.removeClass(f),!1!==this._buttons[t].hovering&&r.addClass(_),n("#"+t+" ."+m).css("visibility","hidden"))},getSelectedButtonInRadioGroup:function(t){"use strict";var e=this,i=null;return n.each(e._buttons,(function(n,r){if(r.type===T.Radio&&r.group===t&&e.element.find("#"+n).hasClass(d))return i=n,!1})),i},buttonAttr:function(t,e,i){"use strict";var n=this,r=n.element.find("#"+t);if(void 0===i)return r.attr(e);switch(e){case"disabled":n._disableButton(t,i);break;case"initialState":n._buttons[t].type===T.Toggle&&("on"===i||!0===i?r.addClass(d):r.removeClass(d));break;case"initiallySelected":n._buttons[t].type===T.Radio&&(i?r.addClass(d):r.removeClass(d));break;case"imageSource":if(!i)return r.find("img").attr("src");r.find("img").attr("src",i);break;default:n.element.find("#"+t).attr(e,i)}n._adjustWidth()},sectionAttr:function(t,e,i){"use strict";var n=this,r=n.element.find("#"+t);if(void 0===i)return r.attr(e);if("displayDisabled"===e)n.options.sections.some((function(e){if(e.id===t)return e.displayDisabled=i,!0}));else n.element.find("#"+t).attr(e,i);n._adjustWidth()},buttonStyleAttr:function(t,e,i){"use strict";var n=this;if(void 0===i)return n.element.find("#"+t).css(e);n.element.find("#"+t).css(e,i),n._adjustWidth()},sectionStyleAttr:function(t,e,i){"use strict";var n=this;if(void 0===i)return n.element.find("#"+t).css(e);n.element.find("#"+t).css(e,i),n._adjustWidth()},isButtonSelected:function(t){"use strict";var e=this.element.find("#"+t);return!!e&&e.hasClass(d)}});var S=n.netronic.nRibbonWidget;S.RibbonButtonType=T,t.exports=S},3895:(t,e,i)=>{var n=i(2391),r=i(6547),a={construct:function(t,e,i){"use strict";this._super(t,e,i)},appendTo:function(t){"use strict";var e=this._super(t);return this._symbolD3=e.append("use").attr("class","nsvg-symbol").datum({}),this._symbolD3},setSymbol:function(t){"use strict";this._symbolD3&&this._symbolD3.attr("href",t)},setWidthHeight:function(t,e){"use strict";this._super(t,e),this._setWidthHeight(this._symbolD3,t,e)},_attributeTestRect:function(){}},s={};n.extendClass(s,"nSVGSymbolBox",r,a),t.exports=s.nSVGSymbolBox},5712:(t,e,i)=>{var n=i(2391),r=i(6547),a={construct:function(t,e,i){"use strict";this._super(t,e,i),this._constEM=4},appendTo:function(t,e){"use strict";var i=this._super(t);return this._textD3=i.append("text").attr("class",`nsvg-text ${e??""}`),this._textD3},setScale:function(t){"use strict";this._textD3&&(this._textD3.style("font-size",100*t+"%"),this._constEM*=t)},setText:function(t){"use strict";if(this._textD3){var e;this._rawSetText(t),this._rawSetDXDY("0.35em","-0.35em");try{e=this._textD3.node().getBBox({stroke:!0})}catch(t){e={height:0,width:0,x:0,y:0}}var i=e.width+2*this._constEM,n=e.height+.25*this._constEM;this._rawSetY(this._textD3,n),this.setWidthHeight(i,n),this.calcInitialPosition(i,n)}},setDX:function(t){"use strict";this._textD3&&this._rawSetDX(t)},setDY:function(t){"use strict";this._textD3&&this._rawSetDY(t)},setDXDY:function(t,e){"use strict";this._textD3&&(this._rawSetDX(t),this._rawSetDY(e))},_attributeTestRect:function(t){"use strict";this._textD3&&(t.label=this._textD3.text())},_rawSetText:function(t){this._textD3.text(t)},_rawSetDX:function(t){this._textD3.attr("dx",t)},_rawSetDY:function(t){this._textD3.attr("dy",t)},_rawSetDXDY:function(t,e){this._rawSetDX(t),this._rawSetDY(e)}},s={};n.extendClass(s,"nSVGTextBox",r,a),t.exports=s.nSVGTextBox},6547:(t,e,i)=>{var n=i(1892),r=i(2391),a={construct:function(t,e,i){"use strict";this._id=t,this._position=e,this._rotate=i,this._translateX=[],this._translateY=[]},appendTo:function(t){"use strict";return this._parentD3=t,this._lastContainerD3=this._outerContainerD3=this._parentD3.append("g").attr("class","nsvg-outer-container").attr("pointer-events","none").attr("transform","translate(0,0)"),!0===this._rotate&&(this._lastContainerD3=this._rotaterD3=this._lastContainerD3.append("g").attr("class","nsvg-rotater").attr("transform","rotate(0)")),this._rectD3=this._lastContainerD3.append("rect"),this._lastContainerD3},prependTo:function(){},classed:function(t,e){"use strict";this._rectD3&&this._rectD3.classed(t,e)},setXY:function(t,e){"use strict";this._setTransform(0,t||0,e||0)},setWidthHeight:function(t,e){this._setWidthHeight(this._rectD3,t,e)},calcInitialPosition:function(t,e){"use strict";if(this._outerContainerD3){var i=0,n=0;!0===this._rotate?(i=1&this._position?-1*e:2&this._position?-1*e/2:0,n=t,this._rotaterD3.attr("transform","rotate(-90)")):(i=1&this._position?-1*t:2&this._position?-1*t/2:0,n=8&this._position?-1*e:0),this._setTransform(2,i,n)}},optimizePosition:function(t,e,i){"use strict";if(this._outerContainerD3){var n=this._outerContainerD3.node();if(n){this._boundingRect||(this._boundingRect=this.getBoundingRect(n,i));var r={top:0,left:0,bottom:0,right:0,height:0,width:0};r.top=this._boundingRect.top,r.left=this._boundingRect.left,r.height=this._boundingRect.height,r.width=this._boundingRect.width,r.bottom=r.top+r.height,r.right=r.left+r.width,r.position=this._position,r.id=this._id,r.order=e,this._attributeTestRect(r);var a=t.registerRect(r);this._setTransform(1,a.displacementX,a.displacementY)}}},_attributeTestRect:function(){},_setTransform:function(t,e,i){"use strict";this._translateX[t]=e,this._translateY[t]=i;var n=this._translateX.reduce(((t,e)=>t+e),0),r=this._translateY.reduce(((t,e)=>t+e),0);this._outerContainerD3.attr("transform","translate("+n+","+r+")")},getBoundingRect:function(t,e){"use strict";let i=t.getBoundingClientRect(),n=t.getBBox();return{top:i.top,height:n.height*(e||1),left:i.left,width:n.width*(e||1)}},_setWidthHeight:function(t,e,i){"use strict";t&&(this._rawSetWidth(t,e),this._rawSetHeight(t,i))},_rawSetX:function(t,e){t.attr("x",e)},_rawSetY:function(t,e){t.attr("y",e)},_rawSetWidth:function(t,e){t.attr("width",e)},_rawSetHeight:function(t,e){t.attr("height",e)}},s={};r.extendClass(s,"nSVGTransformableBox",n,a),t.exports=s.nSVGTransformableBox},9497:(t,e,i)=>{var n=i(8309),r={scrollBarWidth:function(){if(!document||!window)return 17;if(void 0===this._cachedScrollBarWidth)if(n.isIOS)this._cachedScrollBarWidth=0;else{var t=document.createElement("div");t.style.display="block",t.style.position="absolute",t.style.visibility="hidden",t.style.width="50px",t.style.height="50px",t.style.overflow="hidden",document.body.appendChild(t);var e=document.createElement("div");e.style.height="100px",e.style.width="auto",t.appendChild(e);var i=e.offsetWidth;t.style.overflow="scroll";var r=window.parseFloat(window.getComputedStyle(e).width);if(t.parentNode.removeChild(t),this._cachedScrollBarWidth=i-r,!this._resizeEventListenerAttached){var a=this;window.addEventListener("resize",(function(){delete a._cachedScrollBarWidth})),a._resizeEventListenerAttached=!0}}return this._cachedScrollBarWidth},scrollLineHeight:function(){if(!document||!window)return 17;var t=document.createElement("div");t.style.fontSize="initial",t.style.display="none",document.body.appendChild(t);var e=window.getComputedStyle(t).fontSize;return document.body.removeChild(t),e?window.parseInt(e):void 0}};t.exports=r},91:(t,e,i)=>{i(7658);var n=i(5549),r={InsertAtStartOfInterval:0,InsertAtEndOfInterval:1,ModifyInterval:2,SplitAtEndOfInterval:3},a=function(t,e){if(!(this instanceof a))return new a(t,e);if(t instanceof a){this._datesArray=[],this._valuesArray=[];var i=t.dates(),n=t.values();this._arraysLength=n.length;for(var r=0;r<this._arraysLength;r++)this._datesArray.push(i[r]),this._valuesArray.push(n[r])}else this._datesArray=[new Date(0)],this._valuesArray=[t],this._arraysLength=1;this._handleInsertion=e};a.DateInfinity=new Date(Date.UTC(1970,0,1e8)),a.prototype={setHandleInsertionFunction:function(t){this._handleInsertion=t},allocateTimeSpan:function(t,e,i){var a=this;if(t instanceof Date&&e instanceof Date){var s=a._findInsertionIndex(t),o=!1,l=s>0?a._valuesArray[s-1]:void 0;if(a._handleInsertion)do{var c=(f=a._datesArray[s])?f.getTime():void 0,u=a._valuesArray[s];if(!o&&(!f||c>=t.getTime())){if(!f||c!==t.getTime()){var h=new Date(t);if(!(d=a._handleInsertion.call(a,r.InsertAtStartOfInterval,h,l,i)))break;a._datesArray.splice(s,0,h),a._valuesArray.splice(s,0,d),a._arraysLength++,++s,l=d}o=!0}if(o){if(!f||c>=e.getTime()){if(!f||c!==e.getTime()){var d,p=new Date(e);if(!(d=a._handleInsertion.call(a,r.InsertAtEndOfInterval,p,l,i)))break;a._datesArray.splice(s,0,p),a._valuesArray.splice(s,0,d),a._arraysLength++}break}if(s===a._arraysLength-1){p=new Date(e);var _=a._handleInsertion.call(a,r.SplitAtEndOfInterval,p,u,i);if(!_)break;++s,a._datesArray.splice(s,0,p),a._valuesArray.splice(s,0,_||n.extend({},u)),a._arraysLength++}a._handleInsertion.call(a,r.ModifyInterval,p,u,i)}l=u}while(++s<a._arraysLength);else if(t.getTime()!==e.getTime())do{var f;c=(f=a._datesArray[s])?f.getTime():void 0,u=a._valuesArray[s];if(!o&&(!f||c>=t.getTime())){o=!0;var m=!0;if(f&&c===t.getTime()&&(i!==u?i!==l&&(a._valuesArray[s]=i,++s,l=u,c=a._datesArray[s],u=a._valuesArray[s],m=!1):(m=!1,++s,l=u,c=a._datesArray[s],u=a._valuesArray[s])),m&&i!==l){h=new Date(t);a._datesArray.splice(s,0,h),a._valuesArray.splice(s,0,i),++a._arraysLength,++s}}if(o){if(f){if(c>e.getTime()&&l===u&&i!==u){p=new Date(e);a._datesArray[s]=p;break}if(c===e.getTime()&&l!==u)break;for(;c&&(c<e.getTime()||c===e.getTime()&&i===u);)a._datesArray.splice(s,1),a._valuesArray.splice(s,1),--a._arraysLength,l=u,c=a._datesArray[s],u=a._valuesArray[s]}var g=!c||c>e.getTime();if(g?g=i!==l:s>=a._arraysLength-1&&i!==u&&(g=!0,s=a._arraysLength),g){p=new Date(e);a._datesArray.splice(s,0,p),a._valuesArray.splice(s,0,l instanceof Object?n.extend({},l):l),++a._arraysLength;break}}}while(++s<a._arraysLength)}},isTimeSpanAllocated:function(t,e,i){var n=this.determineNextOrSameDateWithValue(t);if(n&&n.date>t&&(n=this.determinePreviousDateWithValue(t)),!n)return null!==n&&n;for(;!(i?i.call(this,n.value):n.value);)if(!(n=this.determineNextDateWithValue(new Date(n.date.getTime()+1)))||n.date>=e)return!1;return!0},convertValues:function(t){if(t)for(var e=0;e<this._arraysLength;e++)this._valuesArray[e]=t.call(this,this._datesArray[e],this._valuesArray[e])},forEach:function(t,e){if(t)for(var i=0;i<this._arraysLength&&!1!==t.call(e||this,this._datesArray[i],this._datesArray[i+1],this._valuesArray[i],this._valuesArray[i+1]);i++);},getValueAtDate:function(t,e,i){var n=this.determinePreviousOrSameDateWithValue(t);if(n){if(e||i){n.start=n.date,n.date=t;var r=this.determineNextDateWithValue(t);if(n.end=r?r.date:null,n.end&&i){var a=new Date(0);n.start.getTime()!==a.getTime()&&(n.interpolatedValue=n.value.value+(r.value.value-n.value.value)*((t.getTime()-n.start.getTime())/(n.end.getTime()-n.start.getTime())))}return n}return n.value}return n},dates:function(t,e){if(void 0===t&&void 0===e)return this._datesArray;if(t instanceof Date&&e instanceof Date){var i=0,n=this._arraysLength;if(void 0!==t)for(;i+1<this._arraysLength&&this._datesArray[i+1]<=t;)i++;if(void 0!==e)for(;n>0&&this._datesArray[n-1]>=e;)n--;var r=this._datesArray.slice(i,n+1);return n===this._arraysLength&&r.push(null),r}},values:function(t,e){if(void 0===t&&void 0===e)return this._valuesArray;if(t instanceof Date&&e instanceof Date){var i=0,n=this._arraysLength;if(void 0!==t)for(;i+1<this._arraysLength&&this._datesArray[i+1]<=t;)i++;if(void 0!==e)for(;n>0&&this._datesArray[n-1]>=e;)n--;var r=this._valuesArray.slice(i,n+1);return n===this._arraysLength&&r.push(null),r}},determineNextDateWithValue:function(t){if(t instanceof Date){var e=this._findInsertionIndex(new Date(t.getTime()+1));return e<this._arraysLength?{date:this._datesArray[e],value:this._valuesArray[e]}:null}},determineNextOrSameDateWithValue:function(t){if(t instanceof Date){var e=this._findInsertionIndex(t);return e<this._arraysLength?{date:this._datesArray[e],value:this._valuesArray[e]}:null}},determinePreviousDateWithValue:function(t){if(t instanceof Date){var e=this._findInsertionIndex(t)-1;return e<0?null:{date:this._datesArray[e],value:this._valuesArray[e]}}},determinePreviousOrSameDateWithValue:function(t){if(t instanceof Date){var e=this._findInsertionIndex(t);return(e===this._arraysLength||this._datesArray[e].getTime()>t.getTime())&&e--,e<0?null:{date:this._datesArray[e],value:this._valuesArray[e]}}},_findInsertionIndex:function(t){var e=0,i=this._arraysLength-1,n=t instanceof Date?t.getTime():t;if(this._arraysLength&&n>this._datesArray[this._arraysLength-1].getTime())return this._arraysLength;for(;e<=i;){var r=(e+i)/2|0,a=this._datesArray[r].getTime(),s=a>n?1:a<n?-1:0;if(s<0)e=r+1;else{if(!(s>0))return r;i=r-1}}return Math.max(e,i)}},a.ModificationType=r,t.exports=a},1073:(t,e,i)=>{var n=i(5549);i(8276);var r=i(9990),a=i(2296).transform,s=i(6478),o=i(3965).eventListenerHelper,l=i(1280),c=i(8309),u=i(9315),h=".nsplitter",d="nsplitter",p="nsplitter-rect",_={Vertical:0,Horizontal:1};n.widget("netronic.nSplitterWidget",{options:{classes:"",visualZoomFactor:1,max:1/0,min:0,position:{x:0,y:0},orientation:_.Vertical,width:2,sensitiveWidth:6,height:100,showDragStart:!1,changed:void 0,startDrag:void 0,dragged:void 0,endDrag:void 0,movable:!0,svgGroupElem:null,svgLineElem:null,useOwnEventDispatcher:!0,divElemForCursor:null},_setOption:function(t,e){if("height"===t)e=e<0?0:e,(i=this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3).attr("line"===i.node().nodeName.toLowerCase()?"y2":"height",e),this._splitterRectPhantomD3.attr("height",e),this._super(t,e),this._setSensitiveRectWidth();else if("width"===t){var i;(i=this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3).attr("line"===i.node().nodeName.toLowerCase()?"x2":"width",e),this._splitterRectPhantomD3.attr("width",e),this._super(t,e),this._setSensitiveRectWidth()}else if("sensitiveWidth"===t)this._super(t,e),this._setSensitiveRectWidth();else if("orientation"===t)this.options.orientation===_.Vertical?this._splitterSensitiveRectD3.attr("transform","translate("+(this.options.width-this.options.sensitiveWidth)/2+")"):this._splitterSensitiveRectD3.attr("transform","translate(0,"+(this.options.height-this.options.sensitiveWidth)/2+")");else if("position"===t){var n=this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3;if(e.transitionDuration?n.transition().duration(e.transitionDuration).attr("transform","translate("+e.x+", "+e.y+")"):(n.interrupt(),r.timeFormat||n.transition().each((function(){r.select(this).interrupt()})),n.attr("transform","translate("+e.x+", "+e.y+")")),delete e.transitionDuration,"hidden"!==this._splitterRectPhantomD3.attr("visibility")){var s=a(this._splitterRectPhantomD3.attr("transform"));this.options.orientation===_.Vertical?(s.translate[0]+=this._oldValue-e.x,this._oldValue=e.x):(s.translate[1]+=this._oldValue-e.y,this._oldValue=e.y),this._splitterRectPhantomD3.attr("transform",s.toString())}}else if("max"===t){if(this.options.orientation===_.Vertical){if(this.options.position.x>e)this.options.position.x=e,(n=this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3).attr("transform","translate("+e+", "+this.options.position.y+")")}else if(this.options.position.y>e)this.options.position.y=e,(n=this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3).attr("transform","translate("+this.options.position.x+", "+e+")")}else if("svgGroupElem"===t||"svgLineElem"===t)return;this._super(t,e)},_create:function(){var t=this;this._newValue=void 0,this._oldValue=void 0,this._svgSplitterRootD3=r.select(this.element[0]),this.options.useOwnEventDispatcher&&this.options.movable&&(this._eventDispatcher=new l(this._svgSplitterRootD3.node(),[l.PRESS_EVENT_NAME,l.PAN_EVENT_NAME,l.CONTEXT_MENU_EVENT_NAME])),this._svgSplitterRootD3.classed(d,!0),this._svgSplitterRootD3.on("contextmenu",(function(t){return(r.mouse?r.event:t).preventDefault(),!1})),this.options.svgGroupElem||(this._splitterD3=this._svgSplitterRootD3.append("g"));var e=this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3;e.classed(l.PRESS_PAN_EVENT_CLASS_NAME,!0).classed(this.options.classes,!0).attr("transform","translate("+this.options.position.x+","+this.options.position.y+")").on(l.TARGET_EVENT_NAME,(function(e){t._onInteraction(r.mouse?r.event:e)})),this.options.svgLineElem||(this._splitterRectD3=e.append("rect").attr("class",p).attr("width",this.options.width).attr("height",this.options.height));var i=this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3;t.options.movable&&i.attr("cursor",t.options.orientation===_.Vertical?"ew-resize":"ns-resize"),this._splitterRectPhantomD3=e.append("rect").attr("class","nsplitter-rect-phantom").attr("width",this.options.width).attr("height",this.options.height).attr("visibility","hidden"),this._splitterSensitiveRectD3=e.append("rect").attr("class","nsplitter-sensitive-rect"),this._setSensitiveRectWidth(),c.isIOS||[i,this._splitterRectPhantomD3,this._splitterSensitiveRectD3].forEach((function(e){e.attr(u.POINTER_ENTER_ATTR_NAME,"1").attr(u.POINTER_LEAVE_ATTR_NAME,"1"),o.on(e.node(),"pointerover"+h,(function(e){t._onPointerOver(e,this)})).on(e.node(),"pointerout"+h,(function(e){t._onPointerOut(e,this)}))}))},_init:function(){},_destroy:function(){(this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3).classed(l.PRESS_PAN_EVENT_CLASS_NAME,!1).classed(this.options.classes,!1).attr("transform",null).on(l.TARGET_EVENT_NAME,null),(this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3).on(h,null),this._splitterRectPhantomD3.on(h,null).remove(),this._splitterSensitiveRectD3.on(h,null).remove(),this._eventDispatcher&&this._eventDispatcher.destroy(),delete this._eventDispatcher,this._splitterRectD3&&(this._splitterRectD3.remove(),delete this._splitterRectD3),delete this._splitterRectPhantomD3,delete this._splitterSensitiveRectD3,this._splitterD3&&(this._splitterD3.remove(),delete this._splitterD3)},_onPointerOver:function(){if(!(this.options.min>=this.options.max)){var t=this.options.svgLineElem||this._splitterRectD3.node();s.setCursor(this.options.divElemForCursor||document.body,n(t).css("cursor"))}},_onPointerOut:function(){this.options.min>=this.options.max||this.isCurrentlyDragged()||s.setCursor(this.options.divElemForCursor||document.body,"")},manualStartDrag:function(){r.select(this.element[0]).style("pointer-events","all"),this._splitterRectPhantomD3.attr("transform",null).attr("visibility",null);var t=this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3;this.options.showDragStart||t.attr("visibility","hidden"),this._oldValue=this.options.orientation===_.Vertical?this.options.position.x:this.options.position.y,this._oldDragValue=this._oldValue,this._additionalDelta=0,s.setCursor(this.options.divElemForCursor||document.body,t.style("cursor")),this._tempDragMinValue=Math.min(this.options.min,this._oldValue),this._tempDragMaxValue=Math.max(this.options.max,this._oldValue)},manualDrag:function(t,e){if(e&&(this._additionalDelta+=e,t+=e),"hidden"!==this._splitterRectPhantomD3.attr("visibility")){var i=this.options.svgLineElem||this._splitterRectD3.node();s.setCursor(this.options.divElemForCursor||document.body,n(i).css("cursor"));var r=this._tempDragMaxValue;"svg"===this.element[0].tagName&&(r=Math.min(r,this.options.orientation===_.Horizontal?this.element.height()-this.options.height:this.element.width()-this.options.width)),this._newValue=Math.max(Math.max(this._tempDragMinValue,Math.min(r,t)),0),this.options.orientation===_.Vertical?this._splitterRectPhantomD3.attr("transform","translate("+Math.round(this._newValue-this._oldValue)+",0)"):this._splitterRectPhantomD3.attr("transform","translate(0,"+Math.round(this._newValue-this._oldValue)+")")}},manualEndDrag:function(){this._doManualEndDrag()},_doManualEndDrag:function(t){r.select(this.element[0]).style("pointer-events",null),s.setCursor(this.options.divElemForCursor||document.body,"");var e=this.options.svgLineElem?r.select(this.options.svgLineElem):this._splitterRectD3;t||e.attr("transform",this._splitterRectPhantomD3.attr("transform")),e.attr("visibility",null),this._splitterRectPhantomD3.attr("visibility","hidden"),delete this._additionalDelta,delete this._oldValue,delete this._oldDragValue,delete this._tempDragMinValue,delete this._tempDragMaxValue},isCurrentlyDragged:function(){return"_additionalDelta"in this},_onInteraction:function(t){if(!(this.options.min>=this.options.max)){var e=t.detail.hammerEvent;switch(e.type){case l.PAN_EVENT_NAME+"start":case l.PRESS_EVENT_NAME:if(!this.isCurrentlyDragged()){this.manualStartDrag();var i={cancel:!1};this._trigger("startDrag",e.srcEvent,i),i.cancel&&(e[l.CANCEL_PROPERTY]=!0)}break;case l.PAN_EVENT_NAME+"move":if(this.options.orientation===_.Vertical?this.manualDrag(this._oldValue+e.deltaX/this.options.visualZoomFactor+this._additionalDelta):this.manualDrag(this._oldValue+e.deltaY/this.options.visualZoomFactor+this._additionalDelta),Math.round(this._newValue)!==Math.round(this._oldDragValue)){let t={newValue:Math.round(this._newValue),oldValue:Math.round(this._oldDragValue),cancel:!1};this._trigger("dragged",e.srcEvent,t),t.cancel?e[l.CANCEL_PROPERTY]=!0:this._oldDragValue=this._newValue}break;case l.PAN_EVENT_NAME+"end":{if(void 0===this._newValue)break;this._doManualEndDrag(!0),this.options.orientation===_.Vertical?this.options.position.x=Math.round(this._newValue):this.options.position.y=Math.round(this._newValue);var n=this.options.svgGroupElem?r.select(this.options.svgGroupElem):this._splitterD3;let t={oldValue:null!=this._oldValue?Math.round(this._oldValue):void 0,newValue:Math.round(this._newValue),canceled:!1};this._trigger("endDrag",e.srcEvent,t),t.canceled||n.attr("transform","translate("+this.options.position.x+","+this.options.position.y+")"),this._trigger("changed",e.srcEvent,t);break}case l.PAN_EVENT_NAME+"cancel":case l.PRESS_EVENT_NAME+"up":e.type.endsWith("cancel")&&(this.option("position",{x:this.options.orientation===_.Vertical?this._oldValue:this.options.position.x,y:this.options.orientation===_.Horizontal?this._oldValue:this.options.position.y}),this._splitterRectPhantomD3.attr("transform",null)),this.manualEndDrag(),this._trigger("endDrag",e.srcEvent,{canceled:!0})}}},_setSensitiveRectWidth:function(){this.options.sensitiveWidth>(this.options.orientation===_.Vertical?this.options.width:this.options.height)?this.options.orientation===_.Vertical?this._splitterSensitiveRectD3.attr("transform","translate("+(this.options.width-this.options.sensitiveWidth)/2+")").attr("width",this.options.sensitiveWidth).attr("height",this.options.height):this._splitterSensitiveRectD3.attr("transform","translate(0,"+(this.options.height-this.options.sensitiveWidth)/2+")").attr("width",this.options.width).attr("height",this.options.sensitiveWidth):this._splitterSensitiveRectD3.attr("transform","").attr("width",this.options.width).attr("height",this.options.height)}});var f=n.netronic.nSplitterWidget;f.Orientation=_,f.CLASS=d,f.NSPLITTER_RECT_CLASS=p,t.exports=f},59:t=>{t.exports={notIsNullOrEmpty:function(t){"use strict";return null!=t&&""!==t}}},2168:(t,e,i)=>{var n=i(2391),r=i(1744),a={handleParentItem:function(t,e,i){"use strict";return this._functions.handleParentItemFunc?this._functions.handleParentItemFunc.call(this,t,e,i):t},childItemAttached:function(t,e){"use strict";return this._functions.childItemAttachedFunc?this._functions.childItemAttachedFunc.call(this,t,e):void 0},childItemDetached:function(t,e){"use strict";return this._functions.childItemDetachedFunc?this._functions.childItemDetachedFunc.call(this,t,e):void 0}},s={};n.extendClass(s,"nStructuralDataDescriptor",r,a),t.exports=s.nStructuralDataDescriptor},5838:(t,e,i)=>{i(7658);var n=i(2391),r=i(345),a=i(4860),s="nStructuralParentDataDescriptor",o={construct:function(t,e,i,n,r,s,o,l,c){"use strict";s&&(s.structureType,a.Parent);var u=o?o.slice():[];u.push(s.relationshipInfos);var h=Object.assign({},l||{});h._applyToRootEnabled=!0,this._super(t,e,i,n,r,s,u,h,c)}},l={};n.extendClass(l,s,r,o),t.exports=l[s]},345:(t,e,i)=>{i(7658);var n=i(2391),r=i(2168),a=i(1980),s=i(5017),o=i(4860),l="nStructuralRelationshipDataDescriptor",c={construct:function(t,e,i,n,r,l,c,u,h){"use strict";var d=this;this._wrapperClassConstructor=e,l&&l.relationshipInfos,this._structureInfo=l||{},this._dependentObjectRelationshipInfos=void 0!==c?(this._dependentObjectRelationshipInfos||[]).concat(c):void 0;var p=Object.assign({},h||{});p.dataValidationFunc&&(p.originalDataValidationFunc=p.dataValidationFunc),p.dataValidationFunc=function(t,e){if(e&&e instanceof d._wrapperClassConstructor){var i;if(d._functions.originalDataValidationFunc&&(e=d._functions.originalDataValidationFunc.call(d,t,e)),e)if(delete e.__relatedObjects,a.allEssentialPrimaryKeysAvailable(e,d._structureInfo.relationshipInfos,e._getHandleWarningFunc?.()))s.each(d._structureInfo.relationshipInfos,(function(i){var n=a.getPrimaryKeyByRelationshipInfo(e,i);if(null!=n){var r=d._functions.getChildWrapperByPrimaryKey(i.relatedTo,n);if(r===e&&(r=void 0),r){e.__relatedObjects||(e.__relatedObjects=[]);var s={wrapper:r,item:void 0};switch(e.__relatedObjects.push(s),d._structureInfo.structureType){case o.Parent:return null==d._functions.getItemByWrapper(e)&&(!(!(l=d._functions.getItemByWrapper(r))&&!(l=t.addChild(i.relatedTo,r)))&&(s.item=l,!0));case o.Anchor:var l;if(l=d._functions.getItemByWrapper(r))return s.item=l,!0;break;default:return!0}}}return!1}),!1)&&(i=e);else if(d._booleans._applyToRootEnabled)i=null!=d._functions.getItemByWrapper(e)?void 0:e;return i}},p.handleParentItemFunc||(p.handleParentItemFunc=d.defaultHandleParentItemFunc),p.handleRelationshipChangedFunc||(p.handleRelationshipChangedFunc=d.defaultHandleRelationshipChangedFunc),this._super(t,i,n,r,u,p)},defaultHandleRelationshipChangedFunc:function(t,e,i){return t.removeChild(e),t.addChild(this._propertyName,i)},defaultHandleParentItemFunc:function(t,e){var i;switch(e&&this._wrapperClassConstructor,this._structureInfo.structureType){case o.Parent:var n=e.__relatedObjects?e.__relatedObjects[0]:void 0;n&&n.item?i=n.item:this._booleans._applyToRootEnabled&&(i=t);break;case o.Anchor:break;default:i=t}return delete e.__relatedObjects,i},checkRelatedItemExistence:function(t){"use strict";var e=this;if(t)if(delete t.__relatedObjects,a.allEssentialPrimaryKeysAvailable(t,e._structureInfo.relationshipInfos,t._getHandleWarningFunc?.())){if(s.each(e._structureInfo.relationshipInfos,(function(i){var n=a.getPrimaryKeyByRelationshipInfo(t,i);if(null!=n){var r=e._functions.getChildWrapperByPrimaryKey(i.relatedTo,n);if(r===t&&(r=void 0),r){t.__relatedObjects||(t.__relatedObjects=[]);var s={wrapper:r,item:void 0};t.__relatedObjects.push(s);var o=e._functions.getItemByWrapper(r);if(o)return s.item=o,!0}}return!1}),!1))return"ITEM"}else if(e._booleans._applyToRootEnabled)return"ROOT"}},u={};n.extendClass(u,l,r,c),t.exports=u[l]},4860:t=>{t.exports={None:0,Parent:1,Anchor:2}},6501:t=>{t.exports={_nextID:0,generate:function(){return(this._nextID++).toString()}}},9989:(t,e,i)=>{i(7658);var n=i(5549);i(8276);var r=i(9990),a="nsynch-rect",s="nsynch-button",o="nsynch-index",l="nsynch-minus",c=".nsynch",u="nsynch-pane",h="nsynch-plus",d="nsynch-splitter",p="nsynch-group",_="nsynch-placeholder",f="nsynch-title",m=i(1073),g=i(6501),v=i(1280),y=i(2566),E=i(2296).transform,b=m.Orientation;n.widget("netronic.nSynchronizerWidget",{options:{splitterWidth:8,paneHeights:[],collapsible:!1,initiallyCollapsed:[],titles:[],collapseButtonLeftOffset:8,collapseButtonTopOffset:2,transitionDuration:500,autoExpandOnCollapsingLastPane:!1,paneHeightsChanged:void 0},_create:function(){"use strict";var t=this;t._currentPaneHeights=[],t._currentPaneHeightsInPixels=[],t._expandedPaneHeightsInPixels=[],t._buttonEventDispatchers=[],t._panesCount=0,t._collapsedPanesCount=0,t._paneIndexToArrayIndexMap={},t._arrayIndexToPaneIndexMap={},this._uniqueID||(this._uniqueID=g.generate()),this.element.children().each((function(e,i){var h=n(i),m=window.getComputedStyle(i);if("none"!==m.display&&"hidden"!==m.visibility&&"collapse"!==m.visibility){t._paneIndexToArrayIndexMap[e]=t._panesCount,t._arrayIndexToPaneIndexMap[t._panesCount]=e,t._currentPaneHeights.push(null),t._currentPaneHeightsInPixels.push(0);var g=t._panesCount++;if(h.data(o,e).addClass(u+" "+u+e),g>0||t.options.collapsible){var y=n('<div class="'+_+'"/>');h.before(y),y.css("height",t.options.splitterWidth+"px");var T=n('<svg class="'+d+" "+d+g+'"/>');if(t.element.prepend(T),T.data(o,g).nSplitterWidget({showDragStart:!0,orientation:b.Horizontal,height:t.options.splitterWidth,movable:g>0,classes:p,changed:function(e,i){t._onSplitterChanged(n(this).data(o),i.newValue)},divElemForCursor:i}),t.options.collapsible){var S=r.select(T[0]),P=E(S.select("."+p).attr("transform")).translate[1],w=S.append("rect").attr("class",a+" "+v.QUICK_TAP_EVENT_CLASS_NAME).attr("y",P).attr("width",t.options.collapseButtonLeftOffset+22).attr("height",t.options.splitterWidth).on(v.TARGET_EVENT_NAME+c,(function(){t._expandOrCollapse(this,n(this).closest('[class~="'+d+'"]').data(o))}));S.append("path").attr("class",s+" "+l).attr("d","M0,6 V-6 L6,0 L0,6").attr("transform","translate("+t.options.collapseButtonLeftOffset+","+(P+t.options.splitterWidth/2)+")  rotate(45)"),S.append("text").attr("class",f).attr("transform","translate("+(t.options.collapseButtonLeftOffset+12)+","+(P+t.options.splitterWidth/2)+") ").attr("dy",".3em").text(t.options.titles[e]),t._buttonEventDispatchers.push(new v(w.node(),[v.TAP_EVENT_NAME]))}}}})),Array.isArray(t.options.initiallyCollapsed)&&t.options.initiallyCollapsed.forEach((function(e,i){var r=t._arrayIndexToPaneIndexMap[i];(void 0!==r&&e&&t._collapsedPanesCount<t._panesCount||!t.options.autoExpandOnCollapsingLastPane)&&t._expandOrCollapse(n("."+d+r+" ."+a)[0],r)})),t.options.autoExpandOnCollapsingLastPane||t._currentPaneHeightsInPixels.push(0),this._recalculateHeights(),t._currentWidth=this._currentHeight=void 0,t._resizeSensor=new y(t.element[0],(function(){t._doResizeFunc()})),t._doResizeFunc()},_destroy:function(){"use strict";this.element.off(c+this._uniqueID),this._buttonEventDispatchers.forEach((function(t){t.destroy()})),this._buttonEventDispatchers.length=0,this.element.children("."+_).remove(),this.element.children("."+u).each((function(t,e){var i=n(e),r=i.data(o);void 0!==r&&i.removeClass(u).removeClass(u+r).removeData(o)})),this.element.children("."+d).nSplitterWidget("destroy","").remove(),this._resizeSensor.detach(),delete this._resizeSensor},_setOption:function(t,e){"use strict";this._super(t,e),"paneHeights"===t&&(this._destroy(),this._create())},_doResizeFunc:function(){"use strict";var t=this,e=t.element.height(),i=t.element.width();e===t._currentHeight&&i===t._currentWidth||(t._currentHeight=e,t._currentWidth=i,t.element.find("."+d).css("height",e+"px").css("width",i+"px"),t._recalculateHeights())},getCurrentPaneHeight:function(t){"use strict";var e=this._currentPaneHeights[t];return null===e&&Array.isArray(this.options.paneHeights)?(e=this.options.paneHeights[this._paneIndexToArrayIndexMap[t]])&&e.toString().indexOf("*")>=0&&(e=(parseFloat(e)||1)+"*"):e||(e="0"),e?e.toString():"1*"},_onSplitterChanged:function(t,e,i){"use strict";var n=this,r=t-1,a=t;n.options.autoExpandOnCollapsingLastPane||i&&e>0&&0===this._currentPaneHeightsInPixels[r]&&this._currentPaneHeightsInPixels[n._panesCount]>0&&(e=this._currentPaneHeightsInPixels[n._panesCount],this._currentPaneHeights[n._panesCount]=this._currentPaneHeightsInPixels[n._panesCount]=0);var s=this.getCurrentPaneHeight(r),o=this.getCurrentPaneHeight(a),l=!i&&r>0?this._currentPaneHeightsInPixels.reduce((function(t,e,i){return i<r?t+e:t}))+this.options.splitterWidth*r:!i&&this.options.collapsible?this.options.splitterWidth:0;!i&&r>0&&this.options.collapsible&&(l+=this.options.splitterWidth);var c=Math.max(e-l,0),h=Math.max(this._currentPaneHeightsInPixels[r]+this._currentPaneHeightsInPixels[a]-c,0),d=s.toString().indexOf("*")>=0,p=a<this._panesCount&&o.toString().indexOf("*")>=0;if(d&&p){if(c+h&&!(parseFloat(s)+parseFloat(o))){var _=0,f=0;if(this.element.children("."+u).each((function(t){t!=r&&t!=a&&(n.getCurrentPaneHeight(t).toString().indexOf("*")>=0?_+=n._currentPaneHeightsInPixels[t]:f+=n._currentPaneHeightsInPixels[t])})),!_){var m=(f-c-h)/f;this.element.children("."+u).each((function(t){t!=r&&t!=a&&(n.getCurrentPaneHeight(t).toString().indexOf("*")<0&&(n._currentPaneHeights[t]=parseFloat(n._currentPaneHeights[t])*m))}))}}var g=(c+h)/(parseFloat(s)+parseFloat(o)||1);this._currentPaneHeights[r]=c/g+"*",this._currentPaneHeights[a]=h/g+"*"}else{var v=0;_=0;if(this.element.children("."+u).each((function(t){if(t!=r&&t!=a){var e=n.getCurrentPaneHeight(t);e.toString().indexOf("*")>=0&&(v+=parseFloat(e),_+=n._currentPaneHeightsInPixels[t])}})),d){var y=(parseFloat(n.getCurrentPaneHeight(r))+v)/(n._currentPaneHeightsInPixels[r]+_)*(c+_)-v;(isNaN(y)||y===1/0)&&(y=1),this._currentPaneHeights[r]=Math.round(100*y)/100+"*"}else this._currentPaneHeights[r]=c;if(a<this._panesCount||!this.options.autoExpandOnCollapsingLastPane)if(p){y=(parseFloat(n.getCurrentPaneHeight(a))+v)/(n._currentPaneHeightsInPixels[a]+_)*(h+_)-v;this._currentPaneHeights[a]=Math.round(100*y)/100+"*"}else this._currentPaneHeights[a]=h}this._recalculateHeights(i),this._trigger("paneHeightsChanged",null,{paneHeightsInPixel:this._currentPaneHeightsInPixels})},_recalculateHeights:function(t){"use strict";var e=window.getComputedStyle(this.element[0]);if("none"!==e.display&&"hidden"!==e.visibility&&"collapse"!==e.visibility){var i,c=this;i=t&&c.options.transitionDuration?function(t){return t.interrupt().transition().duration(c.options.transitionDuration)}:function(t){return t.interrupt().transition(),t};var p=this.element.height();if(this.element.children("."+_).each((function(t,e){p-=n(e).height()})),!(p<=0)){var m=Math.floor(p),g=c._currentPaneHeightsInPixels.slice(0),v=0,y=!1;this.element.children("."+u).each((function(t){var e=c.getCurrentPaneHeight(t);e.toString().indexOf("*")>=0?(v+=parseFloat(e),y=!0):(e=parseFloat(e),c._currentPaneHeightsInPixels[t]=Math.min(e,p),p-=e)})),y&&this.element.children("."+u).each((function(t){var e=c.getCurrentPaneHeight(t);e.toString().indexOf("*")>=0&&(c._currentPaneHeightsInPixels[t]=v?p*parseFloat(e)/v:0)})),c.options.autoExpandOnCollapsingLastPane||(c._currentPaneHeightsInPixels[c._panesCount]=c._currentPaneHeights[c._panesCount]||0);var b=0;c._currentPaneHeightsInPixels.forEach((function(t,e){var i=Math.round(t);b+=i,c._currentPaneHeightsInPixels[e]=i}));for(var T=-1;b!==m&&T!==b;)T=b,c._currentPaneHeightsInPixels.forEach((function(t,e){if(0!==t&&b!==m){var i=b>m?-1:1;c._currentPaneHeightsInPixels[e]+=i,b+=i}}));b!==m&&(c._currentPaneHeightsInPixels[c._currentPaneHeightsInPixels.length-2]=m);var S=!1;c._currentPaneHeightsInPixels.forEach((function(t,e){t!==g[e]&&(S=!0)})),S?(this.element.children("."+u).each((function(t,e){i(r.select(e)).style("height",c._currentPaneHeightsInPixels[t]+"px")})),c._collapsedPanesCount=0,this.element.find("."+d).each((function(e,u){var d,p,_,m=n(u),g=m.nSplitterWidget("instance"),v=m.data(o),y=r.select(m[0]);if(c.options.collapsible&&(p=y.select("."+s),_=E(p.attr("transform")),(d=0===c._currentPaneHeightsInPixels[v])?c._collapsedPanesCount++:c._expandedPaneHeightsInPixels[v]=c._currentPaneHeightsInPixels[v]),!c.options.collapsible||v>0){var b=v-1,T=v,S=c._currentPaneHeightsInPixels.reduce((function(t,e,i){return i<=b?t+e:t}))+c.options.splitterWidth*b;c.options.collapsible&&(S+=c.options.splitterWidth);var P={x:0,y:S};if(t&&c.options.transitionDuration&&(P.transitionDuration=c.options.transitionDuration),g.option({position:P,min:S-c._currentPaneHeightsInPixels[b],max:S+c._currentPaneHeightsInPixels[T],width:c.element.width()}),c.options.collapsible){i(y.select("."+a)).attr("y",S),_.translate[1]=S+c.options.splitterWidth/2;var w=y.select("."+f),x=E(w.attr("transform"));x.translate[1]=S+c.options.splitterWidth/2,i(w).attr("transform",x.toString())}}else g.option({position:{x:0,y:0},width:c.element.width()});c.options.collapsible&&(_.rotate=d?0:45,i(p).attr("transform",_.toString()),p.classed(h,d,l,!d))}))):this.element.find("."+d).each((function(t,e){n(e).nSplitterWidget("option","width",c.element.width())}))}}},_expandOrCollapse:function(t,e){"use strict";var i=e+1;if(r.select(t.parentNode).select("."+h+", ."+l).classed(h))if(i===this._panesCount){for(var s=e,o=this._currentPaneHeightsInPixels[s-1];o<this._expandedPaneHeightsInPixels[e]&&s>1;)s--,o+=this._currentPaneHeightsInPixels[s-1];for(;s<e;)o>0&&this._onSplitterChanged(s,this._currentPaneHeightsInPixels[s-1]-this._currentPaneHeightsInPixels[s-1]/o*this._expandedPaneHeightsInPixels[e],!0),s++;this._onSplitterChanged(i,this._expandedPaneHeightsInPixels[e],!0)}else this._onSplitterChanged(i,this._expandedPaneHeightsInPixels[e],!0);else{if(this.options.autoExpandOnCollapsingLastPane&&this._collapsedPanesCount===this._panesCount-1){s=e===this._panesCount-1?e-1:e+1;this._expandOrCollapse(n("."+d+s+" ."+a)[0],s)}var c=this._expandedPaneHeightsInPixels[e]=this._currentPaneHeightsInPixels[e],u=i===this._panesCount;if(!u){for(s=i;s<this._panesCount&&0===this._currentPaneHeightsInPixels[s];)s++;u=s===this._panesCount}if(u&&(this.options.autoExpandOnCollapsingLastPane||this._collapsedPanesCount<this._panesCount-1))if(0===this._currentPaneHeightsInPixels[e-1]){for(this._onSplitterChanged(i,0,!0);0===this._currentPaneHeightsInPixels[e-1];)e--;this._onSplitterChanged(e,this._currentPaneHeightsInPixels[e-1]+c,!0)}else this._onSplitterChanged(i-1,this._currentPaneHeightsInPixels[e-1]+c,!0);else this._onSplitterChanged(i,0,!0)}}});var T=n.netronic.nSynchronizerWidget;T.PANE_CLASS=u,T.INDEX_DATA=o,t.exports=T},5123:(t,e,i)=>{var n=i(5408),r={resolve:function(t,e,i,r,a){"use strict";var s="."+(e||""),o=new RegExp("["+s+"][^"+s+"]+","g"),l=t.replace(/&/g,"&;").replace(/{{{/g,"&{;");return(l=l.replace(/{{.*?}}/g,(function(t){var e=i,l=(t=t.replace(/&{;/g,"{{{").replace(/&;/g,"&")).substring(2,t.length-2).split(":");if(l.length){var c=l[0];s.indexOf(c.substring(0,1))<0&&(c="."+c);for(var u=c.match(o),h=!0;u.length;){if("object"!=typeof e){e=void 0;break}var d=u.shift();if("."===d.substring(0,1)){var p=d.match(/\[\d+]$/);if(p){var _=p[0].length,f=e[d.substring(1,d.length-_)];e=Array.isArray(f)?f[+p[0].substring(1,_-2)]:void 0}else{var m=d.substring(1);e=m in e?e[m]:e instanceof n?e.data()[m]:void 0}}else e=r(d,e,h);h=!1}if(null!=e)return a&&l.length>1&&("date"===l[1]||e instanceof Date)&&(e=a("date",new Date(e))),e=e?.toString()||"",a&&(e=a("any",e)),e.replace(/&/g,"&;").replace(/{{{/g,"&3;")}return""}))).replace(/&{;/g,"{{").replace(/&3;/g,"{{{").replace(/&;/g,"&")}};t.exports=r},293:(t,e,i)=>{i(2262),i(4506),i(7658);var n=i(9990),r="ntexthelper-wrapping-line",a=function(t){var e=t.getBBox();return{width:e.width,height:e.height}},s={wrapSVGText:function(t){"use strict";t.each((function(){var t,e,i,s,o=void 0,l=void 0,c=n.select(this),u=c.attr("data-maximum-height"),h=c.attr("data-wrap-mode"),d="true"===c.attr("data-show-ellipsis"),p=c.attr("data-text"),_=0,f=c.attr("y")||"0",m=c.attr("x")||"0",g=parseFloat(c.attr("dy")||"0");c.selectAll("tspan").remove();var v=[];v[_]=c.append("tspan").attr("class",r).attr("x",m).attr("y",f).attr("dy",g+"em");var y=void 0;isNaN(+u)||(y=+u);var E=1/0,b=h.indexOf("w")>=0;for(b&&(E=+c.attr("data-inline-width"),isNaN(E)&&(E=1/0),v[_].text(p.at(0)),null!=y&&(o=a(c.node()).height)),t=h.indexOf("n")>=0?c.attr("data-text").split("\n").reverse():[c.attr("data-text")];void 0!==(e=t.pop());)if(b){i=e.split(/\s+/).reverse();for(var T="",S=!1;void 0!==(s=i.pop());){var P=T;if(T+=T.length?" "+s:s,v[_].text(T),i.length&&P.length&&v[_].node().getComputedTextLength()>E&&(T=P,i.push(s),v[_].text(T),S=!0),y&&_&&(void 0===l&&(l=a(c.node()).height-o),o+_*l>y)){if(v[_].remove(),d){let t=v[_-1];var w=t.text(),x=w.length+1;do{do{x--}while(" "===w.at(x-1));t.text(w.substring(0,x)+"…")}while(w.length&&t.node().getComputedTextLength()>E)}break}(S||!i.length&&t.length)&&(v[++_]=c.append("tspan").attr("class",r).attr("x",m).attr("y",f).attr("dy",1.1*_+g+"em"),T="",S=!1)}}else v[_].text(e||" "),t.length&&(v[++_]=c.append("tspan").attr("class",r).attr("x",m).attr("y",f).attr("dy",1.1*_+g+"em"))}))},calculateSVGTextHeight:function(t){"use strict";var e=0;if(t.size()){var i=t.selectAll("tspan");i.size()?i.each((function(){var t=n.select(this);t.datum(t.text()).text("Äg")})).call((function(){e=a(t.node()).height})).each((function(){var t=n.select(this);t.text(t.datum()).datum(null)})):t.datum(t.text()).text("Äg").call((function(){e=a(t.node()).height})).text(t.datum()).datum(null)}return e}};t.exports=s},1024:t=>{var e={registerAppID:function(t,i){return e._registeredLocalizations||(e._registeredLocalizations={}),e._registeredLocalizations[t]={fallbackOnAppID:i,localizedTexts:{}},!0},registerLocalization:function(t,i,n){var r=e._registeredLocalizations[t];return!!r&&(r.localizedTexts[i||"%7f"]=n,!0)},localize:function(t,i,n){var r,a=e._registeredLocalizations[t];if(a){do{var s=a.localizedTexts[n||"%7f"];s?(null==(r=s[i])&&n&&a.localizedTexts["%7f"]&&(r=a.localizedTexts["%7f"][i]),null==r&&(a=a.fallbackOnAppID?e._registeredLocalizations[a.fallbackOnAppID]:void 0)):a=void 0}while(a&&null==r);return null!=r?r:'--- No texts for "'+t+'" (no localization)! ---'}return'--- No text "'+i+'" for "'+t+'" (appID not registered)! ---'}};t.exports=e},7417:(t,e,i)=>{i(7658);var n=i(5549);i(8276);var r=i(6501),a=".ntooltip",s="ntooltip-for-phantom";var o={options:{delay:500,tippyDelay:750,duration:400,closed:void 0,lastTapEvent:void 0,classNames:[]},_create:function(){var t=this;this._data=null,this._parentJQ=void 0,this._containerJQ=void 0,this._shouldFadeOut=!1,this._uniqueID=r.generate(),this._deferredUpdateTimerID=void 0,this._deferredUpdateObj=void 0,this._lastPointerMoveEvent=void 0,this._pointerMoveActiveOnElem=void 0,t._elemsWithTippy=[],window.tippy,n(window).on("pointermove"+a+this._uniqueID,(function(e){t._onPointerMove(e)}))},_destroy:function(){n(window).off("pointermove"+a+this._uniqueID),this._doDisplay(null),this._nodeCreationObserver&&this._nodeCreationObserver.disconnect(),this._elemsWithTippy.forEach((function(t){t._tippy&&(t._tippy.destroy(),delete t._tippy)})),this._elemsWithTippy.length=0},_onPointerMove:function(t){var e=this;if(!1!==e.options.lastTapEvent&&(e._lastPointerMoveEvent=t,e._pointerMoveActiveOnElem)){var i=e._pointerMoveActiveOnElem.getBoundingClientRect();i.left>t.pageX||i.right<t.pageX||i.top>t.pageY||i.bottom<t.pageY?(e._pointerMoveActiveOnElem=void 0,e._data&&e._data.refElem===e._pointerMoveActiveOnElem&&(e._shouldFadeOut=!0,setTimeout((function(){e._shouldFadeOut&&e._doDisplay(null)}),20))):e._data&&e._data.forceRefresh&&e._doDisplay(e._data)}e.options.lastTapEvent=void 0},display:function(t,e,i,r){return window.tippy,t&&(t=n.extend({},t,{positionType:e,referenceY:i,referenceX:r})),this._doDisplay(t)},_doDisplay:function(t,e){var i=this;if(!t&&void 0!==i._deferredUpdateTimerID)return this;void 0!==i._deferredUpdateTimerID&&(clearTimeout(i._deferredUpdateTimerID),i._deferredUpdateTimerID=void 0),i._shouldFadeOut&&i._data&&t&&i._data.refElem==t.refElem&&(i._pointerMoveActiveOnElem=i._data.refElem),i._shouldFadeOut=!1;var r=!0;if(t?i._data?i._data.type!==t.type||t.forceRefresh?r=!1:n.each(i._data,(function(e,i){if(!t[e]||t[e]!=i)return r=!1,!1})):r=!1:(i._data=null,i.options.lastTapEvent=void 0,i._parentJQ&&(i._parentJQ.stop().fadeOut(i.options.duration,(function(){n(this).remove()})),i._parentJQ=void 0,i._containerJQ=void 0,i._visible=!1),this._trigger("closed")),!r){delete t.forceRefresh;var a={x:0,y:0};switch(t.positionType){case c.Top:case c.TopX:a.y=t.referenceY.getBoundingClientRect().top;break;case c.Bottom:case c.BottomX:a.y=t.referenceY.getBoundingClientRect().bottom}switch(t.positionType){case c.Top:case c.Bottom:var o=t.referenceX?t.referenceX.getBoundingClientRect():t.referenceY.getBoundingClientRect();a.x=(o.left+o.right)/2;break;case c.TopX:case c.BottomX:a.x=+t.referenceX}i._data&&i._data.type!=t.type&&(i._parentJQ.stop().fadeOut(i.options.duration,(function(){n(this).remove()})),i._parentJQ=void 0,i._containerJQ=void 0),i._parentJQ?i._parentJQ.show().css("opacity",0):(i._parentJQ=n('<div class="ntooltip-parent"></div>').appendTo("body").css("opacity",0),i._containerJQ=n('<div class="ntooltip"></div>').appendTo(i._parentJQ)),t.forPhantom?i._containerJQ.addClass(s):i._containerJQ.removeClass(s),i._containerJQ.html(t.content);var l=i._containerJQ.outerHeight(),u=i._containerJQ.outerWidth();switch(i._parentJQ.hide().css("opacity",""),a.x-=u/2,t.positionType){case c.Top:case c.TopX:a.y-=10+l;break;case c.Bottom:case c.BottomX:a.y+=10}for(var h=!1;!h;){var d=a.x,p={left:0,top:0,right:n(window).width(),bottom:n(window).height()};if(t.xLimitingParentElement){var _=t.xLimitingParentElement.getBoundingClientRect();p.left=_.left,p.right=_.right}if(t.yLimitingParentElement){_=t.yLimitingParentElement.getBoundingClientRect();p.top=_.top,p.bottom=_.bottom}switch(p.left+=5,p.right-=5,p.top+=5,p.bottom-=5,h=!0,t.positionType){case c.Top:case c.TopX:case c.Bottom:case c.BottomX:a.x<p.left&&(a.x=p.left),a.x+u>p.right&&(a.x=Math.max(p.left,p.right-u),a.x+u>p.right&&t.xLimitingParentElement&&(h=!1,a.x=d,delete t.xLimitingParentElement))}}switch(t.positionType){case c.Top:case c.TopX:if(a.y<p.top){if(void 0!==e&&e.positionType!==t.positionType)return t.positionType=e.positionType,i._doDisplay(t,e);if(void 0===e)return(e={}).positionType=t.positionType,t.positionType=t.positionType===c.Top?c.Bottom:c.BottomX,i._doDisplay(t,e);if(t.yLimitingParentElement)return t.positionType=t.positionType===c.Top?c.Bottom:c.BottomX,delete t.yLimitingParentElement,i._doDisplay(t,e);t.positionType===c.TopX&&(a.y=p.top,a.x="mouse")}break;case c.Bottom:case c.BottomX:if(a.y+l>p.bottom){if(void 0!==e&&e.positionType!==t.positionType)return t.positionType=e.positionType,i._doDisplay(t,e);if(void 0===e)return(e={}).positionType=t.positionType,t.positionType=t.positionType===c.Bottom?c.Top:c.TopX,i._doDisplay(t,e);if(t.yLimitingParentElement)return t.positionType=t.positionType===c.Bottom?c.Top:c.TopX,delete t.yLimitingParentElement,i._doDisplay(t,e);t.positionType===c.BottomX&&(a.y=Math.max(0,p.bottom-l),a.x="mouse")}}i._parentJQ.css("left","mouse"===a.x?0:a.x+"px").css("top",a.y+"px");var f=i._parentJQ;switch(!i._visible||t.type!==i._data.type||i._data.refElem&&t.refElem!==i._data.refElem?window.setTimeout((function(){if(f===i._parentJQ){if("mouse"===a.x){var t=i._lastPointerMoveEvent.clientX;i._parentJQ.css("left",t-p.left>p.right-t?t-u-10:t+10)}i._visible=!0,f.fadeIn(i.options.duration)}}),Math.max(i.options.delay||0,0)):f.css("display","inline").css("opacity",1),i._data=t,t.positionType){case c.Top:case c.TopX:case c.Bottom:case c.BottomX:i._pointerMoveActiveOnElem=i._data.refElem}}return this},initializeDeferredUpdate:function(){var t=this;t._deferredUpdateObj||(t._deferredUpdateObj=n.Deferred());var e=t._deferredUpdateObj;if(t._data)if(t.options.lastTapEvent||t._lastPointerMoveEvent){var i=function(){if(t._deferredUpdateTimerID=void 0,t.options.lastTapEvent){var i=t.options.lastTapEvent,r=document.elementFromPoint(i.center.x,i.center.y);r?e.resolve(r):e.reject(),t._deferredUpdateObj=void 0}else{e.reject(),t._deferredUpdateObj=void 0;var a=n(":hover");if(a.length){t._data&&(t._data.forceRefresh=!0);var s=t._lastPointerMoveEvent;if(s){var o=new PointerEvent("pointermove",{pointerType:s.pointerType,buttons:s.buttons,button:s.button,clientX:s.clientX,clientY:s.clientY,ctrlKey:s.ctrlKey,altKey:s.altKey,shiftKey:s.shiftKey,metaKey:s.metaKey});a[a.length-1].dispatchEvent(o)}}}};void 0!==t._deferredUpdateTimerID?(clearTimeout(t._deferredUpdateTimerID),setTimeout(i,200)):t._data&&setTimeout(i,200)}else t.display(null),e.reject(),t._deferredUpdateObj=void 0;else e.reject(),t._deferredUpdateObj=void 0;return e.promise()},currentData:function(){return this._visible?this._data:null}};n.widget("netronic.nTooltipWidget",o);var l=n.netronic.nTooltipWidget,c=l.PositionType={Top:2,Bottom:3,TopX:6,BottomX:7};t.exports=l},3306:(t,e,i)=>{i(7658);var n=function(){this._undoStack=[],this._redoStack=[]};i(5549).extend(n.prototype,{clear:function(){this._undoStack.length=0,this._redoStack.length=0},pushAction:function(t){this._undoStack.push(t),this._redoStack.length=0},undoAction:function(){var t=this._undoStack.pop();return this._redoStack.push(t),t},redoAction:function(){var t=this._redoStack.pop();return this._undoStack.push(t),t},isUndoPossible:function(){return this._undoStack.length>0},isRedoPossible:function(){return this._redoStack.length>0},getUndoStack:function(){return this._undoStack.slice()},getRedoStack:function(){return this._redoStack.slice()}}),t.exports=n},5162:(t,e,i)=>{var n=i(5549);i(8276);var r=i(8309),a="nwaitscreen-text";n.widget("netronic.nWaitScreenWidget",{options:{text:"Loading..."},_create:function(){"use strict";this._numberOfUsers=0,this._waitScreenContainerJQ=n("<div></div>"),this._waitScreenContainerJQ.addClass("nwaitscreen-container"),this._waitScreenContainerJQ.on("pointerdown pointermove pointerup pointerover pointerout pointerenter pointerleave wheel click ",(function(t){return t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1}));var t=n("<div></div>");t.addClass("nwaitscreen-filler"),this._waitScreenContainerJQ.append(t);var e=n("<div></div>");e.addClass("nwaitscreen-image"),r.isIE||e.addClass("nwaitscreen-image-animation"),this._waitScreenContainerJQ.append(e);var i=n("<div></div>");i.addClass(a),this._waitScreenContainerJQ.append(i)},show:function(){"use strict";var t=this;t._numberOfUsers||(n(t.element).append(t._waitScreenContainerJQ),t._waitScreenContainerJQ.find("."+a).text(t.options.text)),t._numberOfUsers++;var e=new n.Deferred;return requestAnimationFrame((function(){setTimeout((function(){e.resolve()}),50)})),e.promise()},hide:function(){"use strict";var t=this;t._numberOfUsers--,0===t._numberOfUsers&&t._waitScreenContainerJQ.remove();var e=new n.Deferred;return setTimeout((function(){e.resolve()}),50),e.promise()}}),t.exports=n.netronic.nWaitScreenWidget},2072:(t,e,i)=>{i(1703),i(7658);var n=i(5549);i(8276);var r=i(2566),a=i(9497),s=i(1280),o=i(6478),l="nwvcanvas-widget",c="nwvcanvas-cp",u="nwvcanvas-",h="nwvcanvas",d={Left:1,Right:2,Top:3,Bottom:4},p="1",_="2",f="3",m="4";n.widget("netronic.nWorldViewCanvasWidget",{options:{position:d.Bottom,viewRectColor:"#7F0000",redrawFunc:null,onViewRectMovedFunc:null,scaleMaximum:.75},_create:function(){"use strict";var t=this,e=n("<div></div>").attr("tabindex",-1).addClass(c);t.element.attr("transform","scale()").addClass([l,s.PRESS_PAN_EVENT_CLASS_NAME].join(" ")).on("scroll",(function(e){return t._onScroll(e)})).on("pointermove",(function(e){return t._onPointerMove(e)})).append(e),t._autoscrollWidgetInstance=t.element.nAutoscrollWidget({distance:.1,initialDelay:0,hotMargin:20,callback:function(){t._pannedViewRect&&t._onMoveViewRect(t._lastHammerPanMoveEvent)}}).nAutoscrollWidget("instance"),t._eventDispatcher=new s(t.element[0],[s.PRESS_PAN_EVENT_NAME],""),t.element.data(s.HANDLER_FUNCTION_PROPERTY+"",(function(e){try{switch(e.type){case s.PRESS_EVENT_NAME:case s.PAN_EVENT_NAME+"start":if("mouse"===e.pointerType||e.type===s.PRESS_EVENT_NAME){if(t._pannedViewRect=t._checkCursorPositionInViewRect(e.center),!t._pannedViewRect){e[s.CANCEL_PROPERTY]=!0;break}if(t._panStartPoint={x:e.center.x+t._scrollLeft,y:e.center.y+t._scrollTop},o.setCursor(t.element[0],"grabbing"),e.type===s.PRESS_EVENT_NAME)break;t._pannedViewRect&&t.element.nAutoscrollWidget("option",{verticallyActive:!0,horizontallyActive:!0})}case s.PAN_EVENT_NAME+"move":t._lastHammerPanMoveEvent=e,t._onMoveViewRect(e);break;case s.PAN_EVENT_NAME+"end":delete t._lastHammerPanMoveEvent,t._onMoveViewRect(e,!0),t.element.nAutoscrollWidget("option",{verticallyActive:!1,horizontallyActive:!1});break;case s.PAN_EVENT_NAME+"cancel":delete t._pannedViewRect,delete t._panStartPoint,t._onPointerMove(e.srcEvent)}}catch(t){throw new Error("onEventDispatch_worldView: "+t.message)}})),t._scrollLeft=0,t._scrollTop=0,t._xScrollExtentFactor=1,t._yScrollExtentFactor=1,t.createCanvas(),t.createCanvas(),t.createCanvas(),t.createCanvas(),t._resizeSensor=new r(t.element[0],(function(){t._resize()})),t._resize()},destroy:function(){"use strict";this.element.removeClass(l),this.element.nAutoscrollWidget("destroy"),delete this._autoscrollWidgetInstance,this._resizeSensor.detach(),delete this._resizeSensor},_nextCanvasIdentifier:1,_resize:function(){"use strict";this._currentWidth=this.element.outerWidth(),this._currentHeight=this.element.outerHeight(),this.element.find("."+h).attr("width",this._currentWidth+"px").attr("height",this._currentHeight+"px"),this._calculateScale()},_onScroll:function(){var t=this,e=t.element.scrollLeft(),i=t.element.scrollTop();t.element.find("."+h).css({left:e,top:i}),t._scrollLeft=Math.min(Math.floor(e/t._xScrollExtentFactor),Math.max(0,Math.ceil(t._chartWidth*t._scale-t._chartWidthPx-t._currentWidth))),t._scrollTop=Math.min(Math.floor(i/t._yScrollExtentFactor),Math.max(0,Math.ceil(t._chartHeight*t._scale-t._chartHeightPx-t._currentHeight))),t._renderAll(),t._setMoveCursor()},_onPointerMove:function(t){this._lastPointerMovePoint={x:t.pageX,y:t.pageY},this._setMoveCursor()},_setMoveCursor:function(){var t=this;t._pannedViewRect||o.setCursor(t.element[0],t._checkCursorPositionInViewRect(t._lastPointerMovePoint)?"grab":null)},_checkCursorPositionInViewRect:function(t){var e=this;if(e._viewRects&&t){var i,n=e.element[0].getBoundingClientRect(),r={x:t.x-n.left,y:t.y-n.top};return e._viewRects.some((function(t){if(t.isMovable){var n={left:t.left+(t.scrollLeft||0),leftPx:t.leftPx,top:t.top+(t.scrollTop||0),topPx:t.topPx,width:t.width,widthPx:t.widthPx,height:t.height,heightPx:t.heightPx},a=e._transformRect(n);if(a.left<=r.x&&r.x<=a.left+a.width&&a.top<=r.y&&r.y<=a.top+a.height)return i=t,!0}})),i}},_onMoveViewRect:function(t,e){var i=this;if(i.options.onViewRectMovedFunc){var n=Math.max(i._scrollLeft,Math.min(i._currentWidth+i._scrollLeft-i._pannedViewRect.width*i._scale,(i._pannedViewRect.left+(i._pannedViewRect.scrollLeft||0))*i._scale+Math.floor(t.center.x+i._scrollLeft-i._panStartPoint.x))),r=Math.max(i._scrollTop,Math.min(i._currentHeight+i._scrollTop-i._pannedViewRect.height*i._scale,(i._pannedViewRect.top+(i._pannedViewRect.scrollTop||0))*i._scale+Math.floor(t.center.y+i._scrollTop-i._panStartPoint.y)));i.options.onViewRectMovedFunc.call(i,{viewRect:i._pannedViewRect,newLeftTop:{x:n/i._scale,y:r/i._scale}})}e&&(delete i._pannedViewRect,delete i._panStartPoint,o.setCursor(i.element[0],"grab"))},_renderAll:function(){var t=this,e={left:0,top:0,width:Math.max(t._chartWidth,t._currentWidth/t._scale),height:Math.max(t._chartHeight,t._currentHeight/t._scale)};t.clearRect(p,e),t.clearRect(_,e),t.clearRect(f,e),t.options.redrawFunc&&t.options.redrawFunc.call(t,{width:t._chartWidth,height:t._chartHeight}),t._renderViewRects()},_calculateScale:function(){var t=this,e=t._currentWidth-t._chartWidthPx,i=t._currentHeight-t._chartHeightPx,n=Math.min(t.options.scaleMaximum,e/t._chartWidth||0),r=Math.min(t.options.scaleMaximum,i/t._chartHeight||0);t._xScrollExtentFactor=1,t._yScrollExtentFactor=1,t._overflowType="";var s=0;if(n!=r)if(s=a.scrollBarWidth(),n<r){var o=t._viewRects?.reduce(((t,e)=>Math.max(t,e.shouldRemainVisible?e.width:0)),0);t._scale=Math.min(r,e/o||1/0),t._chartWidth*t._scale>e&&(t._scale=Math.min(t.options.scaleMaximum,(i-s)/t._chartHeight||0,e/o||1/0),t._chartWidth*t._scale>e&&(t._overflowType="x",t._xScrollExtentFactor=Math.min(1,1e5/(t._chartWidth*t._scale+t._chartWidthPx)),t.element.css("overflow-x","scroll"),t.element.css("overflow-y","hidden")))}else{var l=t._viewRects?.reduce(((t,e)=>Math.max(t,e.shouldRemainVisible?e.height:0)),0);t._scale=Math.min(n,i/l||1/0),t._chartHeight*t._scale>i&&(t._scale=Math.min(t.options.scaleMaximum,(e-s)/t._chartWidth||0,i/l||1/0),t._chartHeight*t._scale>i&&(t._overflowType="y",t._yScrollExtentFactor=Math.min(1,1e5/(t._chartHeight*t._scale+t._chartHeightPx)),t.element.css("overflow-x","hidden"),t.element.css("overflow-y","scroll")))}else t._scale=n,t.element.css("overflow-x","hidden"),t.element.css("overflow-y","hidden");var u=t._xScrollExtentFactor<1?t._currentWidth:0,h=t._yScrollExtentFactor<1?t._currentHeight:0;t.element.find("."+c).css({width:Math.ceil(t._xScrollExtentFactor*((t._chartWidth-u)*t._scale+t._chartWidthPx)+u)+"px",height:Math.ceil(t._yScrollExtentFactor*((t._chartHeight-h)*t._scale+t._chartHeightPx)+h)+"px"}),t._scrollToViewRects(),t._renderAll()},_scrollToViewRects:function(){var t=this;t._viewRects&&!t._autoscrollWidgetInstance.isActive()&&(void 0!==t._scrollToViewRectsTimoutHandle&&window.clearTimeout(t._scrollToViewRectsTimoutHandle),t._scrollToViewRectsTimoutHandle=window.setTimeout((function(){switch(delete t._scrollToViewRectsTimoutHandle,t._overflowType){case"x":t._viewRects.forEach((function(e){if(e.shouldRemainVisible)if((e.left+e.scrollLeft)*t._scale+(e.leftPx||0)<t._scrollLeft){var i=e.scrollLeft?e.left+e.scrollLeft:0,n=e.scrollLeft&&e.leftPx||0;t.element.scrollLeft(Math.floor(t._xScrollExtentFactor*(i*t._scale+n)))}else(e.left+e.scrollLeft+e.width)*t._scale+(e.leftPx||0)>t._scrollLeft+t._currentWidth&&e.width*t._scale<=t._currentWidth-t._chartWidthPx&&t.element.scrollLeft(Math.ceil(t._xScrollExtentFactor*((e.left+e.scrollLeft+e.width)*t._scale+(e.leftPx||0)-t._currentWidth)))}));break;case"y":t._viewRects.forEach((function(e){e.shouldRemainVisible&&((e.top+e.scrollTop)*t._scale+(e.topPx||0)<t._scrollTop?t.element.scrollTop(Math.floor(t._yScrollExtentFactor*((e.top+e.scrollTop)*t._scale+(e.topPx||0)))):(e.top+e.scrollTop+e.height)*t._scale+(e.topPx||0)>t._scrollTop+t._currentHeight&&e.height*t._scale<=t._currentHeight-t._chartHeightPx&&t.element.scrollTop(Math.ceil(t._yScrollExtentFactor*((e.top+e.scrollTop+e.height)*t._scale+(e.topPx||0)-t._currentHeight))))}))}}),50))},_getCanvasContext:function(t,e){var i=this.element.find("."+u+t)[0].getContext("2d");return e&&Object.keys(e).forEach((function(t){i[t]=e[t]})),i},_transform:function(t,e,i,n,r,a){return{x:Math.floor((t||0)*this._scale)+(i||0)+(n||0)-this._scrollLeft,y:Math.floor((e||0)*this._scale)+(r||0)+(a||0)-this._scrollTop}},_transformRect:function(t){var e=this._transform(t.left,t.top,t.leftPx,void 0,t.topPx,void 0),i=this._transform(t.left+t.width,t.top+t.height,t.leftPx,t.widthPx,t.topPx,t.heightPx);return{left:e.x,top:e.y,width:Math.max(1,i.x-e.x),height:Math.max(1,i.y-e.y)}},_definePath:function(t,e,i){var n,r,a,s,o=this,l=i.x,c=i.y,u=i.xPx,h=i.yPx,d=[],p=Number.MAX_VALUE,_=Number.MIN_VALUE,f=Number.MAX_VALUE,m=Number.MIN_VALUE;e.forEach((function(t){var e=o._transform(t.x+l,t.y+c,u,h);d.push(e),p>t.x&&(p=t.x,n=e.x),_<t.x&&(_=t.x,r=e.x),f>t.y&&(f=t.y,a=e.y),m<t.y&&(m=t.y,s=e.y)})),p<_&&n===r&&e.forEach((function(t,e){t.x===_&&d[e].x++})),f<m&&a===s&&e.forEach((function(t,e){t.y===f&&d[e].y--})),t.beginPath(),d.forEach((function(e,i){i?t.lineTo(e.x,e.y):t.moveTo(e.x,e.y)}))},_renderViewRects:function(){var t=this;t.clearRect(m,{left:t._scrollLeft/t._scale,top:t._scrollTop/t._scale,width:t._currentWidth/t._scale,height:t._currentHeight/t._scale}),t._viewRects&&t._viewRects.forEach((function(e){var i={left:e.left+e.scrollLeft,top:e.top+e.scrollTop,width:e.width,height:e.height,leftPx:e.leftPx,topPx:e.topPx,isVR:!0};t.drawRect(m,{lineWidth:1,strokeStyle:t.options.viewRectColor},i),t.fillRect(m,{globalAlpha:.2,fillStyle:t.options.viewRectColor},i),t._getCanvasContext(m,{globalAlpha:1})}))},updateChartSize:function(t){var e=this;e._chartWidth=t.width,e._chartHeight=t.height,e._chartWidthPx=t.widthPx||0,e._chartHeightPx=t.heightPx||0,e._calculateScale()},updateViewRects:function(t){var e=t&&JSON.stringify(this._viewRect)!==JSON.stringify(t);this._viewRects=t,e&&this._scrollToViewRects(),this._renderViewRects()},createCanvas:function(t){var e=(this._nextCanvasIdentifier++).toString(),i=n("<canvas></canvas>").attr("class",h+" "+u+e),r=this.element.find("."+c);return t?i.prependTo(r):i.appendTo(r),e},drawLine:function(t,e,i){var r,a=this._transform(i.x0,i.y0,i.xPx,i.x0Px,i.yPx,i.y0Px),s=this._transform(i.x1,i.y1,i.xPx,i.x1Px,i.yPx,i.y1Px);e.lineDash&&(r=e.lineDash,delete(e=n.extend({},e)).lineDash);var o=this._getCanvasContext(t,e);o.beginPath(),r&&o.setLineDash(r),o.moveTo((a.x||-.5)+.5,(a.y||-.5)+.5),o.lineTo(s.x+.5,s.y+.5),o.stroke(),r&&o.setLineDash([])},drawPath:function(t,e,i,n){if(Array.isArray(i)){var r=this._getCanvasContext(t,e);this._definePath(r,i,{x:n.x+.5,y:n.y+.5,xPx:n.xPx,yPx:n.yPx}),r.stroke()}},fillPath:function(t,e,i,n){if(Array.isArray(i)){var r=this._getCanvasContext(t,e);this._definePath(r,i,n),r.fill()}},clearRect:function(t,e){var i=this._getCanvasContext(t),n=this._transformRect(e);i.clearRect(n.left,n.top,n.width,n.height)},drawRect:function(t,e,i){var n=this._getCanvasContext(t,e),r=this._transformRect(i);n.strokeRect(r.left+.5,r.top+.5,r.width-1,r.height-1)},fillRect:function(t,e,i){var n=this._getCanvasContext(t,e),r=this._transformRect(i);n.fillRect(r.left,r.top,r.width,r.height)}});var g=t.exports=n.netronic.nWorldViewCanvasWidget;g.Position=d,g.CanvasIdentifier={Content:"1",DateLines:"2",Selection:"3"}},5408:(t,e,i)=>{i(7658);var n=i(2391),r=i(730),a=i(5017),s=i(59),o=i(1980),l=i(7838),c="nWrapperBase",u={construct:function(t,e){"use strict";this.initHierarchy(t,e)},initHierarchy:function(t,e){"use strict";var i=this;if(this._descriptor&&(this.dispose(),delete this._dbgIsDisposed),this.store(t),e){this._registerProperty("_descriptor",e);var n=e.getSubDescriptorsArray();n&&n.length>0&&(this._registerProperty("_childrenDepositories",{}),n.forEach((function(t){var e=t.getPropertyName();if(e){var n=t.getPrimaryKeyNames(),a=t.getPrimaryKeyMustBeUnique(),s=t.getPrimaryKeyManipulationFunc(),o=t.getSharedDepository();i._childrenDepositories[e]=new r(n,a,null,null,o,s,i._getHandleWarningFunc()),t.getEnableRelationshipCache()&&(i._childrenRelationshipCaches||i._registerProperty("_childrenRelationshipCaches",{}),i._childrenRelationshipCaches[e]=new Map)}})),n.forEach((function(e){var n=e.isActive();if(n&&-1!=n){var r=e.getPropertyName();if(r&&t&&e.getClassConstructor()){var a=t[r];e.isArrayProperty()&&!Array.isArray(a)&&(a=[]),a&&(Array.isArray(a)?a.forEach((function(t){i._addChildWithValidation(r,t,e)})):i._addChildWithValidation(r,a,e))}}}))),this._rememberRelationships(t)}},_getHandleWarningFunc:function(){},getRelationshipInfos:function(){if(this._descriptor)return this._descriptor.getRelationshipInfos()},getEnableInheritChangedRelationships:function(){if(this._descriptor)return this._descriptor.getEnableInheritChangedRelationships()},_rememberRelationships:function(t){"use strict";if(t&&!0!==this.getEnableInheritChangedRelationships()){var e=this.getRelationshipInfos();if(null!=e&&!this._relationshipInfosWithPropertyValues){let t=this.structuredCloneArray(e);this._registerProperty("_relationshipInfosWithPropertyValues",t)}this._relationshipInfosWithPropertyValues&&this._relationshipInfosWithPropertyValues.forEach((function(e){a.each(e.primaryKeyInfos,(function(e){var i=e.primaryKeyName;if(s.notIsNullOrEmpty(i)){var n=t[i];void 0===n&&(i=e.compatiblePrimaryKeyName,s.notIsNullOrEmpty(i)&&(n=t[i])),null!=n&&Array.isArray(n)?e.oldValue=n.slice():e.oldValue=n}}))}))}},CRUDUpdate:function(t){"use strict";var e=this;if(this._descriptor){this.store(t);var i=this._descriptor.getSubDescriptorsArray();i&&i.length>0&&i.forEach((function(i){if(i.isActive()){var n=i.getPropertyName();if(n){var r=e._childrenDepositories[n];if(r){var s=t[n];if(s){a.each(s,(function(t,a){var s=void 0,o=i.getPrimaryKey(t,a);null!=o?s=r.getObjectByPrimaryKey(o):r.getArray().some((function(e){if(t===e.data())return s=e,!0})),s?(s=e.updateChild(s,t)).keepAlive=!0:i.getClassConstructor()&&((s=e._addChildWithValidation(n,t,i)).keepAlive=!0)}));var o=[];r.getArray().forEach((function(t){!0===t.keepAlive?delete t.keepAlive:o.push(t)})),r.getPrimaryKeyMustBeUnique()&&!r.getPrimaryKeyNames()&&o.reverse(),o.forEach((function(t){e._removeChildAtLast(n,t,!0)}))}else r.removeAll()}}}})),this._rememberRelationships(t)}},_createChild:function(){},addChild:function(t,e){"use strict";var i=void 0;if(this._descriptor&&t){var n=this._descriptor.getSubDescriptor(t);n&&n.isActive()&&n.getClassConstructor()&&(i=this._addChildWithValidation(t,e,n))}return i},updateChild:function(t,e){"use strict";if(this._descriptor){var i=t.getPropertyName();if(i){var n=this._descriptor.getSubDescriptor(i);if(n&&n.isActive()){var r=t.anyRelationshipChanged(this,e);if(r){if(Array.isArray(r)){let i=!1;if(n.getEnableCycleDetection()&&(i=this.leadsToCycle(e,n,r)),i)return t;n.getEnableRelationshipCache()&&t.removeFromRelationshipCaches(r)}var a=t.handleRelationshipChanged(this,e,r);if(null!=a)return a}if(!t.isDisposed())return t.preUpdateSelf(),t.updateSelf(e),t.postUpdateSelf(),Array.isArray(r)&&n.getEnableRelationshipCache()&&t.addToRelationshipCaches(r),t}}}},detectChangedRelationships:function(t){"use strict";var e=this;if(this._relationshipInfosWithPropertyValues){this._changedRelationshipInfosWithPropertyValues=void 0;var i=!1,n=function(t,n,r){e._changedRelationshipInfosWithPropertyValues||(e._changedRelationshipInfosWithPropertyValues=[]),n.newValue=r,i||(e._changedRelationshipInfosWithPropertyValues.push(e.structuredCloneSingle(t)),i=!0)};return this._relationshipInfosWithPropertyValues.forEach((function(e){i=!1,a.each(e.primaryKeyInfos,(function(i){var r=i.primaryKeyName;if(s.notIsNullOrEmpty(r)){var a=i.oldValue,o=t[r];void 0===o&&(r=i.compatiblePrimaryKeyName,s.notIsNullOrEmpty(r)&&(o=t[r]));var l=Array.isArray(a),c=Array.isArray(o);if(l||c)if(l&&c){if(o.length!=a.length)n(e,i,o);else for(var u=0;u<a.length;u++)if(o[u]!=a[u]){n(e,i,o);break}}else n(e,i,o);else o!=a&&n(e,i,o)}}))})),this._changedRelationshipInfosWithPropertyValues}if(!0===this.getEnableInheritChangedRelationships()&&t&&t.getInheritChangedRelationships&&"function"==typeof t.getInheritChangedRelationships)return t.getInheritChangedRelationships()},anyRelationshipChanged:function(t,e){"use strict";return this._descriptor?this._descriptor.anyRelationshipChanged(t,this,e):this},getInheritChangedRelationships:function(){return this._changedRelationshipInfosWithPropertyValues},structuredCloneSingle:function(t){"use strict";var e={comingFrom:t.comingFrom,relatedTo:t.relatedTo,isMultiRelationship:t.isMultiRelationship,primaryKeyInfos:[]};return t.primaryKeyInfos.forEach((function(t){e.primaryKeyInfos.push({primaryKeyName:t.primaryKeyName,compatiblePrimaryKeyName:t.compatiblePrimaryKeyName,oldValue:t.oldValue,newValue:t.newValue})})),e},structuredCloneArray:function(t){"use strict";var e=this,i=[];return t.forEach((function(t){i.push(e.structuredCloneSingle(t))})),i},handleRelationshipChanged:function(t,e,i){"use strict";return this._descriptor?this._descriptor.handleRelationshipChanged(t,this,e,i):this},removeChild:function(t){"use strict";if(this._descriptor){var e=t.getPropertyName();if(e){var i=this._descriptor.getSubDescriptor(e);i&&i.isActive()&&this._removeChildAtLast(e,t,!0)}}},addOrRemoveChild:function(t,e,i){"use strict";switch(t){case 1:return this.addChild(e,i);case 2:this.removeChild(i)}},_addChildWithValidation:function(t,e,i){"use strict";var n=this;i.incWorkingLevel();let r=function(e,i,r){if(e=n._rawDataValidationOK(e,i,r)){let l=!1;if(i.getEnableCycleDetection()&&(l=n.leadsToCycle(e,i)),!l){var a=n._createChild(e,i,r);if(a){var s=a.handleHierarchyParent(n);if(s){var o=s.getChildrenDepository(t);if(o){if(a.preAddToParent(s),o.add(a))return a.postAddToParent(),i.getEnableRelationshipCache()&&s.addChildToRelationshipCaches(a),a;a.dispose()}}}}}}(e,i);return i.decWorkingLevel(),r},_rawDataValidationOK:function(t,e,i){"use strict";return e?e.dataValidation(this,t,i):t},_removeChildAtLast:function(t,e,i){"use strict";var n=this._childrenDepositories[t];if(n){e.getEnableRelationshipCache()&&e.removeFromRelationshipCaches(),e.preRemoveFromParent();var r=n.remove(e,i);if(r)return e.postRemoveFromParent(),r}},updateSelf:function(t){"use strict";return this.CRUDUpdate(t)},_registerProperty:function(t,e,i){"use strict";return this[t]||(this._propertyInfo=this._propertyInfo||{},this._propertyInfo[t]||(this._propertyInfo[t]=i||{extract:!0,deleteOnExtract:!0,dispose:!0,deleteOnDispose:!0}),this[t]=e),this[t]},getChildrenDepository:function(t){"use strict";if(this._descriptor&&t&&this._childrenDepositories)return this._childrenDepositories[t]},getChildrenArray:function(t){"use strict";var e=this.getChildrenDepository(t);if(e)return e.getArray()},getChildByPrimaryKey:function(t,e){"use strict";if(null!=e){var i=this.getChildrenDepository(t);if(i)return i.getObjectByPrimaryKey(e)}},getChildByData:function(t,e){"use strict";if(this._descriptor){var i=this._descriptor.getSubDescriptor(t);if(i){var n=this._getPrimaryKey(i,e);if(null!=n)return this.getChildByPrimaryKey(t,n)}}},getPrimaryKey:function(){"use strict";return this.__cachedPrimaryKey||(this.__cachedPrimaryKey=this._getPrimaryKey(this._descriptor,this)),this.__cachedPrimaryKey},getPrimaryKeyNames:function(){"use strict";return this._getPrimaryKeyNames(this._descriptor)},_getPrimaryKey:function(t,e){"use strict";var i=this._getPrimaryKeyNames(t);if(i)return o.getPrimaryKeyByPrimaryKeyNames(e,i)},_getPrimaryKeyNames:function(t){"use strict";if(t){var e=t.getPrimaryKeyNames();if(e)return e}},detectExtendedPrimaryKey:function(){"use strict";return this.getPrimaryKey(this._descriptor,this)},dispose:function(t){"use strict";var e=this;if(this._descriptor){var i=this._descriptor.getSubDescriptorsArray();i&&i.length>0&&i.slice().reverse().forEach((function(i){var n=i.getPropertyName();if(n&&e._childrenDepositories){var r=e._childrenDepositories[n];r&&r.dispose(t)}}))}if(!t&&this._propertyInfo){for(var n in this._propertyInfo){var r=this._propertyInfo[n];!0===r.dispose&&!0===r.deleteOnDispose&&delete e[n]}delete this._propertyInfo}this.update(void 0),this._dbgIsDisposed=!0},isDisposed:function(){"use strict";return!!this._dbgIsDisposed},dump:function(t){"use strict";var e=this,i="",n=0;for(n=0;n<t;n++)i+="   ";var r=i+this._dbgClassName+"; "+this.getPrimaryKey()+"\n";if(this._descriptor){var a=this._descriptor.getSubDescriptorsArray();a&&a.length>0&&a.forEach((function(i){var n=i.getPropertyName();if(n&&e._childrenDepositories){var a=e._childrenDepositories[n];a&&a.getArray().forEach((function(e){r+=e.dump(t+1)}))}}))}return r},check:function(t){"use strict";var e=this;if(this._descriptor){var i=this._descriptor.getSubDescriptorsArray();i&&i.length>0&&i.forEach((function(i){var n=i.getPropertyName();if(n&&e._childrenDepositories){var r=e.getChildrenArray(n);r&&r.forEach((function(e){e.check(t)}))}}))}},getDescriptor:function(){"use strict";return this._descriptor},getPropertyName:function(){"use strict";var t=this._descriptor;if(t){var e=t.getPropertyName();if(e)return e}},getHierarchyParent:function(){"use strict";return this._hierarchyParent},preAddToParent:function(t){"use strict";this._hierarchyParent=t},postAddToParent:function(){"use strict";if(this._descriptor)return this._descriptor.handlePostAddToParent(this)},preUpdateSelf:function(){},postUpdateSelf:function(){},preRemoveFromParent:function(){"use strict";if(this._descriptor)return this._descriptor.handlePreRemoveFromParent(this)},postRemoveFromParent:function(){"use strict";delete this._hierarchyParent},handleHierarchyParent:function(t){"use strict";if(this._descriptor)return this._descriptor.handleHierarchyParent(t,this)},getRelationshipInfoTo:function(t){"use strict";if(this._descriptor)return this._descriptor.getRelationshipInfoTo(t)},isPseudo:function(){"use strict";var t=this.data();return!!t&&(t.isPseudo&&"function"==typeof t.isPseudo?t.isPseudo():t.__PSEUDO)},getRelationshipCache:function(t){"use strict";if(this._descriptor&&t&&this._childrenRelationshipCaches)return this._childrenRelationshipCaches[t]},__getOrCreateRelationshipCacheForWrapperAndRelationshipInfo:function(t,e,i,n){"use strict";var r=this;let a=this.__getOrCreateRelationshipCacheRelatedTo(t,i,n);if(a){let t=o.getCombinedPrimaryKeyNamesByRelationshipInfo(i),s=this.__getOrCreateRelationshipCacheForPropertyID(a,t,n);if(s){let t=o.getPrimaryKeyByRelationshipInfo(e,i);if(t){if(Array.isArray(t)){let i;return t.forEach((function(t){let a=r.__getOrCreateRelationshipCacheForPrimaryKey(s,t,e.getPrimaryKeyNames(),n);a&&(i||(i=[]),i.push(a))})),i}{let i=this.__getOrCreateRelationshipCacheForPrimaryKey(s,t,e.getPrimaryKeyNames(),n);if(i)return i}}}}},__getOrCreateRelationshipCacheRelatedTo:function(t,e,i){"use strict";let n=t.get(e.relatedTo);return i||n||(n=new Map,t.set(e.relatedTo,n)),n},__getOrCreateRelationshipCacheForPropertyID:function(t,e,i){"use strict";let n=t.get(e);return i||n||(n=new Map,t.set(e,n)),n},__getOrCreateRelationshipCacheForPrimaryKey:function(t,e,i,n){"use strict";let a=t.get(e);return n||a||(a=new r(i),t.set(e,a)),a},getRelatedObjects:function(t,e,i,n){"use strict";let r;if(this.__relationshipCacheDisabled)return this.getChildrenArray(t);{let s=function(t,e){let i=t.get(e);if(i){let t=i.get(n);if(t&&!t.isEmpty()){let e=t.getArray();r||(r=[]),r=r.concat(e)}}},o=function(t,e){let n=t.get(e);if(n)if(i&&"*"!==i)s(n,i);else for(var r of n.keys())s(n,r)},l=function(t,i){let n=t[i];if(n)if(e&&"*"!==e)o(n,e);else for(var r of n.keys())o(n,r)};if(this._childrenRelationshipCaches)if(t&&"*"!==t)l(this._childrenRelationshipCaches,t);else for(var a of this._childrenRelationshipCaches.keys())l(this._childrenRelationshipCaches,a);return r}},removeRelationshipCaches:function(t,e,i,n){"use strict";if(!this.__relationshipCacheDisabled){let a=function(t,e){t.delete(e)},s=function(t,e){let i=t.get(e);if(i){if(n&&"*"!==n)a(i,n);else for(var r of i.keys())a(i,r);t.delete(e)}},o=function(t,e){let n=t.get(e);if(n){if(i&&"*"!==i)s(n,i);else for(var r of n.keys())s(n,r);t.delete(e)}},l=function(t,i){let n=t.get(i);if(n){if(e&&"*"!==e)o(n,e);else for(var r of n.keys())o(n,r);t.delete(i)}};if(this._childrenRelationshipCaches)if(t&&"*"!==t)l(this._childrenRelationshipCaches,t);else for(var r of this._childrenRelationshipCaches.keys())l(this._childrenRelationshipCaches,r)}},getEnableRelationshipCache:function(){"use strict";if(this._descriptor)return this._descriptor.getEnableRelationshipCache()},addToRelationshipCaches:function(t){"use strict";let e=this.getHierarchyParent();e&&e.addChildToRelationshipCaches(this,t)},addChildToRelationshipCaches:function(t,e){"use strict";var i=this;if(!this.__relationshipCacheDisabled){let n=t.getPropertyName(),r=this.getRelationshipCache(n);if(r&&(e=e||t.getRelationshipInfos()))return e.forEach((function(e){e.comingFrom===n&&i.__addRelatedObject(r,t,e)})),!0}return!1},__addRelatedObject:function(t,e,i){"use strict";if(o.allEssentialPrimaryKeysAvailable(e,i,this._getHandleWarningFunc())){var n=this.__getOrCreateRelationshipCacheForWrapperAndRelationshipInfo(t,e,i);n&&a.each(n,(function(t){t.add(e)}))}},removeFromRelationshipCaches:function(t){"use strict";let e=this.getHierarchyParent();e&&e.removeChildFromRelationshipCaches(this,t)},removeChildFromRelationshipCaches:function(t,e){"use strict";var i=this;if(!this.__relationshipCacheDisabled){let n=t.getPropertyName(),r=this.getRelationshipCache(n);if(r&&(e=e||t.getRelationshipInfos()))return e.forEach((function(e){e.comingFrom===n&&i.__removeRelatedObject(r,t,e)})),!0}return!1},__removeRelatedObject:function(t,e,i){"use strict";var n=this;let r=this.__getOrCreateRelationshipCacheRelatedTo(t,i,!0);if(r){let l=o.getCombinedPrimaryKeyNamesByRelationshipInfo(i),c=this.__getOrCreateRelationshipCacheForPropertyID(r,l,!0);if(c){let u=o.getPrimaryKeyByRelationshipInfo(e,i);if(u){var s=e.getPrimaryKeyNames();a.each(u,(function(a){let o=n.__getOrCreateRelationshipCacheForPrimaryKey(c,a,s,!0);o&&(o.remove(e),o.isEmpty()&&(c.delete(a),c.size||(r.delete(l),r.size||t.delete(i.relatedTo))))}))}}}},getRelatedObjectsWithIndirection:function(t,e,i){"use strict";var n=this,r=i.getPrimaryKey(),s=this.getRelatedObjects(t,e,"*",r);if(!s){var o=this.getRelatedObjects(e,e,"*",r);o&&a.each(o,(function(i){var r=n.getRelatedObjectsWithIndirection(t,e,i);r&&(s=s?[...new Set([...s,...r])]:r)}))}return s},leadsToCycle:function(t,e,i){"use strict";var n=this;let r=e.getPropertyName(),s=e.getPrimaryKeyNames();return i=i||e.getRelationshipInfos(),a.each(i,(function(i){if(i.relatedTo===r){let r=n._leadsToCycle(t,s,i);return r&&n.handleCycleDetected(t,e,i),r}}),!0)},_leadsToCycle:function(t,e,i){"use strict";if(e&&i){let n=o.getPrimaryKeyByPrimaryKeyNames(t,e),r=o.getPrimaryKeyByRelationshipInfo(t,i);for(;r;){if(r===n)return!0;let t=this.getChildByPrimaryKey(i.relatedTo,r);r=t?o.getPrimaryKeyByRelationshipInfo(t,i):void 0}}return!1},handleCycleDetected:function(t,e,i){"use strict";e&&e.handleCycleDetected(t,i)}},h={};n.extendClass(h,c,l,u),t.exports=h[c]},4966:(t,e,i)=>{var n=i(5066);if(Object.keys(n).forEach((function(t){e[t]=n[t]})),e.nD3MigrationHelper=i(2296),e.nAutoscrollWidget=i(3595),e.nClass=i(1892),e.nClassFactory=i(2391),e.nConverter=i(4262),e.nCoordinateLimiter=i(131),e.nCursorHelper=i(6478),e.nDataDescriptor=i(1744),e.nDateHelper=i(6807),e.nDebugHelper=i(4178),e.nDepository=i(730),e.nDOMHelper=i(3965),e.nDroppableWidget=i(7433),e.nEventDispatcher=i(1280),e.nFileSaver={saveAs:i(9544)},e.nFunctionDispatcher=i(5017),e.nGetURLParameter=i(1197),e.nImageHelper=i(5252),e.nLayoutGrid=i(465),e.nLayoutDirectedObject=i(5933),e.nLayoutObject=i(3603),e.nLayoutStack=i(8059),e.nLayoutStripe=i(9109),e.nLocale=i(782),e.nLocales=i(501),e.nOptionsCollector=i(3199),e.nOSDetector=i(8309),e.nOverlayArea=i(9315),e.nPolyfills=i(5114),e.nPopup=i(494),e.nPrimaryKeyManager=i(1980),e.nPropertyComposer=i(9093),e.nRawDataHolder=i(7838),e.nRectManager=i(49),e.nResizeSensor=i(2566),e.nRibbonWidget=i(9231),e.nScrollBarWidthDetector=i(9497),e.nSortedDatesWithValuesList=i(91),e.nSplitterWidget=i(1073),e.nStringHelper=i(59),e.nStructuralDataDescriptor=i(2168),e.nStructuralParentDataDescriptor=i(5838),e.nStructuralRelationshipDataDescriptor=i(345),e.nStructureType=i(4860),e.nSubsequentIDGenerator=i(6501),e.nSVGSymbolBox=i(3895),e.nSVGTextBox=i(5712),e.nSVGTransformableBox=i(6547),e.nSynchronizerWidget=i(9989),e.nTemplateResolver=i(5123),e.nTextHelper=i(293),e.nTextLocalizer=i(1024),e.nTooltipWidget=i(7417),e.nUndoManager=i(3306),e.nWaitScreenWidget=i(5162),e.nWorldViewCanvasWidget=i(2072),e.nWrapperBase=i(5408),self){var r=self.netronic=self.netronic||{};Object.keys(e).forEach((function(t){r[t]=e[t]})),self.Class=e.nClass}},9662:(t,e,i)=>{var n=i(614),r=i(6330),a=TypeError;t.exports=function(t){if(n(t))return t;throw a(r(t)+" is not a function")}},6077:(t,e,i)=>{var n=i(614),r=String,a=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw a("Can't set "+r(t)+" as a prototype")}},1223:(t,e,i)=>{var n=i(5112),r=i(30),a=i(3070).f,s=n("unscopables"),o=Array.prototype;null==o[s]&&a(o,s,{configurable:!0,value:r(null)}),t.exports=function(t){o[s][t]=!0}},5787:(t,e,i)=>{var n=i(7976),r=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw r("Incorrect invocation")}},9670:(t,e,i)=>{var n=i(111),r=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw a(r(t)+" is not an object")}},1318:(t,e,i)=>{var n=i(5656),r=i(1400),a=i(6244),s=function(t){return function(e,i,s){var o,l=n(e),c=a(l),u=r(s,c);if(t&&i!=i){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:(t,e,i)=>{"use strict";var n=i(9781),r=i(3157),a=TypeError,s=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(r(t)&&!s(t,"length").writable)throw a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:(t,e,i)=>{var n=i(1702),r=n({}.toString),a=n("".slice);t.exports=function(t){return a(r(t),8,-1)}},648:(t,e,i)=>{var n=i(1694),r=i(614),a=i(4326),s=i(5112)("toStringTag"),o=Object,l="Arguments"==a(function(){return arguments}());t.exports=n?a:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=o(t),s))?i:l?a(e):"Object"==(n=a(e))&&r(e.callee)?"Arguments":n}},9920:(t,e,i)=>{var n=i(2597),r=i(3887),a=i(1236),s=i(3070);t.exports=function(t,e,i){for(var o=r(e),l=s.f,c=a.f,u=0;u<o.length;u++){var h=o[u];n(t,h)||i&&n(i,h)||l(t,h,c(e,h))}}},8880:(t,e,i)=>{var n=i(9781),r=i(3070),a=i(9114);t.exports=n?function(t,e,i){return r.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,i)=>{var n=i(614),r=i(3070),a=i(6339),s=i(3072);t.exports=function(t,e,i,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:e;if(n(i)&&a(i,c,o),o.global)l?t[e]=i:s(e,i);else{try{o.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},3072:(t,e,i)=>{var n=i(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},9781:(t,e,i)=>{var n=i(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,i=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:i}},317:(t,e,i)=>{var n=i(7854),r=i(111),a=n.document,s=r(a)&&r(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},3678:t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:(t,e,i)=>{var n=i(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,i)=>{var n,r,a=i(7854),s=i(8113),o=a.process,l=a.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(r=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(r=+n[1]),t.exports=r},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,i)=>{var n=i(1702),r=Error,a=n("".replace),s=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)for(;e--;)t=a(t,o,"");return t}},2914:(t,e,i)=>{var n=i(7293),r=i(9114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},2109:(t,e,i)=>{var n=i(7854),r=i(1236).f,a=i(8880),s=i(8052),o=i(3072),l=i(9920),c=i(4705);t.exports=function(t,e){var i,u,h,d,p,_=t.target,f=t.global,m=t.stat;if(i=f?n:m?n[_]||o(_,{}):(n[_]||{}).prototype)for(u in e){if(d=e[u],h=t.dontCallGetSet?(p=r(i,u))&&p.value:i[u],!c(f?u:_+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(t.sham||h&&h.sham)&&a(d,"sham",!0),s(i,u,d,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,i)=>{var n=i(4374),r=Function.prototype,a=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(a):function(){return s.apply(a,arguments)})},4374:(t,e,i)=>{var n=i(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,i)=>{var n=i(4374),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},6530:(t,e,i)=>{var n=i(9781),r=i(2597),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,o=r(a,"name"),l=o&&"something"===function(){}.name,c=o&&(!n||n&&s(a,"name").configurable);t.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},1702:(t,e,i)=>{var n=i(4374),r=Function.prototype,a=r.call,s=n&&r.bind.bind(a,a);t.exports=n?s:function(t){return function(){return a.apply(t,arguments)}}},5005:(t,e,i)=>{var n=i(7854),r=i(614),a=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t]):n[t]&&n[t][e]}},8173:(t,e,i)=>{var n=i(9662),r=i(8554);t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},7854:(t,e,i)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:(t,e,i)=>{var n=i(1702),r=i(7908),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(r(t),e)}},3501:t=>{t.exports={}},490:(t,e,i)=>{var n=i(5005);t.exports=n("document","documentElement")},4664:(t,e,i)=>{var n=i(9781),r=i(7293),a=i(317);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var n=i(1702),r=i(7293),a=i(4326),s=Object,o=n("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?o(t,""):s(t)}:s},9587:(t,e,i)=>{var n=i(614),r=i(111),a=i(7674);t.exports=function(t,e,i){var s,o;return a&&n(s=e.constructor)&&s!==i&&r(o=s.prototype)&&o!==i.prototype&&a(t,o),t}},2788:(t,e,i)=>{var n=i(1702),r=i(614),a=i(5465),s=n(Function.toString);r(a.inspectSource)||(a.inspectSource=function(t){return s(t)}),t.exports=a.inspectSource},8340:(t,e,i)=>{var n=i(111),r=i(8880);t.exports=function(t,e){n(e)&&"cause"in e&&r(t,"cause",e.cause)}},9909:(t,e,i)=>{var n,r,a,s=i(4811),o=i(7854),l=i(111),c=i(8880),u=i(2597),h=i(5465),d=i(6200),p=i(3501),_="Object already initialized",f=o.TypeError,m=o.WeakMap;if(s||h.state){var g=h.state||(h.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,n=function(t,e){if(g.has(t))throw f(_);return e.facade=t,g.set(t,e),e},r=function(t){return g.get(t)||{}},a=function(t){return g.has(t)}}else{var v=d("state");p[v]=!0,n=function(t,e){if(u(t,v))throw f(_);return e.facade=t,c(t,v,e),e},r=function(t){return u(t,v)?t[v]:{}},a=function(t){return u(t,v)}}t.exports={set:n,get:r,has:a,enforce:function(t){return a(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw f("Incompatible receiver, "+t+" required");return i}}}},3157:(t,e,i)=>{var n=i(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:(t,e,i)=>{var n=i(4154),r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},4705:(t,e,i)=>{var n=i(7293),r=i(614),a=/#|\.prototype\./,s=function(t,e){var i=l[o(t)];return i==u||i!=c&&(r(e)?n(e):!!e)},o=s.normalize=function(t){return String(t).replace(a,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,i)=>{var n=i(614),r=i(4154),a=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===a}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:t=>{t.exports=!1},2190:(t,e,i)=>{var n=i(5005),r=i(614),a=i(7976),s=i(3307),o=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&a(e.prototype,o(t))}},6244:(t,e,i)=>{var n=i(7466);t.exports=function(t){return n(t.length)}},6339:(t,e,i)=>{var n=i(7293),r=i(614),a=i(2597),s=i(9781),o=i(6530).CONFIGURABLE,l=i(2788),c=i(9909),u=c.enforce,h=c.get,d=Object.defineProperty,p=s&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),_=String(String).split("String"),f=t.exports=function(t,e,i){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!a(t,"name")||o&&t.name!==e)&&(s?d(t,"name",{value:e,configurable:!0}):t.name=e),p&&i&&a(i,"arity")&&t.length!==i.arity&&d(t,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?s&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=u(t);return a(n,"source")||(n.source=_.join("string"==typeof e?e:"")),t};Function.prototype.toString=f((function(){return r(this)&&h(this).source||l(this)}),"toString")},4758:t=>{var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?i:e)(n)}},6277:(t,e,i)=>{var n=i(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},30:(t,e,i)=>{var n,r=i(9670),a=i(6048),s=i(748),o=i(3501),l=i(490),c=i(317),u=i(6200),h="prototype",d="script",p=u("IE_PROTO"),_=function(){},f=function(t){return"<"+d+">"+t+"</"+d+">"},m=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;g="undefined"!=typeof document?document.domain&&n?m(n):(e=c("iframe"),i="java"+d+":",e.style.display="none",l.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):m(n);for(var r=s.length;r--;)delete g[h][s[r]];return g()};o[p]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(_[h]=r(t),i=new _,_[h]=null,i[p]=t):i=g(),void 0===e?i:a.f(i,e)}},6048:(t,e,i)=>{var n=i(9781),r=i(3353),a=i(3070),s=i(9670),o=i(5656),l=i(1956);e.f=n&&!r?Object.defineProperties:function(t,e){s(t);for(var i,n=o(e),r=l(e),c=r.length,u=0;c>u;)a.f(t,i=r[u++],n[i]);return t}},3070:(t,e,i)=>{var n=i(9781),r=i(4664),a=i(3353),s=i(9670),o=i(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=n?a?function(t,e,i){if(s(t),e=o(e),s(i),"function"==typeof t&&"prototype"===e&&"value"in i&&p in i&&!i[p]){var n=u(t,e);n&&n[p]&&(t[e]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:h in i?i[h]:n[h],writable:!1})}return c(t,e,i)}:c:function(t,e,i){if(s(t),e=o(e),s(i),r)try{return c(t,e,i)}catch(t){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var n=i(9781),r=i(6916),a=i(5296),s=i(9114),o=i(5656),l=i(4948),c=i(2597),u=i(4664),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=o(t),e=l(e),u)try{return h(t,e)}catch(t){}if(c(t,e))return s(!r(a.f,t,e),t[e])}},8006:(t,e,i)=>{var n=i(6324),r=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,i)=>{var n=i(1702);t.exports=n({}.isPrototypeOf)},6324:(t,e,i)=>{var n=i(1702),r=i(2597),a=i(5656),s=i(1318).indexOf,o=i(3501),l=n([].push);t.exports=function(t,e){var i,n=a(t),c=0,u=[];for(i in n)!r(o,i)&&r(n,i)&&l(u,i);for(;e.length>c;)r(n,i=e[c++])&&(~s(u,i)||l(u,i));return u}},1956:(t,e,i)=>{var n=i(6324),r=i(748);t.exports=Object.keys||function(t){return n(t,r)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},7674:(t,e,i)=>{var n=i(1702),r=i(9670),a=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return r(i),a(n),e?t(i,n):i.__proto__=n,i}}():void 0)},2140:(t,e,i)=>{var n=i(6916),r=i(614),a=i(111),s=TypeError;t.exports=function(t,e){var i,o;if("string"===e&&r(i=t.toString)&&!a(o=n(i,t)))return o;if(r(i=t.valueOf)&&!a(o=n(i,t)))return o;if("string"!==e&&r(i=t.toString)&&!a(o=n(i,t)))return o;throw s("Can't convert object to primitive value")}},3887:(t,e,i)=>{var n=i(5005),r=i(1702),a=i(8006),s=i(5181),o=i(9670),l=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(o(t)),i=s.f;return i?l(e,i(t)):e}},2626:(t,e,i)=>{var n=i(3070).f;t.exports=function(t,e,i){i in t||n(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}},4488:(t,e,i)=>{var n=i(8554),r=TypeError;t.exports=function(t){if(n(t))throw r("Can't call method on "+t);return t}},6200:(t,e,i)=>{var n=i(2309),r=i(9711),a=n("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},5465:(t,e,i)=>{var n=i(7854),r=i(3072),a="__core-js_shared__",s=n[a]||r(a,{});t.exports=s},2309:(t,e,i)=>{var n=i(1913),r=i(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,i)=>{var n=i(7392),r=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(t,e,i)=>{var n=i(9303),r=Math.max,a=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):a(i,e)}},5656:(t,e,i)=>{var n=i(8361),r=i(4488);t.exports=function(t){return n(r(t))}},9303:(t,e,i)=>{var n=i(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},7466:(t,e,i)=>{var n=i(9303),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},7908:(t,e,i)=>{var n=i(4488),r=Object;t.exports=function(t){return r(n(t))}},7593:(t,e,i)=>{var n=i(6916),r=i(111),a=i(2190),s=i(8173),o=i(2140),l=i(5112),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||a(t))return t;var i,l=s(t,u);if(l){if(void 0===e&&(e="default"),i=n(l,t,e),!r(i)||a(i))return i;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},4948:(t,e,i)=>{var n=i(7593),r=i(2190);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},1694:(t,e,i)=>{var n={};n[i(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},1340:(t,e,i)=>{var n=i(648),r=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,i)=>{var n=i(1702),r=0,a=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+a,36)}},3307:(t,e,i)=>{var n=i(6293);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,i)=>{var n=i(9781),r=i(7293);t.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,i)=>{var n=i(7854),r=i(614),a=n.WeakMap;t.exports=r(a)&&/native code/.test(String(a))},5112:(t,e,i)=>{var n=i(7854),r=i(2309),a=i(2597),s=i(9711),o=i(6293),l=i(3307),c=r("wks"),u=n.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||s;t.exports=function(t){if(!a(c,t)||!o&&"string"!=typeof c[t]){var e="Symbol."+t;o&&a(u,t)?c[t]=u[t]:c[t]=l&&h?h(e):d(e)}return c[t]}},9191:(t,e,i)=>{"use strict";var n=i(5005),r=i(2597),a=i(8880),s=i(7976),o=i(7674),l=i(9920),c=i(2626),u=i(9587),h=i(6277),d=i(8340),p=i(1060),_=i(2914),f=i(9781),m=i(1913);t.exports=function(t,e,i,g){var v="stackTraceLimit",y=g?2:1,E=t.split("."),b=E[E.length-1],T=n.apply(null,E);if(T){var S=T.prototype;if(!m&&r(S,"cause")&&delete S.cause,!i)return T;var P=n("Error"),w=e((function(t,e){var i=h(g?e:t,void 0),n=g?new T(t):new T;return void 0!==i&&a(n,"message",i),_&&a(n,"stack",p(n.stack,2)),this&&s(S,this)&&u(n,this,w),arguments.length>y&&d(n,arguments[y]),n}));if(w.prototype=S,"Error"!==b?o?o(w,P):l(w,P,{name:!0}):f&&v in T&&(c(w,T,v),c(w,T,"prepareStackTrace")),l(w,T),!m)try{S.name!==b&&a(S,"name",b),S.constructor=w}catch(t){}return w}}},2262:(t,e,i)=>{"use strict";var n=i(2109),r=i(7908),a=i(6244),s=i(9303),o=i(1223);n({target:"Array",proto:!0},{at:function(t){var e=r(this),i=a(e),n=s(t),o=n>=0?n:i+n;return o<0||o>=i?void 0:e[o]}}),o("at")},6699:(t,e,i)=>{"use strict";var n=i(2109),r=i(1318).includes,a=i(7293),s=i(1223);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},7658:(t,e,i)=>{"use strict";var n=i(2109),r=i(7908),a=i(6244),s=i(3658),o=i(7207),l=i(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(t){var e=r(this),i=a(e),n=arguments.length;o(i+n);for(var l=0;l<n;l++)e[i]=arguments[l],i++;return s(e,i),i}})},1703:(t,e,i)=>{var n=i(2109),r=i(7854),a=i(2104),s=i(9191),o="WebAssembly",l=r[o],c=7!==Error("e",{cause:7}).cause,u=function(t,e){var i={};i[t]=s(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},i)},h=function(t,e){if(l&&l[t]){var i={};i[t]=s(o+"."+t,e,c),n({target:o,stat:!0,constructor:!0,arity:1,forced:c},i)}};u("Error",(function(t){return function(e){return a(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return a(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return a(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return a(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return a(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return a(t,this,arguments)}})),u("URIError",(function(t){return function(e){return a(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return a(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return a(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return a(t,this,arguments)}}))},4506:(t,e,i)=>{"use strict";var n=i(2109),r=i(1702),a=i(4488),s=i(9303),o=i(1340),l=i(7293),c=r("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var e=o(a(this)),i=e.length,n=s(t),r=n>=0?n:i+n;return r<0||r>=i?void 0:c(e,r)}})},2801:(t,e,i)=>{"use strict";var n=i(2109),r=i(7854),a=i(5005),s=i(9114),o=i(3070).f,l=i(2597),c=i(5787),u=i(9587),h=i(6277),d=i(3678),p=i(1060),_=i(9781),f=i(1913),m="DOMException",g=a("Error"),v=a(m),y=function(){c(this,E);var t=arguments.length,e=h(t<1?void 0:arguments[0]),i=h(t<2?void 0:arguments[1],"Error"),n=new v(e,i),r=g(e);return r.name=m,o(n,"stack",s(1,p(r.stack,1))),u(n,this,y),n},E=y.prototype=v.prototype,b="stack"in g(m),T="stack"in new v(1,2),S=v&&_&&Object.getOwnPropertyDescriptor(r,m),P=!(!S||S.writable&&S.configurable),w=b&&!P&&!T;n({global:!0,constructor:!0,forced:f||w},{DOMException:w?y:v});var x=a(m),C=x.prototype;if(C.constructor!==x)for(var M in f||o(C,"constructor",s(1,x)),d)if(l(d,M)){var A=d[M],D=A.s;l(x,D)||o(x,D,s(6,A.c))}},9843:(t,e,i)=>{t.exports={ResizeSensor:i(6087),ElementQueries:i(6456)}},6456:function(t,e,i){"use strict";var n,r,a;"undefined"!=typeof window&&window,r=[i(6087)],void 0===(a="function"==typeof(n=function(t){var e=function(){var e,i={},n=[];function r(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function a(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}function s(t,e){var i=e.split(/\d/),n=i[i.length-1];switch(e=parseFloat(e),n){case"px":default:return e;case"em":return e*r(t);case"rem":return e*r();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var a=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===n?"min":"max"])(a,s)}}function o(t,e){var n,r,o,l,c,u,h,d;this.element=t;var p=["min-width","min-height","max-width","max-height"];this.call=function(){for(n in o=a(this.element),u={},i[e])i[e].hasOwnProperty(n)&&(r=i[e][n],l=s(this.element,r.value),c="width"===r.property?o.width:o.height,d=r.mode+"-"+r.property,h="","min"===r.mode&&c>=l&&(h+=r.value),"max"===r.mode&&c<=l&&(h+=r.value),u[d]||(u[d]=""),h&&-1===(" "+u[d]+" ").indexOf(" "+h+" ")&&(u[d]+=" "+h));for(var t in p)p.hasOwnProperty(t)&&(u[p[t]]?this.element.setAttribute(p[t],u[p[t]].substr(1)):this.element.removeAttribute(p[t]))}}function l(e,i){e.elementQueriesSetupInformation||(e.elementQueriesSetupInformation=new o(e,i)),e.elementQueriesSensor||(e.elementQueriesSensor=new t(e,(function(){e.elementQueriesSetupInformation.call()})))}function c(t,r,a,s){if(void 0===i[t]){i[t]=[];var o=n.length;e.innerHTML+="\n"+t+" {animation: 0.1s element-queries;}",e.innerHTML+="\n"+t+" > .resize-sensor {min-width: "+o+"px;}",n.push(t)}i[t].push({mode:r,property:a,value:s})}function u(t){var e;if(document.querySelectorAll&&(e=t?t.querySelectorAll.bind(t):document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function h(t){var e=u(t);for(var n in i)if(i.hasOwnProperty(n))for(var r=e(n,t),a=0,s=r.length;a<s;a++)l(r[a],n)}function d(e){var i=[],n=[],r=[],a=0,s=-1,o=[];for(var l in e.children)if(e.children.hasOwnProperty(l)&&e.children[l].tagName&&"img"===e.children[l].tagName.toLowerCase()){i.push(e.children[l]);var c=e.children[l].getAttribute("min-width")||e.children[l].getAttribute("data-min-width"),u=e.children[l].getAttribute("data-src")||e.children[l].getAttribute("url");r.push(u);var h={minWidth:c};n.push(h),c?e.children[l].style.display="none":(a=i.length-1,e.children[l].style.display="block")}function d(){var t,l=!1;for(t in i)i.hasOwnProperty(t)&&n[t].minWidth&&e.offsetWidth>n[t].minWidth&&(l=t);if(l||(l=a),s!==l)if(o[l])i[s].style.display="none",i[l].style.display="block",s=l;else{var c=new Image;c.onload=function(){i[l].src=r[l],i[s].style.display="none",i[l].style.display="block",o[l]=!0,s=l},c.src=r[l]}else i[l].src=r[l]}s=a,e.resizeSensorInstance=new t(e,d),d()}function p(){for(var t=u()("[data-responsive-image],[responsive-image]"),e=0,i=t.length;e<i;e++)d(t[e])}var _=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,f=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function m(t){var e,i,n,r;for(t=t.replace(/'/g,'"');null!==(e=_.exec(t));)for(i=e[1]+e[3],n=e[2];null!==(r=f.exec(n));)c(i,r[1],r[2],r[3])}function g(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||m(t);else for(var i=0,n=t.length;i<n;i++)1===t[i].type?-1!==(e=t[i].selectorText||t[i].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?m(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||m(e):4===t[i].type?g(t[i].cssRules||t[i].rules):3===t[i].type&&t[i].styleSheet.hasOwnProperty("cssRules")&&g(t[i].styleSheet.cssRules)}var v=!1;this.init=function(){var i="animationstart";void 0!==document.documentElement.style.webkitAnimationName?i="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?i="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(i="oanimationstart"),document.body.addEventListener(i,(function(e){var i=e.target,r=i&&window.getComputedStyle(i,null),a=r&&r.getPropertyValue("animation-name");if(a&&-1!==a.indexOf("element-queries")){i.elementQueriesSensor=new t(i,(function(){i.elementQueriesSetupInformation&&i.elementQueriesSetupInformation.call()}));var s=window.getComputedStyle(i.resizeSensor,null).getPropertyValue("min-width");s=parseInt(s.replace("px","")),l(e.target,n[s])}})),v||((e=document.createElement("style")).type="text/css",e.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",e.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(e),v=!0);for(var r=0,a=document.styleSheets.length;r<a;r++)try{document.styleSheets[r].href&&document.styleSheets[r].href.indexOf("file://"),g(document.styleSheets[r].cssRules||document.styleSheets[r].rules||document.styleSheets[r].cssText)}catch(t){}p()},this.findElementQueriesElements=function(t){h(t)},this.update=function(){this.init()}};e.update=function(){e.instance.update()},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensorInstance&&(t.resizeSensorInstance.detach(),delete t.resizeSensorInstance)},e.init=function(){e.instance||(e.instance=new e),e.instance.init()};var i=function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))}),10);else window.onload=t};return e.findElementQueriesElements=function(t){e.instance.findElementQueriesElements(t)},e.listen=function(){i(e.init)},e})?n.apply(e,r):n)||(t.exports=a)},6087:function(t,e,i){"use strict";var n,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(n=function(){if("undefined"==typeof window)return null;var t="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)},i=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||function(e){t.clearTimeout(e)};function n(t,e){var i=Object.prototype.toString.call(t),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,r=0,a=t.length;if(n)for(;r<a;r++)e(t[r]);else e(t)}function r(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}function a(t,e){Object.keys(e).forEach((function(i){t.style[i]=e[i]}))}var s=function(t,o){var l=0;function c(){var t,e,i=[];this.add=function(t){i.push(t)},this.call=function(n){for(t=0,e=i.length;t<e;t++)i[t].call(this,n)},this.remove=function(n){var r=[];for(t=0,e=i.length;t<e;t++)i[t]!==n&&r.push(i[t]);i=r},this.length=function(){return i.length}}function u(t,i){if(t)if(t.resizedAttached)t.resizedAttached.add(i);else{t.resizedAttached=new c,t.resizedAttached.add(i),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var n={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};a(t.resizeSensor,n);var o=document.createElement("div");o.className="resize-sensor-expand",a(o,n);var u=document.createElement("div");a(u,s),o.appendChild(u);var h=document.createElement("div");h.className="resize-sensor-shrink",a(h,n);var d=document.createElement("div");a(d,s),a(d,{width:"200%",height:"200%"}),h.appendChild(d),t.resizeSensor.appendChild(o),t.resizeSensor.appendChild(h),t.appendChild(t.resizeSensor);var p=window.getComputedStyle(t),_=p?p.getPropertyValue("position"):null;"absolute"!==_&&"relative"!==_&&"fixed"!==_&&"sticky"!==_&&(t.style.position="relative");var f=!1,m=0,g=r(t),v=0,y=0,E=!0;l=0;var b=function(){var e=t.offsetWidth,i=t.offsetHeight;u.style.width=e+10+"px",u.style.height=i+10+"px",o.scrollLeft=e+10,o.scrollTop=i+10,h.scrollLeft=e+10,h.scrollTop=i+10},T=function(){if(E){if(0===t.offsetWidth&&0===t.offsetHeight)return void(l||(l=e((function(){l=0,T()}))));E=!1}b()};t.resizeSensor.resetSensor=T;var S=function(){m=0,f&&(v=g.width,y=g.height,t.resizedAttached&&t.resizedAttached.call(g))},P=function(){g=r(t),(f=g.width!==v||g.height!==y)&&!m&&(m=e(S)),T()},w=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};w(o,"scroll",P),w(h,"scroll",P),l=e((function(){l=0,T()}))}}n(t,(function(t){u(t,o)})),this.detach=function(e){l||(i(l),l=0),s.detach(t,e)},this.reset=function(){t.resizeSensor.resetSensor()}};if(s.reset=function(t){n(t,(function(t){t.resizeSensor.resetSensor()}))},s.detach=function(t,e){n(t,(function(t){t&&(t.resizedAttached&&"function"==typeof e&&(t.resizedAttached.remove(e),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))}))},"undefined"!=typeof MutationObserver){var o=new MutationObserver((function(t){for(var e in t)if(t.hasOwnProperty(e))for(var i=t[e].addedNodes,n=0;n<i.length;n++)i[n].resizeSensor&&s.reset(i[n])}));document.addEventListener("DOMContentLoaded",(function(t){o.observe(document.body,{childList:!0,subtree:!0})}))}return s})?n.call(e,i,e,t):n)||(t.exports=r)},3162:function(t,e,i){var n,r,a;r=[],void 0===(a="function"==typeof(n=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,i)},n.onerror=function(){},n.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,e,i){var o=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?a(l):r(l.href)?n(t,e,i):a(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){a(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,s){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),i);else if(r(t))n(t,i,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){a(o)}))}}:function(t,e,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var a="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var h=s.URL||s.webkitURL,d=h.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l})?n.apply(e,r):n)||(t.exports=a)},9990:e=>{"use strict";e.exports=t},7337:t=>{"use strict";t.exports=n},5549:t=>{"use strict";t.exports=e},8276:t=>{"use strict";t.exports=i},160:t=>{"use strict";t.exports=r}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={exports:{}};return a[t].call(i.exports,i,i.exports,o),i.exports}return o.m=a,o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o(4966)})()));
//# sourceMappingURL=nwaf-apptools.min.js.map
/*! (c) Copyright 2013-2023 NETRONIC Software GmbH. All rights reserved. Version 7.8.4 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery"),require("jquery-ui/ui/widget"),require("d3"),require("nwaf_apptools")):"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget","d3","nwaf_apptools"],e):"object"==typeof exports?exports.nwaf_table=e(require("jquery"),require("jquery-ui/ui/widget"),require("d3"),require("nwaf_apptools")):t.nwaf_table=e(t.jQuery,t.jQuery,t.d3,t.nwaf_apptools)}(globalThis,((t,e,i,o)=>(()=>{var a={3646:(t,e,i)=>{i(7658),i(1703),i(6699);var o=i(5549);i(8276);var a=i(9990);window.requestIdleCallback||i(5916);var n=i(3571),r=n.nCursorHelper,l=n.nDebugHelper,s=n.nDOMHelper.eventListenerHelper,c=n.nEventDispatcher,d=n.nLayoutGrid,_=n.nOSDetector,u=n.nPopup,h=n.nResizeSensor,p=n.nScrollBarWidthDetector,f=n.nSubsequentIDGenerator,m=n.nWorldViewCanvasWidget.Position,w=i(5066).RowInteractions,E=i(2254),g=E._UpdateCause,T=E._RowItemVirtualizationStatus,R=E._VirtualizationUpdateCause,v=E.ASYNC_WAIT_PATTERN_EXTENT,C=E.LayoutRow,I=E.LayoutColumn,b=E.LayoutElements,D=E.TitleArea,y=[C.BodyAtTheTop,C.MainBody],A="scale(1,1e-6)",S={options:{rowItemsRoot:null,autoDisposeOfUnusedItems:!1,virtualized:!0,realizedRowsCountMaximum:10,titleHeight:60,bottomTitleHeight:0,defaultRowMainHeight:42,defaultLeafRowMainHeight:42,defaultMaximumRowHeight:null,rowMargin:10,buttonLeftOffset:5,buttonExtent:18,transitionDuration:400,scrollOffsetsChangedFuncTimeDelay:500,leafRowsVisible:!1,rowItemsSelectable:!1,rowSelectionWithFrames:!0,defaultRowInteractions:w.None,forcedRowInteractions:null,defaultLeafRowInteractions:w.None,forcedLeafRowInteractions:null,defaultRowItemSelectable:!0,defaultLeafRowItemSelectable:!0,defaultRowItemCollapsible:!0,defaultRowItemLeavesCollapsible:!0,rowHeightCalcFunc:null,enrichClassFunc:null,rowExpandOrCollapseFunc:null,rowExpandedOrCollapsedFunc:null,dragStartFunc:null,dragEndFunc:null,dragEnterFunc:null,draggedFunc:null,dragLeaveFunc:null,droppedFunc:null,onEventFunc:null,keyDownFunc:null,attachEventListenersFunc:null,detachEventListenersFunc:null,detachEventListenersExFunc:null,convertFunc:null,canSelectRowItemFunc:null,selectRowItemFunc:null,selectRowItemFuncCalledForDeselectionForced:!1,checkPossibleInteractionsFunc:null,verticalScrollOffsetChangedFunc:null,errorFunc:null,handleWarningFunc:null,measuredRenderingTimeFunc:null,offsetCorrection:{x:0,y:0},keyboardEventsSourceElem:void 0,visualZoomFactor:1,rowOmissionSymbolsVisible:!1,preventDefaultOnContextMenuEvents:!0,topRowMargin:null,bottomRowMargin:null,editable:!0,updateSuspended:!1,topBodyViewAreaVisible:!1,commonBodyViewAreaVisible:!0,maximumTopBodyViewAreaHeightRatio:.5,unselectedItemsShownCovered:!1,isForExport:!1,itemHighlightFlashingEnabled:!0,worldViewVisible:!1,worldViewPosition:m.Bottom,worldViewExtent:150,worldViewSelectionColor:"#ffa000",watermarkURL:null,exportWatermarkURL:null,asynchronousRendering:!1},_create:function(){"use strict";var t=this;this._dbgClippath=!0,this._uniqueID=f.generate();var e=this._initConstants(),i=this._calcElementExtent();this._mainWidth=this._elementWidth=i.elementWidth,this._mainHeight=this._elementHeight=i.elementHeight,this._currentScaledMainWidth=void 0,this._ITEM_VERSION_PROPERTY=e.ITEM_VERSION_PROPERTY_PREFIX+this._uniqueID+e.ITEM_VERSION_PROPERTY_SUFFIX,this._BINDING_ID_PROPERTY=e.BINDING_ID_PROPERTY_PREFIX+this._uniqueID+e.BINDING_ID_PROPERTY_SUFFIX,this._OBJECT_ID_PROPERTY=e.OBJECT_ID_PROPERTY_PREFIX+this._uniqueID+e.OBJECT_ID_PROPERTY_SUFFIX,this._EVENT_NAMESPACE=e.WIDGET_NAMESPACE+this._uniqueID,this._rowDataItemsMap=new Map,this._unusedRowDataItemsMap=new Map,this._nextDataItemID=1,this._pointerEvents=["pointerdown","pointermove","pointerup","pointerover","pointerout","pointerenter","pointerleave","click"].map((t=>`${t}${this._EVENT_NAMESPACE}`)).join(" "),this._createLayoutGrid(),this._currentBodyViewScrollTops=[],y.forEach((function(e){t._currentBodyViewScrollTops[e]=0})),this._horizontalBodyAreaSeparatorHeight=2,this._activeHorizontalBodyAreaIndex=1,this._widthClipPathRectD3s=[],this._layoutRows[C.TopTitle].extent(this.options.titleHeight),this._layoutRows[C.BottomTitle].extent(this.options.bottomTitleHeight),this._layoutRows[C.TopTitle].innerViewExtent(this.options.titleHeight),this._layoutRows[C.BottomTitle].innerViewExtent(this.options.bottomTitleHeight),this._layoutRows[C.TopTitle].outerViewExtent(this._layoutRows[C.TopTitle].innerViewExtent()+this._actualTitleAreaScrollBarWidth(D.top)),this._layoutRows[C.BottomTitle].outerViewExtent(this._layoutRows[C.BottomTitle].innerViewExtent()+this._actualTitleAreaScrollBarWidth(D.bottom)),this._ignoreNextScrollEvents(!1),this._touchScrollingEnabled=!0,this._selectedRowDataItemsMap=new Map,this._automaticExpansionDelay=500,this._autoscrollMargin=50,this._autoscrollInitialDelay=200,this._autoscrollDelay=100,this._autoscrollDistance=10,this._currentPanParams=void 0,this._automaticRowExpansionParams=void 0,this._autoscrollParams=void 0,this._isInDragOver=!1,this._temporaryMarkCounter=0,this._temporaryMarkVisible=void 0,this._temporaryMarkMinimumDate=void 0,this._realizedVisibleRowsSet=new Set,this._realizedInvisibleRowsSet=new Set,this._updateOfRowsNeeded=!1,this._cachedTransitionFuncs=[],this._clipPathReferenceCounts=[],this._currentlyVisibleRowDataItems=[],y.forEach((function(e){t._currentlyVisibleRowDataItems[e]=[]})),this._cachedRowItemAtTops=[],this._PE_CurrentOffsetCorrection(),this.element.addClass(e.WIDGET_CLASS),this.element.addClass(e.WIDGET_CLASS+"-"+this._uniqueID),this._elementD3=a.select(this.element[0]),(_.isIE||_.isEdge)&&s.on(this.element[0],"MSHoldVisual"+t._EVENT_NAMESPACE,(function(t){t.preventDefault()})),this.options.isForExport||s.on(this.element[0],"pointermove"+t._EVENT_NAMESPACE,(function(e){try{t._currentPointerCursorPosition={x:e.clientX,y:e.clientY},t._updateCursorHighlighters(e)}catch(e){t._handleException(e,"onPointerMove_element")}})).on(this.element[0],"pointerleave"+t._EVENT_NAMESPACE,(function(e){try{delete t._currentPointerCursorPosition,t._makeCursorHighlightersInvisible(e)}catch(e){t._handleException(e,"onPointerLeave_element")}}));let n=this.options.keyboardEventsSourceElem instanceof Element?this.options.keyboardEventsSourceElem:this.element[0];s.on(n,"keydown keyup",t._EVENT_NAMESPACE,(function(e){return t._handleKeyEvent(e)})),this._divScaleD3=this._elementD3.append("div").attr("tabindex",-1).attr("class",e.SCALED_DIV_CLASS),this._divScaleJQ=o(this._divScaleD3.node()),this._doScale(),this._showOrHideWorldView();this.options.isForExport?(this._svgOuterFrameD3=this._divScaleD3.append("svg").attr("class",e.SVG_OUTER_FRAME_CLASS),this._svgInnerFrameD3=this._svgOuterFrameD3.append("g").attr("class",e.SVG_INNER_FRAME_CLASS),this._svgRootD3=this._svgInnerFrameD3.append("g").attr("class",e.SVG_ROOT_CLASS)):(this._createAndPositionDivOverlays(),this._svgRootD3=this._divScaleD3.append("svg").attr("class",[e.SVG_ROOT_CLASS,c.POINTER_DOWN_EVENT_CLASS_NAME,c.TAP_EVENT_CLASS_NAME,c.PRESS_EVENT_CLASS_NAME,c.CONTEXTMENU_EVENT_CLASS_NAME,c.SWIPE_EVENT_CLASS_NAME].join(" ")),_.isIE||_.isEdge||this._svgRootD3.style("transform","translate("+this._currentOffsetCorrection.x+"px,"+this._currentOffsetCorrection.y+"px)"),o(this._svgRootD3.node()).data(c.HANDLER_FUNCTION_PROPERTY+t._EVENT_NAMESPACE,(function(e){try{if(!t._isInsideFixedPrecedingImageListColumn(e))switch(e.type){case c.SWIPE_EVENT_NAME:t._touchScrollingEnabled?t._onSwipe(e,!!e[c.IS_FINAL_PROPERTY]):e[c.CANCEL_PROPERTY]=!0;break;case c.POINTER_DOWN_EVENT_NAME:t._isInDragOver||t._triggerEvent({sender:null,eventType:"tooltip",event:e.srcEvent,hammerEvent:e});break;case c.PRESS_EVENT_NAME+"up":t._triggerEvent({sender:null,eventType:"contextmenu",event:e.srcEvent,hammerEvent:e});break;case c.CONTEXTMENU_EVENT_NAME:i=e,t._triggerEvent({sender:null,eventType:"contextmenu",event:i}),t.options.preventDefaultOnContextMenuEvents&&(i.stopPropagation(),i.preventDefault());break;case c.TAP_EVENT_NAME:t._handleTapOnBackground(e),t._triggerEvent({sender:null,eventType:"tap",event:e.srcEvent,hammerEvent:e});break;default:t._onPanBackground(e)}}catch(e){t._handleException(e,"onEventDispatch_svgRoot")}var i})),(_.isIE||_.isEdge)&&s.on(this._svgRootD3.node(),"MSHoldVisual"+t._EVENT_NAMESPACE,(function(t){t.preventDefault()}))),this._createAndAppendSVGRootDefs(),this._titleVisible(D.top)&&(this._appendTitle(D.top),this._appendTitleSeparationLine(D.top)),this._appendBackground(),this._appendForeground(),this._titleVisible(D.bottom)&&(this._appendTitleSeparationLine(D.bottom),this._appendTitle(D.bottom)),this.options.isForExport||(this._appendIOSScrollBars(),s.on(this.element[0],"wheel"+t._EVENT_NAMESPACE,(function(e){t._onSVGRootWheel(e)})),s.on(window,"pointerdown",t._EVENT_NAMESPACE,(function(e){try{t._temporaryMarkVisible=void 0,u.closeContextMenu(e),t._ignoreNextScrollEvents(!1)}catch(e){t._handleException(e,"onPointerDown_window")}})).on(window,"pointerup"+t._EVENT_NAMESPACE,(function(){try{t._ignoreNextScrollEvents(!1)}catch(e){t._handleException(e,"onPointerUp_window")}})),this._eventDispatcher=new c(this._svgRootD3.node(),[c.TAP_EVENT_NAME,c.DOUBLE_TAP_EVENT_NAME,c.PRESS_EVENT_NAME,c.PAN_EVENT_NAME,c.SWIPE_EVENT_NAME,c.PINCH_EVENT_NAME,c.CONTEXTMENU_EVENT_NAME],t._EVENT_NAMESPACE),t._resizeSensor=new h(t.element[0],(function(){try{t.forceSizeChanged()}catch(e){t._handleException(e,"onResize")}})),this.element.nDroppableWidget({onEventFunc:function(e){return t._onDragEvent(e)}}))},_destroy:function(){"use strict";try{var t=this.options.worldViewVisible;this.options.worldViewVisible=!1,this._showOrHideWorldView(),this.options.worldViewVisible=t,s.off(window,this._EVENT_NAMESPACE),this._resizeSensor&&(this._resizeSensor.detach(),delete this._resizeSensor),s.off(this.element[0],this._EVENT_NAMESPACE);var e=a.select(this.element[0]).selectAll("*").nodes();s.off(e,this._EVENT_NAMESPACE),o(e).remove(),this._verticalScrollOffsetChangedTimerID&&window.clearTimeout(this._verticalScrollOffsetChangedTimerID),this._stopAutomaticRowExpansionTimer(),this._stopAutoscroll(),this._rowDataItemIDsToCreateOrRemoveMap?.clear()}catch(t){this._handleException(t,"_destroy")}},_calcElementExtent:function(){"use strict";return{elementWidth:Math.max(0,this.element.width()),elementHeight:Math.max(0,this.element.height())}},_setOption:function(e,i){"use strict";try{var o=this,a=o.options[e];switch(e){case"rowItemsRoot":null!==a&&this.invalidateAllRows(!0),this._super(e,i),this._rowItemsRootChanged(),this._bodyChanged(g.RowItemsRootChanged);break;case"virtualized":a!==i&&(this._super(e,i),null!=this.options.rowItemsRoot&&(this._updateVirtualization(R.OptionChanged),this._executeCachedTransitionFunctions()));break;case"titleHeight":a!==(i=!isNaN(+i)&&i>=0?i:t.exports.prototype.options[e])&&(this._layoutRows[C.TopTitle].extent(i),this._layoutRows[C.TopTitle].innerViewExtent(i),this._layoutRows[C.TopTitle].outerViewExtent(this._layoutRows[C.TopTitle].innerViewExtent()+this._actualTitleAreaScrollBarWidth(D.top)),this._super(e,i),(this._layoutRows[C.BodyAtTheTop].extent()||this._layoutRows[C.MainBody].extent())&&this._doResize(g.Other,null,!0),this._layoutGrid.update(),this.updateTableTitle());break;case"bottomTitleHeight":a!==(i=!isNaN(+i)&&i>=0?i:t.exports.prototype.options[e])&&(this._layoutRows[C.BottomTitle].extent(i),this._layoutRows[C.BottomTitle].innerViewExtent(i),this._layoutRows[C.BottomTitle].outerViewExtent(this._layoutRows[C.BottomTitle].innerViewExtent()+this._actualTitleAreaScrollBarWidth(D.bottom)),this._super(e,i),(this._layoutRows[C.BodyAtTheTop].extent()||this._layoutRows[C.MainBody].extent())&&this._doResize(g.Other,null,!0),this._layoutGrid.update());break;case"visualZoomFactor":a!==(i=!isNaN(+i)&&i>0?i:t.exports.prototype.options[e])&&(this._super(e,i),this._doScale(),this._doResize());break;case"rowItemsDraggable":a!==i&&(o._super(e,i),o._registerBackgroundPanningEvents());break;case"unselectedItemsShownCovered":if(a!==i){var n=o._updateSuspendedForSelectionChanges;delete o._updateSuspendedForSelectionChanges,o._super(e,i),null!=this.options.rowItemsRoot&&(o.invalidateAllRows(),o.update()),n&&(o._updateSuspendedForSelectionChanges=!0)}break;case"defaultRowMainHeight":case"defaultLeafRowMainHeight":case"rowMargin":case"topRowMargin":case"bottomRowMargin":case"defaultMaximumRowHeight":case"defaultMaximumSubRowHeight":a!==(i=!isNaN(+i)&&i>0?i:t.exports.prototype.options[e])&&(o._super(e,i),null!=this.options.rowItemsRoot&&(o.invalidateAllRows(!1,!0),o._actualBodyAreaSeparatorHeight()&&(o.options.updateSuspended?o._doResizeNeededWhileUpdateSuspended=!0:o._doResize(g.Other,null,!0)),o.update()));break;case"rowItemsSelectable":a!==i&&(i||o.selectedRowItems([]),o._super(e,i));break;case"defaultRowItemSelectable":case"defaultLeafRowItemSelectable":a!==i&&(i||o.selectedRowItems(o.selectedRowItems()),o._super(e,i));break;case"leafRowsVisible":case"defaultRowItemCollapsible":case"defaultRowItemLeavesCollapsible":a!==i&&(o._super(e,i),null!=o.options.rowItemsRoot&&Array.isArray(o.options.rowItemsRoot.childRowItems)&&("leafRowsVisible"===e?o.options.rowItemsRoot.childRowItems.forEach((function(t){o._doInvalidateRowWithCheck(t,{childRowsChangedFlag:!0})})):o.invalidateAllRows(),o.update()));break;case"keyboardEventsSourceElem":if(a!==i&&(null==i||i instanceof Element)){let t=this.options.keyboardEventsSourceElem instanceof Element?this.options.keyboardEventsSourceElem:this.element[0];s.off(t,"keydown keyup",o._EVENT_NAMESPACE),o._super(e,i),t=this.options.keyboardEventsSourceElem instanceof Element?this.options.keyboardEventsSourceElem:this.element[0],s.on(t,"keydown keyup",o._EVENT_NAMESPACE,(function(t){return o._handleKeyEvent(t)}))}break;case"verticalScrollOffsetChangedFunc":a!==i&&(i||delete o._verticalScrollOffsetChangedTimerID,o._super(e,i));break;case"topBodyViewAreaVisible":case"commonBodyViewAreaVisible":a!==i&&(o._super(e,i),("commonBodyViewAreaVisible"!==e||a)&&(o._activeHorizontalBodyAreaIndex=o.options.commonBodyViewAreaVisible||!o.options.topBodyViewAreaVisible?1:0),null!=this.options.rowItemsRoot&&(o.options.updateSuspended?o._doResizeNeededWhileUpdateSuspended=!0:(o._doResize(g.Other,null,!0),o.options.worldViewVisible&&(o._createRows(o._currentlyVisibleRowDataItems?o._currentlyVisibleRowDataItems[0].slice().concat(o._currentlyVisibleRowDataItems[1]):[],void 0,g.WorldView),o._renderCompleteWorldView()))));break;case"maximumTopBodyViewAreaHeightRatio":a!==(i=Math.min(1,Math.max(-1,+i||0)))&&(o._super(e,i),null!=this.options.rowItemsRoot&&(o.options.updateSuspended?o._doResizeNeededWhileUpdateSuspended=!0:o._doResize(g.Other,null,!0)));break;case"updateSuspended":a!==i&&(o._super(e,i),null!=this.options.rowItemsRoot&&a&&(o._cachedTableDefinitionChangedArguments&&(o._tableDefinitionChanged.apply(o,o._cachedTableDefinitionChangedArguments),delete o._cachedTableDefinitionChangedArguments),o._cachedBodyChangedArguments&&(o._cachedBodyChangedArguments[2]=!0,o._bodyChanged.apply(o,o._cachedBodyChangedArguments),delete o._cachedBodyChangedArguments),o._doResizeNeededWhileUpdateSuspended&&(o._doResize(g.Other,null,!0),delete o._doResizeNeededWhileUpdateSuspended,o.options.worldViewVisible&&(o._createRows(o._currentlyVisibleRowDataItems?o._currentlyVisibleRowDataItems[0].slice().concat(o._currentlyVisibleRowDataItems[1]):[],void 0,g.WorldView),o._renderCompleteWorldView()))));break;case"worldViewVisible":case"worldViewExtent":case"worldViewPosition":o._super(e,i),i!==a&&(o._showOrHideWorldView(),("worldViewVisible"===e||o.options.worldViewVisible)&&o._doResize());break;case"worldViewSelectionColor":o._super(e,i),o.options.worldViewVisible&&o._renderCompleteWorldView();break;default:o._super(e,i)}}catch(t){this._handleException(t,"option")}},_initConstants:function(){"use strict";var t=this._getOrCreateNXXXXX({WIDGET_ABBREVIATION:"nbase",WIDGET_PREFIX:"nbase-",WIDGET_NAMESPACE:".nbase",WIDGET_NAME_IN_ERROR_MESSAGES:"nBaseWidget",WIDGET_PROPERTYNAME_IN_CALLBACKS:"baseWidget"});return t.BACKGROUND_BODY_CLASS=[],t.BACKGROUND_BODY_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-background-body",t.BACKGROUND_BODY_CLASS[C.MainBody]=t.WIDGET_PREFIX+"background-body",t.BACKGROUND_BODY_PARENT_CLASS=[],t.BACKGROUND_BODY_PARENT_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-background-body-parent",t.BACKGROUND_BODY_PARENT_CLASS[C.MainBody]=t.WIDGET_PREFIX+"background-body-parent",t.BACKGROUND_BODY_RECT_CLASS=[],t.BACKGROUND_BODY_RECT_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-background-body-rect",t.BACKGROUND_BODY_RECT_CLASS[C.MainBody]=t.WIDGET_PREFIX+"background-body-rect",t.BACKGROUND_BODY_SCROLL_PARENT_CLASS=t.WIDGET_PREFIX+"background-body-scroll-parent",t.FOREGROUND_AREA_SEPARATOR_CLASS=t.WIDGET_PREFIX+"foreground-area-separator",t.FOREGROUND_BODY_CLASS=[],t.FOREGROUND_BODY_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-foreground-body",t.FOREGROUND_BODY_CLASS[C.MainBody]=t.WIDGET_PREFIX+"foreground-body",t.FOREGROUND_BODY_PARENT_CLASS=[],t.FOREGROUND_BODY_PARENT_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-foreground-body-parent",t.FOREGROUND_BODY_PARENT_CLASS[C.MainBody]=t.WIDGET_PREFIX+"foreground-body-parent",t.FOREGROUND_BODY_SCROLL_PARENT_CLASS=t.WIDGET_PREFIX+"foreground-body-scroll-parent",t.FRAME_AREA_DIV_BOTTOM_CLASS=t.WIDGET_PREFIX+"frame-area-div-bottom",t.FRAME_AREA_DIV_TOP_CLASS=t.WIDGET_PREFIX+"frame-area-div-top",t.FRAME_IMAGE_CLASS=t.WIDGET_PREFIX+"frame-image",t.FRAME_LINES_PARENT_CLASS=t.WIDGET_PREFIX+"frame-lines-parent",t.FRAME_TEXT_CLASS=t.WIDGET_PREFIX+"frame-text",t.GRAYING_PATTERN_CLASS=t.WIDGET_PREFIX+"graying-pattern",t.HORIZONTAL_DRAG_AREA_CLASS=t.WIDGET_PREFIX+"horizontal-drag-area",t.HORIZONTAL_DRAG_AREA_PARENT_CLASS=t.WIDGET_PREFIX+"horizontal-drag-area-parent",t.HORIZONTAL_DRAG_AREA_RECT_CLASS=t.WIDGET_PREFIX+"horizontal-drag-area-rect",t.IMAGE_LIST_IMAGE_GROUP_CLASS=t.WIDGET_PREFIX+"image-list-image-group",t.IMAGE_LIST_IMAGE_GROUP_RECT_CLASS=t.WIDGET_PREFIX+"image-list-image-group-rect",t.IMAGE_LIST_IMAGE_GROUP_SHADOW_RECT_CLASS=t.WIDGET_PREFIX+"image-list-image-group-shadow-rect",t.IOS_SCROLL_BAR_CLASS=t.WIDGET_PREFIX+"ios-scroll-bar",t.LAST_SEPARATION_LINE_CLASS=t.WIDGET_PREFIX+"last-separation-line",t.MINUS_CLASS=t.WIDGET_PREFIX+"minus",t.NODROP_CLASS=t.WIDGET_PREFIX+"nodrop",t.PHANTOM_ROW_CLASS=t.WIDGET_PREFIX+"phantom-row",t.PHANTOMS_BODY_CLASS=[],t.PHANTOMS_BODY_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-phantoms-body",t.PHANTOMS_BODY_CLASS[C.MainBody]=t.WIDGET_PREFIX+"phantoms-body",t.PHANTOMS_BODY_PARENT_CLASS=[],t.PHANTOMS_BODY_PARENT_CLASS[C.BodyAtTheTop]=t.WIDGET_PREFIX+"top-phantoms-body-parent",t.PHANTOMS_BODY_PARENT_CLASS[C.MainBody]=t.WIDGET_PREFIX+"phantoms-body-parent",t.PHANTOMS_BODY_SCROLL_PARENT_CLASS=t.WIDGET_PREFIX+"phantoms-body-scroll-parent",t.PLUS_CLASS=t.WIDGET_PREFIX+"plus",t.PUBLIC_BACKGROUND_BODY_RECT_CLASS=t.WIDGET_PREFIX+"public-background-body-rect",t.ROW_BACKGROUND_RECT_CLASS=t.WIDGET_PREFIX+"row-background-rect",t.ROW_CLASS=t.WIDGET_PREFIX+"row",t.ROW_HEIGHT_PROP_CLASS=t.WIDGET_PREFIX+"row-height-dep",t.ROW_MAIN_HEIGHT_PROP_CLASS=t.WIDGET_PREFIX+"row-main-height-dep",t.ROW_MAIN_HEIGHT_SCALE_CLASS=t.WIDGET_PREFIX+"row-main-height-scale-dep",t.ROW_OMISSION_SYMBOL_CLASS=t.WIDGET_PREFIX+"row-omission-symbol",t.ROW_OMISSION_SYMBOL_BACKGROUND_LINE_CLASS=t.WIDGET_PREFIX+"row-omission-symbol-background-line",t.ROW_OMISSION_SYMBOL_FOREGROUND_LINE_CLASS=t.WIDGET_PREFIX+"row-omission-symbol-foreground-line",t.ROW_OMISSION_SYMBOL_MIDDLE_LINE_CLASS=t.WIDGET_PREFIX+"row-omission-symbol-middle-line",t.SCALED_DIV_CLASS=t.WIDGET_PREFIX+"scaled",t.SEPARATION_LINE_CLASS=t.WIDGET_PREFIX+"separation-line",t.SVG_OUTER_FRAME_CLASS=t.WIDGET_PREFIX+"svg-outer-frame",t.SVG_INNER_FRAME_CLASS=t.WIDGET_PREFIX+"svg-inner-frame",t.SVG_ROOT_CLASS=t.WIDGET_PREFIX+"svg-root",t.TEMP_MARKING_CLASS=t.WIDGET_PREFIX+"temp-marking",t.WORLD_VIEW_CLASS=t.WIDGET_PREFIX+"world-view",t.TITLE_CLASS=[t.WIDGET_PREFIX+"title",t.WIDGET_PREFIX+"bottom-title"],t.TITLE_SEPARATION_LINE_CLASS=[t.WIDGET_PREFIX+"title-separation-line",t.WIDGET_PREFIX+"bottom-title-separation-line"],t.UNSELECTED_ROW_COVER_CLASS=t.WIDGET_PREFIX+"unselected-row-cover",t.WIDGET_CLASS=t.WIDGET_PREFIX+"widget",t.BLUR_FILTER_ID=t.WIDGET_PREFIX+"blur-filter",t.ASYNC_WAIT_PATTERN_ID=t.WIDGET_PREFIX+"async-wait",t.BODY_CLIPPATH_ID=t.WIDGET_PREFIX+"body-clippath",t.BODY_PARENT_CLIPPATH_ID=[t.WIDGET_PREFIX+"top-body-parent-clippath",t.WIDGET_PREFIX+"body-parent-clippath"],t.INNER_FRAME_CLIPPATH_ID=t.WIDGET_PREFIX+"inner-frame-clippath",t.TEMP_BODY_CLIPPATH_ID=t.WIDGET_PREFIX+"temp-body-clippath",t.WIDTH_CLIPPATH_ID=[],t.BINDING_ID_PROPERTY_PREFIX="_"+t.WIDGET_ABBREVIATION+"B",t.BINDING_ID_PROPERTY_SUFFIX="_",t.ITEM_VERSION_PROPERTY_PREFIX="_"+t.WIDGET_ABBREVIATION+"V",t.ITEM_VERSION_PROPERTY_SUFFIX="_",t.LEAF_CLASS=t.WIDGET_PREFIX+"leaf",t.LEVEL_CLASS_PREFIX=t.WIDGET_PREFIX+"level",t.OBJECT_ID_PROPERTY_PREFIX="_"+t.WIDGET_ABBREVIATION,t.OBJECT_ID_PROPERTY_SUFFIX="_",t.TEXT_CLIPPATH_ID_PREFIX=t.WIDGET_PREFIX+"text-clippath",t},_getOrCreateNXXXXX:function(t){"use strict";var e=this;return void 0===e.NXXXXX&&(e.NXXXXX=o.extend({},t)),e.NXXXXX},_handleException:function(t,e){"use strict";if(!this.options.errorFunc)throw t;var i=this._extendCallbackArgs({context:e,error:t,rethrow:!0});if(this.options.errorFunc.call(this,i),i.rethrow)throw t},_triggerEvent:function(t){"use strict";if("tooltip"!==t.eventType||t.sender||this._lastTooltipEventFuncSenderNotNull)return"tooltip"===t.eventType&&(this._lastTooltipEventFuncSenderNotNull=!!t.sender),this.options.onEventFunc&&this.options.onEventFunc(this._extendCallbackArgs(t))},_doScale:function(){"use strict";var t="scale("+this.options.visualZoomFactor+")";(_.isIE||_.isEdge)&&(t+=" translate("+this._currentOffsetCorrection.x+"px,"+this._currentOffsetCorrection.y+"px)"),this._divScaleJQ.css("transform",t)},_doResize:function(){},_PE_DoResizeHeight_222:function(t){"use strict";t(this._foregroundAreaSeparatorD3).attr("y",this._actualOuterBodyViewHeight(C.BodyAtTheTop)).attr("height",this._actualBodyAreaSeparatorHeight())},forceSizeChanged:function(){"use strict";var t=this._calcElementExtent();return(t.elementWidth!==this._elementWidth||t.elementHeight!==this._elementHeight)&&(this._elementWidth=t.elementWidth,this._elementHeight=t.elementHeight,this._showOrHideWorldView(),this._doResize(),!0)},_handleKeyEvent:function(t){"use strict";try{var e=this;if("keyup"===t.type)return;if(e._currentPointerCursorPosition){var i=e.element[0].getBoundingClientRect();if(e._currentPointerCursorPosition.y>=i.top&&e._currentPointerCursorPosition.y<i.bottom&&e._currentPointerCursorPosition.x>=i.left&&e._currentPointerCursorPosition.x<i.right){e.options.keyDownFunc&&e.options.keyDownFunc(e._extendCallbackArgs({event:t}));var o=t.key.replace("Arrow","");if("Left"===o||"Right"===o){var a=e._innerClientXToLayoutColumn(e._currentPointerCursorPosition.x);if(void 0!==a)return e._ignoreNextScrollEvents(!1,a),e._doRelativeScrollHor(a,"Left"===o?.1:-.1,!0),!1}else if("Up"===o||"Down"===o||"PageUp"===o||"PageDown"===o){var n="PageUp"===o||"PageDown"===o?9:1,r=e._innerClientYToBodyAreaIndex(e._currentPointerCursorPosition.y);if(void 0!==r)return t.preventDefault(),e._ignoreNextScrollEvents(!1),e._doRelativeScrollVer(r,"Up"===o||"PageUp"===o?.1*n:-.1*n,!0),!1}}}}catch(t){this._handleException(t,"_handleKeyEvent")}},_onSVGRootWheel:function(t){"use strict";try{var e=this;if(t.altKey||t.ctrlKey||t.metaKey)return;t.preventDefault();var i,o=1;a.mouse?(a.event=t,i=a.mouse(e._backgroundBodyScrollParentD3.node())):i=a.pointer(t,e._backgroundBodyScrollParentD3.node()),e._layoutRows[C.BodyAtTheTop].innerViewExtent()>0&&i[1]<e._actualTitleHeight(D.top)+e._layoutRows[C.BodyAtTheTop].innerViewExtent()&&(o=0),a.mouse?(i=a.mouse(e._backgroundBodyD3s[o].node()),a.event=null):i=a.pointer(t,e._backgroundBodyD3s[o].node()),i[1]-=e._layoutRows[o].scrollStart();var n=t.deltaX,r=t.deltaY;if(1===t.deltaMode){var l=p.scrollLineHeight();n*=l,r*=l}if(n&&r?4*Math.abs(r)<Math.abs(n)?r=0:4*Math.abs(n)<Math.abs(r)&&(n=0):t.shiftKey&&r&&(n=-r,r=0),i[1]>=0&&i[1]<e._layoutRows[o].innerViewExtent()&&r)return e._doRelativeScroll("body"+o,-r),e._svgRootWheelVer(i,r);if(i[1]>=-e._actualTitleHeight(D.top)&&i[1]<e._layoutRows[o].innerViewExtent()&&n)return e._svgRootWheelHor(i,n)}catch(t){this._handleException(t,"onWheel")}},_svgRootWheelVer:function(){return!1},_svgRootWheelHor:function(){},_doRelativeScroll:function(t,e,i){"use strict";switch(t){case"body0":this._doRelativeScrollVer(0,e,i);break;case"body1":this._doRelativeScrollVer(1,e,i)}},_onSwipe:function(){},_onPanBackground:function(t){"use strict";var e=this;switch(t.type){case c.PAN_EVENT_NAME+"start":e._currentPanParams={},"mouse"!==t.pointerType&&(t[c.CANCEL_PROPERTY]=!0);break;case c.PAN_EVENT_NAME+"move":e._onSwipe(t);break;case c.PAN_EVENT_NAME+"end":e._currentPanParams=void 0,e._onSwipe(t,!0),r.setCursor(e.element[0],null)}},_scrollOffsetsChanged:function(t,e,i,o){"use strict";var a=this;if(a._renewRemoveRealizedRowsTimer(),null!=t&&(null!=t[0]||null!=t[1])||null!=e&&(null!=e[C.BodyAtTheTop]||null!=e[C.MainBody])){var n={changedFlag:!1,verticalScrolledFlag:!1,viewChangedFlags:[!1,!1]};if(null!=e)for(var r=a._verSBLayoutColumn(),l=0;l<=1;l++)null!=e[l]&&(e[l]=Math.floor(e[l]),a._scrollTopsChanged(r,l,e,i,o,n));a._scrollLeftsChanged(t,e,i,o,n),n.verticalScrolledFlag&&(a._updateVirtualization(R.ScrolledVertically),a._executeCachedTransitionFunctions(),a._callVerticalScrollOffsetChangedFunc()),a._triggerChangedEventAfterScrollOffsetsChanged(n)}a._timeAfterLastScrolling=(new Date).getTime()},_callVerticalScrollOffsetChangedFunc:function(){"use strict";var t=this;if(!t.options.isForExport&&t.options.verticalScrollOffsetChangedFunc){var e=function(){try{if(delete t._verticalScrollOffsetChangedTimerID,t._cachedRowItemAtTops[C.BodyAtTheTop]=t.visibleStartRowItem(C.BodyAtTheTop),t._cachedRowItemAtTops[C.MainBody]=t.visibleStartRowItem(C.MainBody),t.options.verticalScrollOffsetChangedFunc){var e=t._extendCallbackArgs({scrollOffset:t.verticalScrollOffset(),rowItemAtTop:t._cachedRowItemAtTops[C.MainBody],topViewScrollOffset:t.topVerticalScrollOffset(),topViewRowItemAtTop:t._cachedRowItemAtTops[C.BodyAtTheTop]});t.options.verticalScrollOffsetChangedFunc.call(t,e)}}catch(e){t._handleException(e,"_callVerticalScrollOffsetChangedFunc")}};void 0!==t._verticalScrollOffsetChangedTimerID&&window.clearTimeout(t._verticalScrollOffsetChangedTimerID),t.options.scrollOffsetsChangedFuncTimeDelay?t._verticalScrollOffsetChangedTimerID=window.setTimeout(e,t.options.scrollOffsetsChangedFuncTimeDelay):e()}},_scrollTo:function(t,e){"use strict";var i=this;if(i._setLayoutColumnsScrollLefts(t),null!=e)for(var o=0;o<=1;o++)null!=e[o]&&(e[o]=Math.max(0,Math.min(e[o],i._layoutRows[o].extent()-i._layoutRows[o].innerViewExtent())));i._scrollOffsetsChanged(t,e,!1,!0)},_setLayoutColumnsScrollLefts:function(){},visibleStartRowItem:function(t){"use strict";try{for(var e=null!=t?t:C.MainBody,i=this._determineRowDataItems(!0,void 0,e),o=0;o<i.length;o++){var a=i[o],n=a.newY??a.oldY;if(n<=this._layoutRows[e].scrollStart()&&n+a.totalHeight>this._layoutRows[e].scrollStart())return i[o].item}}catch(t){this._handleException(t,"visibleStartRowItem")}},verticalStartOfRowItem:function(t){"use strict";try{var e=this._getDataItem(t,this._rowDataItemsMap);return e&&!e.isHidden?e.newY:void 0}catch(t){this._handleException(t,"verticalStartOfRowItem")}},heightOfRowItem:function(t){"use strict";try{var e=this._getDataItem(t,this._rowDataItemsMap);return e&&!e.isHidden?e.totalHeight:void 0}catch(t){this._handleException(t,"heightOfRowItem")}},topVerticalScrollOffset:function(){return this._layoutRows[C.BodyAtTheTop].scrollStart()},verticalScrollOffset:function(){return this._layoutRows[C.MainBody].scrollStart()},_getHorViewScrollOffset:function(){},actualWidth:function(){"use strict";return this._elementWidth/this.options.visualZoomFactor},_actualScaledMainWidth:function(){"use strict";return this._mainWidth/this.options.visualZoomFactor},_actualScaledMainHeight:function(){"use strict";return this._mainHeight/this.options.visualZoomFactor},totalWidth:function(){return this._layoutStacks[b.Columns].extent()},totalHeight:function(){var t=this._actualTitleHeight(D.top)+this._actualBodyAreaSeparatorHeight()+this._actualTitleHeight(D.bottom);return!this.options.commonBodyViewAreaVisible&&this.options.topBodyViewAreaVisible||(t+=this._layoutRows[C.MainBody].extent()),this.options.topBodyViewAreaVisible&&(t+=this._layoutRows[C.BodyAtTheTop].extent()),t},_checkForAutomaticRowExpansion:function(t,e,i,o){"use strict";var a=this,n=a._findRowDataItemAtY(e);if(n&&null!=a._automaticRowExpansionParams&&n.id!==a._automaticRowExpansionParams.rowDataItem.id&&a._stopAutomaticRowExpansionTimer(),!n||!(n===i||n.level>=o))if(n?.isCollapsed&&Array.isArray(n.item.childRowItems)){if(null!=a._automaticRowExpansionParams&&a._automaticRowExpansionParams.rowDataItem===n&&(new Date).getTime()-a._automaticRowExpansionParams.time<500&&Math.abs(a._automaticRowExpansionParams.pageX-t)<10&&Math.abs(a._automaticRowExpansionParams.pageY-e)<10)return;a._stopAutomaticRowExpansionTimer(),a._automaticRowExpansionParams={rowDataItem:n,pageX:t,pageY:e,time:(new Date).getTime(),timerID:window.setTimeout((function(){try{n.isCollapsed&&Array.isArray(n.item.childRowItems)&&(a._expandOrCollapseRow(a._automaticRowExpansionParams.rowDataItem,!0,!1),a._stopAutomaticRowExpansionTimer())}catch(t){a._handleException(t,"_checkForAutomaticRowExpansion")}}),a._automaticExpansionDelay)}}else a._stopAutomaticRowExpansionTimer()},_stopAutomaticRowExpansionTimer:function(){"use strict";var t=this;t._automaticRowExpansionParams&&(window.clearTimeout(t._automaticRowExpansionParams.timerID),t._automaticRowExpansionParams=void 0)},_checkForAutoscroll:function(t,e,i,o,a){"use strict";var n=this,r=n._actualScrollBarWidth(),l=n._getBodyClientRect(),s=e<=l.top+n._layoutRows[C.BodyAtTheTop].innerViewExtent()?0:e<l.bottom?1:-1,c=t<=l.left+n._layoutColumns[I.Table].innerViewExtent()?0:t<l.right?1:-1,d={};s>=0&&c>=0&&(i&&(c?l.left+=n._layoutColumns[I.Table].innerViewExtent():l.right-=n._layoutColumns[n._verSBLayoutColumn()].innerViewExtent(),d.left=l.left<=t&&t<l.left+n._autoscrollMargin,d.right=l.right-n._autoscrollMargin<=t&&t<l.right+(c?r:0)),o&&(s?l.top+=n._layoutRows[C.BodyAtTheTop].innerViewExtent():l.bottom-=n._layoutRows[C.MainBody].innerViewExtent(),d.top=l.top<=e&&e<l.top+n._autoscrollMargin,d.bottom=l.bottom-n._autoscrollMargin<=e&&e<l.bottom+(s?r:0))),d.left||d.top||d.right||d.bottom?(n._autoscrollParams&&!n._autoscrollParams.isScrolling&&n._stopAutoscroll(),n._autoscrollParams||(n._autoscrollParams={isScrolling:!1,timerID:window.setTimeout((function(){try{n._onAutoscrollTimer()}catch(t){n._handleException(t,"_checkForAutoscroll")}}),n._autoscrollInitialDelay)}),n._autoscrollParams.horizontalBodyAreaIndex=s,n._autoscrollParams.layoutColumn=c,n._autoscrollParams.inMargins=d,n._autoscrollParams.callbackFunc=a):n._stopAutoscroll()},_getBodyClientRect:function(t){"use strict";try{var e,i,o,a=t??this._verSBLayoutColumn();i=I.Table<a?this._actualSplitterWidth?.()??0:0,o=this._actualBodyAreaSeparatorHeight();for(var n=I.Table;n<=a;n++)i+=this._layoutColumns[n].innerViewExtent();for(var r=0;r<=1;r++)o+=this._layoutRows[r].innerViewExtent();return i*=this.options.visualZoomFactor,o*=this.options.visualZoomFactor,{left:(e=this._overlayAreas[t??I.Table][C.BodyAtTheTop].getBoundingClientRect()).left,top:e.top,right:e.left+i,bottom:e.top+o,width:i,height:o}}catch(t){return this._handleException(t,"_getBodyClientRect"),{left:0,top:0,right:0,bottom:0,width:0,height:0}}},_onAutoscrollTimer:function(){"use strict";var t=this;if(t._autoscrollParams){t._autoscrollParams.isScrolling=!0,t._autoscrollParams.timerID=window.setTimeout((function(){try{t._onAutoscrollTimer()}catch(e){t._handleException(e,"_onAutoscrollTimer")}}),t._autoscrollDelay);var e,i,o=t._getScrollOffsets(t._autoscrollParams.layoutColumn,t._autoscrollParams.horizontalBodyAreaIndex);t._autoscrollParams.inMargins.left?e=o.horScrollOffset-t._autoscrollDistance:t._autoscrollParams.inMargins.right&&(e=o.horScrollOffset+t._autoscrollDistance),t._autoscrollParams.inMargins.top?i=o.verScrollOffset-t._autoscrollDistance:t._autoscrollParams.inMargins.bottom&&(i=o.verScrollOffset+t._autoscrollDistance);let r=t._layoutRows[t._autoscrollParams.horizontalBodyAreaIndex].scrollStart();var a=[];a[t._autoscrollParams.horizontalBodyAreaIndex]=i;let l=t._layoutColumns[t._autoscrollParams.layoutColumn].scrollStart();var n=[];n[t._autoscrollParams.layoutColumn]=e,t._scrollTo(n,a),!t._autoscrollParams.callbackFunc||t._layoutRows[t._autoscrollParams.horizontalBodyAreaIndex].scrollStart()===r&&t._layoutColumns[t._autoscrollParams.layoutColumn].scrollStart()===l||t._autoscrollParams.callbackFunc.call(t)}},_stopAutoscroll:function(){"use strict";var t=this;t._autoscrollParams&&(window.clearTimeout(t._autoscrollParams.timerID),t._autoscrollParams=void 0)},_calculateVisibleVerticalBodyRangeForVirtualization:function(t){"use strict";var e=this;if(!e.options.virtualized)return{top:0,bottom:e._layoutRows[t].extent()};var i="number"==typeof e._layoutRows[t].innerViewExtent()?e._layoutRows[t].innerViewExtent():Math.max(e._elementHeight-e._actualTitleHeight(D.top),0),o=e._layoutRows[t].extent(),a=Math.min(i,o)/2,n=e._layoutRows[t].scrollStart();return{top:Math.max(0,n-a),bottom:Math.min(n+i+a,o),exactTop:n,exactBottom:Math.min(n+i,o)}},_updateVirtualization:function(t,e){"use strict";for(var i,o=this,a=e&&!o._isItemAtTheTop(e.item)?1:0;a<=(!e||!o._isItemAtTheTop(e.item));a++){var n=t===R.OptionChanged;if(o.options.virtualized||n||!o._layoutRows[a].visibleRange().bottom){var r=o._calculateVisibleVerticalBodyRangeForVirtualization(a),l=!n&&o._layoutRows[a].virtualizedExtent()!==o._layoutRows[a].extent();if(o._layoutRows[a].virtualizedExtent(o._layoutRows[a].extent()),n||l||t===R.ViewResized||r.top<o._layoutRows[a].visibleRange().top||r.bottom>o._layoutRows[a].visibleRange().bottom){if(i=!0,o._layoutRows[a].visibleRange(r),o.options.virtualized){var s=new Set;if(t!==R.RowCollapsed&&t!==R.RowLeavesCollapsed)for(let t of o._realizedVisibleRowsSet)if(!!o._isItemAtTheTop(t.item)==(0===a)){var c=t.newY??t.oldY;(t&&c>r.bottom||c+t.totalHeight<r.top)&&(s.add(t),t.virtualizationStatus=T.Invisible)}if(!n)for(let t of o._realizedInvisibleRowsSet)if(!!o._isItemAtTheTop(t.item)==(0===a)){let e=t.newY??t.oldY;t&&e<=r.bottom&&e+t.totalHeight>=r.top&&(o._realizedVisibleRowsSet.add(t),o._realizedInvisibleRowsSet.delete(t),t.virtualizationStatus=T.Visible)}for(let t of s)o._realizedVisibleRowsSet.delete(t),n?o._removeRowByDataItem(t):o._realizedInvisibleRowsSet.add(t)}if(t!==R.RowExpanded&&t!==R.RowLeavesExpanded){let i=o._currentlyVisibleRowDataItems[a]?.length;if(i){let i,n;if(n=t===R.RowCollapsed||t===R.RowLeavesCollapsed?o._currentlyVisibleRowDataItems[a].indexOf(e)+1:o._findRowDataItemIndex(a,void 0,r.top),n>=0&&(i=o._currentlyVisibleRowDataItems[a].slice(n).filter((t=>o._isRowDataItemVirtualized(t))),i.length)){let t=o._createRows(i,void 0,g.Virtualization);t.length&&(t.forEach((e=>{o._realizedVisibleRowsSet.add(e),e.virtualizationStatus=T.Visible,t.push(e)})),o._createOrUpdateLastRowSeparationLine())}}}}}}i&&(t!==R.OptionChanged&&t!==R.ScrolledVertically&&t!==R.ViewResized||o._additionalVirtualizationUpdate(t),t===R.ViewResized&&o._worldViewDivJQ&&o.options.worldViewVisible&&(o._createRows(o._currentlyVisibleRowDataItems?o._currentlyVisibleRowDataItems[0].slice().concat(o._currentlyVisibleRowDataItems[1]):[],void 0,g.WorldView),o._renderCompleteWorldView()),o.options.virtualized&&(t===R.ScrolledVertically||o.options.asynchronousRendering?o.options.asynchronousRendering&&o._rowDataItemIDsToCreateOrRemoveMap?.size||o._removeRealizedRowsIfTooMany(!0):o._renewRemoveRealizedRowsTimer(!0)))},_createOrRemoveRowPartsAsynchronously:function(t,e,i){var o=this;let a=t=>{!function(){let t={[C.BodyAtTheTop]:o.getVisibleVerticalRangeOfViewArea(!0),[C.MainBody]:o.getVisibleVerticalRangeOfViewArea(!1)},e=performance.now()+200,i=!1;for(let a=0;a<2;a++)for(let n of o._rowDataItemIDsToCreateOrRemoveMap.keys()){let r=o._rowDataItemIDsToCreateOrRemoveMap.get(n),l=t[r.h],s=r.v,c="r"===r.a,d=r.t<l.bottom&&r.b>l.top;if(a||!c&&d){if(!c||!d)if(Array.isArray(r.f))for(let t of r.f)t(s);else r.f(s);o._rowDataItemIDsToCreateOrRemoveMap.delete(n),i||c||(i=!0)}if(performance.now()>=e){a=1e3;break}}o._rowDataItemIDsToCreateOrRemoveMap.size?o._cORRAi=window.requestIdleCallback(a):(o.options.virtualized&&i&&o._updateVirtualization(R.ScrolledVertically),o.options.measuredRenderingTimeFunc?.call(o,o._extendCallbackArgs({duration:(new Date).getTime()-o._cORRAi_lastActiveTimeLogged})))}()};o._rowDataItemIDsToCreateOrRemoveMap?.size||(o._rowDataItemIDsToCreateOrRemoveMap||(o._rowDataItemIDsToCreateOrRemoveMap=new Map),o._cORRAi=window.requestIdleCallback(a));let n,r=e.horizontalBodyAreaIndex,l=e.id,s=e.newY??e.oldY,c=null!=e.newY?e.newY+e.totalHeight:e.oldY+e.oldTotalHeight,d=`${"b"===t?"B":"R"}${l}`;if("b"===t){if(n=o._rowDataItemIDsToCreateOrRemoveMap.get(d),n)return void n.f.push(i);n={h:r,t:s,b:c,a:t,v:e.version,f:[i]}}else n={h:r,t:s,b:c,a:t,v:e.version,f:i};o._rowDataItemIDsToCreateOrRemoveMap.delete(d),o._rowDataItemIDsToCreateOrRemoveMap.set(d,n),"r"===t&&o._rowDataItemIDsToCreateOrRemoveMap.delete(`B${l}`)},_createRowContent:function(){},_isRowDataItemVirtualized:function(t){return t.virtualizationStatus<=T.Precalculated},_additionalVirtualizationUpdate:function(){},_renewRemoveRealizedRowsTimer:function(t){"use strict";var e=this;e.options.virtualized&&(t||void 0!==e._removeRealizedRowsTimerHandle)&&(void 0!==e._removeRealizedRowsTimerHandle&&window.clearTimeout(e._removeRealizedRowsTimerHandle),e._removeRealizedRowsTimerHandle=window.setTimeout((function(){try{e._removeRealizedRowsIfTooMany(),e._removeRealizedRowsTimerHandle=void 0}catch(t){e._handleException(t,"_renewRemoveRealizedRowsTimer")}}),2e3))},_removeRealizedRowsIfTooMany:function(t){"use strict";var e=this;if(e.options.virtualized){let i=e.options.asynchronousRendering,o=e._realizedInvisibleRowsSet.size;if(e.options.realizedRowsCountMaximum<o){let a=0,n=function(t){e._realizedInvisibleRowsSet.delete(t),e._removeRowByDataItem(t),t.virtualizationStatus=T.Precalculated};for(let r of e._realizedInvisibleRowsSet){if(i?e._createOrRemoveRowPartsAsynchronously("r",r,(function(t){r.version===t&&n(r)})):n(r),e.options.realizedRowsCountMaximum>=--o)break;if(!i&&!t&&++a>50){e._renewRemoveRealizedRowsTimer(!0);break}}}}else{for(let t of e._realizedInvisibleRowsSet)e._realizedVisibleRowsSet.add(t),t.virtualizationStatus=T.Visible;e._realizedInvisibleRowsSet.clear()}},_cacheTransitionFunction:function(t){"use strict";this._cachedTransitionFuncs.push(t)},_executeCachedTransitionFunctions:function(){"use strict";this._cachedTransitionFuncs.forEach((function(t){t.call(this)})),this._cachedTransitionFuncs.length=0},_pointToSVGRelative:function(t,e,i){"use strict";var o,a=this;o=t===a._svgRootD3.node()?{x:0,y:0}:t.getBBox({stroke:!0});var n=t.getBoundingClientRect();return{x:(e-(n.left-a.options.offsetCorrection.x*a.options.visualZoomFactor)+o.x)/a.options.visualZoomFactor,y:(i-(n.top-a.options.offsetCorrection.y*a.options.visualZoomFactor)+o.y)/a.options.visualZoomFactor}},eventPointToBody:function(){"use strict";var t=this,e=a.mouse(t._svgRootD3.node());return e[1]>=t._actualBodyViewTop(C.BodyAtTheTop)&&e[1]<t._actualInnerBodyViewBottom(C.MainBody)?{x:e[0]-t._actualLayoutColumnsOffsetHor(),y:e[1]-t._actualBodyViewsOffsetVer()}:null},_findRowDataItemAtY:function(t){"use strict";var e=this,i=e._pointToSVGRelative(e._svgRootD3.node(),0,t);if(i.y>=e._actualTitleHeight(D.top)){var o=i.y<e._actualTitleHeight(D.top)+e._layoutRows[C.BodyAtTheTop].innerViewExtent()?0:1;if(e._currentlyVisibleRowDataItems[o]){var a=e.element[0].getBoundingClientRect(),n=e._actualTitleHeight(D.top);o&&(n+=e._layoutRows[C.BodyAtTheTop].innerViewExtent()+e._actualBodyAreaSeparatorHeight());var r=e._findRowDataItemIndex(o,void 0,(t-a.top)/e.options.visualZoomFactor-n+e._layoutRows[o].scrollStart());return r>=0?e._currentlyVisibleRowDataItems[o][r]:void 0}var l=e._foregroundBodyD3s[o].selectAll("."+e.NXXXXX.ROW_CLASS).filter((function(){var e=this.getBoundingClientRect();return e.top<=t&&e.bottom>t}));if(l.size())return l.node().data()}},_findRowDataItemIndex:function(t,e,i){"use strict";if(!e){if(isNaN(+i))return-1;e=function(t,e){var i=t.newY??t.oldY;return t&&i<=e&&i+(t.totalHeight||1)>e?0:i<e?-1:1}}for(var o,a=0,n=this._currentlyVisibleRowDataItems[t].length-1;a<=n;){var r=(a+n)/2|0;o=this._currentlyVisibleRowDataItems[t][r];var l=e.call(this,o,i);if(!l)break;l<0?a=r+1:n=r-1}return a>n?-1:r},getVisibleVerticalRangeOfViewArea:function(t){"use strict";return Object.assign({},this._layoutRows[t?0:1].visibleRange())},_showOrHideWorldView:function(){"use strict";var t=this,e=0;t.options.worldViewVisible&&(e="number"==typeof t.options.worldViewExtent?Math.floor(t.options.worldViewExtent):150),null==t.options.worldViewPosition&&(t.options.worldViewPosition=m.Bottom),t._mainWidth=t._elementWidth,t._mainHeight=t._elementHeight,t.options.worldViewPosition===m.Top||t.options.worldViewPosition===m.Bottom?(t._mainHeight-=e,t._mainHeight<100&&(t._mainHeight=Math.min(100,t._elementHeight),e=t._elementHeight-t._mainHeight)):(t._mainWidth-=e,t._mainWidth<100&&(t._mainWidth=Math.min(100,t._elementWidth),e=t._elementWidth-t._mainWidth)),t._divScaleD3.style("left",t.options.worldViewPosition===m.Left?e+"px":0).style("top",t.options.worldViewPosition===m.Top?e+"px":0),e?(t._worldViewDivJQ||(t._worldViewDivJQ=o("<div></div>").attr("tabindex",-1).attr("class",t.NXXXXX.WORLD_VIEW_CLASS).appendTo(t.element)),t._worldViewDivJQ.css("left",t.options.worldViewPosition===m.Right?t._mainWidth:0).css("top",t.options.worldViewPosition===m.Bottom?t._mainHeight:0).css("width",t._elementWidth-t._mainWidth||t._elementWidth).css("height",t._elementHeight-t._mainHeight||t._elementHeight).nWorldViewCanvasWidget({position:t.options.worldViewPosition,redrawFunc:function(){t._renderCompleteWorldView.apply(t,arguments)},onViewRectMovedFunc:function(){t._onViewRectMovedInWorldView.apply(t,arguments)}}),t._provideChartSizeToWorldView(),t._createRows(t._currentlyVisibleRowDataItems?t._currentlyVisibleRowDataItems[0].slice().concat(t._currentlyVisibleRowDataItems[1]):[],void 0,g.WorldView)):t._worldViewDivJQ&&(t._worldViewDivJQ.remove(),delete t._worldViewDivJQ)},_provideChartSizeToWorldView:function(){this._worldViewDivJQ&&this._worldViewDivJQ.nWorldViewCanvasWidget("instance").updateChartSize(this._getChartSizeForWorldView())},_provideViewRectsToWorldView:function(){this._worldViewDivJQ&&this._worldViewDivJQ.nWorldViewCanvasWidget("instance").updateViewRects(this._getViewRectsForWorldView())},_getChartSizeForWorldView:function(){},_getViewRectsForWorldView:function(){return[]},renderWorldView:function(){this._worldViewDivJQ&&this._renderCompleteWorldView()},_renderCompleteWorldView:function(){},_onViewRectMovedInWorldView:function(){},isInInteraction:function(){"use strict";try{return this._isInDragOver||u.isContextMenuActive()}catch(t){return this._handleException(t,"isInInteraction"),!1}},cancelInteraction:function(t){"use strict";try{this._cancelInteractionAtLast(t)}catch(t){this._handleException(t,"cancelInteraction")}},_cancelInteractionAtLast:function(){},isRowCollapsed:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap,e._unusedRowDataItemsMap);return i?i.isCollapsed:t.initiallyCollapsed}catch(t){this._handleException(t,"isRowCollapsed")}},areRowLeavesCollapsed:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap,e._unusedRowDataItemsMap);return i?i.areLeavesCollapsed:t.leavesInitiallyCollapsed}catch(t){this._handleException(t,"areRowLeavesCollapsed")}},isRowHidden:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap,e._unusedRowDataItemsMap);return i?i.isHidden:void 0}catch(t){this._handleException(t,"isRowHidden")}},isRowVirtualized:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap,e._unusedRowDataItemsMap);return i?e._isRowDataItemVirtualized(i):void 0}catch(t){this._handleException(t,"isRowVirtualized")}},getLevelOfRowItem:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap,e._unusedRowDataItemsMap);return i?i.level:0}catch(t){return this._handleException(t,"getLevelOfRowItem"),0}},getParent:function(t){"use strict";try{return l.assertNotNull(t,"",0),this._getParentAtLast(t)}catch(t){this._handleException(t,"getParent")}},_getParentAtLast:function(t){"use strict";return this._getDataItem(t,this._rowDataItemsMap,this._unusedRowDataItemsMap)?.parentRowDataItem?.item},getRowItem:function(){},getVisibleParent:function(t,e){"use strict";try{l.assertNotNull(t,"",0);var i=this,o=this._getVisibleParent(i._getDataItem(t,i._rowDataItemsMap,i._unusedRowDataItemsMap),e);return o?o.item:t}catch(t){this._handleException(t,"getVisibleParent")}},_getVisibleParent:function(t,e){"use strict";if(t){if(!e)return t.visibleRowDataItem;var i=[];do{i.push(t),t=t.parentRowDataItem}while(t&&t.level>e);for(var o=i.length-1;o>=0&&!(t=i[o]).isCollapsed;o--);}return t},determineRowItems:function(t,e){"use strict";try{var i=this,o=[];return(e||i.options.rowItemsRoot)&&(i._doDetermineRowDataItemsOrRowItemsRecursively(e||i.options.rowItemsRoot,o,t,!0),o.splice(0,1)),o}catch(t){this._handleException(t,"determineRowItems")}},disposeUnusedItems:function(){"use strict";this._unusedRowDataItemsMap.clear()},disposeUnusedItem:function(t){"use strict";this._unusedRowDataItemsMap.delete(t.id)},getItemBoundingRect:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this._getDataItem(t,this._rowDataItemsMap);if(e&&!e.isHidden)return{xOffset:0,yOffset:0,left:0,top:e.newY,bottom:e.newY+e.totalHeight,height:e.totalHeight}}catch(t){this._handleException(t,"getItemBoundingRect")}return null},saveCollapseStates:function(t,e,i,o){"use strict";try{l.assertNotNull(t,"",0),l.assertFunction(e,"",1),l.assertFunctionOrNull(i,"",2);var a=this,n={},r=!0,s=function(t,l){if(l>=0){var c=o?{R:a.isRowCollapsed(t),L:a.areRowLeavesCollapsed(t)}:{_isCollapsed:a.isRowCollapsed(t),_areLeavesCollapsed:a.areRowLeavesCollapsed(t)};i&&i.call(a,t,c);var d=e.call(a,t,c);n[d]=c,r=!1}Array.isArray(t.childRowItems)&&t.childRowItems.forEach((function(t){s(t,l+1)}))};return t&&s(t,-1),r?null:n}catch(t){this._handleException(t,"saveCollapseStates")}},restoreCollapseStates:function(t,e,i,o,a){"use strict";try{if(l.assertNotNull(e,"",1),l.assertFunction(i,"",2),l.assertFunctionOrNull(o,"",3),t){var n,r=this,s=t,c=function(t,e){if(e>=0){var a=i.call(r,t),l=s[a];if(void 0!==l){void 0===n&&(n=void 0!==l.R),o&&o.call(r,t,l);var d=n?l.R:l._isCollapsed;t.initiallyCollapsed=d;var _=n?l.L:l._areLeavesCollapsed;t.leavesInitiallyCollapsed=_;var u=r._getDataItem(t,r._rowDataItemsMap);u&&(!!u.isCollapsed!=!!d&&r._expandOrCollapseRow(u,!1,!0,!1),void 0!==_&&!!u.areLeavesCollapsed!=!!_&&r._expandOrCollapseRow(u,!1,!0,!0))}}Array.isArray(t.childRowItems)&&t.childRowItems.forEach((function(t){c(t,e+1)}))},d=r.options.updateSuspended;a||e!==r.options.rowItemsRoot||r._setOption("updateSuspended",!0),i&&t&&c(e,-1),a||(e===r.options.rowItemsRoot&&r._setOption("updateSuspended",d),window.setTimeout((()=>{r._bodyChanged(g.Other)}),r.options.transitionDuration))}}catch(t){this._handleException(t,"restoreCollapseStates")}},collapseAllRowsAtLevel:function(t,e){"use strict";try{this.collapseAllRowsAtLevelRange(t,t,e)}catch(t){this._handleException(t,"collapseAllRowsAtLevel")}},collapseAllRowsAtLevelRange:function(t,e,i){"use strict";try{l.assertNumber(t,"",0),l.assertNumber(e,"",1);var o=this;if(t>e){var a=t;t=e,e=a}o.determineRowItems(!1,i).forEach((function(i){var a=o._getDataItem(i,o._rowDataItemsMap);!a.isCollapsed&&a.level>=t&&a.level<=e&&o._expandOrCollapseRow(a,!1,!0,!1)})),o.update()}catch(t){this._handleException(t,"collapseAllRowsAtLevelRange")}},expandAllRowsAtLevel:function(t,e){"use strict";try{this.expandAllRowsAtLevelRange(t,t,e)}catch(t){this._handleException(t,"collapseAllRowsAtLevelRange")}},expandAllRowsAtLevelRange:function(t,e,i){"use strict";try{l.assertNumber(t,"",0),l.assertNumber(e,"",1);var o=this;if(t>e){var a=t;t=e,e=a}o.determineRowItems(!1,i).forEach((function(i){var a=o._getDataItem(i,o._rowDataItemsMap);a.isCollapsed&&a.level>=t&&a.level<=e&&o._expandOrCollapseRow(a,!1,!0,!1)})),o.update()}catch(t){this._handleException(t,"expandAllRowsAtLevelRange")}},invalidateRowHeight:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this._getDataItem(t,this._rowDataItemsMap,this._unusedRowDataItemsMap);if(!e)throw new Error("rowItem is not known, eventually use invalidateRow with parent row item of it and setting childRowsChangedFlag to true");t!==this.options.rowItemsRoot&&(this._unusedRowDataItemsMap.delete(e.id),this._rowDataItemsMap.set(e.id,e)),delete e.totalHeight}catch(t){this._handleException(t,"invalidateRowHeight")}},_doInvalidateRowWithCheck:function(t,e){"use strict";try{l.assertNotNull(t,"",0);var i=this._getDataItem(t,this._rowDataItemsMap,this._unusedRowDataItemsMap);if(!i)throw new Error("rowItem is not known, eventually use invalidateRow with parent row item of it and setting childRowsChangedFlag to true");t!==this.options.rowItemsRoot&&(this._unusedRowDataItemsMap.delete(i.id),this._rowDataItemsMap.set(i.id,i)),this._doInvalidateRow(i,e)}catch(t){this._handleException(t,"invalidateRow")}},_doInvalidateRow:function(t,e){"use strict";var i=this,o=new Set,a=function(t,e,i){e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(n){Array.isArray(e[n])&&(e[n].forEach((function(t){i?(o.add(t),t.tempOldParentRowDataItem=e):(o.delete(t),delete t.tempOldParentRowDataItem),a(e,t,i)})),!i||t&&t!==e.parentRowDataItem||(e[n].length=0))}))};e.childRowsChangedFlag&&a(void 0,t,!0),i.__doInvalidateRowRecursively(t,e),e.childRowsChangedFlag&&(a(void 0,t,!1),o.forEach((function(t){t.tempOldParentRowDataItem===t.parentRowDataItem&&(i._removeRowCompletely(t,!1),delete t.parentRowDataItem,i.options.autoDisposeOfUnusedItems||i._unusedRowDataItemsMap.set(t.id,t),i._rowDataItemsMap.delete(t.id),t.selected&&i._selectedRowDataItemsMap.delete(t.id),delete t.selected),delete t.tempOldParentRowDataItem}))),i._PE_DoInvalidateRow_111(t)},__doInvalidateRowRecursively:function(){},_PE_DoInvalidateRow_111:function(){},invalidateAllRows:function(t,e){"use strict";this._invalidateAllRowsAtLast(t,e)},update:function(){},_determineRowDataItems:function(t,e,i){"use strict";var o=this,a=[],n=e?e.item:this.options.rowItemsRoot;return n&&(this._doDetermineRowDataItemsOrRowItemsRecursively(n,a,t,!1),t&&a.splice(0,1)),null!=i&&(a=a.filter((function(t){return!!o._isItemAtTheTop(t.item)==!i}))),a},_doDetermineRowDataItemsOrRowItemsRecursively:function(t,e,i,o){"use strict";var a=this,n=a._getDataItem(t,a._rowDataItemsMap);(n||o)&&(e.push(o?t:n),n&&n.isLeaf||["leafRowItems","childRowItems"].forEach((function(r,l){i&&(l?n?n.isCollapsed:t.initiallyCollapsed:!a.options.leafRowsVisible||(n?n.areLeavesCollapsed:t.leavesInitiallyCollapsed))&&(!l||t!==a.options.rowItemsRoot)||!Array.isArray(t[r])||t[r].forEach((function(t){a._doDetermineRowDataItemsOrRowItemsRecursively(t,e,i,o)}))})))},_getDataItem:function(t,e,i){"use strict";return this._getDataItemByID(t[this._OBJECT_ID_PROPERTY],e,i)},_getDataItemByID:function(t,e,i){"use strict";var o;return t&&!(o=e.get(t))&&i&&(o=i.get(t)),o},_getOrCreateDataItem:function(t,e,i){"use strict";var o=this,a=!1,n=o._getDataItem(t,e,i);if(!n){var r=(o._nextDataItemID++).toString();n={id:r,version:0,item:t},e.set(r,n),t[o._OBJECT_ID_PROPERTY]=r,a=!0}return{dataItem:n,isCreated:a}},_rowItemsRootChanged:function(){"use strict";var t=this;t._rowItemsRootChanged_ClearAllSelections();var e=new Set;for(let i of t._rowDataItemsMap.values())e.add(i);var i=[];if(t.options.rowItemsRoot){i.push({rowItem:t.options.rowItemsRoot,isLeaf:!1});for(var o=0;o<i.length;o++){var a=i[o],n=a.rowItem,r=a.isLeaf,l=t._getOrCreateDataItem(n,t._rowDataItemsMap,t._unusedRowDataItemsMap),s=l.dataItem,c=s.id;s.isHidden=!1,s.visibleRowDataItem=s,s.virtualizationStatus=T.Unrealized,s.item===t.options.rowItemsRoot&&(s.level=-1),l.isCreated?s.isLeaf=r:(t._unusedRowDataItemsMap.delete(c),t._rowDataItemsMap.set(c,s),e.delete(s),delete s.totalHeight),r||["leafRowItems","childRowItems"].forEach((function(t,e){Array.isArray(n[t])&&n[t].forEach((function(t){i.push({rowItem:t,isLeaf:!e})}))}))}}e.forEach((function(e){t.options.autoDisposeOfUnusedItems||t._unusedRowDataItemsMap.set(e.id,e),delete e.childRowDataItems,delete e.leafRowDataItems,t._rowDataItemsMap.delete(e.id),e.selected&&t._selectedRowDataItemsMap.delete(e.id),delete e.selected,t._removeRowByDataItem(e),t._rowItemsRootChanged_ClearAdditionalUsages(e),t._realizedVisibleRowsSet.delete(e)||t._realizedInvisibleRowsSet.delete(e)}));var d={rowDataItems:[]};t._rowItemsRootChanged_prepareUpdate(i.map((function(t){return t.rowItem})),d),d.rowDataItems.sort((function(t,e){return e.level-t.level})),t._rowItemsRootChanged_update(d)},_rowItemsRootChanged_ClearAllSelections:function(){"use strict";this._changeRowItemSelection([],!0)},_rowItemsRootChanged_ClearAdditionalUsages:function(){},_rowItemsRootChanged_getRowDataItemWithChildren:function(t,e){"use strict";var i=this,o=i._getDataItem(t,i._rowDataItemsMap,i._unusedRowDataItemsMap);return e.rowDataItems.push(o),void 0===o.isCollapsed&&(o.isCollapsed=t.initiallyCollapsed||!1),void 0===o.areLeavesCollapsed&&(o.areLeavesCollapsed=t.leavesInitiallyCollapsed||!1),["leafRowItems","childRowItems"].forEach((function(e,a){if(Array.isArray(t[e])){var n=["leafRowDataItems","childRowDataItems"][a];o[n]=[],t[e].forEach((function(t){var e=i._getDataItem(t,i._rowDataItemsMap,i._unusedRowDataItemsMap);e.isLeaf=!a,e.level=o.level+1,e.parentRowDataItem=o,o[n].push(e);var r=e.isHidden=o.isHidden||(a?o.isCollapsed:!i.options.leafRowsVisible||o.areLeavesCollapsed);e.visibleRowDataItem=r?o.visibleRowDataItem:e}))}})),o},_rowItemsRootChanged_prepareUpdate:function(t,e){"use strict";var i=this;t.forEach((function(t){i._rowItemsRootChanged_getRowDataItemWithChildren(t,e)}))},_rowItemsRootChanged_update:function(){},determineActualRowMargins:function(){"use strict";var t=this,e={top:t.options.topRowMargin,bottom:t.options.bottomRowMargin};return null==e.top&&(e.top=t.options.rowMargin),null==e.bottom&&(e.bottom=t.options.rowMargin),e.sum=e.top+e.bottom,e},_registerBackgroundPanningEvents:function(){},_isAnyItemSelected:function(){"use strict";return!!this._selectedRowDataItemsMap.size},_changeRowItemSelection:function(t,e){"use strict";for(var i=this,o=new Map,n=0;n<t.length;n++){let e=t[n].selectable;var r=i._getDataItem(t[n],i._rowDataItemsMap);r&&(null==e?r.isLeaf?i.options.defaultLeafRowItemSelectable:i.options.defaultRowItemSelectable:e)&&o.set(r.id,r)}let l=i._selectedRowDataItemsMap.size;for(let t of i._selectedRowDataItemsMap.values())o.has(t.id)||(delete t.selected,e||i._updateRowSelection(t),i._selectedRowDataItemsMap.delete(t.id));for(let t of o.values()){let o=t.item.selectable;(null==o?t.isLeaf?i.options.defaultLeafRowItemSelectable:i.options.defaultRowItemSelectable:o)&&(i._selectedRowDataItemsMap.has(t.id)||(t.selected=!0,i._selectedRowDataItemsMap.set(t.id,t),e||i._updateRowSelection(t)))}e||"auto"!==i.options.unselectedItemsShownCovered||!!l==!!o.size||i._foregroundBodyD3s.forEach((function(t){t.selectAll("."+i.NXXXXX.ROW_CLASS).each((function(t){var e=o.size&&!t.selected;a.select(this).select("."+i.NXXXXX.UNSELECTED_ROW_COVER_CLASS).attr("visibility",e?null:"hidden")}))}))},_isCtrlKeyPressed:function(t,e){return!this.options.selectedItemsShownHighlighted&&("touch"===t.pointerType&&!e)!==(_.isMacOrIOS?t.srcEvent.metaKey:t.srcEvent.ctrlKey)},_selectRow:function(t,e){"use strict";var i,o,a,n=this,r=n.selectedRowItems(),l=r.slice(),s=n._isCtrlKeyPressed(e,!n._selectedRowDataItemsMap.size);if(s){if(n._PE_SelectRowCancelled())return;if(n._selectedRowDataItemsMap.has(t.id)){var c=l.indexOf(t.item);c>-1&&l.splice(c,1)}else o=l.slice(),l.push(t.item),i=!0}else n.options.canSelectRowItemFunc&&r.indexOf(t.item)<0&&(o=[],i=!0),l=[t.item];if(n._updateSuspendedForSelectionChanges=!0,i&&n.options.canSelectRowItemFunc){var d=n._extendCallbackArgs({rowItem:t.item,otherSelectedRowItems:o,altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:s,ctrlKey:s,event:e.srcEvent,hammerEvent:e,canSelect:!0});n.options.canSelectRowItemFunc.call(n,d),d.canSelect||(a=!0)}if(!a&&n.options.selectRowItemFunc){d=n._extendCallbackArgs({rowItem:t.item,oldSelectedItems:n.selectedRowItems(),newSelectedItems:l,altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:s,ctrlKey:s,event:e.srcEvent,hammerEvent:e,cancel:!1});n._PE_SelectRow_111(d),n.options.selectRowItemFunc.call(n,d),d.cancel?a=!0:l=Array.isArray(d.newSelectedItems)?d.newSelectedItems:[]}delete n._updateSuspendedForSelectionChanges,a||n.selectedRowItems(l)},_PE_SelectRowCancelled:function(){return!1},_PE_SelectRow_111:function(){},isRowItemSelected:function(t){"use strict";try{l.assertNotNull(t,"",0);var e=this,i=e._getDataItem(t,e._rowDataItemsMap);if(i)return e._selectedRowDataItemsMap.has(i.id)}catch(t){this._handleException(t,"isRowItemSelected")}},selectedRowItems:function(t){"use strict";try{l.assertArrayOrNull(t,"",0);var e=this;if(void 0===t)return Array.from(e._selectedRowDataItemsMap.values()).map((t=>t.item));e.options.rowItemsSelectable&&(e._PE_SelectedRowItems_01(t),e._changeRowItemSelection(t),e._updateSuspendedForSelectionChanges||e.update())}catch(t){this._handleException(t,"selectedRowItems")}},_PE_SelectedRowItems_01:function(){},_updateAllRowSelections:function(){"use strict";var t=this;if(t.options.rowItemsSelectable)for(let e of t._selectedRowDataItemsMap.values())e.foregroundRowElem&&t._updateRowSelection(e)},_updateRowSelection:function(){},_createRowOmissionSymbol:function(t,e){"use strict";var i=this;if(i.options.rowOmissionSymbolsVisible){var o=t.append("g").attr("class",i.NXXXXX.ROW_OMISSION_SYMBOL_CLASS);o.append("line").attr("class",i.NXXXXX.ROW_OMISSION_SYMBOL_BACKGROUND_LINE_CLASS).attr("x2",i._actualScaledMainWidth()),o.append("line").attr("class",i.NXXXXX.ROW_OMISSION_SYMBOL_MIDDLE_LINE_CLASS).attr("x2",i._actualScaledMainWidth()),o.append("line").attr("class",i.NXXXXX.ROW_OMISSION_SYMBOL_FOREGROUND_LINE_CLASS).attr("x2",i._actualScaledMainWidth()),e.omissionSymbolExistent=!0}},_bodyChanged:function(t,e,i){"use strict";var o=this;if(!o._bodyChanged_isSuspended(t))if(o._bodyChanged_prepareUpdate(),o._updateOfRowsNeeded||o._bodyChanged_updateNeededByUpdateCause(t)){var n=t===g.RowExpanded||t===g.RowLeavesExpanded,r=t===g.RowCollapsed||t===g.RowLeavesCollapsed,l=t===g.RowItemsChanged&&o._isTableWithRowDefinitionsMap()&&o._determineRowDataItems().some(((t,e)=>void 0===t.tableRowDefinition&&e));t===g.RowItemsRootChanged&&(t=g.RowItemsChanged);var s=[0,0];e?delete e.totalHeight:e=o.options.rowItemsRoot?o._getDataItem(o.options.rowItemsRoot,o._rowDataItemsMap):null,e&&e.item===o.options.rowItemsRoot&&(e=null);var c=o._currentlyVisibleRowDataItems?o._currentlyVisibleRowDataItems[0].slice().concat(o._currentlyVisibleRowDataItems[1]):[],d=o._determineRowDataItems(!0);o._currentlyVisibleRowDataItems=[],y.forEach((function(t){o._currentlyVisibleRowDataItems[t]=[]}));var _=[0,0],u=[[],[]];d.forEach((function(t){var e=o._getBodyAreaIndex(t.item);if(o._currentlyVisibleRowDataItems[e].push(t),t.arrayIndex=_[e]++,t.newY=s[e],null!=t.oldY?(u[e].forEach((e=>{e.oldY=t.oldY})),u[e].length=0):o.options.isForExport||u[e].push(t),void 0===t.totalHeight){let e=t.item.totalHeight;if(0!==e&&0===t.parentRowDataItem?.totalHeight&&(e=0),null!=e)o._bodyChanged_setTotalHeight(t,e);else{var i=+t.item.minimumHeight;i>=0&&isFinite(i)||(i=void 0),t.mainHeightLimited?t.totalHeight=t.mainHeight:o._bodyChanged_setTotalHeight(t,o._bodyChanged_calcTotalHeight(t,i))}if(t.item.additionalHeight&&(t.totalHeight+=t.item.additionalHeight),o._bodyChanged_restrictTotalHeight(t),o.options.rowHeightCalcFunc){var a=o._extendCallbackArgs({rowItem:t.item,mainHeight:t.mainHeight,totalHeight:t.totalHeight});e=o.options.rowHeightCalcFunc.call(o,a),t.totalHeight=void 0!==e?e:a.totalHeight}}s[e]+=o._getRowTotalHeight(t)}));for(var h=[],p=[],f=0;f<=1;f++)if(p[f]=o._layoutRows[f].extent(),o._layoutRows[f].extent(s[f]),h[f]=o._layoutRows[f].visibleRange(),o.options.virtualized&&(p[f]||0)<=s[f]){var m=o._calculateVisibleVerticalBodyRangeForVirtualization(f);o._layoutRows[f].visibleRange().bottom<m.bottom&&o._layoutRows[f].visibleRange(m)}var w=[];o.options.isForExport||(n?w.push(o._getBodyAreaIndex(e.item)):[C.BodyAtTheTop,C.MainBody].forEach((t=>{p[t]<s[t]&&w.push(t)})),w.forEach((t=>{let e,i=o._defsD3.select("#"+o.NXXXXX.TEMP_BODY_CLIPPATH_ID+o._uniqueID+"_"+t);i.size()?e=i.select("rect"):(i=o._defsD3.append("clipPath").attr("id",o.NXXXXX.TEMP_BODY_CLIPPATH_ID+o._uniqueID+"_"+t),e=i.append("rect")),e.attr("width",o._actualScaledMainWidth()).attr("height",p[t]),[o._backgroundBodyD3s[t],o._foregroundBodyD3s[t]].forEach((function(e){e.attr("clip-path","url(#"+o.NXXXXX.TEMP_BODY_CLIPPATH_ID+o._uniqueID+"_"+t+")")}))})));var E,T=[],R=c||[];for(d.forEach((function(t){t.entered||(T.push(t),t.version++);var e=R.indexOf(t);e>=0&&R.splice(e,1)})),R.forEach((function(t){if(t.arrayIndex=-1,t.isLeaf&&t.parentRowDataItem===e||!o.options.leafRowsVisible||t.visibleRowDataItem.areLeavesCollapsed||!t.visibleRowDataItem.leafRowDataItems||!t.visibleRowDataItem.leafRowDataItems.length)t.newY=t.visibleRowDataItem.newY+(t.visibleRowDataItem.totalHeight||0);else{var i=t.visibleRowDataItem.leafRowDataItems[t.visibleRowDataItem.leafRowDataItems.length-1];t.newY=i.newY+(i.totalHeight||0)}delete t.entered})),o._createRows(T,e,t),o._updateRows(R,e,t),f=0;f<=1;f++)o._layoutRows[f].visibleRange(h[f]);d.forEach((function(t){t.oldY=t.newY,t.oldMainHeight=t.mainHeight,t.oldTotalHeight=t.totalHeight,t.oldAdditionalHeight=o._getRowAdditionalHeight(t)})),l&&o._tableDefinitionChanged(!0,!0),i||void 0!==o._layoutRows[C.MainBody].innerViewExtent()||(o._doResize(),E=!0),p[C.BodyAtTheTop]===o._layoutRows[C.BodyAtTheTop].extent()&&p[C.MainBody]===o._layoutRows[C.MainBody].extent()||E||o._doResize(t,e),w.length&&o._cacheTransitionFunction((function(){w.forEach((i=>{let r=o._defsD3.select("#"+o.NXXXXX.TEMP_BODY_CLIPPATH_ID+o._uniqueID+"_"+i);r.select("rect").transition().duration(o.options.transitionDuration).attr("height",s[i])[a.timeFormat?"on":"each"]("end",(function(){[o._backgroundBodyD3s[i],o._foregroundBodyD3s[i]].forEach((function(t){t.attr("clip-path",null)})),n&&(o._updateVirtualization(t,e),o._executeCachedTransitionFunctions()),r.remove()}))}))})),o.options.virtualized&&(r||n||!o._layoutRows[C.MainBody].visibleRange().bottom)&&o._updateVirtualization(t,e),T.forEach((function(t){t.entered=!0})),o._bodyChanged_additionalUpdates(t),o._createOrUpdateLastRowSeparationLine(r||n,p[C.BodyAtTheTop]+p[C.MainBody]===s[C.BodyAtTheTop]+s[C.MainBody]),o._executeCachedTransitionFunctions(),o._scrollTo([void 0,void 0],o._layoutStacks[b.Rows].scrollStarts()),o._cachedRowItemAtTops[C.BodyAtTheTop]===o.visibleStartRowItem(C.BodyAtTheTop)&&o._cachedRowItemAtTops[C.MainBody]===o.visibleStartRowItem(C.MainBody)||o._callVerticalScrollOffsetChangedFunc(!0),!o._worldViewDivJQ||p[C.BodyAtTheTop]===o._layoutRows[C.BodyAtTheTop].extent()&&p[C.MainBody]===o._layoutRows[C.MainBody].extent()||o._renderCompleteWorldView(),o._updateOfRowsNeeded=!1}else t===g.RowItemsChanged&&(o._updateOfRowsNeeded=!0),o._bodyChanged_additionalUpdates(null)},_bodyChanged_isSuspended:function(){},_bodyChanged_prepareUpdate:function(){},_bodyChanged_additionalUpdates:function(){},_bodyChanged_updateNeededByUpdateCause:function(){},_bodyChanged_setTotalHeight:function(t,e){t.totalHeight=e},_bodyChanged_restrictTotalHeight:function(){},_bodyChanged_calcTotalHeight:function(){},_getBodyAreaIndex:function(t){return this._isItemAtTheTop(t)?C.BodyAtTheTop:C.MainBody},_isItemAtTheTop:function(t){return(!this.options.isForExport||!this.options.topBodyViewAreaVisible)&&t.atTheTop},_createRows:function(t,e,i){"use strict";var o=this,a=i===g.RowExpanded||i===g.RowLeavesExpanded,n={};e&&a&&o._determineRowDataItems(!1,e).forEach((function(t){n[t.id]=!0}));var r=i===g.Virtualization,l=r?[]:void 0;r&&!o._realizedVisibleRowsSet.size&&(i=g.RowItemsChanged);var s=!o.options.virtualized||i===g.ScrollToRow,c=[s,s],d=[],_={};return t.every((function(t){if(t!==e&&a&&n[t.id]&&(t.oldY=e?e.oldY+e.oldTotalHeight:0,e&&i===g.RowExpanded&&o.options.leafRowsVisible&&!e.areLeavesCollapsed&&e.leafRowDataItems&&e.leafRowDataItems.length)){var s=e.leafRowDataItems[e.leafRowDataItems.length-1];t.oldY=s.oldY+s.oldTotalHeight}if(o._isRowDataItemVirtualized(t)){var u=o._getBodyAreaIndex(t.item);if(!c[u]){let e=d[u]??(d[u]=o._layoutRows[u].visibleRange());if((t.oldY<e.exactBottom||t.newY<e.bottom)&&(t.oldY+t.totalHeight>=e.exactTop||t.newY+t.totalHeight>=e.top)){c[u]=!0;let e=[];for(let i=t.parentRowDataItem;i&&i.item!==o.options.rowItemsRoot&&o._isRowDataItemVirtualized(i)&&!_[i.id];i=i.parentRowDataItem)e.push(i);e.reverse().forEach((t=>{_[t.id]=t,o._createRow(t,void 0,g.AncestorsNeeded)}))}}}let h=o._createRow(t,e,i);return l&&h&&l.push(t),!r||h})),Object.values(_).forEach((t=>{o._removeRowByDataItem(t)})),l},_checkForVisibilityOfUnselectedRowCover:function(t){"use strict";var e=this,i=("auto"===e.options.unselectedItemsShownCovered&&e._isAnyItemSelected()||!0===e.options.unselectedItemsShownCovered)&&!t.selected;a.select(t.foregroundRowElem).select("."+e.NXXXXX.UNSELECTED_ROW_COVER_CLASS).attr("visibility",i?null:"hidden")},_createRow:function(){},_updateRows:function(t,e,i){"use strict";var o,n=this;i!==g.RowExpanded&&i!==g.RowLeavesExpanded||(o=0);for(var r=0;r<=1;r++)n._currentlyVisibleRowDataItems[r].forEach((function(t){if(n._isRowDataItemVirtualized(t))n._createRow(t,e,i);else if(n._worldViewDivJQ&&!t.worldViewCache&&n._createRow(t,void 0,g.WorldView),t.arrayIndex){var l=n.options.rowOmissionSymbolsVisible&&(t.totalHeight?!n._currentlyVisibleRowDataItems[r][t.arrayIndex-1].totalHeight:t.arrayIndex===n._currentlyVisibleRowDataItems[r].length-1);if(!!t.omissionSymbolExistent!==l){var s=a.select(t.foregroundRowElem);l?n._createRowOmissionSymbol(s,t):(s.select("."+n.NXXXXX.ROW_OMISSION_SYMBOL_CLASS).remove(),delete t.omissionSymbolExistent)}}if(t.foregroundRowElem){void 0!==o&&(o?o&&t.level<=e.level?o=-1:1===o&&t.isLeaf?o=2:o>0&&!t.isLeaf&&(o=3):t===e&&(o=1));var c=a.select(t.backgroundRowElem),d=(s=a.select(t.foregroundRowElem),t.oldY??t.newY),_=t.newY,u=t.totalHeight,h=null!=t.oldTotalHeight?t.oldTotalHeight:u,p=Math.ceil(u-(t.item.additionalHeight||0)||0),f=Math.ceil(null!=t.oldTotalHeight?h-(t.oldAdditionalHeight||0)||0:p),m=c.selectAll("."+n.NXXXXX.ROW_HEIGHT_PROP_CLASS),w=s.selectAll("."+n.NXXXXX.ROW_HEIGHT_PROP_CLASS);m.attr("height",h),w.attr("height",h);var E=c.selectAll("."+n.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS),R=s.selectAll("."+n.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS);E.attr("height",f),R.attr("height",f);var v=c.selectAll("."+n.NXXXXX.ROW_MAIN_HEIGHT_SCALE_CLASS),C=s.selectAll("."+n.NXXXXX.ROW_MAIN_HEIGHT_SCALE_CLASS);v.attr("transform","scale(1,"+f+")"),C.attr("transform","scale(1,"+f+")");var I=d!==_,b=h!==u;(I||b)&&(n._worldViewDivJQ&&(n._updateRowSelection(t,g.WorldView),n._createRow(t,void 0,g.WorldView)),n._cacheTransitionFunction((function(){if(I&&(!b||u)){var e="translate(0,"+_+")";c.transition().duration(n.options.transitionDuration).attr("transform",e),s.transition().duration(n.options.transitionDuration).attr("transform",e)}if(I&&n._updateRows_moveVertically(t,i,s,_-d),b&&(m.transition().duration(n.options.transitionDuration).attr("height",u),w.transition().duration(n.options.transitionDuration).attr("height",u),E.transition().duration(n.options.transitionDuration).attr("height",p),R.transition().duration(n.options.transitionDuration).attr("height",p),v.transition().duration(n.options.transitionDuration).attr("transform","scale(1,"+p+")"),C.transition().duration(n.options.transitionDuration).attr("transform","scale(1,"+p+")"),!u)){e="translate(0,"+_+")";c.transition().duration(n.options.transitionDuration).attr("transform",e+" "+A).transition().duration(1).attr("transform",e).selectAll("*").remove(),s.transition().duration(n.options.transitionDuration).attr("transform",e+" "+A).transition().duration(1).attr("transform",e).selectAll("*").remove().each((function(e){n._updateRows_hideSelectionFrameForHiddenRow(e),t.worldViewSelectionCacheMap&&delete t.worldViewSelectionCacheMap["T"+e.id]})),t.worldViewSelectionCacheMap&&(delete t.worldViewSelectionCacheMap["R"+t.id],n._renderCachedRowInWorldView(t,"S"))}})));var D=void 0!==o?(i===g.RowExpanded?[1,3]:[1,2]).indexOf(o)>=0:void 0;n._updateRows_updateSingleRow(t,c,D,e),b&&n._updateRows_callback(t,c,s)}t.virtualizationStatus>T.Precalculated&&(!t.entered||t.oldY!==t.newY)&&n._updateRows_prepareExitingRow(t)}));n._updateRows_handleExitingRows(t,e)},_updateRows_moveVertically:function(){},_updateRows_hideSelectionFrameForHiddenRow:function(){},_updateRows_updateSingleRow:function(){},_updateRows_prepareExitingRow:function(){},_updateRows_handleExitingRows:function(t){"use strict";var e=this;t.forEach((function(t){e._removeRowCompletely(t,!0)}))},_updateRows_callback:function(){},_removeRowCompletely:function(t,e){"use strict";var i=this;if(t.foregroundRowElem){var o=a.select(t.backgroundRowElem),n=a.select(t.foregroundRowElem),r=t.specialRowElems?.[1]?a.select(t.specialRowElems[1]):null;i._realizedVisibleRowsSet.delete(t)||t.virtualizationStatus!==T.Invisible||i._realizedInvisibleRowsSet.delete(t),t.virtualizationStatus=e?T.Unrealized:T.Precalculated;var l=n.select("."+i.NXXXXX.TABLE_ROW_CLASS).node();if(e){var c=t.newY;i._cacheTransitionFunction((function(){o.transition().duration(i.options.transitionDuration).attr("transform","translate(0,"+c+") "+A).remove().selectAll("*").remove(),i._removeSelectionFrames(n,!1),[n,r].forEach((function(e){e&&e.transition().duration(i.options.transitionDuration).attr("transform",(function(){return"translate(0,"+c+") "+A}))[a.timeFormat?"on":"each"]("end",(function(){e===n&&(t.version===n.property(i._ITEM_VERSION_PROPERTY)&&i._detachRowDataItem(t,!0),s.off(a.select(l).selectAll("*").nodes(),i._pointerEvents,".*")),e.remove().selectAll("*").remove(),e.selectAll("*").datum(null),t.worldViewSelectionCacheMap&&(delete t.worldViewSelectionCacheMap["R"+t.id],i._renderCachedRowInWorldView(t,"S"))}))}))}))}else i._removeSelectionFrames(n,!0),i._detachRowDataItem(t,!1),o.remove().selectAll("*").remove(),s.off(a.select(l).selectAll("*").nodes(),i._pointerEvents,".*"),n.remove().selectAll("*").remove(),r&&r.remove().selectAll("*").remove(),t.worldViewSelectionCacheMap&&(delete t.worldViewSelectionCacheMap["R"+t.id],i._renderCachedRowInWorldView(t,"S")),t.backgroundRowElem=void 0,t.foregroundRowElem=void 0,r&&(t.specialRowElems[1]=void 0)}delete t.entered},_removeSelectionFrames:function(){},collapseRow:function(t,e){"use strict";try{l.assertNotNull(t,"",0);var i=this,o=i._getDataItem(t,i._rowDataItemsMap,i._unusedRowDataItemsMap);o&&!(e?o.areLeavesCollapsed:o.isCollapsed)&&i._expandOrCollapseRow(o,!1,!1,e)}catch(t){this._handleException(t,"collapseRow")}},expandRow:function(t,e){"use strict";try{l.assertNotNull(t,"",0);var i=this,o=i._getDataItem(t,i._rowDataItemsMap,i._unusedRowDataItemsMap);o&&(e?o.areLeavesCollapsed:o.isCollapsed)&&i._expandOrCollapseRow(o,!1,!1,e)}catch(t){this._handleException(t,"expandRow")}},_expandOrCollapseRow:function(t,e,i,o){"use strict";this._doExpandOrCollapseRow(t,{interactively:e,withoutUpdate:i,concernsLeaves:o})},_doExpandOrCollapseRow:function(t,e){"use strict";var i=this;i._setOption("updateSuspended",!1);var o=t.item,a=e.concernsLeaves?"areLeavesCollapsed":"isCollapsed",n=!t[a];if(i.options.rowExpandOrCollapseFunc){var r=i._extendCallbackArgs({rowItem:o,concernsLeaves:e.concernsLeaves,isCollapsed:e.concernsLeaves?t.isCollapsed:!t.isCollapsed,areLeavesCollapsed:e.concernsLeaves?!t.areLeavesCollapsed:t.areLeavesCollapsed,interactively:!!e.interactively,promise:void 0});i.options.rowExpandOrCollapseFunc.call(i,r)}var l=function(){if(t[a]!==n){if(e.beforeStateChangeFunc&&e.beforeStateChangeFunc.call(i,t,e.concernsLeaves),t[a]=n,i.options.rowExpandedOrCollapsedFunc){var r=i._extendCallbackArgs({rowItem:o,concernsLeaves:e.concernsLeaves,isCollapsed:t.isCollapsed,areLeavesCollapsed:t.areLeavesCollapsed,interactively:!!e.interactively});i.options.rowExpandedOrCollapsedFunc.call(i,r)}if(i._rowDataItemsMap.has(t.id)){i._doInvalidateRow(t,e.additionalFlagsForInvalidateRows||{});var l=function(t,e){["childRowDataItems","leafRowDataItems"].forEach((function(o,a){if(Array.isArray(t[o])){var n=e||(a?!i.options.leafRowsVisible||t.areLeavesCollapsed:t.isCollapsed);t[o].forEach((function(e){if(e){e.isHidden=n;var i=n?t.visibleRowDataItem:e;e.oldVisibleRowDataItem=e.visibleRowDataItem,e.visibleRowDataItem=i,a||l(e,n)}}))}}))};t.isLeaf||l(t,t.isHidden)}var s;if(e.afterStateChangeFunc&&e.afterStateChangeFunc.call(i,t,e.concernsLeaves),!e.withoutUpdate&&i._rowDataItemsMap.has(t.id))s=t[a]?e.concernsLeaves?g.RowLeavesCollapsed:g.RowCollapsed:e.concernsLeaves?g.RowLeavesExpanded:g.RowExpanded,i._bodyChanged(s,t)}};r&&r.promise&&"function"==typeof r.promise.then?r.promise.then((function(){l()})):l()},_createOrUpdateLastRowSeparationLine:function(t,e){},getOrCreateClipPathForRange:function(t,e){"use strict";try{var i=this;t=Math.ceil(+t||0),e=Math.floor(Math.max(+e||0,t));var o=i.NXXXXX.TEXT_CLIPPATH_ID_PREFIX+this._uniqueID+"-"+t+"-"+e;return i._defsD3.select("#"+o).empty()&&i._defsD3.append("clipPath").attr("id",o).append("rect").attr("width",e-t).attr("x",t).attr("y",-1e3).attr("height",2e3),o}catch(t){this._handleException(t,"getOrCreateClipPathForRange")}return""},setClipPathAttrOnElemD3WithRefCount:function(t,e){"use strict";try{l.assertNotNull(t,"",0),l.assertStringOrNull(e,"",1);var i,o=this;e&&(i=o._clipPathReferenceCounts[e]||0,o._clipPathReferenceCounts[e]=++i);var a=t.attr("clip-path");if(a){var n="#"!==a[4]?1:0,r=a.substring(5+n,a.length-1-n);(i=--o._clipPathReferenceCounts[r])||(o._defsD3.select("#"+r).remove(),delete o._clipPathReferenceCounts[r])}t.attr("clip-path","url(#"+e+")")}catch(t){this._handleException(t,"setClipPathAttrOnElemD3WithRefCount")}},_enrichClass:function(t,e,i){"use strict";var o=this;if(o.options.enrichClassFunc){i[o.NXXXXX.WIDGET_PROPERTYNAME_IN_CALLBACKS]=o,i.item=t.item,i.additionalClasses=void 0,i.currentClasses=e,!("level"in i)&&"level"in t&&(i.level=t.level);var a=o.options.enrichClassFunc.call(o,i);return void 0===a&&(a=i.additionalClasses),e=i.currentClasses,a?e?a+" "+e:a:e}return e},_localeChanged:function(){"use strict";try{this.invalidateAllRows(),this.update()}catch(t){this._handleException(t,"onLocaleChanged")}},_removeRowByDataItem:function(t){"use strict";var e=t.backgroundRowElem,i=t.foregroundRowElem,o=t.specialRowElems?.[1];this._detachRowDataItem(t,!0),a.select(e).remove().selectAll("*").remove(),a.select(i).remove().selectAll("*").remove(),o&&a.select(o).remove().selectAll("*").remove()},_detachRowDataItem:function(t,e){"use strict";var i=this;if(t.backgroundRowElem){var o=a.select(t.backgroundRowElem);i._detachEventListenersFromRows(o,!1),o.datum(null).selectAll("*").datum(null),t.backgroundRowElem=void 0}if(t.foregroundRowElem){o=a.select(t.foregroundRowElem);i._detachEventListenersFromRows(o,!0),i._detachRowContents(o,e),o.datum(null).selectAll("*").datum(null),t.foregroundRowElem=void 0}if(t.specialRowElems?.[1]){o=a.select(t.specialRowElems[1]);i._detachRowContents(o,e),o.datum(null).selectAll("*").datum(null),t.specialRowElems[1]=void 0}},_detachRowContents:function(){},_PE_CurrentOffsetCorrection:function(){},_getRowAdditionalHeight:function(t){return t.item.additionalHeight||0},_getRowMainHeight:function(t){return Math.ceil(t.totalHeight-this._getRowAdditionalHeight(t)||0)},_getRowTotalHeight:function(t){return Math.ceil(t.totalHeight)},showMarkingTemporarily:function(t){"use strict";try{var e=this;if(t){var i=e._temporaryMarkVisible=e._temporaryMarkCounter++;e._temporaryMarkMinimumDate=new Date((new Date).getTime()+500),window.setTimeout((function(){try{var o=function(t){var o=e._PE_GetFrameRectD3(t);o&&(o.attr("opacity",1),function t(){if(e._temporaryMarkVisible===i&&document.body.contains(o.node())){var n=e.options.itemHighlightFlashingEnabled?.8:1,r=e.options.itemHighlightFlashingEnabled?0:1;o.transition().duration(400).attr("opacity",parseFloat(o.attr("opacity"))===r?n:r)[a.timeFormat?"on":"each"]("end",t)}else o.node().parentNode&&o.node().parentNode.removeChild(o.node())}())};Array.isArray(t)?t.forEach((function(t){o(t)})):o(t)}catch(t){e._handleException(t,"showMarkingTemporarily")}}),50)}else e._temporaryMarkVisible=void 0}catch(t){e._handleException(t,"showMarkingTemporarily")}},_PE_GetFrameRectD3:function(t){"use strict";var e=this,i=e._getDataItem(t,e._rowDataItemsMap);if(i){var o=i.foregroundRowElem;if(o){var n=e._getBodyAreaIndex(i.item),r=a.select(o).append("rect").attr("class",e.NXXXXX.TEMP_MARKING_CLASS);e.options.itemHighlightingColor&&r.style("stroke",e.options.itemHighlightingColor);var l=e._actualScaledMainWidth();return l=e._overlayAreas?e._overlayAreas[e._verSBLayoutColumn()][n]._calcOverlayWidthByOverflow(l):l,r.attr("x",2).attr("y",2).attr("width",l-4).attr("height",i.totalHeight/e.options.visualZoomFactor-4),r}}},_handleTapOnBackground:function(t){"use strict";var e=this;if(e.options.rowItemsSelectable&&(e._selectedRowDataItemsMap.size||e.options.selectRowItemFuncCalledForDeselectionForced)&&e.options.selectRowItemFunc){var i=e._extendCallbackArgs({rowItem:null,oldSelectedItems:e.selectedRowItems(),newSelectedItems:(_.isMacOrIOS?t.srcEvent.metaKey:t.srcEvent.ctrlKey)?e.selectedRowItems():[],altKey:t.srcEvent.altKey,shiftKey:t.srcEvent.shiftKey,metaKey:t.srcEvent.metaKey,ctrlKey:t.srcEvent.ctrlKey,event:t.srcEvent,hammerEvent:t,cancel:!1});if(e.options.selectRowItemFunc.call(e,i),i.cancel)return;e._changeRowItemSelection(i.newSelectedItems)}},_updateCursorHighlighters:function(){},_makeCursorHighlightersInvisible:function(){},_actualScrollableWidth:function(){},_createLayoutGrid:function(){"use strict";var t=this;this._layoutGrid=new d([],[0,1,2,3,4],(function(){switch(this.getLayoutElements()){case b.Columns:this.setUpdateFunc((function(e,i){t._layoutStackUpdateColumns(this,e,i)}));break;case b.Rows:this.setUpdateFunc((function(e,i){t._layoutStackUpdateRows(this,e,i)}))}}),(function(){switch(this.getLayoutElements()){case b.Columns:this.setUpdateFunc((function(e,i){t._layoutStripeUpdateColumn(this,e,i)}));break;case b.Rows:this.setUpdateFunc((function(e,i){t._layoutStripeUpdateRow(this,e,i)}))}}),(function(e,i){t._layoutGridCellUpdate(e,i)})),this._layoutStacks=this._layoutGrid.getLayoutStacks(),this._layoutColumns=this._layoutStacks[b.Columns].getLayoutStripes(),this._layoutRows=this._layoutStacks[b.Rows].getLayoutStripes()},_layoutStackUpdateColumns:function(t,e,i){"use strict";var o=this;if(i.innerViewExtent!==e.innerViewExtent){var a=this._actualCompleteInnerViewWidth()+1;this.options.isForExport?this._svgRootD3.attr("width",a):this._svgRootD3.style("width",a+"px"),this.options.isForExport&&!this._dbgClippath||this._bodyClipPathRectD3.attr("width",a),this._backgroundBodyRectD3s.forEach((function(t){t.attr("width",a)}));for(var n=this._actualScaledMainWidth(),r=0;r<=1;r++)this._titleVisible(r)&&o._titleD3s[r]&&this._svgRootD3.select("."+o.NXXXXX.TITLE_SEPARATION_LINE_CLASS[r]).attr("x2",n);this._foregroundBodyD3s.forEach((function(t){t.selectAll("."+o.NXXXXX.UNSELECTED_ROW_COVER_CLASS+",."+o.NXXXXX.COVERED_AND_HIGHLIGHTED_ROW_CLASS).attr("width",n)})),this._foregroundAreaSeparatorD3.attr("width",n+1)}},_layoutStackUpdateRows:function(t,e,i){"use strict";if(i.innerViewExtent!==e.innerViewExtent){var o=this._actualTitleHeight(D.top)+this._actualInnerBodyViewHeightsSumWithSeparator()+this._actualTitleHeight(D.bottom)+1;this.options.isForExport?this._svgRootD3.attr("height",o):this._svgRootD3.style("height",o+"px")}},_layoutStripeUpdateColumn:function(t,e,i){"use strict";if(i.innerViewExtent!==e.innerViewExtent){var o=t.getStripeID();this._widthClipPathRectD3s[o]&&this._widthClipPathRectD3s[o].attr("width",i.innerViewExtent)}},_layoutStripeUpdateRow:function(t,e,i){"use strict";var o=this;if(i.start!==e.start){var a=function(t){o._titleVisible(t)&&o._titleD3s[t]&&o._titleD3s[t].attr("transform","translate(0,"+o._actualTitleAreaTop(t)+")")};switch(t.getStripeID()){case C.TopTitle:a(D.top);break;case C.BottomTitle:a(D.bottom)}}if(i.extent!==e.extent||i.innerViewExtent!==e.innerViewExtent){var n=Math.max(this._actualTitleHeight(D.top),this._actualInnerBodyViewHeightsSumWithSeparator(),this._actualBodyHeightsSum(),this._actualTitleHeight(D.bottom));this._layoutColumns.forEach((function(t){var e=t.getStripeID();o._widthClipPathRectD3s[e]&&o._widthClipPathRectD3s[e].attr("y",-n).attr("height",2*n)}))}if(i.innerViewExtent!==e.innerViewExtent){var r=function(t){if(o._backgroundBodyRectD3s[t].attr("height",Math.max(0,i.innerViewExtent)+1),!o.options.isForExport||o._dbgClippath){var e=o._actualInnerBodyViewHeightsSumWithSeparator();o._bodyClipPathRectD3.attr("height",Math.max(0,e+1))}};switch(t.getStripeID()){case C.BodyAtTheTop:r(C.BodyAtTheTop);break;case C.MainBody:r(C.MainBody)}}if(i.start!==e.start||i.innerViewExtent!==e.innerViewExtent){var l=function(t){if(o._titleVisible(t)&&o._titleD3s[t]){var e=t===D.bottom?o._actualTitleAreaTop(t):o._actualTitleAreaBottom(t);o._svgRootD3.select("."+o.NXXXXX.TITLE_SEPARATION_LINE_CLASS[t]).attr("y1",e).attr("y2",e)}};switch(t.getStripeID()){case C.TopTitle:l(D.top);var s="translate(0,"+this._actualBodyViewTop(C.BodyAtTheTop)+")";this._backgroundBodyScrollParentD3.attr("transform",s),this._foregroundBodyScrollParentD3.attr("transform",s),null!=this._highlightedBodyScrollParentD3&&this._highlightedBodyScrollParentD3.attr("transform",s),null!=this._phantomsBodyScrollParentD3&&this._phantomsBodyScrollParentD3.attr("transform",s);break;case C.BottomTitle:l(D.bottom)}}},_layoutGridCellUpdate:function(t,e){"use strict";var i=t.getStripeID();if(this._overlayAreas&&this._overlayAreas[i]){var o=e.getStripeID();this._overlayAreas[i][o]&&(this._overlayAreas[i][o]._setWidth(t.extent()),this._overlayAreas[i][o]._setHeight(e.extent()),this._overlayAreas[i][o]._setViewWidth(t.outerViewExtent()),this._overlayAreas[i][o]._setViewHeight(e.outerViewExtent()),this._overlayAreas[i][o]._setViewLeft(t.start()))}},_createAndPositionDivOverlays:function(){"use strict";this._overlayAreas=[]},_createAndAppendSVGRootDefs:function(){"use strict";var t=this;this._defsD3=this._svgRootD3.append("defs"),this._defsD3.append("filter").attr("id",this.NXXXXX.BLUR_FILTER_ID+this._uniqueID).append("feGaussianBlur").attr("in","SourceGraphic").attr("stdDeviation",5),this._defsD3.append("pattern").attr("id",this.NXXXXX.ASYNC_WAIT_PATTERN_ID+this._uniqueID).attr("width",v).attr("height",v).attr("patternTransform","rotate(45 0 0)").attr("patternUnits","userSpaceOnUse").append("line").attr("y2",v).style("stroke","rgba(0,0,0,0.1").style("stroke-width",v),this.options.isForExport&&!this._dbgClippath||(this._bodyParentClipPathRectD3s=[],y.forEach((function(e){t._bodyParentClipPathRectD3s[e]=t._defsD3.append("clipPath").attr("id",t.NXXXXX.BODY_PARENT_CLIPPATH_ID[e]+t._uniqueID).append("rect").attr("width",t.options.isForExport?1e7:1e5)})),this._bodyClipPathRectD3=this._defsD3.append("clipPath").attr("id",this.NXXXXX.BODY_CLIPPATH_ID+this._uniqueID).append("rect")),this._svgInnerFrameD3&&(this._innerFrameClipPathRectD3s=this._defsD3.append("clipPath").attr("id",this.NXXXXX.INNER_FRAME_CLIPPATH_ID+this._uniqueID).append("rect"))},_appendTitle:function(t){"use strict";this._titleD3s||(this._titleD3s=[]),this._titleD3s[t]||(this._titleD3s[t]=this._svgRootD3.append("g").attr("class",this.NXXXXX.TITLE_CLASS[t]))},_appendTitleSeparationLine:function(t){"use strict";this._svgRootD3.append("line").attr("class",this.NXXXXX.TITLE_SEPARATION_LINE_CLASS[t])},_appendBackground:function(){"use strict";var t=this;this._backgroundBodyRectD3s=[],this._backgroundBodyParentD3s=[],this._backgroundBodyD3s=[],this._backgroundBodyScrollParentD3=this._svgRootD3.append("g").attr("class",this.NXXXXX.BACKGROUND_BODY_SCROLL_PARENT_CLASS),this.options.isForExport&&!this._dbgClippath||this._backgroundBodyScrollParentD3.attr("clip-path","url(#"+this.NXXXXX.BODY_CLIPPATH_ID+this._uniqueID+")");for(var e=0;e<=1;e++)this._backgroundBodyRectD3s[e]=this._backgroundBodyScrollParentD3.append("rect").attr("class",this.NXXXXX.BACKGROUND_BODY_RECT_CLASS[e]+" "+this.NXXXXX.PUBLIC_BACKGROUND_BODY_RECT_CLASS),s.on(this._backgroundBodyRectD3s[e].node(),"pointerdown"+t.NXXXXX.WIDGET_NAMESPACE,(function(){t._setActiveHorizontalBodyAreaIndex(e)}));for(e=0;e<=1;e++)this._backgroundBodyParentD3s[e]=this._backgroundBodyScrollParentD3.append("g").attr("class",this.NXXXXX.BACKGROUND_BODY_PARENT_CLASS[e]),this.options.isForExport&&!this._dbgClippath||this._backgroundBodyParentD3s[e].attr("clip-path","url(#"+this.NXXXXX.BODY_PARENT_CLIPPATH_ID[e]+this._uniqueID+")"),this._backgroundBodyD3s[e]=this._backgroundBodyParentD3s[e].append("g").attr("class",this.NXXXXX.BACKGROUND_BODY_CLASS[e])},_appendForeground:function(){"use strict";var t=this;this._foregroundBodyParentD3s=[],this._foregroundBodyD3s=[],this._foregroundBodyScrollParentD3=this._svgRootD3.append("g").attr("class",this.NXXXXX.FOREGROUND_BODY_SCROLL_PARENT_CLASS),this.options.isForExport&&!this._dbgClippath||this._foregroundBodyScrollParentD3.attr("clip-path","url(#"+this.NXXXXX.BODY_CLIPPATH_ID+this._uniqueID+")");for(var e=0;e<=1;e++)this._foregroundBodyParentD3s[e]=this._foregroundBodyScrollParentD3.append("g").attr("class",this.NXXXXX.FOREGROUND_BODY_PARENT_CLASS[e]),this.options.isForExport&&!this._dbgClippath||this._foregroundBodyParentD3s[e].attr("clip-path","url(#"+this.NXXXXX.BODY_PARENT_CLIPPATH_ID[e]+this._uniqueID+")"),this._foregroundBodyD3s[e]=this._foregroundBodyParentD3s[e].append("g").attr("class",this.NXXXXX.FOREGROUND_BODY_CLASS[e]);this._foregroundAreaSeparatorD3=this._foregroundBodyScrollParentD3.append("rect").attr("class",this.NXXXXX.FOREGROUND_AREA_SEPARATOR_CLASS);this._phantomsBodyParentD3s=[],this._phantomsBodyD3s=[],this._phantomsBodyScrollParentD3=function(e,i,o,a,n,r){for(var l=t._svgRootD3.append("g").attr("class",o).attr("clip-path","url(#"+t.NXXXXX.BODY_CLIPPATH_ID+t._uniqueID+")"),s=0;s<=1;s++){var c=e[s]=l.append("g").attr("class",a[s]);r&&!t.options.isForExport&&c.attr("clip-path","url(#"+t.NXXXXX.BODY_PARENT_CLIPPATH_ID[s]+t._uniqueID+")"),i[s]=c.append("g").attr("class",n[s]),i[s].append("rect").attr("width",1).attr("height",1).attr("stroke-width",0).attr("fill","transparent")}return l}(this._phantomsBodyParentD3s,this._phantomsBodyD3s,this.NXXXXX.PHANTOMS_BODY_SCROLL_PARENT_CLASS,this.NXXXXX.PHANTOMS_BODY_PARENT_CLASS,this.NXXXXX.PHANTOMS_BODY_CLASS,!1)},_appendIOSScrollBars:function(){},_PE_DoResizeUpdateBodyHeight:function(t){"use strict";var e=this,i="translate(0,"+(e._layoutRows[C.BodyAtTheTop].outerViewExtent()+e._actualBodyAreaSeparatorHeight())+")";t(e._backgroundBodyParentD3s[C.MainBody]).attr("transform",i),t(e._foregroundBodyParentD3s[C.MainBody]).attr("transform",i),null!=e._highlightedBodyParentD3s&&e._highlightedBodyParentD3s[C.MainBody]&&t(e._highlightedBodyParentD3s[C.MainBody]).attr("transform",i),null!=e._phantomsBodyParentD3s&&e._phantomsBodyParentD3s[C.MainBody]&&t(e._phantomsBodyParentD3s[C.MainBody]).attr("transform",i),t(e._backgroundBodyRectD3s[C.MainBody]).attr("transform",i),e.options.isForExport&&!e._dbgClippath||(t(e._bodyParentClipPathRectD3s[C.BodyAtTheTop]).attr("height",e._layoutRows[C.BodyAtTheTop].outerViewExtent()),t(e._bodyParentClipPathRectD3s[C.MainBody]).attr("height",e._layoutRows[C.MainBody].outerViewExtent()))},_setJQsWidth:function(t,e){"use strict";this._setJQsCSS(t,{width:e+"px"})},_setJQsHeight:function(t,e){"use strict";this._setJQsCSS(t,{height:e+"px"})},_setJQsTop:function(t,e){"use strict";this._setJQsCSS(t,{top:e+"px"})},_setJQsLeft:function(t,e){"use strict";this._setJQsCSS(t,{left:e+"px"})},_callJQsScrollTop:function(t,e){"use strict";t.forEach((function(t){t.scrollTop(e)}))},_callJQsScrollLeft:function(t,e){"use strict";t.forEach((function(t){t.scrollLeft(e)}))},_setJQsCSS:function(t,e){"use strict";t.forEach((function(t){t.css(e)}))},_resizeBodyViewsOverlaysHeight:function(t,e){"use strict";for(var i=0;i<=1;i++)e[i]._setViewTopHeightWithAnimation(t,this._actualBodyViewTop(i),this._actualOuterBodyViewHeight(i))},_doResizeOverlaysHeightWithAnimation:function(){},_scrollTopsChanged:function(t,e,i,o,a,n){"use strict";var r=this;if(null!=i&&null!=i[e]&&r._layoutRows[e].scrollStart()!==i[e]&&(a&&r._overlayAreas&&r._overlayAreas[t][e].scrollTop(i[e]),!o)){r._layoutRows[e].scrollStart(i[e]);var l="translate(0,"+-i[e]+")";r._backgroundBodyD3s[e].attr("transform",l),r._foregroundBodyD3s[e].attr("transform",l),null!=r._highlightedBodyD3s&&null!=r._highlightedBodyD3s[e]&&r._highlightedBodyD3s[e].attr("transform",l),null!=r._phantomsBodyD3s&&null!=r._phantomsBodyD3s[e]&&r._phantomsBodyD3s[e].attr("transform",l),n.changedFlag=!0,n.verticalScrolledFlag=!0,n.viewChangedFlags[t]=!0}},_getScrollOffsets:function(){},_scrollLeftsChanged:function(){},_triggerChangedEventAfterScrollOffsetsChanged:function(){this._provideViewRectsToWorldView()},_doRelativeScrollVer:function(t,e,i){"use strict";var o=this,a=o._layoutRows[t].innerViewExtent(),n=i?a*e:e,r=o._cachedNewBodyScrollTops&&o._cachedNewBodyScrollTops[t]||o._layoutRows[t].scrollStart(),l=[];l[t]=Math.min(Math.max(0,o._layoutRows[t].extent()-a),Math.max(0,r-n)),l[t]!==r&&(o._scrollOffsetsChanged([void 0,void 0],l,!0,!0),o._scrollOffsetsChanged([void 0,void 0],l))},_doRelativeScrollHor:function(t,e,i){"use strict";var o=this,a=null!=o._layoutColumns[t].innerViewExtent()?o._layoutColumns[t].innerViewExtent()*o._layoutColumns[t].scrollFactorFixed():o._PE_DefaultWidth(t),n=i?a*e:e,r=o._cachedNewScrollLefts&&o._cachedNewScrollLefts[t]||o._getHorViewScrollOffset(t),l=[];l[t]=Math.max(0,Math.min(o._actualScrollableWidth(t)-a,Math.max(0,r-n))),l[t]!==r&&(o._scrollOffsetsChanged(l,[void 0,void 0],!0,!0),o._scrollOffsetsChanged(l,[void 0,void 0]))},_actualBodyAreaSeparatorHeight:function(){"use strict";return this._layoutRows[C.BodySeparator].outerViewExtent()},_actualInnerBodyViewHeightsSumWithSeparator:function(){"use strict";return this._actualInnerRowViewHeight(C.BodyAtTheTop)+this._actualBodyAreaSeparatorHeight()+this._actualInnerRowViewHeight(C.MainBody)},_actualBodyHeightsSum:function(){"use strict";return this._layoutRows[C.BodyAtTheTop].extent()+this._layoutRows[C.MainBody].extent()},_actualBodyViewsOffsetVer:function(){"use strict";return this._actualLayoutRowsOffsetVer()+this._actualTitleHeight(D.top)+this._actualTitleAreaScrollBarWidth(D.top)},_actualLayoutColumnsOffsetHor:function(){return 0},_actualLayoutRowsOffsetVer:function(){return 0},_actualBodyViewTop:function(t){"use strict";var e=this._actualBodyViewsOffsetVer();return t===C.MainBody&&(e+=this._actualBodyAreaSeparatorHeight()+this._actualOuterBodyViewHeight(C.BodyAtTheTop)),e},_actualInnerRowViewHeight:function(t){"use strict";return this._layoutRows[t].innerViewExtent()},_actualOuterRowViewHeight:function(t){"use strict";return this._layoutRows[t].outerViewExtent()},_actualInnerBodyViewBottom:function(t){"use strict";return this._actualBodyViewTop(t)+this._actualInnerRowViewHeight(t)},_actualOuterBodyViewHeight:function(t){"use strict";return this._layoutRows[t].outerViewExtent()},_actualOuterBodyViewBottom:function(t){"use strict";return this._actualBodyViewTop(t)+this._actualOuterBodyViewHeight(t)},_actualLayoutColumnLeft:function(t){"use strict";return this._actualLayoutColumnsOffsetHor()+this._layoutColumns[t].start()},_actualInnerLayoutColumnRight:function(t){"use strict";return this._actualLayoutColumnLeft(t)+this._layoutColumns[t].innerViewExtent()},_actualOuterLayoutColumnRight:function(t){"use strict";return this._actualLayoutColumnLeft(t)+this._layoutColumns[t].outerViewExtent()},_actualLayoutRowTop:function(t){"use strict";return this._actualLayoutRowsOffsetVer()+this._layoutRows[t].start()},_actualInnerLayoutRowBottom:function(t){"use strict";return this._actualLayoutRowTop(t)+this._layoutRows[t].innerViewExtent()},_actualOuterLayoutRowBottom:function(t){"use strict";return this._actualLayoutRowTop(t)+this._layoutRows[t].outerViewExtent()},_actualTitleAreaTop:function(t){"use strict";return this._actualLayoutRowTop(t+2)},_actualTitleAreaBottom:function(t){"use strict";return this._actualTitleAreaTop(t)+this._actualTitleHeight(t)},_actualCompleteInnerViewWidth:function(){"use strict";return this._layoutStacks[b.Columns].innerViewExtent()},_verSBLayoutColumn:function(){},_PE_DefaultWidth:function(){},_innerClientXToLayoutColumn:function(){},_innerClientYToBodyAreaIndex:function(t){"use strict";for(var e=0;e<=1;e++)if(t>=this._actualBodyViewTop(e)&&t<this._actualInnerBodyViewBottom(e))return e},_PE_ContentOverlays:function(t){"use strict";for(var e=[],i=0;i<=3;i++){var o=this._overlayAreas?.[t]?.[i]?._PE_ContentOverlays();null!=o&&(e=e.concat(o))}return e},_setViewWidth:function(t,e){this._layoutColumns[t].innerViewExtent(e)},_calcInnerBodyViewAndSeparatorHeights:function(t){"use strict";var e=t.slice();if(this._overlayAreas){var i=this._verSBLayoutColumn();e[C.MainBody]=this._overlayAreas[i][C.MainBody]._calcOverlayHeightByOverflow(e[C.MainBody]),e[C.MainBody]<0&&(e[C.MainBody]=0)}return e},_calcInnerViewWidths:function(t){"use strict";var e=t.slice();if(this._overlayAreas){var i=this._verSBLayoutColumn();e[i]=this._overlayAreas[i][C.MainBody]._calcOverlayWidthByOverflow(e[i]),e[i]<0&&(e[i]=0)}return e},_extendCallbackArgs:function(t){"use strict";return t[this.NXXXXX.WIDGET_PROPERTYNAME_IN_CALLBACKS]=this,t},_registerTapEvents:function(t,e,i){"use strict";var a=this,n=function(t,i,n){var r=o.extend({},e,{elem:t,hammerEvent:i,event:i.srcEvent,eventType:i.type});a._triggerEvent(r),n&&n[i.type]&&n[i.type].call(a,i)},r=t.attr("class");null!=r&&""!==r?r+=" ":r="",r+=c.TAP_EVENT_CLASS_NAME+" "+c.DOUBLE_TAP_EVENT_CLASS_NAME,t.attr("class",r);var l=t.node();o(l).data(c.HANDLER_FUNCTION_PROPERTY+a._EVENT_NAMESPACE,(function(t){try{switch(t.type){case c.TAP_EVENT_NAME:a._temporaryMarkVisible=void 0,n(this,t,i);break;case c.DOUBLE_TAP_EVENT_NAME:n(this,t,i)}}catch(t){a._handleException(t,"_registerTapEvents")}}))},_titleVisible:function(t){return this._layoutRows[t+2].outerViewExtent()>0},_actualTitleHeight:function(t){return this._titleVisible(t)?this._layoutRows[t+2].outerViewExtent():0},_actualScrollBarWidth:function(){return this.options.isForExport?0:p.scrollBarWidth()},_actualBodyViewScrollBarWidth:function(t){return t?this._titleVisible(D.bottom)?0:this._actualScrollBarWidth():0},_actualTitleAreaScrollBarWidth:function(t){return t&&this._titleVisible(D.bottom)?this._actualScrollBarWidth():0},_calcBodyViewAndSeparatorHeights:function(t){"use strict";var e=[],i=this._actualScrollBarWidth();this._overlayAreas&&["auto","scroll"].indexOf(this._overlayAreas[this._verSBLayoutColumn()][C.MainBody].overlayParentJQ().css("overflow-x"))<0&&(i=0);var o=this.options.isForExport?1:this.options.maximumTopBodyViewAreaHeightRatio;e[C.BodyAtTheTop]=this.options.topBodyViewAreaVisible&&o?this._layoutRows[C.BodyAtTheTop].extent():0,e[C.MainBody]=!this.options.commonBodyViewAreaVisible&&this.options.topBodyViewAreaVisible&&o?0:this._layoutRows[C.MainBody].extent(),e[C.BodySeparator]=e[C.BodyAtTheTop]&&e[C.MainBody]?this._horizontalBodyAreaSeparatorHeight:0;var a=Math.max(0,t-this._actualTitleHeight(D.top)-e[C.BodySeparator]-i-this._actualTitleHeight(D.bottom));return e[C.MainBody]&&e[C.BodyAtTheTop]?o>0?(e[C.BodyAtTheTop]=Math.min(Math.floor(a*o),e[C.BodyAtTheTop]),e[C.MainBody]=Math.max(0,a-e[C.BodyAtTheTop])):(e[C.MainBody]=Math.min(Math.floor(a*-o),e[C.MainBody]),e[C.BodyAtTheTop]=Math.max(0,a-e[C.MainBody])):e[C.BodyAtTheTop]?e[C.BodyAtTheTop]=a:e[C.MainBody]=a,this._titleVisible(D.bottom)||(e[C.MainBody]+=i),e},_ignoreNextScrollEvents:function(){},preparePageForPrinting:function(t,e){"use strict";var i=this;if(e)e.currentPageNumber++,e.currentPageX++,e.currentPageX>e.maxPageX&&(e.currentPageX=1,e.currentPageY+=1);else{switch((e={zoomFactor:1,currentPageX:1,currentPageY:1,currentPageNumber:1,now:new Date}).completeWidth=this.totalWidth(),e.completeHeight=this.totalHeight(),e.unscaledPrintableWidth=t.pageWidth-t.margins.left-t.margins.right,t.printingMode){case 0:e.repeatedWidth=0,e.repeatedHeight=0,e.scrollableWidth=e.completeWidth,e.scrollableHeight=e.completeHeight,e.margins={left:t.margins.left,top:t.margins.top,right:t.margins.right,bottom:t.margins.bottom},e.pageWidth=e.completeWidth+e.margins.left+e.margins.right,e.pageHeight=e.completeHeight+e.margins.top+e.margins.bottom,e.contentWidth=e.printableWidth=e.completeWidth,e.contentHeight=e.printableHeight=e.completeHeight,e.maxPageX=1,e.maxPageY=1,e.maxPageNumber=1;break;case 1:case 2:1===t.printingMode?(e.repeatedWidth=0,e.repeatedHeight=0):(e.repeatedWidth=this._calcRepeatedWidthForPrinting(),e.repeatedHeight=this._calcRepeatedHeightForPrinting()),e.scrollableWidth=e.completeWidth-e.repeatedWidth,e.scrollableHeight=e.completeHeight-e.repeatedHeight,t.zoomFactorInPercent&&t.zoomFactorInPercent>0&&(e.zoomFactor=100/t.zoomFactorInPercent);var o=function(t,e,i,o,a,n){if(t&&t>0)return(e/t+i+1)/(o-a-n)},a=o(t.horPageCountLimit,e.scrollableWidth,e.repeatedWidth,t.pageWidth,t.margins.left,t.margins.right)||e.zoomFactor,n=o(t.verPageCountLimit,e.scrollableHeight,e.repeatedHeight,t.pageHeight,t.margins.top,t.margins.bottom)||e.zoomFactor,r=Math.max(a,n);if(2===t.printingMode){var l=function(t,e,i,o,a){if(t&&t>0){var n=i-o-a;return e/(Math.max(t,50)/100*n)}},s=l(t.maxTableWidthInPercent||50,e.repeatedWidth,t.pageWidth,t.margins.left,t.margins.right)||e.zoomFactor,c=l(t.maxTitlesHeightInPercent||50,e.repeatedHeight,t.pageHeight,t.margins.top,t.margins.bottom)||e.zoomFactor;r=Math.max(r,s,c)}r>e.zoomFactor&&(e.zoomFactor=r),e.margins={left:t.margins.left*e.zoomFactor,top:t.margins.top*e.zoomFactor,right:t.margins.right*e.zoomFactor,bottom:t.margins.bottom*e.zoomFactor},e.pageWidth=t.pageWidth*e.zoomFactor,e.pageHeight=t.pageHeight*e.zoomFactor,e.printableWidth=e.pageWidth-e.margins.left-e.margins.right,e.printableHeight=e.pageHeight-e.margins.top-e.margins.bottom,e.contentWidth=e.printableWidth-e.repeatedWidth,e.contentHeight=e.printableHeight-e.repeatedHeight,e.maxPageX=Math.ceil(e.scrollableWidth/e.contentWidth),e.maxPageY=Math.ceil(e.scrollableHeight/e.contentHeight),e.maxPageNumber=e.maxPageX*e.maxPageY}this._svgOuterFrameD3.style("width",e.pageWidth+"px"),this._svgOuterFrameD3.style("height",e.pageHeight+"px"),this._svgInnerFrameD3.attr("transform","translate("+e.margins.left+","+e.margins.top+")"),this._innerFrameClipPathRectD3s.attr("width",e.printableWidth).attr("height",e.printableHeight),this._svgInnerFrameD3.attr("clip-path","url(#"+this.NXXXXX.INNER_FRAME_CLIPPATH_ID+this._uniqueID+")"),this._appendFrameLinesForPrinting(t,e),e.zoomFactor/=t.outerScaleFactor,this._svgOuterFrameD3.style("transform","scale("+1/e.zoomFactor+")"),this._svgRootD3.remove(),e.elementRect=this._svgInnerFrameD3.node().getBoundingClientRect(),this._svgInnerFrameD3.append((function(){return i._svgRootD3.node()}))}switch(this._setTextsForPrinting(t,e),t.printingMode){case 0:this._elementWidth===e.printableWidth&&this._elementHeight===e.printableHeight||(this._elementWidth=this._mainWidth=e.printableWidth,this._elementHeight=this._mainHeight=e.printableHeight,this._doResize());break;case 1:this._elementWidth===e.completeWidth&&this._elementHeight===e.completeHeight||(this._elementWidth=this._mainWidth=e.completeWidth,this._elementHeight=this._mainHeight=e.completeHeight,this._doResize());var d=(e.currentPageX-1)*e.contentWidth,_=(e.currentPageY-1)*e.contentHeight;this._svgRootD3.attr("transform","translate("+-d+","+-_+")"),this._positionWatermarks(d,_,e.contentWidth,e.contentHeight),this._hideInvisiblesForPrinting(t,e);break;case 2:var u,h,p=this._verSBLayoutColumn(),f=C.MainBody,m=[],w=[];e.currentPageX===e.maxPageX||e.currentPageY===e.maxPageY?(this._elementWidth=this._mainWidth=e.printableWidth,e.currentPageX===e.maxPageX&&(this._elementWidth=this._mainWidth=e.completeWidth-(e.currentPageX-1)*e.contentWidth),this._elementHeight=this._mainHeight=e.printableHeight,e.currentPageY===e.maxPageY&&(this._elementHeight=this._mainHeight=e.completeHeight-(e.currentPageY-1)*e.contentHeight),this._doResize(),u=(e.currentPageX-1)*e.contentWidth,e.currentPageX===e.maxPageX&&(u=this._layoutColumns[p].extent()-1),h=(e.currentPageY-1)*e.contentHeight,e.currentPageY===e.maxPageY&&(h=this._layoutRows[f].extent()-1),m[p]=u,w[f]=h,this._scrollTo(m,w),e.currentPageX===e.maxPageX&&(u=this._layoutColumns[p].scrollStart()),e.currentPageY===e.maxPageY&&(h=this._layoutRows[f].scrollStart())):(this._elementWidth===e.printableWidth&&this._elementHeight===e.printableHeight||(this._elementWidth=this._mainWidth=e.printableWidth,this._elementHeight=this._mainHeight=e.printableHeight,this._doResize()),u=(e.currentPageX-1)*e.contentWidth,h=(e.currentPageY-1)*e.contentHeight,m[p]=u,w[f]=h,this._scrollTo(m,w)),this._positionWatermarks(e.repeatedWidth,e.repeatedHeight,e.contentWidth,e.contentHeight),this._hideInvisiblesForPrinting(t,e)}return e},_calcRepeatedWidthForPrinting:function(){return 0},_calcRepeatedHeightForPrinting:function(){return this._layoutRows[C.TopTitle].extent()+this._layoutRows[C.BottomTitle].extent()},_hideInvisiblesForPrinting:function(t,e){"use strict";1===t.printingMode&&(this._hideInvisiblesForPrintingAtLast(t,e,"."+this.NXXXXX.TITLE_CLASS[D.top]),this._hideInvisiblesForPrintingAtLast(t,e,"."+this.NXXXXX.TITLE_CLASS[D.bottom]))},_hideInvisiblesForPrintingAtLast:function(t,e,i){"use strict";var o=e.elementRect.left,n=e.elementRect.top,r=o+Math.max(e.contentWidth||0,e.completeWidth)/e.zoomFactor,l=n+Math.max(e.contentHeight||0,e.completeHeight)/e.zoomFactor;this._svgRootD3.selectAll(i).each((function(){var t=this.getBoundingClientRect();t.right<o||t.left>r||t.bottom<n||t.top>l?a.select(this).attr("visibility","hidden"):a.select(this).attr("visibility",null)}))},_getParentD3TopLeft:function(t){"use strict";var e=t.node(),i=e.getBoundingClientRect(),o=e.getBBox();return{parentLeft:i.left-o.x,parentTop:i.top-o.y}},_appendFrameLinesForPrinting:function(t,e){"use strict";if(this._svgOuterFrameD3){this._frameLinesParentD3=this._svgOuterFrameD3.append("g").attr("class",this.NXXXXX.FRAME_LINES_PARENT_CLASS);var i=e.margins.left,o=e.margins.top,a=e.margins.right,n=e.margins.bottom,r=e.pageWidth,l=e.pageHeight,s=20*e.zoomFactor;(o>s||n>s)&&(o>s&&(t.topHTML?(this._frameAreaDivD3s||(this._frameAreaDivD3s={},this._frameAreaImageD3s={}),this._frameAreaDivD3s.top=this._elementD3.append("div").attr("class",this.NXXXXX.FRAME_AREA_DIV_TOP_CLASS).style("width",e.unscaledPrintableWidth+"px").style("height",t.margins.top+"px").style("font-family",this.element.css("font-family")).style("font-size",this.element.css("font-size")),this._frameAreaImageD3s.top=this._frameLinesParentD3.append("image").attr("class",this.NXXXXX.FRAME_IMAGE_CLASS).attr("x",i).attr("y",0).attr("width",e.printableWidth).attr("height",o)):t.topText&&(this._textD3s||(this._textD3s={}),this._textD3s.top=this._frameLinesParentD3.append("text").attr("class",this.NXXXXX.FRAME_TEXT_CLASS).style("font-family",this.element.css("font-family")).attr("dy","0.3em").attr("transform","translate("+r/2+","+o/2+"), scale("+e.zoomFactor+")"))),n>s&&(t.bottomHTML?(this._frameAreaDivD3s||(this._frameAreaDivD3s={},this._frameAreaImageD3s={}),this._frameAreaDivD3s.bottom=this._elementD3.append("div").attr("class",this.NXXXXX.FRAME_AREA_DIV_BOTTOM_CLASS).style("width",e.unscaledPrintableWidth+"px").style("height",t.margins.bottom+"px").style("font-family",this.element.css("font-family")).style("font-size",this.element.css("font-size")),this._frameAreaImageD3s.bottom=this._frameLinesParentD3.append("image").attr("class",this.NXXXXX.FRAME_IMAGE_CLASS).attr("x",i).attr("y",l-n).attr("width",e.printableWidth).attr("height",n)):t.bottomText&&(this._textD3s||(this._textD3s={}),this._textD3s.bottom=this._frameLinesParentD3.append("text").attr("class",this.NXXXXX.FRAME_TEXT_CLASS).style("font-family",this.element.css("font-family")).attr("dy","0.3em").attr("transform","translate("+r/2+","+(l-n/2)+"), scale("+e.zoomFactor+")")))),t.cutMarksVisible&&(this._cuttingMarksD3s||(this._cuttingMarksD3s=[],i>0&&o>0&&(this._cuttingMarksD3s[0]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",i).attr("x2",i).attr("y1",0).attr("y2",o),this._cuttingMarksD3s[1]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",0).attr("x2",i).attr("y1",o).attr("y2",o)),i>0&&n>0&&(this._cuttingMarksD3s[2]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",i).attr("x2",i).attr("y1",l-n).attr("y2",l),this._cuttingMarksD3s[3]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",0).attr("x2",i).attr("y1",l-n).attr("y2",l-n)),a>0&&o>0&&(this._cuttingMarksD3s[4]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",r-a).attr("x2",r-a).attr("y1",0).attr("y2",o),this._cuttingMarksD3s[5]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",r-a).attr("x2",r).attr("y1",o).attr("y2",o)),a>0&&n>0&&(this._cuttingMarksD3s[6]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",r-a).attr("x2",r-a).attr("y1",l-n).attr("y2",l),this._cuttingMarksD3s[7]=this._frameLinesParentD3.append("line").attr("class","ngantt-cutting-mark").attr("x1",r-a).attr("x2",r).attr("y1",l-n).attr("y2",l-n))))}},_textReplacements:function(t,e){"use strict";return e=(e=e.replace("{{#PageNo}}",t.currentPageNumber)).replace("{{#PageCount}}",t.maxPageNumber)},_setTextsForPrinting:function(t,e){"use strict";this._textD3s&&(this._textD3s.top&&this._textD3s.top.text(this._textReplacements(e,t.topText)),this._textD3s.bottom&&this._textD3s.bottom.text(this._textReplacements(e,t.bottomText)))},prepareFrameAreas:function(t,e){"use strict";var a=this,n=new Promise(((n,r)=>{var s=self&&self.html2canvas?self.html2canvas:i.m.null,c=[];if(s&&a._frameAreaDivD3s){var d=function(t,i,n,r,d){if(t&&i){l.assert(s,"saveAsPDF: html2canvas library not loaded");var _=t.node();_.innerHTML=a._textReplacements(e,i);var u=o.makeArray(o(_).parents());u.push(_);var h,p,f=o.makeArray(o(_).find("*"));if("file:"===document.location.protocol&&f.forEach((t=>{let e={img:"src",image:"href"}[t.nodeName.toLowerCase()];if(e){let i=t.getAttribute(e);!i||i.match(/^[a-zA-Z0-9]+:/)&&!i.startsWith("file:")||t.setAttribute(e,"")}})),n>(h=p=32767)||r>p){var m=n/r;m>1?p/=m:m<1&&(h/=m),n>h&&(n=h,r=m>1?r/m:r*m),r>p&&(r=p,n=m>1?n/m:n*m)}var w=window.html2canvas(_,{ignoreElements:t=>!u.includes(t)&&!f.includes(t),width:n,height:r});w.ID=i+"-"+e.currentPageNumber;let E=w.then((t=>new Promise(((e,i)=>{d.call(a,t),e()}))));c.push(E)}};d(a._frameAreaDivD3s.top,t.topHTML,e.unscaledPrintableWidth,t.margins.top,(function(t){try{a._frameAreaImageD3s.top.attr("href",t.toDataURL("image/png"))}catch(t){a.options.handleWarningFunc?.(`Could not create a canvas for topHTML (${t.message}!)`)}})),d(a._frameAreaDivD3s.bottom,t.bottomHTML,e.unscaledPrintableWidth,t.margins.bottom,(function(t){try{a._frameAreaImageD3s.bottom.attr("href",t.toDataURL("image/png"))}catch(t){a.options.handleWarningFunc?.(`Could not create a canvas for bottomHTML (${t.message}!)`)}}))}Promise.all(c).then((()=>{n()}),(t=>{r(t)}))}));return n.ID="Converter-Promise-"+e.currentPageNumber,n},_positionWatermarks:function(t,e,i,n){"use strict";var r=this;[r.options.watermarkURL,r.options.isForExport?r.options.exportWatermarkURL:void 0].forEach((l=>{if(l&&"///"===l.substring(0,3)){var s=a.select("#"+l.substring(3)),c=s.node().getAttribute("data-originalwidth")??1,d=s.node().getAttribute("data-originalheight")??1,_=i/c||1,u=n/d,h=r.options.watermarkScale||Math.min(_,u),p=t+(i-c*h)/2||0,f=e+(n-d*h)/2;o(r._backgroundWatermarkParentD3.node()).children().attr("transform",`translate(${p},${f}) scale(${h})`),r._backgroundWatermarkParentD3.attr("transform","translate(0,0)")}}))},_isActiveHorizontalBodyAreaIndex:function(t){return t===this._activeHorizontalBodyAreaIndex},_setActiveHorizontalBodyAreaIndex:function(t){"use strict";var e=this;let i=e._activeHorizontalBodyAreaIndex!==t;e._activeHorizontalBodyAreaIndex=t,i&&e.options.worldViewVisible&&e._provideViewRectsToWorldView()}};o.widget("netronic.nBaseWidget",S);var X=o.netronic.nBaseWidget;X._UpdateCause=g,X._VirtualizationUpdateCause=R,X._RowItemVirtualizationStatus=T,t.exports=X},5066:t=>{t.exports={ElemType:{Row:1,GroupCell:2,TableCell:3,TableCellText:7,TableRow:8,AllocationRowLeavesIndicator:17},TableRowDefinitionType:{BaseLevel:1,GroupingLevel:2,FixedColumnsPreceding:4,FixedColumnsSucceeding:8,FromCallback:16,Map:32,LeafDefault:64},HorizontalAlignment:{Left:0,Center:1,Right:2},TableCellType:{Text:1,Number:2,Date:3,ImageList:4},RowInteractions:{None:0,DragVertically:8,MoveOutside:32,DragOnSameLevelOnly:64},RowInsertionMode:{None:0,InsertAsChild:1,InsertAsNextSibling:2,InsertAsPreviousSibling:3},PatternType:{VerticalHatch:0,ForwardHatch:1,BackwardHatch:2},_DefaultRowOpacity:.3}},2254:(t,e,i)=>{var o=i(5066).RowInteractions;var a={CELL_X_PROPERTY:"ntable-xOffset",ASYNC_WAIT_PATTERN_EXTENT:40,ASYNC_WAIT_PATTERN_ROTATED_EXTENT:Math.sqrt(3200),_UpdateCause:{Other:0,RowItemsChanged:1,RowItemsRootChanged:3,ScrollToRow:9,Virtualization:101,RowCollapsed:102,RowExpanded:103,WorldView:104,RowLeavesCollapsed:105,RowLeavesExpanded:106,AncestorsNeeded:107,BeforeRowCollapse:108},_RowItemVirtualizationStatus:{Unrealized:0,Precalculated:1,Visible:2,Invisible:3},LayoutRow:{Unknown:-1,BodyAtTheTop:0,MainBody:1,TopTitle:2,BottomTitle:3,BodySeparator:4},LayoutColumn:{Table:0},LayoutElements:{Columns:"Columns",Rows:"Rows"},TitleArea:{top:0,bottom:1},_RowInteractions:{_AllSupportedFlags:o.DragVertically|o.MoveOutside|o.DragOnSameLevelOnly}};a._VirtualizationUpdateCause={RowCollapsed:a._UpdateCause.RowCollapsed,RowExpanded:a._UpdateCause.RowExpanded,RowLeavesCollapsed:a._UpdateCause.RowLeavesCollapsed,RowLeavesExpanded:a._UpdateCause.RowLeavesExpanded,OptionChanged:10,ScrolledVertically:11,ViewResized:12},t.exports=a},6398:(t,e,i)=>{var o=i(5549),a=i(9990),n=i(3571),r=n.nEventDispatcher,l=n.nCursorHelper,s=i(5066),c=s.ElemType,d=s.RowInsertionMode,_=s.RowInteractions,u=i(2254).LayoutRow,h="ntable-row-phantom-level",p="ntable-row-phantom-parent",f="ntable-row-phantom_child_symbol",m="ntable-row-phantom_down_symbol",w="ntable-row-phantom_insertion_link",E="ntable-row-phantom_insertion_symbol",g="ntable-row-phantom_insertion-parent_symbol",T="ntable-row-phantom_up_symbol",R=function(t,e){this._tableBaseWidget=t,this._options=o.extend({},e),this._isInitiated=!1,this._rowPhantomXDisplacement=20,this._sourceHorizontalBodyAreaIndex=1};o.extend(R.prototype,{setOption:function(t,e){this._options[t]=e},isInitiated:function(){return this._isInitiated},isActive:function(){return this._isInitiated&&this._isActive},isFromOutside:function(){return!this.isActive()&&(null==this._interaction||this._interaction&_.MoveOutside)},isDropped:function(){return this._isInitiated&&this._isDropped},isAutomaticRowExpansionEnabled:function(){return this._isInitiated&&this._isAutomaticRowExpansionEnabled},maximumLevelToExpand:function(){return this.isActive()&&this._interaction&_.DragOnSameLevelOnly?this._rowDataItem.level:Number.MAX_VALUE},initiate:function(t,e,i){"use strict";var o=this;if(!o._isInitiated){var a=o._options.getActualRowInteractionsFunc(e);if(a){o._options.onEventFunc&&o._options.onEventFunc.call(o,{sender:null,eventType:"tooltip",event:t.srcEvent,hammerEvent:t}),o._createTableRowPhantom(t,e,a),o._options.setRowInteractionCursorFunc(a);var r={senderWidget:o._tableBaseWidget,event:t.srcEvent||t,pageX:t.center.x,pageY:t.center.y+o._offsetY,draggable:o._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:e.item,dragMode:"copy"};if(o._options.dragStartFunc){var s={sender:e.item,elemType:c.Row,interaction:a,event:t.srcEvent||t,cancel:!1};try{o._options.dragStartFunc.call(o,s)}catch(e){throw o.terminate(t,!0),e}}if(!s.cancel)try{o._tableBaseWidget.element.trigger(n.nDroppableWidget.DRAG_ENTER_EVENT_NAME,r)}catch(e){throw o.terminate(t,!0),e}if(s.cancel)return void o.terminate(t,!0);r.dropAllowed=!1,r.interaction=a&_.DragVertically,r.rowInsertionMode=d.None;try{o._tableBaseWidget.element.trigger(n.nDroppableWidget.DRAG_OVER_EVENT_NAME,r)}catch(e){throw o.terminate(t,!0),e}o._dropAllowed=r.dropAllowed;var u=r.dropAllowed||(a&(_.DragVertically|_.MoveOutside))===_.MoveOutside?o._options.interactionCursor:"no-drop";return l.setCursor(o._tableBaseWidget.element[0],u),o._isActive=i,o._pointerType=t.pointerType,!0}}},_createTableRowPhantom:function(t,e,i){"use strict";var o,n,r=this,l=a.select(r._options.getPhantomReferenceElemFunc(e));if(h=r._tableBaseWidget.NXXXXX.WIDGET_ABBREVIATION+"-row-phantom-level",i&(_.DragVertically|_.MoveOutside)&&(o=r._options.getMinimumRowHeightFunc(e),n={phantomType:c.Row,rowDataItem:e,pointerStartCenter:t.center,version:1,minimumRowHeight:o},e.phantomDataItem=n,l.style("opacity",1).style("will-change","opacity"),function t(){let i=a.select(r._options.getPhantomReferenceElemFunc(e));e.phantomDataItem?i.transition("opacity").duration(r._options.phantomTransitionDuration).style("opacity",parseFloat(i.style("opacity"))===s._DefaultRowOpacity?1:s._DefaultRowOpacity)[a.timeFormat?"on":"each"]("end",t):i.transition("opacity").duration(r._options.phantomTransitionDuration).style("opacity",1).style("will-change","auto")}()),i&_.DragVertically){var d=l.node().cloneNode(!0),u=a.select(d).attr("clip-path",null),R=u.select("."+r._tableBaseWidget.NXXXXX.FIXED_TABLE_ROW_PRECEDING_CLASS);r._symbolColumnWidth=R.size()?R.select("."+r._tableBaseWidget.NXXXXX.TABLE_CELL_BACKGROUND_RECT_CLASS).attr("width"):0;var v=e.level*r._tableBaseWidget.options.groupCellWidth;u.select("."+r._tableBaseWidget.NXXXXX.TABLE_ROW_BACKGROUND_RECT_CLASS).attr("class","ntable-row-phantom-background ntable-row-phantom-shadow").attr("width",r._tableBaseWidget.actualTableWidth()-r._symbolColumnWidth-v).attr("height",o),R.remove(),u.select("."+r._tableBaseWidget.NXXXXX.FIXED_TABLE_ROW_SUCCEEDING_CLASS).remove(),u.selectAll("."+r._tableBaseWidget.NXXXXX.SELECTED_ROW_CLASS).remove(),u.selectAll("."+r._tableBaseWidget.NXXXXX.TABLE_GROUP_CELL_CLASS).remove(),u.selectAll("."+r._tableBaseWidget.NXXXXX.SEPARATION_LINE_CLASS).remove(),u.attr("transform",`translate(${-r._symbolColumnWidth})`);var C=u.select("."+r._tableBaseWidget.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS);C.attr("transform",`translate(${-v})`),a.select(C.node().parentNode).attr("clip-path",null);var I=r._options.getOrCreateClipPathForRowPhantomFunc();r._tableBaseWidget._defsD3.select("#"+I+" rect").attr("x",-r._options.phantomFrameDistance).attr("y",-r._options.phantomFrameDistance).attr("width",r._tableBaseWidget.actualTableWidth()+2*r._options.phantomFrameDistance-v+7).attr("height",o+2*r._options.phantomFrameDistance+7),u.attr("clip-path","url(#"+I+")"),r._sourceHorizontalBodyAreaIndex=r._options.getBodyAreaIndexFunc(e.item);var b=r._options.getScrollablePhantomsBodyD3Func(r._sourceHorizontalBodyAreaIndex),D=b.append("g").classed(`${p} ${h}${e.level}`,!0);D.append((()=>d)),D.attr("transform",`translate(${+r._symbolColumnWidth+v}, ${e.newY})`);var y=r._options.pointToSVGRelativeFunc(D.node(),t.center.x,t.center.y);D.transition("transform").duration(r._options.phantomTransitionDuration).attr("transform",`translate(${+r._symbolColumnWidth+v+y.x+r._rowPhantomXDisplacement}, ${e.newY+y.y-o/2})`),n.rowPhantomParent=D.node(),n.frameD3=D.append("g"),D.append("rect").attr("class","ntable-row-phantom").attr("x",-r._options.phantomFrameDistance).attr("y",-r._options.phantomFrameDistance).attr("rx",r._options.phantomFrameRounding).attr("ry",r._options.phantomFrameRounding).attr("height",o+2*r._options.phantomFrameDistance).attr("width",r._tableBaseWidget.actualTableWidth()+2*r._options.phantomFrameDistance-r._symbolColumnWidth-v);var A=D.append("g").attr("class","ntable-row-phantom_symbol").attr("transform","translate(0, -10)");A.append("text").attr("class","ntable-row-phantom_symbol_background").html("&#9679;"),A.append("text").attr("class",f).attr("dy","0.2em").attr("transform","scale(0.4)").attr("visibility","hidden").html("&#8627;"),A.append("text").attr("class",T).attr("dy","0.3em").attr("transform","scale(0.3)").attr("visibility","hidden").html("&#9650;"),A.append("text").attr("class",m).attr("dy","0.5em").attr("transform","scale(0.3)").attr("visibility","hidden").html("&#9660;");var S=b.insert("g",`.${p}`).attr("class",g).attr("visibility","hidden");S.append("line").attr("class",E).attr("x1",0).attr("x2",r._tableBaseWidget.actualTableViewWidth()).attr("y1",-1).attr("y2",-1),S.append("line").attr("class",E).attr("x1",0).attr("x2",r._tableBaseWidget.actualTableViewWidth()).attr("y1",1).attr("y2",1),S.append("line").attr("class",w).attr("x1",r._tableBaseWidget.actualTableViewWidth()).attr("y1",0),S.append("path").attr("class",E).attr("d","M0,0v-6l6,6l-6,6Z")}r._oldTableHorScrollOffset=r._tableBaseWidget.horizontalTableViewScrollOffset(),a.select(r).transition().duration(500).tween("Up",(function(){var t=a.interpolate(r._tableBaseWidget.horizontalTableViewScrollOffset(),0);return function(e){r._tableBaseWidget.scrollTo(t(e))}})),r._isInitiated=!0,r._isAutomaticRowExpansionEnabled=!0,r._draggedRowDataItems=[e],r._rowDataItem=e,r._elemType=c.Row,r._isActive=!1,r._elemType=c.Row,r._interaction=i,r._lastTargetWidgetElem=r._tableBaseWidget.element[0];var X=r._options.pointToSVGRelativeFunc(e.foregroundRowElem,t.center.x,t.center.y);r._offsetY=e.totalHeight/2-X.y,r._dropAllowed=!0},handleDrag:function(t){"use strict";var e=this;if(e.isAutomaticRowExpansionEnabled()){var i=t||e._dragRowPhantomHammerEvent;i&&e._options.checkForAutomaticRowExpansionFunc(i.center.x,i.center.y,s,e.maximumLevelToExpand())}var a=!t;if(t)e._dragRowPhantomHammerEvent=t,delete e._shiftKeyIsDown;else if(!(t=e._dragRowPhantomHammerEvent))return;var r,s=e._draggedRowDataItems?.[0],c=s?.phantomDataItem;o("."+n.nDroppableWidget.NDROPPABLE_CLASS).each((function(){var e=this.getBoundingClientRect();e.left<=t.center.x&&e.right>t.center.x&&e.top<=t.center.y&&e.bottom>t.center.y&&(r=this)})),e._interaction&(r===e._tableBaseWidget.element[0]?_.DragVertically:_.MoveOutside)||(r=null),c&&r&&e._dragRowPhantom(t,c);let u=r?c?.rowInsertionMode??d.None:d.None,h=u!==d.None;if(!a||h!==e._dropAllowed){if(r){var p=o(r),f={senderWidget:e._tableBaseWidget,event:t.srcEvent,pageX:t.center.x,pageY:t.center.y,draggable:e._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:s?.item,dragMode:"copy"};if(e._lastTargetWidgetElem!==r){try{e._lastTargetWidgetElem&&o(e._lastTargetWidgetElem).trigger(n.nDroppableWidget.DRAG_LEAVE_EVENT_NAME,{senderWidget:e._tableBaseWidget,event:t.srcEvent,draggable:e._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:s?.item}),f.cancel=!1,r&&p.trigger(n.nDroppableWidget.DRAG_ENTER_EVENT_NAME,f)}catch(i){throw e.terminate(t,!0),i}e._lastTargetWidgetElem=r}else f.cancel=!1;if(r){if(!f.cancel){r===e._tableBaseWidget.element[0]?f.rowInsertionMode=u:h=!0,f.dropAllowed=h;try{p.trigger(n.nDroppableWidget.DRAG_OVER_EVENT_NAME,f)}catch(i){throw e.terminate(t,!0),i}}if(f.cancel)return void e.terminate(t,!0);h=f.dropAllowed}}e._dropAllowed=h;let i=h||!r?e._options.interactionCursor:"no-drop";l.setCursor(e._tableBaseWidget.element[0],i)}},_dragRowPhantom:function(t,e){var i=this;i._isActive=!0;var o=e.rowDataItem;if(i._isInitiated){e.rowInsertionMode=d.None;var n=i._options.getScrollablePhantomsBodyD3Func(i._sourceHorizontalBodyAreaIndex),l=i._options.pointToSVGRelativeFunc(n.node(),t.center.x,t.center.y),s=a.select(e.rowPhantomParent),c=a.select(`.${g}`);if(s){var h=i._tableBaseWidget._findRowDataItemAtY(t.center.y);if(!h?.isLeaf&&h?.foregroundRowElem){var p=!!(i._options.getActualRowInteractionsFunc(o)&_.DragOnSameLevelOnly),R=l.x+i._rowPhantomXDisplacement,v=R<=i._tableBaseWidget.actualTableViewWidth();let a=i._shiftKeyIsDown??t.srcEvent.getModifierState("Shift");var C=i._lastTargetWidgetElem!=i._tableBaseWidget.element[0];e.rowInsertionMode=d.None;let n=function(){let t=h;for(;t.level>o.level;)t=t.parentRowDataItem;return t===o};if(!h||C||p&&h.level!==o.level&&h.level!==o.level-1||n());else{var I=0,b=i._tableBaseWidget._getBodyAreaIndex(h.item);if(i._sourceHorizontalBodyAreaIndex!==b){var D=i._tableBaseWidget._layoutRows[u.BodyAtTheTop].outerViewExtent(),y=i._tableBaseWidget._layoutRows[u.BodyAtTheTop].scrollStart(),A=i._tableBaseWidget._layoutRows[u.MainBody].scrollStart(),S=i._tableBaseWidget._actualBodyAreaSeparatorHeight();I=i._sourceHorizontalBodyAreaIndex===u.MainBody?-D-y+A-S:D+-A+y+S}var X=h.level*i._tableBaseWidget.options.groupCellWidth,L=h.foregroundRowElem.getBoundingClientRect(),x=h.newY+I;if((!p||h.level===o.level)&&L.top+L.height/2>=t.center.y){let t=h.parentRowDataItem.item.childRowItems;i._sourceHorizontalBodyAreaIndex===b&&t[t.indexOf(h.item)-1]===o.item||(s.select("."+T).attr("visibility","visible"),s.select("."+m).attr("visibility","hidden"),s.select("."+f).attr("visibility","hidden"),c.attr("visibility","visible").attr("transform",`translate(0, ${x})`),c.selectAll(`.${E}`).attr("x1",+i._symbolColumnWidth+X),c.selectAll(`.${w}`).attr("x2",v?i._tableBaseWidget.actualTableViewWidth():R).attr("y2",v?0:-x+l.y),c.selectAll("path").attr("transform",`translate(${+i._symbolColumnWidth+X})`),e.rowInsertionMode=d.InsertAsPreviousSibling)}else{x+=h.totalHeight+1;var P=!1;if(p?h.level===o.level-1&&(P=!0):h.isCollapsed?a&&(P=!0):(a&&!h.childRowDataItems?.length||!a&&h.childRowDataItems?.length)&&(P=!0),P){let t=h.item.childRowItems;i._sourceHorizontalBodyAreaIndex===b&&t&&0===t.indexOf(h.item)||(s.selectAll(`.${T}, .${m}`).attr("visibility","hidden"),s.select("."+f).attr("visibility","visible"),c.attr("visibility","visible"),e.rowInsertionMode=d.InsertAsChild)}else{let t=h.parentRowDataItem.item.childRowItems;i._sourceHorizontalBodyAreaIndex===b&&t[t.indexOf(h.item)+1]===o.item||(s.select("."+T).attr("visibility","hidden"),s.select("."+m).attr("visibility","visible"),s.select("."+f).attr("visibility","hidden"),c.attr("visibility","visible"),e.rowInsertionMode=d.InsertAsNextSibling)}if(e.rowInsertionMode!==d.None){if(P)X+=i._tableBaseWidget.options.groupCellWidth;else if(h.childRowDataItems){for(var O=h;O&&!O.isCollapsed&&O.childRowDataItems&&O.childRowDataItems.length;)O=O.childRowDataItems[O.childRowDataItems.length-1];O!==h&&(x=O.newY+O.totalHeight+I)}c.attr("transform",`translate(0, ${x-1})`),c.selectAll(`.${E}`).attr("x1",+i._symbolColumnWidth+X),c.selectAll("path").attr("transform",`translate(${+i._symbolColumnWidth+X})`),c.selectAll(`.${w}`).attr("x2",v?i._tableBaseWidget.actualTableViewWidth():R).attr("y2",v?0:-(x-1)+l.y)}}}}}if(e.rowInsertionMode===d.None&&(s.select("."+T).attr("visibility","hidden"),s.select("."+m).attr("visibility","hidden"),s.select("."+f).attr("visibility","hidden"),c.attr("visibility","hidden")),s){var N=o.isLeaf?i._tableBaseWidget.options.defaultLeafRowMainHeight:i._tableBaseWidget.options.defaultRowMainHeight,W=+o.item.minimumHeight||N;s.transition("transform"),s.attr("transform",`translate(${l.x+i._rowPhantomXDisplacement}, ${l.y-W/2})`)}}else t[r.CANCEL_PROPERTY]=!0},handleKeyEvent:function(t){"use strict";var e=this;"Shift"===t.key&&e.isActive()&&(e._shiftKeyIsDown="keydown"===t.type,e.handleDrag())},terminate:function(t,e){"use strict";var i=this;if(i._isInitiated){i._options.setRowInteractionCursorFunc(_.None);var l,s=i._draggedRowDataItems[0];if(i._dropAllowed||(e=!0),t&&i._options.onEventFunc?.call(i,{sender:null,eventType:"tooltip",event:t.srcEvent||t,hammerEvent:t.srcEvent&&t}),t)e&&t.srcEvent&&(t[r.CANCEL_PROPERTY]=!0),o("."+n.nDroppableWidget.NDROPPABLE_CLASS).each((function(){var e=this.getBoundingClientRect(),i=t.center?t.center.x:t.pageX,o=t.center?t.center.y:t.pageY;e.left<=i&&e.right>i&&e.top<=o&&e.bottom>o&&(l=this)}));i._interaction&_.MoveOutside||l===i._tableBaseWidget.element[0]||(l=null);var d=function(e){if(i._oldTableHorScrollOffset){var o=i._oldTableHorScrollOffset;a.select(i).transition().duration(500).tween("Up",(function(){var t=a.interpolate(0,o);return function(e){i._tableBaseWidget.scrollTo(t(e))}}))}i._deleteRowPhantom(s);let n=i._interaction;i._reset(),i._options.resetFunc(),i._options.dragEndFunc?.call(i,{sender:s.item,elemType:c.Row,interaction:n,event:t?.srcEvent||t,canceled:e})};try{var u;if(i._lastTargetWidgetElem&&i._lastTargetWidgetElem!==l&&o(i._lastTargetWidgetElem).trigger(n.nDroppableWidget.DRAG_LEAVE_EVENT_NAME,{senderWidget:i._tableBaseWidget,event:t?.srcEvent||t,draggable:i._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:s.item}),l)if(e)o(l).trigger(n.nDroppableWidget.DRAG_LEAVE_EVENT_NAME,{senderWidget:i._tableBaseWidget,event:t?.srcEvent||t,draggable:i._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:s.item});else{var h={senderWidget:i._tableBaseWidget,event:t?.srcEvent||t,pageX:t?.center.x,pageY:t?.center.y,draggable:i._tableBaseWidget.element[0],objectType:"netronic_rowItem",object:s.item,dragMode:"copy",rowInsertionMode:s.phantomDataItem?.rowInsertionMode,promise:null,cancel:!1};o(l).trigger(n.nDroppableWidget.DROP_EVENT_NAME,h),u=h.promise,e=h.cancel}u?u.then((function(t){d.call(i,!!t)}),(function(){d.call(i,!0)})):d.call(i,e)}catch(t){throw d.call(i,!0),t}}},_deleteRowPhantom:function(t){"use strict";if(t.phantomDataItem){a.select(`.${g}`).remove(),delete this._shiftKeyIsDown;for(let t of this._options.getScrollablePhantomsBodyD3sFunc())a.selectAll(t.node().children).filter(":not(rect)").remove();delete t.phantomDataItem}},_reset:function(){"use strict";var t=this;t._isInitiated=!1,delete t._shiftKeyIsDown,delete t._isAutomaticRowExpansionEnabled,delete t._oldTableHorScrollOffset,delete t._draggedRowDataItems,delete t._isActive,delete t._elemType,delete t._interaction,delete t._offsetY,delete t._dropAllowed,delete t._lastTargetWidgetElem,delete t._pointerType,delete t._dragRowPhantomHammerEvent}}),t.exports=R},6626:(t,e,i)=>{i(541),i(7658),i(6699);var o=i(5549);i(8276);var a=i(9990),n=i(3571),r=n.nCursorHelper,l=n.nDebugHelper,s=n.nDOMHelper,c=s.mouseEnterAndLeaveListener,d=s.eventListenerHelper,_=n.nDroppableWidget,u=n.nEventDispatcher,h=n.nOSDetector,p=n.nOverlayArea,f=n.nPopup,m=n.nSplitterWidget,w=n.nTextHelper,E=n.nWorldViewCanvasWidget.CanvasIdentifier,g=i(5066),T=g.ElemType,R=g.RowInteractions,v=g.TableRowDefinitionType,C=g.HorizontalAlignment,I=g.TableCellType,b=i(6398),D=i(2254),y=D._RowInteractions,A=D._RowItemVirtualizationStatus,S=D._UpdateCause,X=D.ASYNC_WAIT_PATTERN_ROTATED_EXTENT,L=D.LayoutRow,x=D.LayoutColumn,P=D.LayoutElements,O=D.TitleArea,N=D.CELL_X_PROPERTY,W=new Set(Object.values(S)),B=n.nOSDetector.isIEWebBrowserControl?0:n.nOSDetector.isIE||n.nOSDetector.isEdge?.5:-.5,V=n.nOSDetector.isIEWebBrowserControl?-.5:0,M={options:{firstCellLeftOffset:5,groupCellWidth:10,groupCollapseButtonWidth:16,splitterEnabled:!0,tableDefinition:null,tableWidth:null,defaultLeafTableRowDefinition:null,tableColumnWidthChangedFunc:null,determineTableRowDefinitionFunc:null,treeLinesVisible:!1,treeLevelIndent:14,columnSplitterWidth:1,cellContentTopOffset:21,rowSeparationLinesVisible:!0,groupCellsWithHorizontalSeparationLine:!1,collapseButtonVisibleOnRowsWithoutVisibleChildren:!0,differentiationBetweenEmptyArrayAndUndefined:!0,interactiveSwitchingOfSortOrderEnabled:!1,sortingIndicatorVisible:!1},_create:function(){"use strict";var t=this;this._super(),this._scrollableTableColumnsWidth=0,this._fixedTableColumnsWidthPreceding=0,this._fixedTableColumnsWidthSucceeding=0,this._phantomFrameDistance=3,this._phantomFrameRounding=3,this._phantomTransitionDuration=500;var e=this.options.tableDefinition;e&&(e.baseLevel&&Array.isArray(e.baseLevel.cellDefinitions)&&(this._scrollableTableColumnsWidth=e.baseLevel.cellDefinitions.reduce((function(e,i){return e+t._determineTableCellWidth(i)}),0)),e.rowDefinitionsMap&&Object.keys(e.rowDefinitionsMap).forEach((function(e){var i=t.options.tableDefinition.rowDefinitionsMap[e];Array.isArray(i.cellDefinitions)&&(t._scrollableTableColumnsWidth=Math.max(t._scrollableTableColumnsWidth,i.cellDefinitions.reduce((function(e,i){return e+t._determineTableCellWidth(i)}),0)))})),e.fixedColumnsPreceding&&Array.isArray(e.fixedColumnsPreceding.cellDefinitions)&&(this._fixedTableColumnsWidthPreceding=e.fixedColumnsPreceding.cellDefinitions.reduce((function(e,i){return e+t._determineTableCellWidth(i)}),0)),e.fixedColumnsSucceeding&&Array.isArray(e.fixedColumnsSucceeding.cellDefinitions)&&(this._fixedTableColumnsWidthSucceeding=e.fixedColumnsSucceeding.cellDefinitions.reduce((function(e,i){return e+t._determineTableCellWidth(i)}),0))),this._tableWidth=this._fixedTableColumnsWidthPreceding+this._scrollableTableColumnsWidth+this._fixedTableColumnsWidthSucceeding,this._tableRowDefinitionIDToDefinitionMap={},this._tableRowDefinitionIDToDataMap={},this._nextTableRowDefinitionID=0,this._setViewWidth(x.Table,this._PE_TableViewWidth()),this._cachedTableWidth=0,this._cachedTableViewWidth=0,this._minimumTableColumnWidth=3,this._colexpButtonSize=6,this._tableMouseEnterCell={rowDataItem:void 0,cellIndex:-1},this._tableColexpButtonPadding=2,this._tableTreeTextBottomPadding=1,this._tableColexpButtonRightPadding=0,this._tableTreeHorizontalConnectionLineLength=5,this._selectedTableRowDataItemsBorderWidth=10,t._pointerEnterAndLeaveListenersForRows=[];for(var i=0;i<=1;i++)t._pointerEnterAndLeaveListenersForRows[i]=new c(t._onPointerEnterOnTableRow.bind(t),t._onPointerLeaveOnTableRow.bind(t),t._foregroundBodyD3s[i],!0);t._rowDragging=new b(this,{dragStartFunc:e=>t.options.dragStartFunc?.(t._extendCallbackArgs(e)),dragEndFunc:e=>t.options.dragEndFunc?.(t._extendCallbackArgs(e)),onEventFunc:t._triggerEvent.bind(t),phantomFrameDistance:t._phantomFrameDistance,phantomFrameRounding:t._phantomFrameRounding,phantomTransitionDuration:t._phantomTransitionDuration,getActualRowInteractionsFunc:t._getActualRowInteractions.bind(t),setRowInteractionCursorFunc:t._setRowInteractionCursor.bind(t),getMinimumRowHeightFunc:e=>+e.item.minimumHeight||(e.isLeaf?t.options.defaultLeafRowMainHeight:t.options.defaultRowMainHeight),getOrCreateClipPathForRowPhantomFunc:t._getOrCreateClipPathForRowPhantom.bind(t),getBodyAreaIndexFunc:t._getBodyAreaIndex.bind(t),getPhantomReferenceElemFunc:t._getPhantomReferenceElem.bind(t),getScrollablePhantomsBodyD3sFunc:()=>t._phantomsBodyD3s,getScrollablePhantomsBodyD3Func:e=>t._phantomsBodyD3s[e],pointToSVGRelativeFunc:t._pointToSVGRelative.bind(t),resetFunc:function(){t._temporaryMarkVisible=void 0,t._touchScrollingEnabled=!0,delete t._finalRowInteractions},getBodyViewScrollTopFunc:e=>t._layoutRows[e?0:1].scrollStart(),checkForAutomaticRowExpansionFunc:t._checkForAutomaticRowExpansion.bind(t)}),t._currentVisibilityOfRowCovers="hidden"},_destroy:function(){"use strict";try{this._super(),this._pointerEnterAndLeaveListenersForRows?.forEach((function(t){t.dispose()})),delete this._pointerEnterAndLeaveListenersForRows,this._overlayAreas?.forEach((function(t){t.forEach((t=>{t.destroy()}))}))}catch(t){this._handleException(t,"_destroy")}},_setOption:function(e,i){"use strict";try{var a=this,n=a.options[e];switch(e){case"tableDefinition":case"defaultLeafTableRowDefinition":this._super(e,i),this._tableDefinitionChanged(),null!=this.options.rowItemsRoot&&(this._invalidateAllRowsAtLast(!1,!1,!0),this._bodyChanged(S.RowItemsRootChanged));break;case"tableWidth":n!==(i=!isNaN(+i)&&i>=0?i:t.exports.prototype.options[e])&&(this._super(e,i),void 0===this._tableScrollStartAtStartDrag&&(this._tableDefinitionChanged(),null!=this.options.rowItemsRoot&&(this.invalidateAllRows(),this._bodyChanged(S.RowItemsRootChanged))));break;case"virtualized":if(n!==i){for(var r=0;r<=1;r++)this._titleVisible(r)&&this._tableTitleD3s[r]&&this._tableTitleD3s[r].selectAll("."+this.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS).each((function(){o(this).nSplitterWidget("option","showDragStart",!i)}));this._super(e,i)}break;case"rowSeparationLinesVisible":n!==i&&(a._super(e,i),null!=this.options.rowItemsRoot&&a._foregroundBodyD3s.forEach((function(t){t.selectAll("."+a.NXXXXX.TABLE_ROW_CLASS+" ."+a.NXXXXX.SEPARATION_LINE_CLASS).style("visibility",i?null:"hidden")})));break;case"treeLinesVisible":case"groupCellsWithHorizontalSeparationLine":case"editable":n!==i&&(a._super(e,i),null!=this.options.rowItemsRoot&&(a.invalidateAllRows(),a.update()));break;case"cellContentTopOffset":n!==(i=!isNaN(+i)&&i>=0?i:t.exports.prototype.options[e])&&(a._super(e,i),null!=this.options.rowItemsRoot&&(a.invalidateAllRows(!1,!1),a.update()));break;case"updateSuspended":n!==i&&(a._super(e,i),n&&this._createMissingTableTitles());break;case"forcedRowInteractions":n!==i&&(a._super(e,i),a._rowDragging.isActive()?i===R.None?a._rowDragging.terminate(void 0,!0):a._rowDragging.handleDrag():null!=a._tableMouseEnterCell.rowDataItem&&a._setRowInteractionCursor(a._getActualRowInteractions(a._tableMouseEnterCell.rowDataItem)));break;case"sortingIndicatorVisible":case"interactiveSwitchingOfSortOrderEnabled":n!==i&&(a._super(e,i),a.updateTableTitle());break;default:a._super(e,i)}}catch(t){this._handleException(t,"option")}},_initConstants:function(){"use strict";var t=this._getOrCreateNXXXXX({WIDGET_ABBREVIATION:"ntablebase",WIDGET_PREFIX:"ntablebase-",WIDGET_NAMESPACE:".ntablebase",WIDGET_NAME_IN_ERROR_MESSAGES:"nTableBaseWidget",WIDGET_PROPERTYNAME_IN_CALLBACKS:"tablebaseWidget",WIDGET_TABLE_PREFIX:"ntablebase-table-",WIDGET_TABLE_INSERTION:"table-"});return this._super(),t.COLEXP_BUTTON_CLASS=t.WIDGET_PREFIX+"colexp-button",t.LEAVES_COLEXP_BUTTON_CLASS=t.WIDGET_PREFIX+"leaves-colexp-button",t.LEAVES_INDICATOR_CLASS=t.WIDGET_PREFIX+"leaves-indicator",t.LEAVES_INDICATOR_OUTLINE_CLASS=t.WIDGET_PREFIX+"leaves-indicator-outline",t.COVERED_ROW_CLASS=t.WIDGET_PREFIX+"covered-row",t.COVERED_AND_HIGHLIGHTED_ROW_CLASS=t.WIDGET_PREFIX+"covered-and-highlighted-row",t.FIXED_TABLE_ROW_PRECEDING_CLASS=t.WIDGET_PREFIX+"fixed-"+t.WIDGET_TABLE_INSERTION+"row-preceding",t.FIXED_TABLE_ROW_SUCCEEDING_CLASS=t.WIDGET_PREFIX+"fixed-"+t.WIDGET_TABLE_INSERTION+"row-succeeding",t.FIXED_TABLE_TITLE_PRECEDING_CLASS=t.WIDGET_PREFIX+"fixed-"+t.WIDGET_TABLE_INSERTION+"title-preceding",t.FIXED_TABLE_TITLE_SUCCEEDING_CLASS=t.WIDGET_PREFIX+"fixed-"+t.WIDGET_TABLE_INSERTION+"title-succeeding",t.FIXED_TABLE_TITLE_TEXT_CLASS=t.WIDGET_PREFIX+"fixed-"+t.WIDGET_TABLE_INSERTION+"title-text",t.SCROLLABLE_TABLE_ROW_CLASS=t.WIDGET_PREFIX+"scrollable-"+t.WIDGET_TABLE_INSERTION+"row",t.SCROLLABLE_TABLE_TITLE_CLASS=t.WIDGET_PREFIX+"scrollable-"+t.WIDGET_TABLE_INSERTION+"title",t.SELECTED_ROW_CLASS=t.WIDGET_PREFIX+"row-selected",t.TABLE_ALLOCATION_ROW_INDICATOR_OUTLINE_CLASS=t.WIDGET_PREFIX+"table-allocation-row-indicator-outline",t.TABLE_CELL_BACKGROUND_RECT_CLASS=t.WIDGET_TABLE_PREFIX+"cell-background-rect",t.TABLE_CELL_CLASS=t.WIDGET_TABLE_PREFIX+"cell",t.TABLE_CELL_CONTENT_CLASS=t.WIDGET_TABLE_PREFIX+"cell-content",t.TABLE_CELL_IMAGE_LIST_CLASS=t.WIDGET_TABLE_PREFIX+"cell-images",t.TABLE_CELL_IMAGE_CLASS=t.WIDGET_TABLE_PREFIX+"cell-image",t.TABLE_COLUMN_SEPARATION_LINE_CLASS=t.WIDGET_TABLE_PREFIX+"column-separation-line",t.TABLE_COLUMN_SPLITTER_CLASS=t.WIDGET_TABLE_PREFIX+"column-splitter",t.TABLE_COLUMN_SPLITTER_PARENT_CLASS=t.WIDGET_TABLE_PREFIX+"column-splitter-parent",t.TABLE_COLUMN_TEXT_CLASS=t.WIDGET_TABLE_PREFIX+"column-text",t.TABLE_GROUP_CELL_CLASS=t.WIDGET_TABLE_PREFIX+"group-cell",t.TABLE_OVERLAY_CLASS=[t.WIDGET_PREFIX+"top-"+t.WIDGET_TABLE_INSERTION+"overlay",t.WIDGET_PREFIX+t.WIDGET_TABLE_INSERTION+"overlay"],t.TABLE_OVERLAY_SCROLL_PARENT_CLASS=[t.WIDGET_PREFIX+"top-"+t.WIDGET_TABLE_INSERTION+"overlay-scp",t.WIDGET_PREFIX+t.WIDGET_TABLE_INSERTION+"overlay-scroll-parent"],t.TABLE_ROW_BACKGROUND_RECT_CLASS=t.WIDGET_TABLE_PREFIX+"row-background-rect",t.TABLE_ROW_CLASS=t.WIDGET_TABLE_PREFIX+"row",t.TABLE_ROW_CONTENT_CLASS=t.WIDGET_TABLE_PREFIX+"row-content",t.TABLE_ROW_PHANTOM_CLASS=t.WIDGET_TABLE_PREFIX+"row-phantom",t.TABLE_TITLE_CELL_CLASS=t.WIDGET_TABLE_PREFIX+"title-cell",t.TABLE_TITLE_CLASS=t.WIDGET_TABLE_PREFIX+"title",t.TABLE_TITLE_COLUMN_SEPARATION_LINE_CLASS=t.WIDGET_TABLE_PREFIX+"title-column-separation-line",t.TABLE_TITLE_RECT_CLASS=t.WIDGET_TABLE_PREFIX+"title-rect",t.TABLE_TITLE_TEXT_CLASS=t.WIDGET_TABLE_PREFIX+"title-text",t.TABLE_TITLE_SORTING_INDICATOR_CLASS=t.WIDGET_TABLE_PREFIX+"title-sorting-indicator",t.TABLE_TITLE_SORTING_INDICATOR_DOWN_CLASS=t.WIDGET_TABLE_PREFIX+"title-sorting-indicator-down",t.TABLE_TITLE_SORTING_INDICATOR_UP_CLASS=t.WIDGET_TABLE_PREFIX+"title-sorting-indicator-up",t.TREEVIEW_LINE_CLASS=t.WIDGET_PREFIX+"treeview-line",t.SCROLLABLE_TABLE_CLIPPATH_ID=t.WIDGET_PREFIX+"scrollable-"+t.WIDGET_TABLE_INSERTION+"clippath",t.SELECTION_BOTTOM_GRADIENT_CLIPPATH_ID=t.WIDGET_TABLE_PREFIX+"bottom-selection-gradient",t.SELECTION_LEFT_GRADIENT_CLIPPATH_ID=t.WIDGET_TABLE_PREFIX+"left-selection-gradient",t.SELECTION_RIGHT_GRADIENT_CLIPPATH_ID=t.WIDGET_TABLE_PREFIX+"right-selection-gradient",t.SELECTION_TOP_GRADIENT_CLIPPATH_ID=t.WIDGET_TABLE_PREFIX+"top-selection-gradient",t.WIDTH_CLIPPATH_ID[x.Table]=t.WIDGET_PREFIX+"width-clippath",t.TABLE_COLUMN_CLIPPATH_ID_PREFIX=t.WIDGET_TABLE_PREFIX+"column-clippath",t.TABLE_ROW_CONTENT_CLASS_PREFIX=t.WIDGET_TABLE_PREFIX+"row-content-",t.COLUMN_INDEX_DATA=t.WIDGET_PREFIX+"column-index-data",t},forceSizeChanged:function(){"use strict";this._super()&&this._createMissingTableTitles()},_doScale:function(){"use strict";var t=this;t.element.find(`.${t.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS}`).each(((e,i)=>{o(i).nSplitterWidget("option","visualZoomFactor",t.options.visualZoomFactor)})),t._super()},_createMissingTableTitles:function(){"use strict";for(var t=0;t<=1;t++)this._titleVisible(t)&&this._tableTitleD3s[t]&&(this._tableTitleD3s[t].select("g").size()||this._createTableTitle(t))},_svgRootWheelHor:function(t,e){"use strict";return this._innerClientXToLayoutColumn(t[0])===x.Table?(this._doRelativeScroll("table",e),!1):this._super(t,e)},_doRelativeScroll:function(t,e,i){"use strict";if("table"===t)this._doRelativeScrollHor(x.Table,e,i);else this._super(t,e,i)},_onSwipe:function(t,e){"use strict";var i=this;if(e)i._onSwipe_OpacityOff(),i._bodySwipeScrollPos=void 0,i._currentPanParams=void 0;else{var o=i._pointToSVGRelative(this._svgRootD3.node(),t.center.x,t.center.y),a=i._layoutGrid.pointToLayoutCell(o.x,o.y);if(i._bodySwipeScrollPos||(i._bodySwipeScrollPos={view:void 0,lefts:i._layoutStacks[P.Columns].scrollStarts(),tops:i._layoutStacks[P.Rows].scrollStarts()}),void 0===i._bodySwipeScrollPos.view&&(i._bodySwipeScrollPos.view="none",i._onSwipe_DetectView(a)),"none"!==i._bodySwipeScrollPos.view){i._onSwipe_RecurrentCalculations(t);var n=[];if(a.row){var r=a.row.getIndex();r!==L.BodyAtTheTop&&r!==L.MainBody||(n[r]=Math.min(Math.max(0,i._layoutRows[r].extent()-i._layoutRows[r].innerViewExtent()),i._bodySwipeScrollPos.tops[r]-t.deltaY))}i._onSwipe_ScrollTo([],n,t)}}},_onSwipe_OpacityOff:function(){"use strict";for(var t=0;t<=1;t++)this._overlayAreas[x.Table][t].showIOSScrollBars(!1)},_onSwipe_RecurrentCalculations:function(){},_onSwipe_DetectView:function(t){"use strict";if(t&&t.column&&t.column.getIndex()===x.Table&&t.row){var e=t.row.getIndex();switch(e){case L.BodyAtTheTop:case L.MainBody:this._bodySwipeScrollPos.view="table",this._overlayAreas[x.Table][e].showIOSScrollBars(!0);break;case L.TopTitle:this._bodySwipeScrollPos.view="table-title",this._overlayAreas[x.Table][L.MainBody].showIOSScrollBars(!0);break;case L.BottomTitle:this._bodySwipeScrollPos.view="table-title",this._overlayAreas[x.Table][L.BottomTitle].showIOSScrollBars(!0)}}},_onSwipe_ScrollTo:function(t,e,i){"use strict";if("table"===this._bodySwipeScrollPos.view||"table-title"===this._bodySwipeScrollPos.view){var o=this._layoutColumns[x.Table].scrollFactorFixed()>0?this.actualTableViewWidth()*this._layoutColumns[x.Table].scrollFactorFixed():this._PE_DefaultWidth(x.Table),a=this._actualScrollableWidth(x.Table);t[x.Table]=Math.max(0,Math.min(a-o,this._bodySwipeScrollPos.lefts[x.Table]-i.deltaX)),this._scrollTo(t,e)}},scrollToItem:function(t,e,i,n,r){"use strict";try{l.assertNotNull(t,"",0);var s,c=this;"string"==typeof e&&(s=(e=e.split(",")).indexOf("top")>=0?"top":e.indexOf("vcenter")>=0?"center":e.indexOf("bottom")>=0?"bottom":void 0,e=void 0);var d=c._getDataItem(t,c._rowDataItemsMap);if(d&&!c.options.leafRowsVisible&&d.isLeaf&&(d=d.parentRowDataItem),!d)return!1;var _=c._getBodyAreaIndex(t);if(null==n||n){var u=[];if(d.isHidden){for(var h=[],p=d;void 0!==(p=p.parentRowDataItem);)h.unshift(p);h.shift(),h.every((function(t,e){let i=d.isLeaf&&e===h.length-2;return!i&&t.isCollapsed?(c._expandOrCollapseRow(t,!1,!1,!1),d.isHidden):!i||!t.areLeavesCollapsed||(c._expandOrCollapseRow(t,!1,!1,i),d.isHidden)}))}s||null!=e||(d.oldY+d.totalHeight<c._layoutRows[_].scrollStart()?s="top":d.oldY>c._layoutRows[_].scrollStart()+c._layoutRows[_].innerViewExtent()&&(s="bottom")),s&&(e="top"===s?0:"center"===s?-(c._layoutRows[_].innerViewExtent()-d.totalHeight)/2:"bottom"===s?-(c._layoutRows[_].innerViewExtent()-d.totalHeight):void 0),null!=e&&(u[_]=d.oldY+(e||0));var f=o.Deferred();if(r&&void 0!==u[_]){var m=c._getScrollOffsets(x.Table,_).verScrollOffset,w=u[_];a.select(c.element[0]).transition().duration(c.options.transitionDuration).tween("scrollTop",(function(){var t=a.interpolate(m,w);return function(e){u[_]=Math.floor(t(e)),c._scrollTo([void 0,void 0],u)}}))[a.timeFormat?"on":"each"]("end",(function(){f.resolve()}))}else c._scrollTo([void 0,void 0],u),f.resolve();return f.promise()}}catch(t){this._handleException(t,"scrollToItem")}},_scrollLeftsChanged:function(t,e,i,o,a){"use strict";var n=this;if(a.tableScrollOffsetChangedEventNeeded=!1,null!=t&&null!=t[x.Table]&&n._layoutColumns[x.Table].scrollStart()!==t[x.Table]){if(n._layoutColumns[x.Table].cachedScrollStart(n._layoutColumns[x.Table].scrollFactorFixed()>0?t[x.Table]/n._layoutColumns[x.Table].scrollFactorFixed():0),o&&n._overlayAreas)for(var r=0;r<=1;r++)n._overlayAreas[x.Table][r].scrollLeft(n._layoutColumns[x.Table].cachedScrollStart());if(!i){var l="translate("+-t[x.Table]+")",s=n.options.tableDefinition;if(s&&(s.rowDefinitionsMap&&s.rowDefinitionsMap[s.rowDefinitionIDWithColumnTitles]||null==s.titleText||n._tableRowDefinitionWithColumnTitlesID))for(var c=0;c<=1;c++)n._titleVisible(c)&&n._scrollableTableTitleD3s&&n._scrollableTableTitleD3s[c]&&n._scrollableTableTitleD3s[c].attr("transform",l);n._foregroundBodyD3s.forEach((function(t){t.selectAll("."+n.NXXXXX.ROW_CLASS+" ."+n.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS).attr("transform",l)})),n._layoutColumns[x.Table].scrollStart(t[x.Table]),a.tableScrollOffsetChangedEventNeeded=!0,a.viewChangedFlags[x.Table]=!0,a.changedFlag=!0,n._updateAllRowSelections()}}n._super(t,e,i,o,a)},_triggerChangedEventAfterScrollOffsetsChanged:function(t){"use strict";this._super(t),t.tableScrollOffsetChangedEventNeeded&&this._trigger("tableScrollOffsetChanged")},_setLayoutColumnsScrollLefts:function(t){"use strict";if(this._super(t),null!=t&&null!=t[x.Table]){var e=null!=this._layoutColumns[x.Table].innerViewExtent()?this._layoutColumns[x.Table].innerViewExtent()*this._layoutColumns[x.Table].scrollFactorFixed():this._PE_DefaultWidth(x.Table),i=this._actualScrollableWidth(x.Table);t[x.Table]=Math.max(0,Math.min(t[x.Table],i-e))}},horizontalTableViewScrollOffset:function(){return this._getHorViewScrollOffset(x.Table)},modifyTableViewWidth:function(t){"use strict";try{l.assertNumberOrNull(t,"",0),isNaN(+t)||t!=this.actualTableViewWidth()&&(this._setViewWidth(x.Table,t),this._tableViewChanged(),this._scrollTo(this._layoutStacks[P.Columns].scrollStarts(),[void 0,void 0]))}catch(t){this._handleException(t,"modifyTableViewWidth")}return this},_getHorViewScrollOffset:function(t){"use strict";return t===x.Table?this._layoutColumns[x.Table].scrollStart():this._super(t)},actualTableWidth:function(){"use strict";return null!=this.options.tableWidth?this.options.tableWidth:this._tableWidth||0},actualTableViewWidth:function(){"use strict";return this._layoutColumns[x.Table].innerViewExtent()},_tableViewChanged:function(t,e){"use strict";for(var i=this,o=i._actualScaledMainWidth(),n=0;n<=1;n++)this._titleVisible(n)&&this._svgRootD3.select("."+i.NXXXXX.TITLE_SEPARATION_LINE_CLASS[n]).attr("x2",o);var r=i._tableViewChanged_DetectTableViewWidth(o),l=this._overlayAreas?this._overlayAreas[x.Table][L.MainBody]._calcOverlayWidthByOverflow(r):r;this._setViewWidth(x.Table,l);var s=i.actualTableWidth(),c=i.actualTableViewWidth(),d=this._layoutColumns[x.Table].scrollFactorFixed();if(this._layoutColumns[x.Table].scrollFactorFixed(c?(c-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding)/c:1),i._cachedTableViewWidth!==c||i._cachedTableWidth!==s||i._layoutColumns[x.Table].scrollFactorFixed()!==d){var _=c-i._cachedTableViewWidth;i._scrollTo(i._layoutStacks[P.Columns].scrollStarts(),[void 0,void 0]),i._cachedTableViewWidth=c,i._cachedTableWidth=s;var u=i._actualScrollableWidth(x.Table),h=i._layoutColumns[x.Table].scrollFactorFixed()>0?Math.max(0,u)/i._layoutColumns[x.Table].scrollFactorFixed():1;i._layoutColumns[x.Table].extent(h),i._layoutColumns[x.Table].innerViewExtent(c),i._layoutColumns[x.Table].outerViewExtent(r),i.options.isForExport||i._scrollableTableClipPathRectD3.attr("x",i._fixedTableColumnsWidthPreceding).attr("width",Math.max(0,c-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding));var p=i.options.tableDefinition;if(p&&(p.rowDefinitionsMap&&p.rowDefinitionsMap[p.rowDefinitionIDWithColumnTitles]||i._tableRowDefinitionWithColumnTitlesID||null==p.titleText?e||i.updateTableTitle():e=!0),_&&i._fixedTableColumnCountSucceeding){var f="."+i.NXXXXX.FIXED_TABLE_ROW_SUCCEEDING_CLASS+" ."+i.NXXXXX.TABLE_CELL_CLASS;e&&(f+=",."+i.NXXXXX.FIXED_TABLE_TITLE_SUCCEEDING_CLASS+" ."+i.NXXXXX.TABLE_TITLE_CELL_CLASS),i._svgRootD3.selectAll(f).each((function(){var t=a.select(this),e=t.property(N)+_;t.property(N,e),t.attr("transform","translate("+Math.max(e,i._fixedTableColumnsWidthPreceding)+")")}))}if(i._tableViewChanged_RecalcDependentColumns(o,c),i._layoutGrid.update(),i._tableScrollStartAtStartDrag){var m=[];m[x.Table]=i._tableScrollStartAtStartDrag,i._scrollTo(m,[void 0,void 0])}return t&&this._updateAllRowSelections(),!0}},_tableViewChanged_DetectTableViewWidth:function(){},_tableViewChanged_RecalcDependentColumns:function(){},_handleKeyEvent:function(t){"use strict";try{this._rowDragging?.handleKeyEvent(t)}catch(t){this._handleException(t,"_handleKeyEvent")}this._super(t)},_getPhantomReferenceElem:function(t){return t.foregroundRowElem},_getActualRowInteractions:function(t){"use strict";var e;return this.options.editable&&(t.isLeaf||(e=this.options.forcedRowInteractions??this._finalRowInteractions??t.item.rowInteractions??this.options.defaultRowInteractions)),e??R.None},_determineRowInteractions:function(t,e,i,o){"use strict";var a=this;if(t.isLeaf)return R.None;if(!this.options.editable)return R.None;var n=e;if(a.options.checkPossibleInteractionsFunc){var r=a._extendCallbackArgs({item:t.item,elemType:T.TableRow,elem:t.foregroundRowElem,event:o.center?o.srcEvent:o,hammerEvent:o.center?o:void 0,point:i,possibleInteractions:e,interactions:n});return a.options.checkPossibleInteractionsFunc(r),r.interactions}},_setRowInteractionCursor:function(t){"use strict";var e=this,i="";switch(t&y._AllSupportedFlags){case R.MoveOutside:case R.MoveOutside|R.DragVertically:case R.MoveOutside|R.DragVertically|R.DragOnSameLevelOnly:i=e._rowDragging.isInitiated()?"grabbing":"grab";break;case R.DragVertically:case R.DragVertically|R.DragOnSameLevelOnly:i=e._rowDragging.isInitiated()?"grabbing":"ns-resize"}e._rowDragging.setOption("interactionCursor",i),r.setCursor(e.element[0],i)},_onRowPress:function(t,e){"use strict";var i=this,o=!0;i._rowDragging.isInitiated()||i._getActualRowInteractions(e)!==R.None&&i._rowDragging.initiate(t,e,!1)&&(i._touchScrollingEnabled=!1,o=!1);o&&"touch"!==t.pointerType&&(t[u.CANCEL_PROPERTY]=!0)},_onRowPressUp:function(t,e){"use strict";var i=this,o=i._rowDragging.isActive(),a=!o;i._rowDragging.isInitiated()&&i._rowDragging.terminate(t,!o),a&&"touch"===t.pointerType&&i._triggerEvent({sender:e.item,eventType:"contextmenu",elem:e.foregroundRowElem,elemType:T.Row,event:t.srcEvent,hammerEvent:t})},_onRowDragStart:function(t,e){"use strict";var i=this,o=!0;i._rowDragging.isInitiated()?i._rowDragging.isActive()||(o=!1):i._rowDragging.initiate(t,e,!0)&&(o=!1),o&&(t[u.CANCEL_PROPERTY]=!0)},_onRowDragMove:function(t){try{this._rowDragging.handleDrag(t)}finally{t&&!this._rowDragging.isInitiated()&&(t[u.CANCEL_PROPERTY]=!0)}},_onRowDragEnd:function(t){"use strict";this._rowDragging.terminate(t,t.type.indexOf("cancel")>=0)},_onDragEvent:function(t){"use strict";try{var e=this,i=t.data,a=e._pointToSVGRelative(e._svgRootD3.node(),i.pageX,i.pageY),n=e._findRowDataItemAtY(i.pageY);switch(t.eventType){case _.EventType.DragEnter:if(e.options.dragEnterFunc){var r=e._extendCallbackArgs({sender:i.object,elemType:T.Row,interaction:i.draggable===e.element[0]?R.DragVertically:R.MoveOutside,event:i.event,cancel:!1});e.options.dragEnterFunc.call(e,r),i.cancel=r.cancel}e._handleDragEnterForRowDrag(i,n,a);break;case _.EventType.DragOver:if("netronic_rowItem"===i.objectType&&(n&&e._updateVerticalDOMElementsForRowDrag(i,n,a),i._noAutoscroll||(!n||e._rowDragging.isActive()&&!e._rowDragging.isAutomaticRowExpansionEnabled()||e._checkForAutomaticRowExpansion(i.pageX,i.pageY,e._rowDragging.isActive()?n:void 0,e._rowDragging.maximumLevelToExpand()),e._checkForAutoscroll(i.pageX,i.pageY,!0,!0,(function(){e._rowDragging.isFromOutside()?e._onDragEvent(o.extend({_noAutoscroll:!0},t)):e._onRowDragMove()})),e._updateHorizontalDOMElementsForRowDrag(i,n,a)),e.options.draggedFunc)){if((r=e._extendCallbackArgs({sender:i.object,elemType:T.Row,interaction:i.draggable===e.element[0]?R.DragVertically:R.MoveOutside,event:i.event,newRowItem:n?n.item:void 0,dropAllowed:i.dropAllowed,cancel:!1})).interaction===R.MoveOutside){let t=e._determineStartEndForRowDrag(i,n,a);r.start=t&&t.start,r.end=t&&t.end}else r.rowInsertionMode=i.rowInsertionMode;e.options.draggedFunc.call(e,r),i.dropAllowed=r.dropAllowed,i.cancel=r.cancel}break;case _.EventType.Drop:if("netronic_rowItem"===i.objectType&&e.options.droppedFunc){if((r=e._extendCallbackArgs({sender:i.object,elemType:T.Row,interaction:i.draggable===e.element[0]?R.DragVertically:R.MoveOutside,event:i.event,newRowItem:n?n.item:void 0,promise:void 0,cancel:!1})).interaction===R.MoveOutside){let t=e._determineStartEndForRowDrag(i,n,a);r.start=t&&t.start,r.end=t&&t.end}else r.rowInsertionMode=i.rowInsertionMode;e.options.droppedFunc.call(e,r),i.promise=r.promise,i.cancel=r.cancel}case _.EventType.DragLeave:if(e.options.dragLeaveFunc){r=e._extendCallbackArgs({sender:i.object,elemType:T.Row,interaction:i.draggable===e.element[0]?R.DragVertically:R.MoveOutside,event:i.event});e.options.dragLeaveFunc.call(e,r)}"netronic_rowItem"===i.objectType&&(e._handleDragLeaveForRowDrag(i,n,a),e._stopAutomaticRowExpansionTimer(),e._stopAutoscroll(),e._isInDragOver=!1)}}catch(t){this._handleException(t,"_onDragEvent")}},_updateVerticalDOMElementsForRowDrag:function(){},_updateHorizontalDOMElementsForRowDrag:function(){},_determineStartEndForRowDrag:function(){},_handleDragEnterForRowDrag:function(){},_handleDragLeaveForRowDrag:function(){},isInInteraction:function(){"use strict";try{return this._super()||this._rowDragging.isInitiated()}catch(t){return this._handleException(t,"isInInteraction"),!1}},_cancelInteractionAtLast:function(t){"use strict";this._super(),this._rowDragging.isInitiated()&&this._rowDragging.terminate(t,!0)},getRowItem:function(t){"use strict";try{l.assertNotNull(t,"",0);if(t instanceof Element){var e=this._super(t);return void 0===e&&(e=a.select(o(t).closest("."+this.NXXXXX.TABLE_ROW_CLASS)[0]).data()[0]),e?e.item:void 0}}catch(t){this._handleException(t,"getRowItem")}},__doInvalidateRowRecursively:function(t,e){"use strict";var i,o=this,a=t.item;(o._temporaryMarkVisible=void 0,t.tableRowDefinition)&&(o._isTableWithRowDefinitionsMap()?t.tableRowDefinition!==o.options.tableDefinition.rowDefinitionsMap[t.item.tableRowDefinitionID]&&(i=!0):(--o._tableRowDefinitionIDToDataMap[t.tableCellDefinitionType].usageCount||"u"!==t.tableCellDefinitionType[0]||(delete o._tableRowDefinitionIDToDataMap[t.tableCellDefinitionType],delete o._tableRowDefinitionIDToDefinitionMap[t.tableCellDefinitionType],o._tableRowDefinitionWithColumnTitlesID===t.tableCellDefinitionType&&delete o._tableRowDefinitionWithColumnTitlesID),i=!0),i&&(delete t.tableRowDefinition,delete t.tableCellDefinitionType));delete t.worldViewFillColor,o._PE_virt106(t,e),!t.isLeaf&&e.childRowsChangedFlag&&["leafRowItems","childRowItems"].forEach((function(i,n){var r=["leafRowDataItems","childRowDataItems"][n];t[r]=void 0,Array.isArray(a[i])&&(t[r]=[],a[i].forEach((function(i){var a=o._getOrCreateDataItem(i,o._rowDataItemsMap,o._unusedRowDataItemsMap),l=a.dataItem;t[r].push(l),l.isLeaf=!n,l.level=t.level+1,l.parentRowDataItem=t,l.summariesExistent=void 0,a.isCreated?(n&&(l.isCollapsed=i.initiallyCollapsed||!1,l.areLeavesCollapsed=i.leavesInitiallyCollapsed||!1),l.virtualizationStatus=A.Unrealized):(o._unusedRowDataItemsMap.delete(l.id),o._rowDataItemsMap.set(l.id,l));var s=l.isHidden=t.isHidden||(n?t.isCollapsed:!o.options.leafRowsVisible||t.areLeavesCollapsed);l.visibleRowDataItem=s?t.visibleRowDataItem:l,e.childRowsChangedFlag=!0,o.__doInvalidateRowRecursively(l,e)})))})),a!==o.options.rowItemsRoot&&(delete t.totalHeight,o._PE_virt107(t,a,e),o._removeRowCompletely(t,!1))},_PE_virt106:function(){},_PE_virt107:function(){},_rowItemsRootChanged_update:function(t){"use strict";this._tableDefinitionChanged(!0),this._super(t)},_invalidateAllRowsAtLast:function(t,e,i){"use strict";try{var o=this,a=o._determineRowDataItems(!t);t&&a.splice(0,1),a.forEach((function(a){o._handleRowInvalidationAtLast(a,t,e,i)}));for(let t of o._realizedInvisibleRowsSet)t.virtualizationStatus=A.Unrealized;o._realizedInvisibleRowsSet.clear();for(let t of o._realizedVisibleRowsSet)t.virtualizationStatus=A.Unrealized;o._realizedVisibleRowsSet.clear(),o._foregroundBodyD3s.forEach((function(t){t.selectAll("."+o.NXXXXX.ROW_CLASS).each((function(t){o._removeRowByDataItem(t),t.virtualizationStatus=A.Precalculated}))}))}catch(t){this._handleException(t,"invalidateAllRows")}},_handleRowInvalidationAtLast:function(t,e,i,o){"use strict";var a=this;delete t.entered,o&&(delete t.tableRowDefinition,delete t.tableCellDefinitionType),e&&(delete t.oldY,delete t.oldMainHeight,delete t.oldTotalHeight,delete t.oldAdditionalHeight),(e||i)&&(delete t.totalHeight,delete t.worldViewCache),t.tableRowDefinition&&!a._isTableWithRowDefinitionsMap()&&(--a._tableRowDefinitionIDToDataMap[t.tableCellDefinitionType].usageCount||"u"!==t.tableCellDefinitionType[0]||(delete a._tableRowDefinitionIDToDataMap[t.tableCellDefinitionType],delete a._tableRowDefinitionIDToDefinitionMap[t.tableCellDefinitionType],a._tableRowDefinitionWithColumnTitlesID===t.tableCellDefinitionType&&delete a._tableRowDefinitionWithColumnTitlesID),t.tableRowDefinition=void 0,t.tableCellDefinitionType=void 0)},invalidateRowsForTreeViewUpdate:function(t,e){"use strict";try{var i=this;if(l.assertFunction(e,"",1),i.options.treeLinesVisible){var o;if(t){var a=i._getDataItem(t,this._rowDataItemsMap,this._unusedRowDataItemsMap);if(a){var n=a.parentRowDataItem;if(n){let e=n.childRowDataItems,r=e.indexOf(a),l=i._getBodyAreaIndex(t),s=t=>l===i._getBodyAreaIndex(t.item);e.slice(r+1).some(s)||(o=e.slice(0,r).reverse().find(s))}}}var r=e.call(this);if(void 0===r&&(r=t),o&&this._doInvalidateRow(o,{childRowsChangedFlag:!0}),r){var s=i._getDataItem(r,this._rowDataItemsMap);if(s){var c=s.parentRowDataItem;if(c){let t=c.childRowDataItems,e=t.indexOf(s),o=i._getBodyAreaIndex(r),a=t=>o===i._getBodyAreaIndex(t.item);if(!t.slice(e+1).some(a)){let o=t.slice(0,e).reverse().find(a);o&&i._doInvalidateRow(o,{childRowsChangedFlag:!0})}}}}}else e.call(this)}catch(t){this._handleException(t,"invalidateRowsForTreeViewUpdate")}},_isInsideFixedPrecedingImageListColumn:function(t){"use strict";var e,i=this,o=t.srcEvent||t;a.mouse?(a.event=o,e=a.mouse(i._svgRootD3.node())):e=a.pointer(o,i._svgRootD3.node());var n=e[1]<i._actualTitleHeight(O.top)+i._layoutRows[L.BodyAtTheTop].innerViewExtent()?0:1;a.mouse?(e=a.mouse(i._backgroundBodyD3s[n].node()),a.event=null):e=a.pointer(o,i._backgroundBodyD3s[n].node());var r=e[0]>=0&&e[0]<i._fixedTableColumnsWidthPreceding&&e[1]>=i._layoutRows[n].scrollStart()&&e[1]<i._layoutRows[n].extent();if(r){var l=0;i.options.tableDefinition.fixedColumnsPreceding.cellDefinitions.every((function(t){return l+=i._determineTableCellWidth(t),!(e[0]<=l)||(r=t.type===I.ImageList,!1)}))}return r},_isTableWithRowDefinitionsMap:function(){"use strict";var t=this.options.tableDefinition;return t&&t.rowDefinitionsMap&&Object.keys(t.rowDefinitionsMap).length},_determineTableRowDefinitionInfo:function(t){"use strict";var e=this,i={},o=this.options.tableDefinition;if(t.tableRowDefinition)i.rowDefinition=t.tableRowDefinition,i.cellDefinitionType=t.tableCellDefinitionType,e._isTableWithRowDefinitionsMap()&&i.rowDefinition===o.baseLevel&&!o.rowDefinitionIDWithColumnTitles&&(i.cellDefinitionTypeForClipPath="b");else{if(o){if(e._isTableWithRowDefinitionsMap()){if(t.item.tableRowDefinitionID)i.rowDefinition=o.rowDefinitionsMap?o.rowDefinitionsMap[t.item.tableRowDefinitionID]:null,i.cellDefinitionType=!i.rowDefinition&&t.isLeaf?"l":"m"+t.item.tableRowDefinitionID;else if(t.isLeaf)i.cellDefinitionType="l";else if(o.baseLevel){var a;Object.keys(o.rowDefinitionsMap).every((function(t){if(o.rowDefinitionsMap[t]!==o.baseLevel)return!0;a=t})),a&&(i.rowDefinition=o.baseLevel,i.cellDefinitionType="m"+a,o.rowDefinitionIDWithColumnTitles||(i.cellDefinitionTypeForClipPath="b"))}}else Array.isArray(o.groupingLevels)&&(i.rowDefinition=o.groupingLevels[t.level],i.cellDefinitionType="g"+t.level);i.rowDefinition||("l"===i.cellDefinitionType?i.rowDefinition=e.options.defaultLeafTableRowDefinition:(i.rowDefinition=o.baseLevel,i.cellDefinitionType="b"))}if(!e._isTableWithRowDefinitionsMap()&&e.options.determineTableRowDefinitionFunc){var n=e._extendCallbackArgs({rowItem:t.item,level:t.level,rowDefinition:i.rowDefinition,hasColumnTitles:!1});if(e.options.determineTableRowDefinitionFunc.call(this,n),n.rowDefinition){var r=Object.keys(this._tableRowDefinitionIDToDefinitionMap).reduce((function(t,i){return t||e._tableRowDefinitionIDToDefinitionMap[i]!==n.rowDefinition?t:i}),null);r||(r=this.options.tableDefinition&&this.options.tableDefinition.baseLevel===n.rowDefinition?"b":this.options.tableDefinition&&this.options.defaultLeafTableRowDefinition===n.rowDefinition?"l":"u"+this._nextTableRowDefinitionID++,this._tableRowDefinitionIDToDefinitionMap[r]=n.rowDefinition,this._tableRowDefinitionIDToDataMap[r]={usageCount:0}),n.rowDefinition.hasColumnTitles&&(e._tableRowDefinitionWithColumnTitlesID=r,e.updateTableTitle()),i.rowDefinition=n.rowDefinition,i.cellDefinitionType=r}this._tableRowDefinitionIDToDataMap[i.cellDefinitionType].usageCount++}t.tableRowDefinition=i.rowDefinition||null,t.tableCellDefinitionType=i.cellDefinitionType}return i},_fillTableRowContent:function(t,e,i){"use strict";var o=this;if(t.totalHeight){if(e&&a.selectAll(e.node().childNodes).filter(":not(."+o.NXXXXX.TABLE_CELL_CLASS+"):not(."+o.NXXXXX.TABLE_GROUP_CELL_CLASS+")").remove(),i)if(i.contentsFunc){var n=o._extendCallbackArgs({rowItem:t.item,rowElem:t.foregroundRowElem,parentElem:e?.node(),width:o._PE_TableRowWidth(),totalHeight:t.totalHeight,oldTotalHeight:t.oldTotalHeight,mainHeight:o._PE_virt104(t),rowDefinition:i,rowLevel:t.level});i.contentsFunc.call(this,n),t.worldViewFillColor=n.worldViewFillColor||"transparent"}else t.worldViewFillColor="transparent"}else e.size()&&a.selectAll(e.node().childNodes).remove()},_PE_virt104:function(){},_fillImageListCell:function(t,e,i,n,r,l){"use strict";var s=this;if(i)for(var c=16,_=Math.max(Math.floor((n-6+4)/20),1),h=Math.max(Math.floor((r-6+4)/20),1),f=_*h,m=i.length<=f,w=Math.ceil(i.length/h),E=3,g=3,T=0;T<i.length;T++){if(!(m||T<f-1)){var R,v=e.append("image").attr("x",E).attr("y",g).attr("width",c).attr("height",c).attr("href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFjSURBVGhD7ZS7LgZRFEaHKBQKhVKhVEhISCgUHkDhIRQ6Eq3OK0jkj6iUHsEzCEJCp6BTkChIFKxvciYZx56LS1TfSlbOXM7eczvzFcYYY4wxxhhjzM8YSmPEJG7iDL7iKe7hE3Yxjts4V+4VxTkO8L7ca2cUt3AxbV/hId5gb9bwEd8z73AZ29B5zctr1U9925jGa8xrX3ADezGFz5g3qdTN6Q1H6Hh085Xqq/4RI3iGUZ18wyXs5AijBnV3MGIXo/l1DzBiHaP5dU/wE8NprFOt2zbm05jTp3YhjTmzaWzjS230APpxutDnjvj32ugBlBhdNM35Te1FGtvo079cBvphojUolSaK2Agdj9KrUn2bltkY3mJUV7mKvVBkRQ+hFOmKQp2PUkz9uqJQKfOAea1UQHwLvaljVC4r3pQeTRGYo3lKs8uktvv84GIC91HX1LV1DytojDHGGGOMMcb8HUXxAd9DjLLnJpEBAAAAAElFTkSuQmCC");o(v.node()).attr(p.POINTER_ENTER_ATTR_NAME,"1"),d.on(v.node(),"pointerenter",s._EVENT_NAMESPACE,(function(){var n=a.select(o(e.node()).closest("."+s.NXXXXX.TABLE_ROW_CLASS+", ."+s.NXXXXX.TABLE_TITLE_CLASS)[0]);R=n.append("g").attr("class",[s.NXXXXX.IMAGE_LIST_IMAGE_GROUP_CLASS,u.TAP_EVENT_CLASS_NAME,u.DOUBLE_TAP_EVENT_CLASS_NAME,u.CONTEXTMENU_EVENT_CLASS_NAME].join(" ")).attr("opacity","0");var l=6+w*c+4*Math.max(w-1,0);R.append("rect").attr("class",s.NXXXXX.IMAGE_LIST_IMAGE_GROUP_RECT_CLASS).attr("width",l).attr("height",r),R.append("rect").attr("class",s.NXXXXX.IMAGE_LIST_IMAGE_GROUP_SHADOW_RECT_CLASS).attr("width",3).attr("x",l).attr("height",r),s._fillImageListCell(t,R,i,l,r,!0);let _=v.node().getBoundingClientRect();d.on(s.element[0],"pointerleave pointermove",`${s._EVENT_NAMESPACE}-il`,(function(t){(t.clientX<_.left||t.clientX>=_.right||t.clientY<_.top||t.clientY>=_.bottom)&&(d.off(s.element[0],"pointerleave pointermove",`${s._EVENT_NAMESPACE}-il`),R.remove().interrupt().transition())})),R.transition().delay(s.options.transitionDuration).duration(500).attr("opacity","1").on("end",(function(){d.on(s.element[0],"pointerleave pointermove",`${s._EVENT_NAMESPACE}-il`,(function(t){t.target!==R.node()&&t.target.parentElement!==R.node()&&(d.off(s.element[0],"pointerleave pointermove",`${s._EVENT_NAMESPACE}-il`),R.remove())}))}))}));break}var C=i[T],I="///"===C.substring(0,3),b=e.append(I?"use":"image").attr("class",s.NXXXXX.TABLE_CELL_IMAGE_CLASS).attr("x",E).attr("y",g).attr("href",I?"#"+C.substring(3):C);I||b.attr("width",c).attr("height",c),s._registerTapEvents(b,{sender:t?t.item:void 0,symbolIndex:T}),l&&o(b.node()).attr(p.POINTER_ENTER_ATTR_NAME,"1").attr(p.POINTER_LEAVE_ATTR_NAME,"1"),E=3+20*Math.floor((T+1)/h),g=3+(T+1)%h*20}e.append("line").attr("class",s.NXXXXX.TABLE_COLUMN_SEPARATION_LINE_CLASS).attr("pointer-events","none").attr("x1",n).attr("x2",n).attr("y1",0).attr("y2",r)},_fillSymbolCell:function(t,e,i,o,a,n){"use strict";if(e){var r=a-6,l=a-6,s=3,c=0;switch(n){default:case C.Left:s=3,c=l+3;break;case C.Right:s=i-3-l;break;case C.Center:s=(i-l)/2}var d="///"===e.substring(0,3);return t.append(d?"use":"image").attr("x",s).attr("y",3).attr("href",d?"#"+e.substring(3):e).attr("width",l).attr("height",r),c}},_fillTableCellContent:function(t,e,i,o,n,r,l,s){"use strict";var c=this;i.selectAll("*").remove();var d,_=0;s&(v.FixedColumnsPreceding|v.FixedColumnsSucceeding)||(n=c._PE_CellWidth(e,r,l,n),r||(_+=c.options.treeLinesVisible&&c.options.leafRowsVisible?Math.max(c.options.buttonExtent,c.options.firstCellLeftOffset):c.options.firstCellLeftOffset,c.options.treeLinesVisible&&(_+=t.level*c.options.treeLevelIndent),_+=c.options.groupCollapseButtonWidth));var u,p=C.Left,f=c._enrichClass(t,c.NXXXXX.TABLE_COLUMN_TEXT_CLASS,{elemType:T.TableCellText,columnIndex:r}),m=o.type||I.Text;if(o.contentsFunc&&(u=c._extendCallbackArgs({rowItem:t.item,rowElem:a.select(t.foregroundRowElem).node(),cellElem:e.node(),parentElem:i.node(),width:n-_,totalHeight:t.totalHeight,oldTotalHeight:t.oldTotalHeight,mainHeight:c._PE_virt104(t),columnIndex:r,rowDefinition:l,rowLevel:t.level,text:void 0,className:f,horizontalTextAlignment:o.horizontalTextAlignment||p,rowDefinitionType:s,cellType:m,imageURLs:void 0,symbolURL:void 0}),void 0===(d=o.contentsFunc.call(this,u))&&(d=u.text,p=u.horizontalTextAlignment)),(u?u.cellType:m)===I.ImageList&&(e.classed(c.NXXXXX.TABLE_CELL_IMAGE_LIST_CLASS,!0),c._fillImageListCell(t,i,u.imageURLs,u.width,u.totalHeight)),u&&u.symbolURL)var E=t.isLeaf?c.options.defaultLeafRowMainHeight:c.options.defaultRowMainHeight,g=+t.item.minimumHeight||E,R=Math.min(g,E),b=c._fillSymbolCell(i,u.symbolURL,u.width,u.totalHeight,R,p);if("string"==typeof d){r||(n-=_);var D=i.append("text").attr("class",f).attr("dx",b).attr("y",c._determineActualTableCellContentTopOffset(t)).attr("dy",".3em");c._setHorizontalAlignmentOnCell(D,r?p:C.Left,C.Left,n);var y=d||"";h.isFirefox&&""===y&&(y=" "),1===o.wrapMode?(D.attr("data-text",y).attr("data-wrap-mode","n"),w.wrapSVGText(D)):D.text(y),d=D.node()}u&&u.finalizeFunc&&u.finalizeFunc.call(c,c._extendCallbackArgs({elem:d})),r&&i.append("line").attr("class",c.NXXXXX.TABLE_COLUMN_SEPARATION_LINE_CLASS+" "+c._determineRowLevelClass(t)).attr("x1",-V).attr("x2",-V).attr("y1",0).attr("y2",t.totalHeight)},_setHorizontalAlignmentOnCell:function(t,e,i,o){"use strict";switch(e){case C.Center:case C.Right:case C.Left:break;default:e=i}var a;switch(e){case C.Center:t.attr("text-anchor","middle"),a=o/2;break;case C.Right:t.attr("text-anchor","end"),a=o-5.5;break;default:t.attr("text-anchor","start"),a=5.5}t.attr("x",a),t.selectAll("tspan").attr("x",a)},_PE_CellWidth:function(){},_createTreeview:function(t,e){"use strict";var i=this;if(t.totalHeight){var o=this._colexpButtonSize+this._tableColexpButtonPadding,a=this._colexpButtonSize+this._tableTreeTextBottomPadding,n=this._colexpButtonSize+this._tableColexpButtonRightPadding,r=this._colexpButtonSize+this._tableTreeHorizontalConnectionLineLength,l=t.totalHeight,s=i.options.treeLevelIndent,c=(i.options.leafRowsVisible?Math.max(i.options.buttonExtent,i.options.buttonLeftOffset):i.options.buttonLeftOffset)+i.options.buttonExtent/2+i._fixedTableColumnsWidthPreceding,d=i._determineActualTableCellContentTopOffset(t),_=d-o,u=d,h=d+o,p=d+a,f=c+s*t.level;if(!t.isLeaf){var m=t.parentRowDataItem.item.childRowItems,w=!t.level&&t.item===m[0];if(!w&&!t.level)m.slice(0,m.indexOf(t.item)).some((e=>0!==e.totalHeight&&!e.atTheTop==!t.item.atTheTop))||(w=!0);var E=t.item===m[m.length-1];if(!E)m.slice(m.indexOf(t.item)+1).some((e=>0!==e.totalHeight&&(t.level||!e.atTheTop==!t.item.atTheTop)))||(E=!0);i._hasCollapseExpandButton(t)?(w||e.append("line").attr("x1",f).attr("y1",0).attr("x2",f).attr("y2",_).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS),e.append("line").attr("x1",f+n).attr("y1",u).attr("x2",f+r).attr("y2",u).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS),E||e.append("line").attr("x1",f).attr("y1",h).attr("x2",f).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS)):(w?E||e.append("line").attr("x1",f).attr("y1",u).attr("x2",f).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS):E?e.append("line").attr("x1",f).attr("y1",0).attr("x2",f).attr("y2",u).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS):e.append("line").attr("x1",f).attr("y1",0).attr("x2",f).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS),!t.level&&E&&w||e.append("line").attr("x1",f).attr("y1",u).attr("x2",f+r).attr("y2",u).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS))}!t.isCollapsed&&Array.isArray(t.item.childRowItems)&&t.item.childRowItems.some((t=>0!==t.totalHeight))&&e.append("line").attr("x1",f+s).attr("y1",p).attr("x2",f+s).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS),t.isLeaf&&Array.isArray(t.parentRowDataItem.item.childRowItems)&&e.append("line").attr("x1",f).attr("y1",0).attr("x2",f).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS);for(var g=t,T=t.level-1;T>=0;T--){var R=(g=g.parentRowDataItem).parentRowDataItem.item.childRowItems;g.item===R[R.length-1]||R.slice(R.indexOf(g.item)+1).every((t=>0===t.totalHeight))||!T&&g.item.atTheTop&&!R[R.indexOf(g.item)+1].atTheTop||e.append("line").attr("x1",c+s*T).attr("y1",0).attr("x2",c+s*T).attr("y2",l).attr("class",i.NXXXXX.TREEVIEW_LINE_CLASS)}}},_createTableRow:function(t,e,i,n,r){"use strict";var l=this;if(n!==S.WorldView){var s=l._determineTableRowDefinitionInfo(t),c=s.rowDefinition,_=l.options.isForExport?l._layoutColumns[x.Table].innerViewExtent():l._PE_TableRowWidth();_=Math.max(0,_-l._fixedTableColumnsWidthPreceding);var p=e.append("rect").attr("class",l._PE_CreateTableRow_Classes(t,r)).attr("x",l._fixedTableColumnsWidthPreceding).attr("width",_);d.on(p.node(),"pointerdown"+l._EVENT_NAMESPACE,(function(){l._setActiveHorizontalBodyAreaIndex(l._getBodyAreaIndex(t.item))}));var f="m"===s.cellDefinitionType[0]?v.Map:"b"===s.cellDefinitionType?v.BaseLevel:"l"===s.cellDefinitionType?v.LeafDefault:"u"===s.cellDefinitionType[0]?v.FromCallback:v.GroupingLevel,m=[e.attr("class"),u.TAP_EVENT_CLASS_NAME,u.CONTEXTMENU_EVENT_CLASS_NAME,u.DOUBLE_TAP_EVENT_CLASS_NAME,u.PRESS_PAN_EVENT_CLASS_NAME].join(" ");e.attr("class",m),l.options.isForExport||e.attr("clip-path","url(#"+l.NXXXXX.WIDTH_CLIPPATH_ID[x.Table]+l._uniqueID+")"),h.isIOS||l._pointerEnterAndLeaveListenersForRows[l._getBodyAreaIndex(t.item)].add(e.node()),o(e.node()).data(u.HANDLER_FUNCTION_PROPERTY+l._EVENT_NAMESPACE,(function(e){try{let n=e.srcEvent||e;switch(e.type){case u.TAP_EVENT_NAME:case u.CONTEXTMENU_EVENT_NAME:case u.DOUBLE_TAP_EVENT_NAME:case u.PAN_EVENT_NAME+"start":var i=l.element.offset(),o=n.pageX-i.left,a=l._detectCellIndexInTableRowByMouseX(t,o)}if(-1!==a)switch(e.type){case u.TAP_EVENT_NAME:l._temporaryMarkVisible=void 0,l._triggerEvent({sender:t.item,eventType:"tap",elem:this,elemType:r,event:e.srcEvent,cellIndex:a,hammerEvent:e}),l._isRowSelectable(t)&&l._selectRow(t,e);break;case u.CONTEXTMENU_EVENT_NAME:l._temporaryMarkVisible=void 0,l._triggerEvent({sender:t.item,eventType:"contextmenu",elemType:r,cellIndex:a,event:e}),l.options.preventDefaultOnContextMenuEvents&&(e.stopPropagation(),e.preventDefault());break;case u.DOUBLE_TAP_EVENT_NAME:l._triggerEvent({sender:t.item,eventType:"doubletap",elem:this,elemType:r,event:e.srcEvent,cellIndex:a,hammerEvent:e});break;case u.PAN_EVENT_NAME+"start":l._temporaryMarkVisible=void 0,l._onRowDragStart(e,t);break;case u.PAN_EVENT_NAME+"move":l._rowDragging.isInitiated()?l._onRowDragMove(e):e[u.CANCEL_PROPERTY]=!0;break;case u.PAN_EVENT_NAME+"end":case u.PAN_EVENT_NAME+"cancel":l._onRowDragEnd(e);break;case u.PRESS_EVENT_NAME:l._temporaryMarkVisible=void 0,l._onRowPress(e,t);break;case u.PRESS_EVENT_NAME+"up":l._onRowPressUp(e,t)}}catch(t){l._handleException(t,"onEventDispatch_tableRow")}}))}if(t.totalHeight){var w,g;n!==S.WorldView&&(w=e.append("g").attr("clip-path","url(#"+l.NXXXXX.SCROLLABLE_TABLE_CLIPPATH_ID+l._uniqueID+")").append("g").attr("class",l.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS).attr("transform","translate("+-l._layoutColumns[x.Table].scrollStart()+")"),g=w.append("g").attr("class",l.NXXXXX.TABLE_ROW_CONTENT_CLASS));var R,C,I=0;if(l._fixedTableColumnCountPreceding){var b;n!==S.WorldView&&(R=e.append("g").attr("class",l.NXXXXX.FIXED_TABLE_ROW_PRECEDING_CLASS),b=R.append("g").attr("class",l.NXXXXX.TABLE_ROW_CONTENT_CLASS));var D=l.options.tableDefinition.fixedColumnsPreceding;D.cellDefinitions.forEach((function(e,i){var o,r=l._determineTableCellWidth(e);if(n!==S.WorldView){o=b.append("g").attr("class",l._enrichClass(t,[l.NXXXXX.TABLE_CELL_CLASS,l.NXXXXX.ROW_HEIGHT_PROP_CLASS].join(" "),{elemType:T.TableCell,level:t.level})).attr("transform","translate("+I+")").property(N,I).datum(e);var s=l._getOrCreateClipPathForColumn("f0",i);l.setClipPathAttrOnElemD3WithRefCount(o,s),a.select("#"+s+" rect").datum(r).attr("width",r),o.append("rect").attr("class",[l.NXXXXX.TABLE_CELL_BACKGROUND_RECT_CLASS,l.NXXXXX.ROW_HEIGHT_PROP_CLASS].join(" ")).attr("width",r);var c=o.append("g").attr("class",l.NXXXXX.TABLE_CELL_CONTENT_CLASS);l._fillTableCellContent(t,o,c,e,r,i,D,v.FixedColumnsPreceding)}I+=r}))}if(w){var y=0;if(!this.options.treeLinesVisible){if(n!==S.WorldView)for(var A=0;A<t.level;A++)w.append("rect").attr("class",l._enrichClass(t,l.NXXXXX.TABLE_GROUP_CELL_CLASS+" "+l.NXXXXX.ROW_HEIGHT_PROP_CLASS,{elemType:T.GroupCell,level:A})).attr("transform","translate("+I+")").attr("width",l.options.groupCellWidth),I+=l.options.groupCellWidth;y=t.level*l.options.groupCellWidth}}if(this._fillTableRowContent(t,n!==S.WorldView?g:void 0,c),l._worldViewDivJQ){var X=t.worldViewCache,L=l._getTopOfRowDataItemForWorldView(t),P={left:l._fixedTableColumnsWidthPreceding,top:L.top,topPx:L.topPx,width:l.options.groupCellWidth,height:t.totalHeight};if(!l.options.treeLinesVisible){var O=[],W=t;for(A=0;A<t.level;A++)W=W.parentRowDataItem,O.push(W);for(;W=O.pop();){if(void 0===W.worldViewFillColor){var V=l._determineTableRowDefinitionInfo(t);l._fillTableRowContent(W,void 0,V.rowDefinition)}var M=W.worldViewFillColor;"transparent"!==M&&"none"!==M&&X.push({method:"fillRect",args:[E.Content,{fillStyle:M},o.extend({},P)]}),P.left+=l.options.groupCellWidth}}var F=t.worldViewFillColor;"transparent"!==F&&"none"!==F&&(P.width=l._scrollableTableColumnsWidth+l._fixedTableColumnsWidthSucceeding,l.options.treeLinesVisible||(P.width-=l.options.groupCellWidth*t.level),X.push({method:"fillRect",args:[E.Content,{fillStyle:F},P]}))}if(w){var H=l._hasCollapseExpandButton(t,!1),G=l.options.leafRowsVisible&&l._hasCollapseExpandButton(t,!0);if(n!==S.WorldView){var k=t===i&&(n===S.RowCollapsed||n===S.RowExpanded),z=t===i&&(n===S.RowLeavesCollapsed||n===S.RowLeavesExpanded);H&&l._createCollapseExpandButton(t,w,k,c.cellDefinitions,!1,G),G&&l._createCollapseExpandButton(t,w,z,c.cellDefinitions,!0,H)}var U=(l.options.treeLinesVisible&&l.options.leafRowsVisible?Math.max(l.options.buttonExtent,l.options.firstCellLeftOffset):l.options.firstCellLeftOffset)+l.options.groupCollapseButtonWidth;l.options.treeLinesVisible&&(U+=t.level*this.options.treeLevelIndent),H&&G&&!l.options.treeLinesVisible&&(U+=l.options.buttonExtent),c&&c.cellDefinitions.forEach((function(e,i){var o,d=l._PE_IsLastColumn(i,c);if(d?(o=l._scrollableTableColumnsWidth-(I-l._fixedTableColumnsWidthPreceding),y=0):o=l._determineTableCellWidth(e),n!==S.WorldView){var _=g.append("g").attr("class",l._enrichClass(t,[l.NXXXXX.TABLE_CELL_CLASS,l.NXXXXX.ROW_HEIGHT_PROP_CLASS].join(" "),{elemType:T.TableCell,level:t.level})).property(N,I).attr("transform","translate("+I+")").datum(e),h=l._getOrCreateClipPathForColumn(s.cellDefinitionTypeForClipPath||s.cellDefinitionType,i,t.level);l.setClipPathAttrOnElemD3WithRefCount(_,h);var p={};if(p[u.TAP_EVENT_NAME]=function(e){l._isRowSelectable(t)&&l._selectRow(t,e)},l._registerTapEvents(_,{sender:t.item,elemType:r,cellIndex:i},p),_.append("rect").attr("class",[l.NXXXXX.TABLE_CELL_BACKGROUND_RECT_CLASS,l.NXXXXX.ROW_HEIGHT_PROP_CLASS].join(" ")).attr("width",l._PE_LastColumnWidth(d,Math.max(o-y,0))),0===i&&t.isLeaf){var m=t.parentRowDataItem;_.append("path").attr("d",`M0,${t.totalHeight/2-1.5*l._colexpButtonSize} L${l._colexpButtonSize}, ${t.totalHeight/2} l-${l._colexpButtonSize},${1.5*l._colexpButtonSize} Z`).attr("class",l._enrichClass(t,l.NXXXXX.LEAVES_INDICATOR_CLASS,{elemType:T.AllocationRowLeavesIndicator,level:m.level})),_.append("path").attr("d",`M0,0 V${t.totalHeight/2-1.5*l._colexpButtonSize} L${l._colexpButtonSize}, ${t.totalHeight/2} l-${l._colexpButtonSize},${1.5*l._colexpButtonSize} V${t.totalHeight}`).attr("class",l.NXXXXX.LEAVES_INDICATOR_OUTLINE_CLASS)}var w=_.append("g").attr("class",l.NXXXXX.TABLE_CELL_CONTENT_CLASS);i||w.attr("transform","translate("+(i?0:U)+")"),l._fillTableCellContent(t,_,w,e,o,i,c,f),a.select("#"+h+" rect").datum(l._PE_LastColumnWidth(d,o-y)).attr("width",l._PE_LastColumnWidth(d,Math.max(o-y,0)))}I+=o-y,y=0}))}if(l._fixedTableColumnCountSucceeding){if(n!==S.WorldView)var Y=(C=e.append("g").attr("class",l.NXXXXX.FIXED_TABLE_ROW_SUCCEEDING_CLASS)).append("g").attr("class",l.NXXXXX.TABLE_ROW_CONTENT_CLASS);I=l._determineXOffsetOfFirstFixedSucceedingTableColumn();var j=l.options.tableDefinition.fixedColumnsSucceeding;j.cellDefinitions.forEach((function(e,i){var o=l._determineTableCellWidth(e);if(n!==S.WorldView){var r=Y.append("g").attr("class",l._enrichClass(t,l.NXXXXX.TABLE_CELL_CLASS+" "+l.NXXXXX.ROW_HEIGHT_PROP_CLASS,{elemType:T.TableCell,level:t.level})).property(N,I).attr("transform","translate("+Math.max(I,l._fixedTableColumnsWidthPreceding)+")").datum(e);if(!1!==e.clippingEnabled){var s=l._getOrCreateClipPathForColumn("f1",i);l.setClipPathAttrOnElemD3WithRefCount(r,s),a.select("#"+s+" rect").attr("width",o)}var c=r.append("g").attr("class",l.NXXXXX.TABLE_CELL_CONTENT_CLASS);l._fillTableCellContent(t,r,c,e,o,i,j,v.FixedColumnsSucceeding)}I+=o}))}if(l._updateRowSelection(t),n!==S.WorldView){var K=l._determineRowLevelClass(t);if(w){var $=this.options.treeLinesVisible||this.options.groupCellsWithHorizontalSeparationLine?0:t.level*l.options.groupCellWidth;w.append("line").attr("class",l.NXXXXX.SEPARATION_LINE_CLASS+" "+K).attr("transform","translate("+l._fixedTableColumnsWidthPreceding+")").attr("x1",$-l._layoutColumns[x.Table].scrollStart()).attr("x2",l._PE_X2()).attr("y1",B).attr("y2",B).style("visibility",l.options.rowSeparationLinesVisible?null:"hidden"),l.options.treeLinesVisible&&this._createTreeview(t,w)}R&&R.append("line").attr("class",l.NXXXXX.SEPARATION_LINE_CLASS+" "+K).attr("x2",l._fixedTableColumnsWidthPreceding).attr("y1",B).attr("y2",B).style("visibility",l.options.rowSeparationLinesVisible?null:"hidden"),C&&C.append("line").attr("class",l.NXXXXX.SEPARATION_LINE_CLASS+" "+K).attr("transform","translate("+l._PE_TranslateWidth()+")").attr("x2",l._fixedTableColumnsWidthSucceeding).attr("y1",B).attr("y2",B).style("visibility",l.options.rowSeparationLinesVisible?null:"hidden")}}},_determineRowLevelClass:function(t){return t.isLeaf?this.NXXXXX.LEAF_CLASS:this.NXXXXX.LEVEL_CLASS_PREFIX+t.level},_PE_CreateTableRow_Classes:function(){return this.NXXXXX.TABLE_ROW_BACKGROUND_RECT_CLASS+" "+this.NXXXXX.ROW_HEIGHT_PROP_CLASS},_removeRowCompletely:function(t,e){"use strict";var i=this;if(t.foregroundRowElem){var o=a.select(t.foregroundRowElem).select("."+i.NXXXXX.TABLE_ROW_CLASS).node(),n=i._getBodyAreaIndex(t.item);i._pointerEnterAndLeaveListenersForRows[n].remove(o)}i._super(t,e)},_isRowSelectable:function(t){"use strict";var e=t.item.selectable;return null==e?t.isLeaf?this.options.defaultLeafRowItemSelectable:this.options.defaultRowItemSelectable:e},_PE_LastColumnWidth:function(){},_PE_TableRowWidth:function(){},_determineXOffsetOfFirstFixedSucceedingTableColumn:function(){},_PE_X2:function(){},_PE_TranslateWidth:function(){},_detectCellIndexInTableRowByMouseX:function(t,e){"use strict";var i=this,o=-1;if((e=e/i.options.visualZoomFactor-i._fixedTableColumnsWidthPreceding)>=0){e+=i._layoutColumns[x.Table].scrollStart();var a=t.tableRowDefinition,n=i.options.treeLinesVisible?0:t.level*i.options.groupCellWidth,r=0,l=a.cellDefinitions.length;a&&n<=e&&a.cellDefinitions.every((function(t,a){return o++,r+=i._determineTableCellWidth(t),!(a===l-1||e<r)}))&&(o=-1)}return o},_onPointerEnterOnTableRow:function(t,e){"use strict";var i=this;try{if(!f.isContextMenuActive()&&!i.isInInteraction()){var o=a.select(t).datum(),n=i.element.offset(),r=e.pageX-n.left,l=a.select(e.target.parentElement).classed(i.NXXXXX.IMAGE_LIST_IMAGE_GROUP_CLASS)?-1:i._detectCellIndexInTableRowByMouseX(o,r),s=i._tableMouseEnterCell;if(i._tableMouseEnterCell={rowDataItem:o,cellIndex:l},s.rowDataItem===i._tableMouseEnterCell.rowDataItem&&s.cellIndex===i._tableMouseEnterCell.cellIndex||(s.rowDataItem&&(s.rowDataItem!==i._tableMouseEnterCell.rowDataItem||l<0)&&i._onPointerLeaveOnTableRow(null,e),i.options.onEventFunc&&l>=0&&i._triggerEvent({sender:o.item,event:e,eventType:"tooltip",elem:t,elemType:T.TableRow,cellIndex:l})),-1!=l){var c=i._getActualRowInteractions(o);if(null==i._finalRowInteractions){var d=i._pointToSVGRelative(o.foregroundRowElem,e.pageX,e.pageY);i._finalRowInteractions=i._determineRowInteractions(o,c,d,e)}i._setRowInteractionCursor(i._finalRowInteractions)}}}catch(t){i._handleException(t,"onPointerEnterOnTableRow")}},_onPointerLeaveOnTableRow:function(t,e){"use strict";var i=this;i.isInInteraction()||(delete i._finalRowInteractions,i._setRowInteractionCursor(R.None));try{(t&&a.select(t).datum()!==i._tableMouseEnterCell.rowDataItem||!i._tableMouseEnterCell.rowDataItem)&&1===i._tableMouseEnterCell.cellIndex||(i.options.onEventFunc&&i._triggerEvent({sender:null,eventType:"tooltip",elem:null,event:e}),t&&(i._tableMouseEnterCell={rowDataItem:void 0,cellIndex:-1}))}catch(t){i._handleException(t,"onPointerLeaveOnTableRow")}},_updateRowSelection:function(t,e){"use strict";var i,o=this;if(e!==S.WorldView){o._checkForVisibilityOfUnselectedRowCover(t);var a=o._PE_GetTableRowD3(t);a.selectAll("."+o.NXXXXX.SELECTED_ROW_CLASS).remove()}if(t.worldViewSelectionCacheMap&&(i=!!t.worldViewSelectionCacheMap["R"+t.id],delete t.worldViewSelectionCacheMap["R"+t.id]),t.selected){if(e!==S.WorldView&&o.options.rowSelectionWithFrames){var n=o.actualTableViewWidth(),r=o._fixedTableColumnsWidthPreceding+(o.options.treeLinesVisible?0:Math.max(0,t.level*o.options.groupCellWidth-o._layoutColumns[x.Table].scrollStart()));a.append("rect").attr("x",r).attr("width",n-r).attr("y",0).attr("height",o._selectedTableRowDataItemsBorderWidth).attr("fill","url(#"+o.NXXXXX.SELECTION_TOP_GRADIENT_CLIPPATH_ID+o._uniqueID+")").classed(o.NXXXXX.SELECTED_ROW_CLASS,!0),a.append("rect").attr("x",r).attr("width",o._selectedTableRowDataItemsBorderWidth).attr("y",0).attr("height",t.totalHeight).attr("fill","url(#"+o.NXXXXX.SELECTION_LEFT_GRADIENT_CLIPPATH_ID+o._uniqueID+")").classed(o.NXXXXX.SELECTED_ROW_CLASS,!0),a.append("rect").attr("x",r).attr("width",n-r).attr("y",t.totalHeight-o._selectedTableRowDataItemsBorderWidth).attr("height",o._selectedTableRowDataItemsBorderWidth).attr("fill","url(#"+o.NXXXXX.SELECTION_BOTTOM_GRADIENT_CLIPPATH_ID+o._uniqueID+")").classed(o.NXXXXX.SELECTED_ROW_CLASS,!0),a.append("rect").attr("x",n-o._selectedTableRowDataItemsBorderWidth+1).attr("width",o._selectedTableRowDataItemsBorderWidth).attr("y",0).attr("height",t.totalHeight).attr("fill","url(#"+o.NXXXXX.SELECTION_RIGHT_GRADIENT_CLIPPATH_ID+o._uniqueID+")").classed(o.NXXXXX.SELECTED_ROW_CLASS,!0)}if(o._worldViewDivJQ){i=!0;var l=o._getTopOfRowDataItemForWorldView(t);t.worldViewSelectionCacheMap||(t.worldViewSelectionCacheMap={}),t.worldViewSelectionCacheMap["R"+t.id]={method:"drawRect",args:[{left:0,top:l.top,topPx:l.topPx,width:o.actualTableWidth(),height:t.totalHeight}]}}}i&&o._renderCachedRowInWorldView(t,"S")},_PE_GetTableRowD3:function(t){return a.select(t.foregroundRowElem)},_getAllTableCellDefinitionsForLevel:function(t){"use strict";var e=this,i=e.options.tableDefinition,o=[];if(e._fixedTableColumnCountPreceding&&o.push.apply(o,i.fixedColumnsPreceding.cellDefinitions),t>=0&&i.groupingLevels&&Array.isArray(i.groupingLevels[t])&&Array.isArray(i.groupingLevels[t].cellDefinitions))o.push.apply(o,i.groupingLevels[t].cellDefinitions);else if(i.rowDefinitionIDWithColumnTitles){var a=i.rowDefinitionsMap[i.rowDefinitionIDWithColumnTitles];a&&Array.isArray(a.cellDefinitions)&&o.push.apply(o,a.cellDefinitions)}else e._tableRowDefinitionWithColumnTitlesID?o.push.apply(o,e._tableRowDefinitionIDToDefinitionMap[e._tableRowDefinitionWithColumnTitlesID].cellDefinitions):e._baseLevelTableColumnCount&&o.push.apply(o,i.baseLevel.cellDefinitions);return e._fixedTableColumnCountSucceeding&&o.push.apply(o,i.fixedColumnsSucceeding.cellDefinitions),o},_createTableTitleCell:function(t,e,i,n,r,l,s,c,d,_,u){"use strict";var h,p,f=this;if(p=f._determineTableCellWidth(r),"blm".indexOf(e[0])>=0&&s)h=f._PE_determineTableCellWidth(l);else if(h=p,"f0"===e&&s)h++;else if("blm".indexOf(e[0])>=0){var E=f._PE_determineTableCellWidth(l);h=Math.min(h,E)}var g="tt"!==e?f._getOrCreateClipPathForColumn("t"+e,n):void 0,T=t.append("g").attr("class",f.NXXXXX.TABLE_TITLE_CELL_CLASS).property(N,l).attr("transform","translate("+("f1"!==e?l:Math.max(l,f._fixedTableColumnsWidthPreceding))+")").datum(r);if(g&&(f.setClipPathAttrOnElemD3WithRefCount(T,g),a.select("#"+g+" rect").attr("width","f"!==e[0]?f._PE_LastColumnWidth(s,h):h)),T.append("rect").attr("class",f.NXXXXX.TABLE_TITLE_RECT_CLASS).attr("height",i).attr("width",f._PE_LastColumnWidth(s,h)),"f0"===e&&d&&c?.length&&f._fillImageListCell(null,T,c,f._PE_LastColumnWidth(s,h),i),!e.startsWith("f")&&(f.options.interactiveSwitchingOfSortOrderEnabled&&f._registerTapEvents(T,{sender:"TableTitleCell",cellDefinition:r,cellIndex:n},null),f.options.sortingIndicatorVisible&&_===r.rab_sortSource&&u)){var R=T.append("path").attr("class",`${f.NXXXXX.TABLE_TITLE_SORTING_INDICATOR_CLASS}`).attr("d","M8,0h2v28h7l-8,8l-8,-8h7z");switch(u){case 1:R.attr("transform","translate(2,2) scale(0.5) rotate(180,9,18)");break;case 2:R.attr("transform","translate(2,2) scale(0.5)")}R.text("")}var v=r.titleText||r.title,I=T.append("text").attr("class","tt"===e?f.NXXXXX.FIXED_TABLE_TITLE_TEXT_CLASS:f.NXXXXX.TABLE_TITLE_TEXT_CLASS).attr("dy","1em").attr("x","tt"===e?"0.5em":p/2).attr("data-text",null==v?"":v.toString()).attr("data-wrap-mode","n");if("tt"!==e){var b=s&&8e4===f._PE_determineTableCellWidth(l)?C.Center:r.horizontalTitleAlignment;f._setHorizontalAlignmentOnCell(I,b,C.Center,p)}if(w.wrapSVGText(I),I.selectAll("tspan").attr("y",(i-w.calculateSVGTextHeight(I))/2),"blm".indexOf(e[0])>=0&&f._PE_LastColumnResult(s)){var D=t.append("g").attr("class",f.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS),y=s?Math.ceil(f.options.columnSplitterWidth/2):0,A=f._actualScaledMainHeight();o(D.node()).nSplitterWidget({classes:f.NXXXXX.TABLE_COLUMN_SPLITTER_CLASS,divElemForCursor:f.element[0],visualZoomFactor:f.options.visualZoomFactor,min:l+(null==r.minimumWidth?f._minimumTableColumnWidth:r.minimumWidth),max:f.options.splitterEnabled?null==r.maximumWidth?1/0:l+r.maximumWidth:0,position:{x:l+h-y,y:0},width:f.options.columnSplitterWidth,height:i,phantomHeight:A,orientation:m.Orientation.vertical,startDrag:function(){f._tableColumnWidthAtStartDrag=f._determineTableCellWidth(r),f._tableViewWidthAtStartDrag=f._layoutColumns[x.Table].innerViewExtent(),f._tableScrollStartAtStartDrag=f._layoutColumns[x.Table].scrollStart()},changed:function(t,e){f.options.virtualized||f._onColumnSplitterChanged(o(this).data(f.NXXXXX.COLUMN_INDEX_DATA),e.newValue-e.oldValue)},dragged:function(t,e){f.options.virtualized&&f._onColumnSplitterChanged(o(this).data(f.NXXXXX.COLUMN_INDEX_DATA),e.newValue-e.oldValue)},endDrag:function(t,e){f._onColumnSplitterDropped(o(this).data(f.NXXXXX.COLUMN_INDEX_DATA),e.canceled,f._determineTableCellWidth(r),f._tableColumnWidthAtStartDrag),f._tableColumnWidthAtStartDrag=void 0,f._tableViewWidthAtStartDrag=void 0,f._tableScrollStartAtStartDrag=void 0},useOwnEventDispatcher:!1}).data(f.NXXXXX.COLUMN_INDEX_DATA,e+","+n),D.datum(r)}return l+h},_PE_determineTableCellWidth:function(){},_PE_LastColumnResult:function(){},updateTitle:function(){this.updateTableTitle()},updateTableTitle:function(){"use strict";for(var t=0;t<=1;t++)this.options.updateSuspended?this._tableTitleD3s[t]?.selectAll("*").remove():this._titleVisible(t)&&this._createTableTitle(t)},_tableDefinitionChanged:function(t,e){"use strict";var i=this,o=this.options.tableDefinition;if(i.options.updateSuspended)i._cachedTableDefinitionChangedArguments?(t||(i._cachedTableDefinitionChangedArguments[0]=!1),e||(i._cachedTableDefinitionChangedArguments[1]=!1)):i._cachedTableDefinitionChangedArguments=Array.prototype.slice.call(arguments);else{t||(this._tableTitleD3s[O.top].selectAll("*").remove(),Object.keys(this._tableRowDefinitionIDToDefinitionMap).forEach((function(t){"u"!==t[0]&&(delete i._tableRowDefinitionIDToDefinitionMap[t],delete i._tableRowDefinitionIDToDataMap[t])})),i._fixedTableColumnCountPreceding=0,i._fixedTableColumnsWidthPreceding=0,i._fixedTableColumnCountSucceeding=0,i._fixedTableColumnsWidthSucceeding=0),i._baseLevelTableColumnCount=0,i._scrollableTableColumnsWidth=0;var a=i._tableWidth;if(i._tableWidth=0,o){if(t||(Array.isArray(o.groupingLevels)&&o.groupingLevels.forEach((function(t,e){i._tableRowDefinitionIDToDefinitionMap["g"+e]=t,i._tableRowDefinitionIDToDataMap["g"+e]={usageCount:0}})),o.baseLevel&&(i._tableRowDefinitionIDToDefinitionMap.b=o.baseLevel,i._tableRowDefinitionIDToDataMap.b={usageCount:0}),i.options.defaultLeafTableRowDefinition&&(i._tableRowDefinitionIDToDefinitionMap.l=i.options.defaultLeafTableRowDefinition,i._tableRowDefinitionIDToDataMap.l={usageCount:0}),o.fixedColumnsPreceding&&Array.isArray(o.fixedColumnsPreceding.cellDefinitions)&&(i._fixedTableColumnCountPreceding=o.fixedColumnsPreceding.cellDefinitions.length,o.fixedColumnsPreceding.cellDefinitions.forEach((function(t){i._fixedTableColumnsWidthPreceding+=i._determineTableCellWidth(t)}))),o.fixedColumnsSucceeding&&Array.isArray(o.fixedColumnsSucceeding.cellDefinitions)&&(i._fixedTableColumnCountSucceeding=o.fixedColumnsSucceeding.cellDefinitions.length,o.fixedColumnsSucceeding.cellDefinitions.forEach((function(t){i._fixedTableColumnsWidthSucceeding+=i._determineTableCellWidth(t)})))),"number"==typeof i.options.tableWidth&&!isNaN(i.options.tableWidth)&&isFinite(i.options.tableWidth))i._scrollableTableColumnsWidth=Math.max(0,i.options.tableWidth-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding);else if(o.baseLevel&&Array.isArray(o.baseLevel.cellDefinitions)&&(i._baseLevelTableColumnCount=o.baseLevel.cellDefinitions.length,i._tableRowDefinitionWithColumnTitlesID||o.baseLevel.cellDefinitions.forEach((function(t){i._scrollableTableColumnsWidth+=i._determineTableCellWidth(t)}))),i._isTableWithRowDefinitionsMap())if(delete i._tableRowDefinitionWithColumnTitlesID,o.rowDefinitionIDWithColumnTitles){var n=o.rowDefinitionsMap[o.rowDefinitionIDWithColumnTitles];if(n&&Array.isArray(n.cellDefinitions)){var r=0;n.cellDefinitions.forEach((function(t){r+=i._determineTableCellWidth(t)})),i._scrollableTableColumnsWidth=Math.max(i._scrollableTableColumnsWidth,r)}i._determineRowDataItems().forEach(((t,e)=>{void 0===t.tableRowDefinition&&e&&(t.tableRowDefinition=null)}))}else{var l={};i._determineRowDataItems().forEach((function(t){"string"==typeof t.item.tableRowDefinitionID&&(l[t.item.tableRowDefinitionID]=!0,i._determineTableRowDefinitionInfo(t))})),Object.keys(o.rowDefinitionsMap).forEach((function(t){if(l[t]){var e=o.rowDefinitionsMap[t];if(e&&Array.isArray(e.cellDefinitions)){var a=0;e.cellDefinitions.forEach((function(t){a+=i._determineTableCellWidth(t)})),i._scrollableTableColumnsWidth=Math.max(i._scrollableTableColumnsWidth,a)}}}))}else i._tableRowDefinitionWithColumnTitlesID&&i._tableRowDefinitionIDToDefinitionMap[i._tableRowDefinitionWithColumnTitlesID].cellDefinitions.forEach((function(t){i._scrollableTableColumnsWidth+=i._determineTableCellWidth(t)}));!i._tableRowDefinitionWithColumnTitlesID&&o.baseLevel&&Array.isArray(o.baseLevel.cellDefinitions)&&(i._baseLevelTableColumnCount=o.baseLevel.cellDefinitions.length);var s=i._scrollableTableColumnsWidth+i._fixedTableColumnsWidthPreceding+i._fixedTableColumnsWidthSucceeding;a=a!==s&&a,i._tableWidth=s,i.options.updateSuspended?i._doResizeNeededWhileUpdateSuspended=!0:(e||(i._tableViewChanged(!0),i.updateTableTitle(),o.rowDefinitionsMap&&Object.keys(o.rowDefinitionsMap).forEach((function(t){var e=o.rowDefinitionsMap[t];e&&Array.isArray(e.cellDefinitions)&&e.cellDefinitions.forEach((function(e,o){var a=i._determineTableCellWidth(e);i._defsD3.select("#"+i._getOrCreateClipPathForColumn("m"+t,o,0)+" rect").datum(a).attr("width",a)}))})),o.baseLevel&&o.baseLevel.cellDefinitions.forEach((function(t,e){var o=i._determineTableCellWidth(t);i._defsD3.select("#"+i._getOrCreateClipPathForColumn("b",e,0)+" rect").datum(o).attr("width",o)})),i.options.defaultLeafTableRowDefinition&&i.options.defaultLeafTableRowDefinition.cellDefinitions.forEach((function(t,e){var o=i._determineTableCellWidth(t);i._defsD3.select("#"+i._getOrCreateClipPathForColumn("l",e,0)+" rect").datum(o).attr("width",o)})),!i._isTableWithRowDefinitionsMap()&&Array.isArray(o.groupingLevels)&&o.groupingLevels.forEach((function(t,e){Array.isArray(t.cellDefinitions)&&t.cellDefinitions.forEach((function(t,o){var a=i._determineTableCellWidth(t);i._defsD3.select("#"+i._getOrCreateClipPathForColumn("g"+e,o)+" rect").datum(a).attr("width",a)}))}))),i.options.isForExport||i._scrollableTableClipPathRectD3.attr("x",i._fixedTableColumnsWidthPreceding).attr("width",Math.max(0,i.actualTableViewWidth()-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding)))}if(!1!==a){var c=i.options.isForExport?i._layoutColumns[x.Table].innerViewExtent():i._PE_TableRowWidth();c=Math.max(0,c-i._fixedTableColumnsWidthPreceding),i._foregroundBodyD3s.forEach((function(t){t.selectAll("."+i.NXXXXX.TABLE_ROW_CLASS+" ."+i.NXXXXX.TABLE_ROW_BACKGROUND_RECT_CLASS).attr("width",c)})),i._trigger("tableWidthChanged",null,{newValue:i._tableWidth,oldValue:a}),i._provideChartSizeToWorldView()}}},_determineTableCellWidth:function(t){"use strict";var e=parseInt(t.width);return isNaN(e)||!isFinite(e)?e=200:e<0&&(e=0),e},_createTableTitle:function(t){"use strict";var e=this,i=e.options.tableDefinition;e._tableTitleD3s[t].selectAll("*").remove();var o=e._tableTitleD3s[t].append("g");if(this._scrollableTableTitleD3s||(this._scrollableTableTitleD3s=[]),e._scrollableTableTitleD3s[t]=o.append("g").attr("class",e.NXXXXX.SCROLLABLE_TABLE_TITLE_CLASS),i){var n=function(i){var o=("f0"===i.cellDefinitionType?e._tableTitleD3s[t].insert("g",":first-child"):e._tableTitleD3s[t].append("g")).attr("class",i.titleClass),a=i.tmpXOffset;return i.rowDefinition.cellDefinitions.forEach((function(n,r){a=e._createTableTitleCell(o,i.cellDefinitionType,e._actualTitleHeight(t),r,n,a,r===i.rowDefinition.cellDefinitions.length-1,i.symbolColumnTitleImageURLs,i.symbolColumnTitleVisible)})),i.rowDefinition.cellDefinitions.forEach((function(t,o){var a=e._determineTableCellWidth(t);e._defsD3.select("#"+e._getOrCreateClipPathForColumn(i.cellDefinitionType,o)+" rect").datum(a).attr("width",a)})),o};let u=!(i.rowDefinitionsMap&&i.rowDefinitionsMap[i.rowDefinitionIDWithColumnTitles]||e._tableRowDefinitionWithColumnTitlesID||null==i.titleText),h=0;if(!e._fixedTableColumnsWidthPreceding||!i.symbolColumnTitleVisible&&u||(e._fixedTableTitlePrecedingD3=n({titleClass:e.NXXXXX.FIXED_TABLE_TITLE_PRECEDING_CLASS,rowDefinition:i.fixedColumnsPreceding,cellDefinitionType:"f0",tmpXOffset:0,symbolColumnTitleImageURLs:i.symbolColumnTitleImageURLs,symbolColumnTitleVisible:i.symbolColumnTitleVisible}),e._fixedTableTitlePrecedingD3.select("."+e.NXXXXX.TABLE_TITLE_RECT_CLASS).style("fill",i.symbolColumnTitleBackgroundColor),h=e._fixedTableColumnsWidthPreceding),u)e.options.isForExport||e._scrollableTableTitleD3s[t].attr("clip-path","url(#"+e.NXXXXX.WIDTH_CLIPPATH_ID[x.Table]+e._uniqueID+")"),e._createTableTitleCell(e._scrollableTableTitleD3s[t],"tt",e._actualTitleHeight(t),0,{width:e.actualTableViewWidth()-h,titleText:i.titleText},h,!1);else{var r;e.options.isForExport||o.attr("clip-path","url(#"+e.NXXXXX.SCROLLABLE_TABLE_CLIPPATH_ID+e._uniqueID+")"),e._scrollableTableTitleD3s[t].attr("transform","translate("+-e._layoutColumns[x.Table].scrollStart()+")");var l="b";if(e._tableRowDefinitionWithColumnTitlesID)(s=e._tableRowDefinitionIDToDefinitionMap[e._tableRowDefinitionWithColumnTitlesID])===e.options.defaultLeafTableRowDefinition&&(l="l"),r=s.cellDefinitions;else if(i.rowDefinitionsMap){var s;(s=i.rowDefinitionsMap[i.rowDefinitionIDWithColumnTitles])&&Array.isArray(s.cellDefinitions)&&(r=s.cellDefinitions,l="m"+i.rowDefinitionIDWithColumnTitles),!r&&i.baseLevel&&Object.keys(i.rowDefinitionsMap).every((function(t){return i.rowDefinitionsMap[t]!==i.baseLevel||(r=i.baseLevel.cellDefinitions,l="m"+t,!1)}))}!r&&i.baseLevel&&(r=i.baseLevel.cellDefinitions);var c=e._fixedTableColumnsWidthPreceding;Array.isArray(r)&&r.forEach((function(o,a){c=e._createTableTitleCell(e._scrollableTableTitleD3s[t],l,e._actualTitleHeight(t),a,o,c,a===r.length-1,void 0,void 0,i.rowSortPropertyName,i.rowSortMode)}));var d=Array.prototype.slice.call(e._scrollableTableTitleD3s[t].node().childNodes),_=d.slice();d.sort((function(t,i){var o=a.select(t).classed(e.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS)?1:0,n=a.select(i).classed(e.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS)?1:0;return o-n?o-n:_.indexOf(t)-_.indexOf(i)})),a.selectAll(d).order(),e._fixedTableColumnsWidthSucceeding&&(e._fixedTableTitleSucceedingD3=n({titleClass:e.NXXXXX.FIXED_TABLE_TITLE_SUCCEEDING_CLASS,rowDefinition:i.fixedColumnsSucceeding,cellDefinitionType:"f1",tmpXOffset:e._layoutColumns[x.Table].innerViewExtent()-e._fixedTableColumnsWidthSucceeding}))}}},_onColumnSplitterDropped:function(t,e,i,o){"use strict";var a=this;if(o!==i)if(e)a._onColumnSplitterChanged(t,o-i);else if(a._isTableWithRowDefinitionsMap()&&a.options.tableColumnWidthChangedFunc&&"m"===(t=t.split(","))[0][0]){var n=a._extendCallbackArgs({sender:a.options.tableDefinition.rowDefinitionsMap[t[0].substring(1)],columnIndex:+t[1],newWidth:i,oldWidth:o});a.options.tableColumnWidthChangedFunc.call(a,n)}},_onColumnSplitterChanged:function(t,e){"use strict";var i=this;if(e||"lastColumn"===t){var n=i.options.tableDefinition,r=(t=t.split(","))[0],l=+t[1],s=(i._tableRowDefinitionWithColumnTitlesID?i._tableRowDefinitionIDToDefinitionMap[i._tableRowDefinitionWithColumnTitlesID]:n.rowDefinitionIDWithColumnTitles&&n.rowDefinitionsMap?n.rowDefinitionsMap[n.rowDefinitionIDWithColumnTitles]:n.baseLevel)||n.baseLevel,c=s.cellDefinitions,d=i._getAllTableCellDefinitionsForLevel(-1),_="lastColumn"===r;_&&(r="b",l=c.length-1,e=0);var u=l;if(u+=i._fixedTableColumnCountPreceding,i._tableRowDefinitionWithColumnTitlesID||(i._scrollableTableColumnsWidth+=e),!_){if(l<c.length-1||null==i.options.tableWidth){var h=i._determineTableCellWidth(c[l]);c[l].width=h+e}if(null!=i.options.tableWidth){for(var p=c.length-1,f=(h=i._determineTableCellWidth(c[p]),0);--p>=0;)f+=i._determineTableCellWidth(c[p]);h=i.options.tableWidth-f-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding,c[c.length-1].width=h+e}i.options.tableDefinition.synchronizedColumns&&!i._tableRowDefinitionWithColumnTitlesID&&this.options.tableDefinition.groupingLevels.forEach((function(t){t.cellDefinitions[l]&&(t.cellDefinitions[l].width+=e)}))}var m,w=this._tableWidth;_||(this._tableWidth+=e,null!=this.options.tableWidth&&(this.options.tableWidth+=e),this._PE_RecalculateTableWidth(l,c,e));for(var E=0;E<=1;E++)if(this._titleVisible(E)&&this._tableTitleD3s[E]){var g=this._tableTitleD3s[E].selectAll("."+this.NXXXXX.TABLE_TITLE_CELL_CLASS),T=[];g.each((function(){T.push(this)})),T.sort((function(t,e){var i=a.select(t).datum(),o=a.select(e).datum();return d.indexOf(i)-d.indexOf(o)})),g=a.selectAll(T);var R=0,I=i._PE_LocalActualTableWidth();if(n.rowDefinitionsMap&&n.rowDefinitionsMap[n.rowDefinitionIDWithColumnTitles]||null==n.titleText||i._tableRowDefinitionWithColumnTitlesID){let t=i._fixedTableColumnsWidthSucceeding?i._fixedTableColumnCountSucceeding:0;g.each((function(e,o){o===g.size()-t&&(R=I-i._fixedTableColumnsWidthSucceeding);var n=a.select(this),r=i._determineTableCellWidth(e);o===g.size()-t-1&&(r=i._PE_LastColumnWidth(!0,Math.max(0,Math.max(I,i.actualTableWidth())-R-i._fixedTableColumnsWidthSucceeding))),n.property(N,R),o===g.size()-t&&(R=Math.max(R,i._fixedTableColumnCountPreceding)),n.attr("transform","translate("+R+")"),8e4!==r&&i._setHorizontalAlignmentOnCell(n.select("."+i.NXXXXX.TABLE_TITLE_TEXT_CLASS),e.horizontalTitleAlignment,C.Center,r),n.select("rect").attr("width",r),R+=r}))}var b=this._tableTitleD3s[E].selectAll("."+this.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS),D=[];b.each((function(){D.push(this)})),D.sort((function(t,e){var i=a.select(t).datum(),o=a.select(e).datum();return i?o?d.indexOf(i)-d.indexOf(o):-1:o?1:0})),b=a.selectAll(D),R=i._fixedTableColumnsWidthPreceding,b.each((function(t,e){var a=i._PE_IsLastColumn(e,s),n=R,r=i._determineTableCellWidth(t);if(a&&(r=Math.max(0,i.actualTableWidth()-R-i._fixedTableColumnsWidthSucceeding)),R+=r,e>l){var c=a?Math.ceil(i.options.columnSplitterWidth/2):0;o(this).nSplitterWidget("option",{position:{x:R-c,y:0},min:n+(null!=t.minimumWidth?t.minimumWidth:i._minimumTableColumnWidth),max:i.options.splitterEnabled&&i._PE_LastColumnResult(a)?null==t.maximumWidth?1/0:R+t.maximumWidth:0})}}))}if(i._PE_Decision111(l,c)&&(m=i._defsD3.select("#"+this._getOrCreateClipPathForColumn("t"+r,l)+" rect")).attr("width",Math.max(0,+m.attr("width")+e)),!_&&i.options.tableDefinition.synchronizedColumns&&!i._tableRowDefinitionWithColumnTitlesID)for(var y=0;y<n.groupingLevels.length;y++)if(Array.isArray(n.groupingLevels[y].cellDefinitions)&&n.groupingLevels[y].cellDefinitions.length>i._PE_ColumnIndexResult(l)){var A=+(m=i._defsD3.select("#"+this._getOrCreateClipPathForColumn("g"+y,l)+" rect")).datum()+e;m.datum(A).attr("width",Math.max(A,0))}if(i._PE_Decision111(l,c)){var S=(n.rowDefinitionsMap&&n.rowDefinitionsMap[n.rowDefinitionIDWithColumnTitles]?"m"+n.rowDefinitionIDWithColumnTitles:i._tableRowDefinitionWithColumnTitlesID)||"b",X=[this.NXXXXX.TABLE_COLUMN_CLIPPATH_ID_PREFIX,this._uniqueID.toString(),"-",S,"-",l].join("");if(i._defsD3.selectAll("."+X+" rect").each((function(){var t=a.select(this),i=+t.datum()+e;t.datum(i).attr("width",Math.max(i,0))})),!l){A=i._determineTableCellWidth(c[0])+e;X=i._getOrCreateClipPathForColumn("o"),a.selectAll("."+X+" rect").attr("width",(function(t){return Math.max(A-(t-i._fixedTableColumnsWidthPreceding),0)})),X=i._getOrCreateClipPathForColumn("c"),a.selectAll("."+X+" rect").attr("width",(function(t){return Math.max(A-(t-i._fixedTableColumnsWidthPreceding),0)}))}}var L=i.options.isForExport?i._layoutColumns[x.Table].innerViewExtent():i._PE_TableRowWidth();L=Math.max(0,L-i._fixedTableColumnsWidthPreceding),i._foregroundBodyD3s.forEach((function(t){t.selectAll("."+i.NXXXXX.TABLE_ROW_CLASS).each((function(t){var o=a.select(this),n=i._determineTableRowDefinitionInfo(t).rowDefinition;if(o.selectAll("."+i.NXXXXX.TABLE_ROW_BACKGROUND_RECT_CLASS).attr("width",L),i._fillTableRowContent(t,o.select("."+i.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS+" ."+i.NXXXXX.TABLE_ROW_CONTENT_CLASS),n),n===s||i.options.tableDefinition.synchronizedColumns&&!i._tableRowDefinitionWithColumnTitlesID||"f"===r[0]){var l=o.selectAll("."+i.NXXXXX.TABLE_CELL_CLASS+",."+i.NXXXXX.TABLE_GROUP_CELL_CLASS),c=[];l.each((function(){c.push(this)})),c.sort((function(t,e){var o=t===e?0:1;if(o){var r=a.select(t),l=a.select(e),s=r.datum(),c=l.datum();if(s&&c){var _=d.indexOf(s),u=d.indexOf(c);_<0&&(_=n.cellDefinitions.indexOf(s),i.options.tableDefinition.fixedColumnsPreceding&&Array.isArray(i.options.tableDefinition.fixedColumnsPreceding.cellDefinitions)&&(_+=i.options.tableDefinition.fixedColumnsPreceding.cellDefinitions.length)),u<0&&(u=n.cellDefinitions.indexOf(c),i.options.tableDefinition.fixedColumnsPreceding&&Array.isArray(i.options.tableDefinition.fixedColumnsPreceding.cellDefinitions)&&(u+=i.options.tableDefinition.fixedColumnsPreceding.cellDefinitions.length)),o=_-u}}return o})),l=a.selectAll(c);var _=u;u>=d.length-i._fixedTableColumnCountSucceeding&&(_+=c.length-d.length);var h=0;l.each((function(o,r){var l=a.select(this),s=l.classed(i.NXXXXX.TABLE_GROUP_CELL_CLASS);if(!s)if(h===_){var d=l.select("."+i.NXXXXX.TABLE_CELL_CONTENT_CLASS),u=h-i._fixedTableColumnCountPreceding,p=i._determineTableCellWidth(o);i._fillTableCellContent(t,l,d,o,p,u,n,"m"===t.tableCellDefinitionType[0]?v.Map:"b"===t.tableCellDefinitionType?v.BaseLevel:"l"===t.tableCellDefinitionType?v.LeafDefault:"u"===t.tableCellDefinitionType[0]?v.FromCallback:v.GroupingLevel),l.select("."+i.NXXXXX.TABLE_CELL_BACKGROUND_RECT_CLASS).attr("width",p)}else if(h>_&&r<c.length-i._fixedTableColumnCountSucceeding){var f=l.property(N)+e;l.property(N,f),l.attr("transform","translate("+f+")")}s?0:h++}))}i._moveCollapseExpandButton(t,o);var p=Math.max(i._PE_ActualTableViewWidth_222(),i.actualTableWidth())-i._fixedTableColumnsWidthPreceding-i._fixedTableColumnsWidthSucceeding;o.select("."+i.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS+" ."+i.NXXXXX.SEPARATION_LINE_CLASS).attr("transform","translate("+i._fixedTableColumnsWidthPreceding+")").attr("x2",Math.max(0,p))}))})),_||this._trigger("tableWidthChanged",null,{newValue:i._tableWidth,oldValue:w,inColumnWidthInteraction:!0})}},_PE_Decision111:function(){},_PE_RecalculateTableWidth:function(){},_PE_LocalActualTableWidth:function(){},_PE_ColumnIndexResult:function(){},_createRows:function(t,e,i){"use strict";return i!==S.RowExpanded&&i!==S.RowLeavesExpanded||(this._invisibleExpandedChildRowDataItemCount=0),this._super.apply(this,arguments)},_createRow:function(t,e,i){"use strict";var o=this,n=!1;t.worldViewCache=[];var r=o._getBodyAreaIndex(t.item),l=t.horizontalBodyAreaIndex!==r;t.horizontalBodyAreaIndex=r;let s=o._layoutRows[r].visibleRange();if(!t.isHidden&&(r?o.options.commonBodyViewAreaVisible||!o.options.topBodyViewAreaVisible:o.options.topBodyViewAreaVisible))if(!o.options.virtualized||i===S.ScrollToRow||i===S.AncestorsNeeded||(t.oldY<s.exactBottom||t.newY<s.bottom)&&(t.oldY+t.totalHeight>=s.exactTop||t.newY+t.totalHeight>=s.top)){if((i!==S.RowExpanded&&i!==S.RowLeavesExpanded||t.newY<s.bottom||o._invisibleExpandedChildRowDataItemCount++<o.options.realizedRowsCountMaximum)&&o._isRowDataItemVirtualized(t)){if(i!==S.WorldView){t.backgroundRowElem&&(a.selectAll([t.backgroundRowElem,t.foregroundRowElem]).interrupt().selectAll("*").interrupt(),o._removeRowByDataItem(t));let e,n,s=o._currentlyVisibleRowDataItems[r],p=t.arrayIndex,f=p,m=s.length,w=3;do{if(1&w)if(++p===m)w&=-2;else if(s[p].foregroundRowElem){let t=s[p];e=t.backgroundRowElem,n=t.foregroundRowElem;break}if(2&w)if(--f<0)w&=-3;else if(s[f].foregroundRowElem){let t=s[f];e=t.backgroundRowElem.nextSibling,n=t.foregroundRowElem.nextSibling;break}}while(w&&!e);var c=a.create("svg:g"),d=c.node();o._backgroundBodyD3s[r].node().insertBefore(d,e),t.backgroundRowElem=d;var _=o._determineRowLevelClass(t);c.datum(t).attr("class",o._enrichClass(t,o.NXXXXX.ROW_CLASS+" "+_,{elemType:T.Row,isForeground:!1,level:t.level})).attr("transform","translate(0,"+(t.oldY??t.newY)+")"),i===S.AncestorsNeeded||l||null==t.oldY||t.oldY===t.newY||o._cacheTransitionFunction((function(){c.transition().duration(o.options.transitionDuration).attr("transform","translate(0,"+t.newY+")")}));var u=a.create("svg:g"),h=u.node();o._foregroundBodyD3s[r].node().insertBefore(h,n),t.foregroundRowElem=h,u.datum(t).property(o._ITEM_VERSION_PROPERTY,t.version).attr("class",o._enrichClass(t,o.NXXXXX.ROW_CLASS+" "+_,{elemType:T.Row,isForeground:!0,level:t.level})).attr("transform","translate(0,"+(t.oldY??t.newY)+")"),i===S.AncestorsNeeded||l||null==t.oldY||t.oldY===t.newY||o._cacheTransitionFunction((function(){u.transition().duration(o.options.transitionDuration).attr("transform","translate(0,"+t.newY+")")[a.timeFormat?"on":"each"]("end",(function(){let e=o._layoutRows[r].visibleRange();(t.newY>=e.bottom||t.newY+t.totalHeight<e.top)&&t.virtualizationStatus===A.Visible&&(o._realizedVisibleRowsSet.delete(t),o._realizedInvisibleRowsSet.add(t),t.virtualizationStatus=A.Invisible)}))}))}if(t.totalHeight||t.oldTotalHeight||i===S.ScrollToRow||i===S.AncestorsNeeded){if(o._createRowContent(t,c,!1,u,e,i),o.options.asynchronousRendering&&i===S.Virtualization){let n=(o._PE_ActualTableViewWidth()+o.options.splitterWidth)*o.options.visualZoomFactor,r=(t.newY??t.oldY)*o.options.visualZoomFactor%X,l=u.append("rect").attr("transform",`scale(${1/o.options.visualZoomFactor})translate(${-r})`).attr("x",n+r).attr("width",o._elementWidth-n).attr("height",(t.newY?t.totalHeight:t.oldTotalHeight)*o.options.visualZoomFactor).attr("fill",`url(#${this.NXXXXX.ASYNC_WAIT_PATTERN_ID}${this._uniqueID})`).attr("shape-rendering","geometricPrecision");o._createOrRemoveRowPartsAsynchronously("c",t,(function(){l.remove(),t.foregroundRowElem&&o._createRowContent(t,a.select(t.foregroundRowElem),!0,a.select(t.backgroundRowElem),e,i)}))}else o._createRowContent(t,u,!0,c,e,i)}i!==S.WorldView&&i!==S.AncestorsNeeded&&((t.totalHeight?t.arrayIndex&&!o._currentlyVisibleRowDataItems[r][t.arrayIndex-1].totalHeight:t.arrayIndex===o._currentlyVisibleRowDataItems[r].length-1)&&o._createRowOmissionSymbol(u,t),o.options.unselectedItemsShownCovered&&(u.append("rect").attr("class",o.NXXXXX.UNSELECTED_ROW_COVER_CLASS+" "+o.NXXXXX.ROW_HEIGHT_PROP_CLASS).attr("width",o.element.width()).attr("height",t.totalHeight),o._checkForVisibilityOfUnselectedRowCover(t)),o._doUpdateRowConcerningCoveredAttributes(t,u),o.options.attachEventListenersFunc&&(o.options.attachEventListenersFunc.call(o,o._extendCallbackArgs({isForeground:!1,item:t.item,elem:c.node(),elemType:T.Row})),o.options.attachEventListenersFunc.call(o,o._extendCallbackArgs({isForeground:!0,item:t.item,elem:u.node(),elemType:T.Row})))),o._worldViewDivJQ&&o._renderCachedRowInWorldView(t)}else i===S.WorldView&&t.totalHeight&&o._worldViewDivJQ&&(o._createRowContent(t,void 0,!1,void 0,void 0,S.WorldView),o._createRowContent(t,void 0,!0,void 0,void 0,S.WorldView));![S.Virtualization,S.WorldView,S.AncestorsNeeded].includes(i)&&t.foregroundRowElem&&(t.totalHeight||t.oldTotalHeight||i===S.ScrollToRow)&&t.virtualizationStatus!==A.Visible&&(o._realizedVisibleRowsSet.add(t),t.virtualizationStatus===A.Invisible&&o._realizedInvisibleRowsSet.delete(t),t.virtualizationStatus=A.Visible),n=!0}else t.totalHeight&&o._worldViewDivJQ&&(o._createRowContent(t,void 0,!1,void 0,void 0,S.WorldView),o._createRowContent(t,void 0,!0,void 0,void 0,S.WorldView)),i!==S.Virtualization&&(o._PE_Unrealized(t,e,i),t.virtualizationStatus===A.Visible&&(o._realizedVisibleRowsSet.delete(t),o._realizedInvisibleRowsSet.add(t),t.virtualizationStatus=A.Invisible));return n},updateRowConcerningCoveredAttributes:function(t){"use strict";var e=this,i=e._getDataItem(t,e._rowDataItemsMap);i&&i.foregroundRowElem&&e._doUpdateRowConcerningCoveredAttributes(i,a.select(i.foregroundRowElem))},_doUpdateRowConcerningCoveredAttributes:function(t,e){"use strict";var i=this,o=t.item,a=e.select("."+i.NXXXXX.COVERED_ROW_CLASS);o.isCovered||o.isCoveredAndHighlighted?a.size()?e.classed(i.NXXXXX.COVERED_AND_HIGHLIGHTED_ROW_CLASS,t.item.isCoveredAndHighlighted):e.append("rect").attr("class",(t.item.isCoveredAndHighlighted?i.NXXXXX.COVERED_AND_HIGHLIGHTED_ROW_CLASS+" ":"")+i.NXXXXX.COVERED_ROW_CLASS+" "+i.NXXXXX.ROW_HEIGHT_PROP_CLASS).attr("width",i.element.width()/i.options.visualZoomFactor).attr("height",i._getRowTotalHeight(t)).attr("visibility",i._currentVisibilityOfRowCovers):a.size()&&a.remove()},_setVisibilityForRowCovers:function(t){"use strict";var e=this;e._currentVisibilityOfRowCovers!==t&&(e._currentVisibilityOfRowCovers=t,e._foregroundBodyD3s.forEach((function(i){i.selectAll("."+e.NXXXXX.COVERED_AND_HIGHLIGHTED_ROW_CLASS+",."+e.NXXXXX.COVERED_ROW_CLASS).attr("visibility",t)})))},_createRowContent:function(t,e,i,o,a,n){"use strict";var r=this;if(r._doCreateRowContent(t,e,i,o,a,n),[S.Virtualization,S.ScrollToRow,S.RowItemsChanged].includes(n)||!W.has(n)){e.selectAll("."+r.NXXXXX.ROW_HEIGHT_PROP_CLASS).attr("height",r._getRowTotalHeight(t)),e.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS).attr("height",r._getRowMainHeight(t));var l=Math.ceil(t.totalHeight-(t.item.additionalHeight||0)||0);e.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS).attr("height",l),e.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_SCALE_CLASS).attr("transform","scale(1,"+l+")")}},_doCreateRowContent:function(t,e,i,o,a,n){"use strict";var r=this;if(!i&&(r._createTableRow(t,o,a,n,T.Row),[S.Virtualization,S.ScrollToRow,S.RowItemsChanged].includes(n)||!W.has(n))){o.selectAll("."+r.NXXXXX.ROW_HEIGHT_PROP_CLASS).attr("height",r._getRowTotalHeight(t)),o.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS).attr("height",r._getRowMainHeight(t));var l=Math.ceil(t.totalHeight-(t.item.additionalHeight||0)||0);o.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_PROP_CLASS).attr("height",l),o.selectAll("."+r.NXXXXX.ROW_MAIN_HEIGHT_SCALE_CLASS).attr("transform","scale(1,"+l+")")}},_PE_Unrealized:function(){},determineActualTableCellContentTopOffset:function(t){"use strict";var e=t&&this._getDataItem(t,this._rowDataItemsMap);return this._determineActualTableCellContentTopOffset(e)},_determineActualTableCellContentTopOffset:function(t){"use strict";var e=this,i=t?t.item.maximumHeight:void 0;i>0||(i=e.options.defaultMaximumRowHeight),i>0||(i=Number.POSITIVE_INFINITY);var o=t&&t.isLeaf?e.options.defaultLeafRowMainHeight:e.options.defaultRowMainHeight;return Math.min(i/2,o/2,e.options.cellContentTopOffset||0)},_hasCollapseExpandButton:function(t,e){"use strict";var i=this,o=e?t.item.leavesCollapsible:t.item.collapsible;null==o&&(o=e?i.options.defaultRowItemLeavesCollapsible:i.options.defaultRowItemCollapsible);var a=e?"leafRowItems":"childRowItems";if(o&&Array.isArray(t.item[a])){if(t.item[a].length)return!e||(t.hasUnfilteredLeafRows=t.item[a].some((t=>!(t.totalHeight<=0))),t.hasUnfilteredLeafRows||i.options.collapseButtonVisibleOnRowsWithoutVisibleChildren);if(i.options.differentiationBetweenEmptyArrayAndUndefined)return e&&(t.hasUnfilteredLeafRows=!0),!0}return!1},_createCollapseExpandButton:function(t,e,i,n,r,l){"use strict";var s=this,c=s.options.buttonExtent,d=s.determineActualRowMargins().sum+s.options.buttonExtent,_=s.options.treeLinesVisible&&s.options.leafRowsVisible?Math.max(s.options.buttonExtent,s.options.buttonLeftOffset):s.options.buttonLeftOffset;_+=t.level*(s.options.treeLinesVisible?this.options.treeLevelIndent:s.options.groupCellWidth),r&&(s.options.treeLinesVisible?_=0:l&&(_+=s.options.buttonExtent));var h=e.append("g").attr("class",r?s.NXXXXX.LEAVES_COLEXP_BUTTON_CLASS:s.NXXXXX.COLEXP_BUTTON_CLASS).attr("transform","translate("+(_+s._fixedTableColumnsWidthPreceding)+")");if(n.length>1){var p=s._determineTableCellWidth(n[0]),f=s._getOrCreateClipPathForColumn(r?"x":"o",void 0,_);s.setClipPathAttrOnElemD3WithRefCount(h,f),a.select("#"+f+" rect").datum(_).attr("width",Math.max(0,p-_))}var m=h.append("rect").attr("class",`${u.QUICK_TAP_EVENT_CLASS_NAME} ${u.PRESS_EVENT_CLASS_NAME}`).attr("width",c).attr("height",d);o(m.node()).data(u.HANDLER_FUNCTION_PROPERTY+s._EVENT_NAMESPACE,(function(e){try{switch(e.type){case u.PRESS_EVENT_NAME+"up":if("mouse"!==e.pointerType)break;case u.TAP_EVENT_NAME:r&&!1===t.hasUnfilteredLeafRows||s._expandOrCollapseRow(t,!0,!1,r)}}catch(t){s._handleException(t,"onEventDispatch_collapseStateButton")}}));var w,E,g=s._colexpButtonSize/2+1;r?t.hasUnfilteredLeafRows?(w=`M${-g},0 l${g},${g} l${g},${-g}`,E=t.areLeavesCollapsed?` rotate(0 0 ${g/2})`:` rotate(180 0 ${g/2})`):(w=`M${-g},${g+2} l${g},${g} l${g},${-g} m0,-2 l${-g},${-g} l${-g},${g}`,E=` rotate(180 0 ${g/2})`,i=!1):(w="M0,"+s._colexpButtonSize+" V-"+s._colexpButtonSize+" L"+s._colexpButtonSize+",0 L0,"+s._colexpButtonSize,E=t.isCollapsed?"":" rotate(45)");var T=h.append("path").attr("class",t.isCollapsed?s.NXXXXX.MINUS_CLASS:s.NXXXXX.PLUS_CLASS).attr("d",w),R="translate(8,"+s._determineActualTableCellContentTopOffset(t)+")";i?s._cacheTransitionFunction((function(){T.attr("transform",R+(r?t.areLeavesCollapsed?` rotate(0 0 ${g/2})`:` rotate(180 0 ${g/2})`:t.isCollapsed?"":" rotate(45)")).transition().duration(s.options.transitionDuration).attr("transform",R+E)})):T.attr("transform",R+E)},_moveCollapseExpandButton:function(t,e){"use strict";var i=this,o=i.options.treeLinesVisible&&i.options.leafRowsVisible?i.options.buttonExtent:i.options.buttonLeftOffset;o=Math.max(o,i.options.buttonLeftOffset)+t.level*(i.options.treeLinesVisible?this.options.treeLevelIndent:i.options.groupCellWidth);var a=e.select("."+i.NXXXXX.COLEXP_BUTTON_CLASS);a.empty()||(a.attr("transform","translate("+(o+i._fixedTableColumnsWidthPreceding)+")"),i.options.treeLinesVisible?o=0:o+=i.options.buttonExtent),(a=e.select("."+i.NXXXXX.LEAVES_COLEXP_BUTTON_CLASS)).empty()||a.attr("transform","translate("+(o+i._fixedTableColumnsWidthPreceding)+")")},_createOrUpdateLastRowSeparationLine:function(t,e){"use strict";var i=this,o=i._layoutRows[L.MainBody].extent()+B,a=i._foregroundBodyD3s[L.MainBody],n=a.select("line."+i.NXXXXX.LAST_SEPARATION_LINE_CLASS);n.size()?(n.node().parentNode.appendChild(n.node()),e||(n.interrupt(),t&&i.options.transitionDuration?i._cacheTransitionFunction((function(){n.transition().duration(i.options.transitionDuration).attr("y1",o).attr("y2",o)})):n.attr("y1",o).attr("y2",o))):n=a.append("line").attr("class",i.NXXXXX.LAST_SEPARATION_LINE_CLASS).attr("x1",0).attr("x2",i._actualCompleteInnerViewWidth()).attr("y1",o).attr("y2",o)},_getOrCreateClipPathForColumn:function(t,e,i){"use strict";var o="t"===t[0]?1:0;"m".indexOf(t[o])>=0&&(t=encodeURIComponent(t.replace(/_/g,"__").replace(/'/g,"_27").replace(/\(/g,"_28").replace(/\)/g,"_29")).replace(/%/g,"_"));var a=this.NXXXXX.TABLE_COLUMN_CLIPPATH_ID_PREFIX+this._uniqueID+"-"+t;null!=e&&"gfublm".indexOf(t[o])>=0&&(a+="-"+e);var n=a;if(null!=i&&"ublmoxc".indexOf(t[o])>=0&&(a+="-"+i),(r=this._defsD3.select("#"+a)).empty()){var r,l=(r=this._defsD3.append("clipPath").attr("id",a)).append("rect").attr("height",5e3);"oxc".indexOf(t[o])>=0&&l.attr("x",e),n!==a&&r.attr("class",n)}return a},_getOrCreateClipPathForRowPhantom:function(){"use strict";var t=this.NXXXXX.TABLE_ROW_PHANTOM_CLIPPATH_ID_PREFIX+this._uniqueID,e=t;this._defsD3.select("#"+t).empty()&&this._defsD3.append("clipPath").attr("id",t).attr("class",e).append("rect");return t},_detachEventListenersFromRows:function(t,e){"use strict";var i=this,n=i.options.detachEventListenersExFunc?[]:void 0;t.selectAll("."+i.NXXXXX.TABLE_ROW_CLASS).each((function(){o(this).data(u.HANDLER_FUNCTION_PROPERTY+i._EVENT_NAMESPACE,null),n&&n.push(this)})).selectAll("."+i.NXXXXX.COLEXP_BUTTON_CLASS).each((function(){o(this).data(u.HANDLER_FUNCTION_PROPERTY+i._EVENT_NAMESPACE,null),d.off(a.select(this).selectAll("*").nodes(),i._EVENT_NAMESPACE)})),i.options.detachEventListenersExFunc&&i.options.detachEventListenersExFunc.call(this,i._extendCallbackArgs({isForeground:e,elems:n,elemType:T.Row})),i.options.detachEventListenersFunc&&t.each((function(t){i.options.detachEventListenersFunc.call(this,i._extendCallbackArgs({isForeground:e,item:t.item,elem:this,elemType:T.Row}))}))},_PE_CurrentOffsetCorrection:function(){},_PE_ActualTableViewWidth:function(){},_PE_TableViewWidth:function(){},_PE_ActualTableViewWidth_222:function(){},_actualScrollableWidth:function(t){"use strict";return t===x.Table?Math.max(this.actualTableViewWidth(),this.actualTableWidth())-this._fixedTableColumnsWidthPreceding-this._fixedTableColumnsWidthSucceeding:this._super(t)},_PE_IsLastColumn:function(t,e){return t===e.cellDefinitions.length-1},_PE_IsLastColumnByCellDefinitions:function(t,e){return t===e.length-1},_createLayoutGrid:function(){"use strict";this._super(),this._layoutGrid&&this._layoutStacks&&this._layoutStacks[P.Columns]&&this._layoutStacks[P.Columns].appendStripes([x.Table])},_layoutStackUpdateColumns:function(t,e,i){"use strict";var o=this;this._super(t,e,i),i.innerViewExtent!==e.innerViewExtent&&o._foregroundBodyD3s.forEach((function(t){t.select("line."+o.NXXXXX.LAST_SEPARATION_LINE_CLASS).attr("x2",o._actualCompleteInnerViewWidth())}))},_layoutStripeUpdateColumn:function(t,e,i){"use strict";var o=this;if(this._super(t,e,i),i.innerViewExtent!==e.innerViewExtent&&t.getStripeID()===x.Table){var a=o.options.tableDefinition;if(a&&(!a.rowDefinitionsMap||!a.rowDefinitionsMap[a.rowDefinitionIDWithColumnTitles])&&!o._tableRowDefinitionWithColumnTitlesID&&null!=a.titleText)for(var n=0;n<=1;n++)o._titleVisible(n)&&o._scrollableTableTitleD3s&&o._scrollableTableTitleD3s[n]&&o._scrollableTableTitleD3s[n].select("."+o.NXXXXX.TABLE_TITLE_RECT_CLASS).attr("width",i.innerViewExtent);var r=o._actualScrollableWidth(x.Table),l=o.options.isForExport?o._layoutColumns[x.Table].innerViewExtent():o._PE_TableRowWidth();l=Math.max(0,l-o._fixedTableColumnsWidthPreceding),o._foregroundBodyD3s.forEach((function(t){t.selectAll("."+o.NXXXXX.TABLE_ROW_BACKGROUND_RECT_CLASS).attr("width",l),t.selectAll("."+o.NXXXXX.SCROLLABLE_TABLE_ROW_CLASS+" ."+o.NXXXXX.SEPARATION_LINE_CLASS).attr("transform","translate("+o._fixedTableColumnsWidthPreceding+")").attr("x2",Math.max(r,i.innerViewExtent)),t.selectAll("."+o.NXXXXX.FIXED_TABLE_ROW_SUCCEEDING_CLASS+" ."+o.NXXXXX.SEPARATION_LINE_CLASS).attr("transform","translate("+(i.innerViewExtent-o._fixedTableColumnsWidthSucceeding)+")").attr("x2",o._fixedTableColumnsWidthSucceeding)}))}},_layoutStripeUpdateRow:function(t,e,i){"use strict";var n=this;if(this._super(t,e,i),i.innerViewExtent!==e.innerViewExtent){var r=function(t){if(n._titleVisible(t)&&n._tableTitleD3s[t]){var e=n._actualTitleHeight(t);n._tableTitleD3s[t].selectAll("."+n.NXXXXX.TABLE_TITLE_RECT_CLASS+" ."+n.NXXXXX.FIXED_TABLE_TITLE_TEXT_CLASS).attr("height",e).each((function(){var t=a.select(n);t.selectAll("tspan").attr("y",(e-w.calculateSVGTextHeight(t))/2)}));var i=o(n._tableTitleD3s[t].node()).find("."+n.NXXXXX.TABLE_COLUMN_SPLITTER_PARENT_CLASS);i.length&&i.nSplitterWidget("option","height",e)}};switch(t.getStripeID()){case L.TopTitle:r(O.top);break;case L.BottomTitle:r(O.bottom)}}},_createAndPositionDivOverlays:function(){"use strict";var t=this;this._super(),this._overlayAreas[x.Table]=[];for(var e=0;e<=1;e++)this._overlayAreas[x.Table][e]=new p({layoutRow:{},layoutColumn:{}},{forX:!!e,forY:!0},t._actualScrollBarWidth.bind(t)),this._overlayAreas[x.Table][e]._createAndPositionDivOverlays(this._divScaleJQ,this.NXXXXX.TABLE_OVERLAY_SCROLL_PARENT_CLASS[e],this.NXXXXX.TABLE_OVERLAY_CLASS[e],this.NXXXXX.IOS_SCROLL_BAR_CLASS,e,(function(e){try{var i=[];i[x.Table]=this.scrollLeft()*t._layoutColumns[x.Table].scrollFactorFixed();var o=[];t._verSBLayoutColumn()===x.Table&&(o[e]=this.scrollTop()),t._scrollOffsetsChanged(i,o)}catch(e){t._handleException(e,"onScroll")}}),(function(e){t._setActiveHorizontalBodyAreaIndex(e)}));this._titleVisible(O.bottom)&&this._overlayAreas[x.Table][L.MainBody].setScrollBarExistence({forX:!1})},_createAndAppendSVGRootDefs:function(){"use strict";this._super(),this.options.isForExport||(this._widthClipPathRectD3s[x.Table]=this._defsD3.append("clipPath").attr("id",this.NXXXXX.WIDTH_CLIPPATH_ID[x.Table]+this._uniqueID).append("rect"),this._scrollableTableClipPathRectD3=this._defsD3.append("clipPath").attr("id",this.NXXXXX.SCROLLABLE_TABLE_CLIPPATH_ID+this._uniqueID).append("rect").attr("y",-1e3).attr("height",1e5));var t=this._defsD3.append("linearGradient").attr("id",this.NXXXXX.SELECTION_TOP_GRADIENT_CLIPPATH_ID+this._uniqueID).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");t.append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_START_CLASS).attr("offset","0%"),t.append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_END_CLASS).attr("offset","100%"),(t=this._defsD3.append("linearGradient").attr("id",this.NXXXXX.SELECTION_BOTTOM_GRADIENT_CLIPPATH_ID+this._uniqueID).attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%")).append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_START_CLASS).attr("offset","0%"),t.append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_END_CLASS).attr("offset","100%"),(t=this._defsD3.append("linearGradient").attr("id",this.NXXXXX.SELECTION_LEFT_GRADIENT_CLIPPATH_ID+this._uniqueID).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%")).append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_START_CLASS).attr("offset","0%"),t.append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_END_CLASS).attr("offset","100%"),(t=this._defsD3.append("linearGradient").attr("id",this.NXXXXX.SELECTION_RIGHT_GRADIENT_CLIPPATH_ID+this._uniqueID).attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")).append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_START_CLASS).attr("offset","0%"),t.append("stop").attr("class",this.NXXXXX.SELECTED_ROW_GRADIENT_END_CLASS).attr("offset","100%"),["verticalHatch","forwardHatch","backwardHatch"].forEach(((t,e)=>{this._defsD3.append("pattern").attr("id",`${this.NXXXXX.WIDGET_PREFIX}pattern${this._uniqueID}-${e}`).attr("width",e?4:3).attr("height",4).attr("patternUnits","userSpaceOnUse").attr("patternTransform",`rotate(${[0,45,-45][e]})`).append("rect").attr("width",1).attr("height",4).style("fill","white"),this._defsD3.append("mask").attr("id",`${this.NXXXXX.WIDGET_PREFIX}pattern-mask${this._uniqueID}-${e}`).append("rect").attr("width","100000").attr("height","1000").style("fill",`url(#${this.NXXXXX.WIDGET_PREFIX}pattern${this._uniqueID}-${e})`)}))},_appendTitle:function(t){"use strict";this._super(t),this._tableTitleD3s||(this._tableTitleD3s=[]),this._tableTitleD3s[t]||(this._tableTitleD3s[t]=this._titleD3s[t].append("g").attr("class",this.NXXXXX.TABLE_TITLE_CLASS),this.options.isForExport||this._tableTitleD3s[t].attr("clip-path","url(#"+this.NXXXXX.WIDTH_CLIPPATH_ID[x.Table]+this._uniqueID+")"))},_appendBackground:function(){"use strict";this._super(),this._registerBackgroundPanningEvents()},_appendIOSScrollBars:function(){"use strict";this._super();for(var t=0;t<=1;t++)this._overlayAreas[x.Table][t].appendIOSScrollBars(this._divScaleJQ)},_doResizeOverlaysHeightWithAnimation:function(t){"use strict";this._super(),this._overlayAreas&&this._resizeBodyViewsOverlaysHeight(t,this._overlayAreas[x.Table])},_innerClientXToLayoutColumn:function(t){"use strict";return t>=this._actualLayoutColumnLeft(x.Table)&&t<this._actualInnerLayoutColumnRight(x.Table)?x.Table:this._super(t)},_ignoreNextScrollEvents:function(t,e){"use strict";this._super(t,e),void 0!==e&&e!==x.Table||(this._ignoreNextScrollEvents[x.Table]=[t,t])},_showOrHidePermanentScrollbarOverlay:function(t){p.isPermanentScrollbarOverlayActive&&this._overlayAreas?.forEach((e=>{e.forEach((e=>{e.showOrHidePermanentScrollbarOverlay(t)}))}))},determineItemByPageCoordinates:function(t,e){"use strict";let i=this.element[0].getBoundingClientRect();if(i.left<=t&&t<i.right&&i.top<=e&&e<i.bottom){this._showOrHidePermanentScrollbarOverlay(!1);let i=this._doDetermineItemByPageCoordinates(t,e);if(this._showOrHidePermanentScrollbarOverlay(!0),i)return this._extendCallbackArgs(i)}},elementFromPoint:function(t,e){this._showOrHidePermanentScrollbarOverlay(!1);let i=document.elementFromPoint(t,e);return this._showOrHidePermanentScrollbarOverlay(!0),i},_doDetermineItemByPageCoordinates:function(t,e){"use strict";var i=this._findRowDataItemAtY(e);if(i){var o=a.select(i.foregroundRowElem).select("."+this.NXXXXX.TABLE_ROW_CLASS).node()??i.foregroundRowElem;if(o){var n=t-this.element.offset().left,r=this._detectCellIndexInTableRowByMouseX(i,n);return{item:i.item,elem:o,elemType:T.Row,cellIndex:r}}}},refreshRowForWorldView:function(t){var e=this._getDataItem(t,this._rowDataItemsMap);e?.isLeaf&&!this.options.leafRowsVisible||e&&(this._createRow(e,void 0,S.WorldView),this._renderCachedRowInWorldView(e))},_getChartSizeForWorldView:function(){var t=this._actualTitleHeight(O.top),e=this._actualTitleHeight(O.bottom),i=(t?1:0)+(this._actualBodyAreaSeparatorHeight()?1:0)+(e?1:0),o=this.options.topBodyViewAreaVisible?this._layoutRows[L.BodyAtTheTop].extent():0,a=this.options.commonBodyViewAreaVisible||!this.options.topBodyViewAreaVisible?this._layoutRows[L.MainBody].extent():0;return{width:this.actualTableWidth(),height:Math.max(t+o+a+e,this._actualScaledMainHeight()),heightPx:i}},_getViewRectsForWorldView:function(){for(var t=this,e=t._super(),i=t._actualTitleHeight(O.top),o=1,a=0;a<2;a++){var n=t._layoutRows[a].scrollStart(),r=t._layoutRows[a].innerViewExtent();if(r){for(var l=t._fixedTableColumnsWidthPreceding,s=0;s<2;s++){var c=t._layoutColumns[s].scrollStart(),d=t._layoutColumns[s].innerViewExtent();s||(d=Math.max(0,d-t._fixedTableColumnsWidthPreceding-t._fixedTableColumnsWidthSucceeding)),d&&(e.push({left:l,scrollLeft:c,leftPx:s,top:i,scrollTop:n,topPx:o,width:d,height:r,isMovable:!0,shouldRemainVisible:s>0&&t._isActiveHorizontalBodyAreaIndex(a),tableBase_colIndex:s,tableBase_rowIndex:a}),s||(l=t.actualTableWidth()))}i+=t._layoutRows[a].extent(),t._layoutRows[a].extent()&&o++}}return e},_getTopOfRowDataItemForWorldView:function(t){"use strict";var e=this;return{top:e.options.titleHeight+(e._isItemAtTheTop(t.item)?0:e._actualBodyAreaSeparatorHeight()?e._layoutRows[L.BodyAtTheTop].extent():0)+t.newY,topPx:1+(e._isItemAtTheTop(t.item)?0:e._actualBodyAreaSeparatorHeight()?1:0)}},_renderCachedRowInWorldView:function(t,e){var i=this;if(t.totalHeight){var o,a;if(!e||e.indexOf("C")>=0){o=i._worldViewDivJQ.nWorldViewCanvasWidget("instance"),a=i._getTopOfRowDataItemForWorldView(t),o.clearRect(E.Content,{left:0,top:a.top,topPx:a.topPx,width:i._tableWidth,height:t.totalHeight});var n=i._worldViewDivJQ?t.worldViewCache:void 0;n&&n.forEach((function(t){o[t.method].apply(o,t.args)}))}if(!e||e.indexOf("S")>=0){var r=t.worldViewSelectionCacheMap;if(r){o||(o=i._worldViewDivJQ.nWorldViewCanvasWidget("instance"));var l=i.actualTableWidth();a||(a=i._getTopOfRowDataItemForWorldView(t)),o.clearRect(E.Selection,{left:0,top:a.top,topPx:a.topPx,width:l,height:t.totalHeight}),i._clearAdditionalLayoutGridColumnsInWorldView(o,t,l,a.top,a.topPx),Object.keys(r).forEach((function(t){var e=r[t],a=[E.Selection,{strokeStyle:i.options.worldViewSelectionColor}].concat(e.args);o[e.method].apply(o,a)}))}}}},_clearAdditionalLayoutGridColumnsInWorldView:function(){},_renderCompleteWorldView:function(){var t=this;if(t._super(),t._foregroundBodyD3s&&t._worldViewDivJQ){var e=t._worldViewDivJQ.nWorldViewCanvasWidget("instance"),i=t._tableTitleD3s[0].select("."+t.NXXXXX.TABLE_TITLE_RECT_CLASS);if(i.size()&&e.fillRect(E.Content,{fillStyle:window.getComputedStyle(i.node()).fill},{left:0,top:0,width:t.actualTableWidth(),height:t.options.titleHeight}),e.drawLine(E.Content,{strokeStyle:"black",lineWidth:1},{x0:0,y0:t.options.titleHeight,x1:t.actualTableWidth(),y1:t.options.titleHeight}),t._currentlyVisibleRowDataItems.forEach((function(e){e.forEach((function(e){t._renderCachedRowInWorldView(e)}))})),t._actualBodyAreaSeparatorHeight()){var o=t.options.titleHeight+t._layoutRows[L.BodyAtTheTop].extent();e.drawLine(E.Content,{strokeStyle:"black",lineWidth:1},{x0:0,y0:o,x1:t.actualTableWidth(),y1:o,yPx:1})}}}};o.widget("netronic.nTableBaseWidget",o.netronic.nBaseWidget,M);var F=o.netronic.nTableBaseWidget;t.exports=F},3890:(t,e,i)=>{i(1703),i(7658);var o=i(5549);i(8276);var a=i(9990),n=i(3571),r=n.nEventDispatcher,l=n.nDebugHelper,s=i(5066),c=s.ElemType,d=s.HorizontalAlignment,_=s.RowInteractions,u=s.TableRowDefinitionType,h=i(2254),p=h._UpdateCause,f=h._VirtualizationUpdateCause,m=h.LayoutRow,w=h.LayoutColumn,E=h.CELL_X_PROPERTY,g={options:{rowItemsDraggable:!0},_create:function(){"use strict";this._super(),this._tableDefinitionChanged()},_setOption:function(t,e){"use strict";try{this._super(t,e)}catch(t){this._handleException(t,"option")}},_initConstants:function(){"use strict";var t=this._getOrCreateNXXXXX({WIDGET_ABBREVIATION:"ntable",WIDGET_PREFIX:"ntable-",WIDGET_NAMESPACE:".ntable",WIDGET_NAME_IN_ERROR_MESSAGES:"nTableWidget",WIDGET_PROPERTYNAME_IN_CALLBACKS:"tableWidget",WIDGET_TABLE_PREFIX:"ntable-",WIDGET_TABLE_INSERTION:""});return this._super(),t.SELECTED_ROW_GRADIENT_START_CLASS=t.WIDGET_PREFIX+"selected-gradient-start",t.SELECTED_ROW_GRADIENT_END_CLASS=t.WIDGET_PREFIX+"selected-gradient-end",t},_doResize:function(t,e,i){"use strict";var o=this;if(void 0!==o._layoutRows[m.MainBody].extent()||i){o._setOption("updateSuspended",!1);var n=o._actualScaledMainWidth(),r=o._actualScaledMainHeight();o._tableViewChanged(void 0,!0);var l=o._calcBodyViewAndSeparatorHeights(r),s=o._calcInnerBodyViewAndSeparatorHeights(l),c=[];c[m.BodyAtTheTop]=s[m.BodyAtTheTop]-o._layoutRows[m.BodyAtTheTop].innerViewExtent(),c[m.MainBody]=s[m.MainBody]-o._layoutRows[m.MainBody].innerViewExtent();var d=o._shouldHeightChange(t,c);if(d){o._layoutRows[m.BodyAtTheTop].outerViewExtent(l[m.BodyAtTheTop]),(o._layoutRows[m.MainBody].outerViewExtent()||l[m.MainBody]>=0)&&o._layoutRows[m.MainBody].outerViewExtent(l[m.MainBody]),o._layoutRows[m.BodyAtTheTop].innerViewExtent(s[m.BodyAtTheTop]),(o._layoutRows[m.MainBody].innerViewExtent()||s[m.MainBody]>=0)&&o._layoutRows[m.MainBody].innerViewExtent(s[m.MainBody]),o._layoutRows[m.BodySeparator].extent(0),o._layoutRows[m.BodySeparator].outerViewExtent(l[m.BodySeparator]),o._layoutRows[m.BodySeparator].innerViewExtent(s[m.BodySeparator]);var _=0;if(o._layoutRows[m.TopTitle].start(_),_+=o._layoutRows[m.TopTitle].outerViewExtent(),o._layoutRows[m.BodyAtTheTop].start(_),_+=o._layoutRows[m.BodyAtTheTop].outerViewExtent(),o._layoutRows[m.BodySeparator].start(_),_+=o._layoutRows[m.BodySeparator].outerViewExtent(),o._layoutRows[m.MainBody].start(_),_+=o._layoutRows[m.MainBody].outerViewExtent(),o._layoutRows[m.BottomTitle].start(_),l[m.MainBody]>=0){var u=!o.options.isForExport&&o._elementHeightOnLastCallOf_doResize===o._elementHeight,h=u?function(t){return a.select(t[0]).transition().duration(o.options.transitionDuration)}:function(t){return a.select(t[0])},p=u?function(t){return t.transition().duration(o.options.transitionDuration)}:function(t){return t};o._doResizeOverlaysHeightWithAnimation(h),o._PE_DoResizeUpdateBodyHeight(p),o._PE_DoResizeHeight_222(p),o.options.virtualized&&o._updateVirtualization(t||f.ViewResized,e)}}var E=o._calcWidthDifference(n),g=o._shouldWidthChange(t,E);if(g){this._currentScaledMainWidth=n;var T=o._specifyNewViewWidth(n);o._layoutColumns[w.Table].outerViewExtent(T[w.Table]);var R=o._calcInnerViewWidths(T);o._layoutColumns[w.Table].innerViewExtent(R[w.Table]);o._layoutColumns[w.Table].start(0)}if(d||g){if(o._layoutGrid.update(),o._overlayAreas){var v=E>0?o._overlayAreas[w.Table][m.MainBody].scrollLeft()*(o._layoutColumns[w.Table].scrollFactorFixed()||1):void 0,C=c[m.MainBody]>0||E>0?o._overlayAreas[w.Table][m.MainBody].scrollTop():void 0,I=[];I[w.Table]=v,I[w.TimeArea]=void 0;var b=[];b[m.BodyAtTheTop]=void 0,b[m.MainBody]=C,o._scrollOffsetsChanged(I,b)}o._provideChartSizeToWorldView(),o._provideViewRectsToWorldView()}o._updateAllRowSelections(),o._executeCachedTransitionFunctions(),o._elementHeightOnLastCallOf_doResize=o._elementHeight}else window.setTimeout((function(){o._layoutRows[m.MainBody].innerViewExtent()||o._doResize(t,e,!0)}),100)},_calcWidthDifference:function(t){return this._mainWidth-t||0},_specifyNewViewWidth:function(t){"use strict";var e=[];return e[w.Table]=t,e},_shouldHeightChange:function(){"use strict";return!0},_shouldWidthChange:function(){"use strict";return!0},_registerBackgroundPanningEvents:function(){"use strict";this._svgRootD3.classed(r.PAN_EVENT_CLASS_NAME,!this.options.rowItemsDraggable)},_onMouseLeaveOnTableRow:function(t,e){"use strict";var i=this;if(!i.isInInteraction()){var o=a.select(e.target).datum();o&&o.item&&i._getDataItem(o.item,i._rowDataItemsMap)===o?i._setRowInteractionCursor(i._getActualRowInteractions(o)):i._setRowInteractionCursor(_.None)}i._super.apply(i,arguments)},scrollTo:function(t,e){"use strict";try{l.assertNumberOrNull(t,"",0),l.assertNumberOrNull(e,"",1);var i=[];i[w.Table]=t,i[w.TimeArea]=void 0;var o=[];o[m.BodyAtTheTop]=void 0,o[m.MainBody]=e,this._scrollTo(i,o)}catch(t){this._handleException(t,"scrollTo")}},horizontalScrollOffset:function(){return this._layoutColumns[w.Table].scrollStart()},clientRect:function(){"use strict";return this._getBodyClientRect(w.Table)},_getScrollOffsets:function(t,e){"use strict";return{horScrollOffset:this._layoutColumns[w.Table].scrollFactorFixed()>0?this._overlayAreas[w.Table][e].scrollLeft()*this._layoutColumns[w.Table].scrollFactorFixed():0,verScrollOffset:this._layoutRows[e].scrollStart()}},scrollToItem:function(t,e,i,o,a){"use strict";var n;try{l.assertNotNull(t,"",0);if(!(n=this._super(t,e,i,o,a)))throw Error("Item not found")}catch(t){this._handleException(t,"scrollToItem")}return n},_tableViewChanged:function(t,e){"use strict";var i=this,o=i.actualTableViewWidth()-i._cachedTableViewWidth;if(!0===i._super(t,e)){if(i.options.rowOmissionSymbolsVisible)a.select(this).selectAll("."+i.NXXXXX.ROW_OMISSION_SYMBOL_CLASS+" line").attr("x2",i._actualScaledMainWidth());o&&void 0===i._tableScrollStartAtStartDrag&&i._onColumnSplitterChanged("lastColumn")}},_tableViewChanged_DetectTableViewWidth:function(t){return t},getElementOfItem:function(t,e){"use strict";try{l.assertNotNull(t,"nTableWidget.getElementOfItem",0);var i=!0===e||1===e,o=this._getDataItem(t,this._rowDataItemsMap);if(o)return i?o.backgroundRowElem:o.foregroundRowElem}catch(t){this._handleException(t,"getElementOfItem")}return null},invalidateRow:function(t,e){"use strict";this._doInvalidateRowWithCheck(t,{childRowsChangedFlag:e})},update:function(){"use strict";try{this._super(),this._bodyChanged(p.RowItemsChanged)}catch(t){this._handleException(t,"update")}},_PE_SelectRowCancelled:function(){return!1},_PE_virt104:function(t){return t.mainHeight},_PE_CellWidth:function(t,e,i,o){"use strict";if(this._PE_IsLastColumn(e,i)){var a=t.property(E);o=Math.max(0,Math.max(this._actualScaledMainWidth(),this.actualTableWidth())-this._fixedTableColumnsWidthSucceeding-a)}return o},_PE_LastColumnWidth:function(t,e){return t?8e4:e},_PE_TableRowWidth:function(){return this._actualScaledMainWidth()},_determineXOffsetOfFirstFixedSucceedingTableColumn:function(){return this._cachedTableViewWidth-this._fixedTableColumnsWidthSucceeding},_PE_X2:function(){return Math.max(this._cachedTableViewWidth||0,this._actualScrollableWidth(w.Table))},_PE_TranslateWidth:function(){return this._cachedTableViewWidth-this._fixedTableColumnsWidthSucceeding},_PE_determineTableCellWidth:function(t){"use strict";return Math.max(0,Math.max(this._actualScaledMainWidth(),this.actualTableWidth())-this._fixedTableColumnsWidthSucceeding-(t-this._fixedTableColumnsWidthPreceding))},_PE_LastColumnResult:function(t){return!t},_PE_Decision111:function(t,e){return t!==e.length-1},_PE_RecalculateTableWidth:function(){this._doResize()},_PE_LocalActualTableWidth:function(){return this._actualScaledMainWidth()},_PE_ColumnIndexResult:function(t){return t-1},_bodyChanged_isSuspended:function(t){"use strict";if(this.options.updateSuspended){if(!([p.Other,p.RowItemsChanged,p.RowItemsRootChanged].indexOf(t)<0))return this._cachedBodyChangedArguments=Array.prototype.slice.call(arguments),!0;this._setOption("updateSuspended",!1)}return!1},_bodyChanged_updateNeededByUpdateCause:function(){return!0},_bodyChanged_setTotalHeight:function(t,e){"use strict";this._super(t,e),t.mainHeight=e},_bodyChanged_calcTotalHeight:function(t,e){"use strict";var i=t.isLeaf?this.options.defaultLeafRowMainHeight:this.options.defaultRowMainHeight;return Math.max(e||0,i)},_PE_Unrealized:function(){},_getBaseLevelClipPathsForColumn:function(t){"use strict";var e=this.NXXXXX.TABLE_COLUMN_CLIPPATH_ID_PREFIX+this._uniqueID+"-b",i=[];return t?i.push(e+"-"+t):this._defsD3.selectAll("."+e).each((function(){i.push(a.select(this).attr("id"))})),i},_PE_CurrentOffsetCorrection:function(){this._currentOffsetCorrection={x:this.options.offsetCorrection&&+this.options.offsetCorrection.x||0,y:this.options.offsetCorrection&&+this.options.offsetCorrection.y||0}},_PE_ActualTableViewWidth:function(){return this._mainWidth},_PE_TableViewWidth:function(){return this._actualScaledMainWidth()},_PE_ActualTableViewWidth_222:function(){return this._actualScaledMainWidth()},_verSBLayoutColumn:function(){return w.Table},_PE_DefaultWidth:function(t){return t===w.Table?1/0:void 0}};o.widget("netronic.nTableWidget",o.netronic.nTableBaseWidget,g);var T=o.netronic.nTableWidget;T.WIDGET_CLASS="ntable-widget",T.ROW_HEIGHT_PROP_CLASS="ntable-row-height-dep",T.TREEVIEW_LINE_CLASS="ntable-treeview-line",T.ElemType=c,T.HorizontalAlignment=d,T.RowInteractions=_,T.RowDefinitionType=u,T.RowDefinitionTypes=u,t.exports=T},4966:(t,e,i)=>{var o=i(5066);Object.keys(o).forEach((function(t){e[t]=o[t]})),e.nBaseWidget=i(3646),e.nTableBaseWidget=i(6626),e.nTableWidget=i(3890),e.nRowDragging=i(6398);var a=window.netronic||{};Object.keys(e).forEach((function(t){a[t]=e[t]})),e.nInternalDefines=i(2254)},9662:(t,e,i)=>{var o=i(614),a=i(6330),n=TypeError;t.exports=function(t){if(o(t))return t;throw n(a(t)+" is not a function")}},6077:(t,e,i)=>{var o=i(614),a=String,n=TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw n("Can't set "+a(t)+" as a prototype")}},1223:(t,e,i)=>{var o=i(5112),a=i(30),n=i(3070).f,r=o("unscopables"),l=Array.prototype;null==l[r]&&n(l,r,{configurable:!0,value:a(null)}),t.exports=function(t){l[r][t]=!0}},9670:(t,e,i)=>{var o=i(111),a=String,n=TypeError;t.exports=function(t){if(o(t))return t;throw n(a(t)+" is not an object")}},1318:(t,e,i)=>{var o=i(5656),a=i(1400),n=i(6244),r=function(t){return function(e,i,r){var l,s=o(e),c=n(s),d=a(r,c);if(t&&i!=i){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((t||d in s)&&s[d]===i)return t||d||0;return!t&&-1}};t.exports={includes:r(!0),indexOf:r(!1)}},3658:(t,e,i)=>{"use strict";var o=i(9781),a=i(3157),n=TypeError,r=Object.getOwnPropertyDescriptor,l=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=l?function(t,e){if(a(t)&&!r(t,"length").writable)throw n("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:(t,e,i)=>{var o=i(1702),a=o({}.toString),n=o("".slice);t.exports=function(t){return n(a(t),8,-1)}},648:(t,e,i)=>{var o=i(1694),a=i(614),n=i(4326),r=i(5112)("toStringTag"),l=Object,s="Arguments"==n(function(){return arguments}());t.exports=o?n:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=l(t),r))?i:s?n(e):"Object"==(o=n(e))&&a(e.callee)?"Arguments":o}},9920:(t,e,i)=>{var o=i(2597),a=i(3887),n=i(1236),r=i(3070);t.exports=function(t,e,i){for(var l=a(e),s=r.f,c=n.f,d=0;d<l.length;d++){var _=l[d];o(t,_)||i&&o(i,_)||s(t,_,c(e,_))}}},8880:(t,e,i)=>{var o=i(9781),a=i(3070),n=i(9114);t.exports=o?function(t,e,i){return a.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,i)=>{var o=i(614),a=i(3070),n=i(6339),r=i(3072);t.exports=function(t,e,i,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:e;if(o(i)&&n(i,c,l),l.global)s?t[e]=i:r(e,i);else{try{l.unsafe?t[e]&&(s=!0):delete t[e]}catch(t){}s?t[e]=i:a.f(t,e,{value:i,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return t}},3072:(t,e,i)=>{var o=i(7854),a=Object.defineProperty;t.exports=function(t,e){try{a(o,t,{value:e,configurable:!0,writable:!0})}catch(i){o[t]=e}return e}},5117:(t,e,i)=>{"use strict";var o=i(6330),a=TypeError;t.exports=function(t,e){if(!delete t[e])throw a("Cannot delete property "+o(e)+" of "+o(t))}},9781:(t,e,i)=>{var o=i(7293);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,i=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:i}},317:(t,e,i)=>{var o=i(7854),a=i(111),n=o.document,r=a(n)&&a(n.createElement);t.exports=function(t){return r?n.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},8113:(t,e,i)=>{var o=i(5005);t.exports=o("navigator","userAgent")||""},7392:(t,e,i)=>{var o,a,n=i(7854),r=i(8113),l=n.process,s=n.Deno,c=l&&l.versions||s&&s.version,d=c&&c.v8;d&&(a=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&r&&(!(o=r.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=r.match(/Chrome\/(\d+)/))&&(a=+o[1]),t.exports=a},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,i)=>{var o=i(1702),a=Error,n=o("".replace),r=String(a("zxcasd").stack),l=/\n\s*at [^:]*:[^\n]*/,s=l.test(r);t.exports=function(t,e){if(s&&"string"==typeof t&&!a.prepareStackTrace)for(;e--;)t=n(t,l,"");return t}},2914:(t,e,i)=>{var o=i(7293),a=i(9114);t.exports=!o((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",a(1,7)),7!==t.stack)}))},2109:(t,e,i)=>{var o=i(7854),a=i(1236).f,n=i(8880),r=i(8052),l=i(3072),s=i(9920),c=i(4705);t.exports=function(t,e){var i,d,_,u,h,p=t.target,f=t.global,m=t.stat;if(i=f?o:m?o[p]||l(p,{}):(o[p]||{}).prototype)for(d in e){if(u=e[d],_=t.dontCallGetSet?(h=a(i,d))&&h.value:i[d],!c(f?d:p+(m?".":"#")+d,t.forced)&&void 0!==_){if(typeof u==typeof _)continue;s(u,_)}(t.sham||_&&_.sham)&&n(u,"sham",!0),r(i,d,u,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,i)=>{var o=i(4374),a=Function.prototype,n=a.apply,r=a.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?r.bind(n):function(){return r.apply(n,arguments)})},4374:(t,e,i)=>{var o=i(7293);t.exports=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,i)=>{var o=i(4374),a=Function.prototype.call;t.exports=o?a.bind(a):function(){return a.apply(a,arguments)}},6530:(t,e,i)=>{var o=i(9781),a=i(2597),n=Function.prototype,r=o&&Object.getOwnPropertyDescriptor,l=a(n,"name"),s=l&&"something"===function(){}.name,c=l&&(!o||o&&r(n,"name").configurable);t.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},1702:(t,e,i)=>{var o=i(4374),a=Function.prototype,n=a.call,r=o&&a.bind.bind(n,n);t.exports=o?r:function(t){return function(){return n.apply(t,arguments)}}},5005:(t,e,i)=>{var o=i(7854),a=i(614),n=function(t){return a(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?n(o[t]):o[t]&&o[t][e]}},8173:(t,e,i)=>{var o=i(9662),a=i(8554);t.exports=function(t,e){var i=t[e];return a(i)?void 0:o(i)}},7854:(t,e,i)=>{var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:(t,e,i)=>{var o=i(1702),a=i(7908),n=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return n(a(t),e)}},3501:t=>{t.exports={}},490:(t,e,i)=>{var o=i(5005);t.exports=o("document","documentElement")},4664:(t,e,i)=>{var o=i(9781),a=i(7293),n=i(317);t.exports=!o&&!a((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var o=i(1702),a=i(7293),n=i(4326),r=Object,l=o("".split);t.exports=a((function(){return!r("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?l(t,""):r(t)}:r},9587:(t,e,i)=>{var o=i(614),a=i(111),n=i(7674);t.exports=function(t,e,i){var r,l;return n&&o(r=e.constructor)&&r!==i&&a(l=r.prototype)&&l!==i.prototype&&n(t,l),t}},2788:(t,e,i)=>{var o=i(1702),a=i(614),n=i(5465),r=o(Function.toString);a(n.inspectSource)||(n.inspectSource=function(t){return r(t)}),t.exports=n.inspectSource},8340:(t,e,i)=>{var o=i(111),a=i(8880);t.exports=function(t,e){o(e)&&"cause"in e&&a(t,"cause",e.cause)}},9909:(t,e,i)=>{var o,a,n,r=i(4811),l=i(7854),s=i(111),c=i(8880),d=i(2597),_=i(5465),u=i(6200),h=i(3501),p="Object already initialized",f=l.TypeError,m=l.WeakMap;if(r||_.state){var w=_.state||(_.state=new m);w.get=w.get,w.has=w.has,w.set=w.set,o=function(t,e){if(w.has(t))throw f(p);return e.facade=t,w.set(t,e),e},a=function(t){return w.get(t)||{}},n=function(t){return w.has(t)}}else{var E=u("state");h[E]=!0,o=function(t,e){if(d(t,E))throw f(p);return e.facade=t,c(t,E,e),e},a=function(t){return d(t,E)?t[E]:{}},n=function(t){return d(t,E)}}t.exports={set:o,get:a,has:n,enforce:function(t){return n(t)?a(t):o(t,{})},getterFor:function(t){return function(e){var i;if(!s(e)||(i=a(e)).type!==t)throw f("Incompatible receiver, "+t+" required");return i}}}},3157:(t,e,i)=>{var o=i(4326);t.exports=Array.isArray||function(t){return"Array"==o(t)}},614:(t,e,i)=>{var o=i(4154),a=o.all;t.exports=o.IS_HTMLDDA?function(t){return"function"==typeof t||t===a}:function(t){return"function"==typeof t}},4705:(t,e,i)=>{var o=i(7293),a=i(614),n=/#|\.prototype\./,r=function(t,e){var i=s[l(t)];return i==d||i!=c&&(a(e)?o(e):!!e)},l=r.normalize=function(t){return String(t).replace(n,".").toLowerCase()},s=r.data={},c=r.NATIVE="N",d=r.POLYFILL="P";t.exports=r},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,i)=>{var o=i(614),a=i(4154),n=a.all;t.exports=a.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:o(t)||t===n}:function(t){return"object"==typeof t?null!==t:o(t)}},1913:t=>{t.exports=!1},2190:(t,e,i)=>{var o=i(5005),a=i(614),n=i(7976),r=i(3307),l=Object;t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return a(e)&&n(e.prototype,l(t))}},6244:(t,e,i)=>{var o=i(7466);t.exports=function(t){return o(t.length)}},6339:(t,e,i)=>{var o=i(7293),a=i(614),n=i(2597),r=i(9781),l=i(6530).CONFIGURABLE,s=i(2788),c=i(9909),d=c.enforce,_=c.get,u=Object.defineProperty,h=r&&!o((function(){return 8!==u((function(){}),"length",{value:8}).length})),p=String(String).split("String"),f=t.exports=function(t,e,i){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!n(t,"name")||l&&t.name!==e)&&(r?u(t,"name",{value:e,configurable:!0}):t.name=e),h&&i&&n(i,"arity")&&t.length!==i.arity&&u(t,"length",{value:i.arity});try{i&&n(i,"constructor")&&i.constructor?r&&u(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=d(t);return n(o,"source")||(o.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=f((function(){return a(this)&&_(this).source||s(this)}),"toString")},4758:t=>{var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?i:e)(o)}},6277:(t,e,i)=>{var o=i(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:o(t)}},30:(t,e,i)=>{var o,a=i(9670),n=i(6048),r=i(748),l=i(3501),s=i(490),c=i(317),d=i(6200),_="prototype",u="script",h=d("IE_PROTO"),p=function(){},f=function(t){return"<"+u+">"+t+"</"+u+">"},m=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},w=function(){try{o=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;w="undefined"!=typeof document?document.domain&&o?m(o):(e=c("iframe"),i="java"+u+":",e.style.display="none",s.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):m(o);for(var a=r.length;a--;)delete w[_][r[a]];return w()};l[h]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(p[_]=a(t),i=new p,p[_]=null,i[h]=t):i=w(),void 0===e?i:n.f(i,e)}},6048:(t,e,i)=>{var o=i(9781),a=i(3353),n=i(3070),r=i(9670),l=i(5656),s=i(1956);e.f=o&&!a?Object.defineProperties:function(t,e){r(t);for(var i,o=l(e),a=s(e),c=a.length,d=0;c>d;)n.f(t,i=a[d++],o[i]);return t}},3070:(t,e,i)=>{var o=i(9781),a=i(4664),n=i(3353),r=i(9670),l=i(4948),s=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,_="enumerable",u="configurable",h="writable";e.f=o?n?function(t,e,i){if(r(t),e=l(e),r(i),"function"==typeof t&&"prototype"===e&&"value"in i&&h in i&&!i[h]){var o=d(t,e);o&&o[h]&&(t[e]=i.value,i={configurable:u in i?i[u]:o[u],enumerable:_ in i?i[_]:o[_],writable:!1})}return c(t,e,i)}:c:function(t,e,i){if(r(t),e=l(e),r(i),a)try{return c(t,e,i)}catch(t){}if("get"in i||"set"in i)throw s("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var o=i(9781),a=i(6916),n=i(5296),r=i(9114),l=i(5656),s=i(4948),c=i(2597),d=i(4664),_=Object.getOwnPropertyDescriptor;e.f=o?_:function(t,e){if(t=l(t),e=s(e),d)try{return _(t,e)}catch(t){}if(c(t,e))return r(!a(n.f,t,e),t[e])}},8006:(t,e,i)=>{var o=i(6324),a=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,a)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,i)=>{var o=i(1702);t.exports=o({}.isPrototypeOf)},6324:(t,e,i)=>{var o=i(1702),a=i(2597),n=i(5656),r=i(1318).indexOf,l=i(3501),s=o([].push);t.exports=function(t,e){var i,o=n(t),c=0,d=[];for(i in o)!a(l,i)&&a(o,i)&&s(d,i);for(;e.length>c;)a(o,i=e[c++])&&(~r(d,i)||s(d,i));return d}},1956:(t,e,i)=>{var o=i(6324),a=i(748);t.exports=Object.keys||function(t){return o(t,a)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!i.call({1:2},1);e.f=a?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},7674:(t,e,i)=>{var o=i(1702),a=i(9670),n=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return a(i),n(o),e?t(i,o):i.__proto__=o,i}}():void 0)},2140:(t,e,i)=>{var o=i(6916),a=i(614),n=i(111),r=TypeError;t.exports=function(t,e){var i,l;if("string"===e&&a(i=t.toString)&&!n(l=o(i,t)))return l;if(a(i=t.valueOf)&&!n(l=o(i,t)))return l;if("string"!==e&&a(i=t.toString)&&!n(l=o(i,t)))return l;throw r("Can't convert object to primitive value")}},3887:(t,e,i)=>{var o=i(5005),a=i(1702),n=i(8006),r=i(5181),l=i(9670),s=a([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=n.f(l(t)),i=r.f;return i?s(e,i(t)):e}},2626:(t,e,i)=>{var o=i(3070).f;t.exports=function(t,e,i){i in t||o(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}},4488:(t,e,i)=>{var o=i(8554),a=TypeError;t.exports=function(t){if(o(t))throw a("Can't call method on "+t);return t}},6200:(t,e,i)=>{var o=i(2309),a=i(9711),n=o("keys");t.exports=function(t){return n[t]||(n[t]=a(t))}},5465:(t,e,i)=>{var o=i(7854),a=i(3072),n="__core-js_shared__",r=o[n]||a(n,{});t.exports=r},2309:(t,e,i)=>{var o=i(1913),a=i(5465);(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:o?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,i)=>{var o=i(7392),a=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},1400:(t,e,i)=>{var o=i(9303),a=Math.max,n=Math.min;t.exports=function(t,e){var i=o(t);return i<0?a(i+e,0):n(i,e)}},5656:(t,e,i)=>{var o=i(8361),a=i(4488);t.exports=function(t){return o(a(t))}},9303:(t,e,i)=>{var o=i(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:o(e)}},7466:(t,e,i)=>{var o=i(9303),a=Math.min;t.exports=function(t){return t>0?a(o(t),9007199254740991):0}},7908:(t,e,i)=>{var o=i(4488),a=Object;t.exports=function(t){return a(o(t))}},7593:(t,e,i)=>{var o=i(6916),a=i(111),n=i(2190),r=i(8173),l=i(2140),s=i(5112),c=TypeError,d=s("toPrimitive");t.exports=function(t,e){if(!a(t)||n(t))return t;var i,s=r(t,d);if(s){if(void 0===e&&(e="default"),i=o(s,t,e),!a(i)||n(i))return i;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},4948:(t,e,i)=>{var o=i(7593),a=i(2190);t.exports=function(t){var e=o(t,"string");return a(e)?e:e+""}},1694:(t,e,i)=>{var o={};o[i(5112)("toStringTag")]="z",t.exports="[object z]"===String(o)},1340:(t,e,i)=>{var o=i(648),a=String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return a(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,i)=>{var o=i(1702),a=0,n=Math.random(),r=o(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+r(++a+n,36)}},3307:(t,e,i)=>{var o=i(6293);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,i)=>{var o=i(9781),a=i(7293);t.exports=o&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(t,e,i)=>{var o=i(7854),a=i(614),n=o.WeakMap;t.exports=a(n)&&/native code/.test(String(n))},5112:(t,e,i)=>{var o=i(7854),a=i(2309),n=i(2597),r=i(9711),l=i(6293),s=i(3307),c=a("wks"),d=o.Symbol,_=d&&d.for,u=s?d:d&&d.withoutSetter||r;t.exports=function(t){if(!n(c,t)||!l&&"string"!=typeof c[t]){var e="Symbol."+t;l&&n(d,t)?c[t]=d[t]:c[t]=s&&_?_(e):u(e)}return c[t]}},9191:(t,e,i)=>{"use strict";var o=i(5005),a=i(2597),n=i(8880),r=i(7976),l=i(7674),s=i(9920),c=i(2626),d=i(9587),_=i(6277),u=i(8340),h=i(1060),p=i(2914),f=i(9781),m=i(1913);t.exports=function(t,e,i,w){var E="stackTraceLimit",g=w?2:1,T=t.split("."),R=T[T.length-1],v=o.apply(null,T);if(v){var C=v.prototype;if(!m&&a(C,"cause")&&delete C.cause,!i)return v;var I=o("Error"),b=e((function(t,e){var i=_(w?e:t,void 0),o=w?new v(t):new v;return void 0!==i&&n(o,"message",i),p&&n(o,"stack",h(o.stack,2)),this&&r(C,this)&&d(o,this,b),arguments.length>g&&u(o,arguments[g]),o}));if(b.prototype=C,"Error"!==R?l?l(b,I):s(b,I,{name:!0}):f&&E in v&&(c(b,v,E),c(b,v,"prepareStackTrace")),s(b,v),!m)try{C.name!==R&&n(C,"name",R),C.constructor=b}catch(t){}return b}}},6699:(t,e,i)=>{"use strict";var o=i(2109),a=i(1318).includes,n=i(7293),r=i(1223);o({target:"Array",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},7658:(t,e,i)=>{"use strict";var o=i(2109),a=i(7908),n=i(6244),r=i(3658),l=i(7207),s=i(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:s||c},{push:function(t){var e=a(this),i=n(e),o=arguments.length;l(i+o);for(var s=0;s<o;s++)e[i]=arguments[s],i++;return r(e,i),i}})},541:(t,e,i)=>{"use strict";var o=i(2109),a=i(7908),n=i(6244),r=i(3658),l=i(5117),s=i(7207),c=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();o({target:"Array",proto:!0,arity:1,forced:c||d},{unshift:function(t){var e=a(this),i=n(e),o=arguments.length;if(o){s(i+o);for(var c=i;c--;){var d=c+o;c in e?e[d]=e[c]:l(e,d)}for(var _=0;_<o;_++)e[_]=arguments[_]}return r(e,i+o)}})},1703:(t,e,i)=>{var o=i(2109),a=i(7854),n=i(2104),r=i(9191),l="WebAssembly",s=a[l],c=7!==Error("e",{cause:7}).cause,d=function(t,e){var i={};i[t]=r(t,e,c),o({global:!0,constructor:!0,arity:1,forced:c},i)},_=function(t,e){if(s&&s[t]){var i={};i[t]=r(l+"."+t,e,c),o({target:l,stat:!0,constructor:!0,arity:1,forced:c},i)}};d("Error",(function(t){return function(e){return n(t,this,arguments)}})),d("EvalError",(function(t){return function(e){return n(t,this,arguments)}})),d("RangeError",(function(t){return function(e){return n(t,this,arguments)}})),d("ReferenceError",(function(t){return function(e){return n(t,this,arguments)}})),d("SyntaxError",(function(t){return function(e){return n(t,this,arguments)}})),d("TypeError",(function(t){return function(e){return n(t,this,arguments)}})),d("URIError",(function(t){return function(e){return n(t,this,arguments)}})),_("CompileError",(function(t){return function(e){return n(t,this,arguments)}})),_("LinkError",(function(t){return function(e){return n(t,this,arguments)}})),_("RuntimeError",(function(t){return function(e){return n(t,this,arguments)}}))},5916:()=>{!function(t){var e,i,o,a,n=0,r=[],l=[],s=[],c=!1,d=!1,_=!1,u=33,h=33,p=0;if("object"==typeof MessageChannel){var f=new MessageChannel;o=f.port2,f.port1.onmessage=R}else a="polyfillIdleCallback"+Math.random().toString(36).slice(2),o=window,window.addEventListener("message",(function(t){t.source==window&&t.data===a&&R()}));function m(){return Math.min(p-performance.now(),50)}function w(e){var i=e.options.timeout,o=e.added;_=!0;var a=new t.IdleDeadline;return _=!1,Object.defineProperty(a,"didTimeout",{value:!!i&&o+i<performance.now()}),Object.defineProperty(a,"timeRemaining",{value:m}),a}function E(t){var e=w(t);(0,t.callback)(e)}function g(){if(!c){c=!0;try{o.postMessage(a,"*")}catch(t){o.postMessage(a)}}}function T(){e||(e=requestAnimationFrame((function(t){e=void 0,clearTimeout(i),t-h>performance.now()&&(t-=2*h);var o=t-p+h;o<h&&u<h?(o<8&&(o=8),h=Math.max(u,o)):u=o,p=t+h,g()})),i=setTimeout((function(){cancelAnimationFrame(e),e=void 0,p=performance.now()+50,g()}),100))}function R(){for(c=!1,d=!0,l=r.filter((function(t){return void 0!==t.options.timeout&&w(t).didTimeout})),r=r.filter((function(t){return!l.includes(t)})),l.sort((function(t,e){return t.options.timeout-e.options.timeout}));l.length>0;){var t=l.shift();E(t)}for(;r.length>0&&m()>0;)E(t=r.shift());s.length>0&&(r=r.concat(s),s=[]),r.length>0&&T(),d=!1}t.requestIdleCallback=function(t,e){var i=++n,o={id:i,callback:t,options:e||{},added:performance.now()};return d?s.push(o):r.push(o),T(),i},t.cancelIdleCallback=function(t){if(0===arguments.length)throw new TypeError("cancelIdleCallback requires at least 1 argument");var e=function(e){return e.id!==t};r=r.filter(e),s=s.filter(e)},t.IdleDeadline=function(){if(!_)throw new TypeError("Illegal constructor")},Object.defineProperty(t.IdleDeadline.prototype,"timeRemaining",{value:function(){throw new TypeError("Illegal invocation")}}),Object.prototype.hasOwnProperty.call(Object.prototype,"__defineGetter__")?Object.defineProperty(t.IdleDeadline.prototype,"didTimeout",{get:function(){throw new TypeError("Illegal invocation")}}):Object.defineProperty(t.IdleDeadline.prototype,"didTimeout",{value:void 0})}(self)},9990:t=>{"use strict";t.exports=i},3571:t=>{"use strict";t.exports=o},5549:e=>{"use strict";e.exports=t},8276:t=>{"use strict";t.exports=e}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return a[t](i,i.exports,r),i.exports}return r.m=a,r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(4966)})()));
//# sourceMappingURL=nwaf-table.min.js.map
/*! (c) Copyright 2013-2023 NETRONIC Software GmbH. All rights reserved. Version 7.8.4 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery"),require("nwaf_apptools"),require("jquery-ui/ui/widget"),require("d3"),require("hammerjs"),require("nwaf_table")):"function"==typeof define&&define.amd?define(["jquery","nwaf_apptools","jquery-ui/ui/widget","d3","hammerjs","nwaf_table"],t):"object"==typeof exports?exports.nwaf_gantt=t(require("jquery"),require("nwaf_apptools"),require("jquery-ui/ui/widget"),require("d3"),require("hammerjs"),require("nwaf_table")):e.nwaf_gantt=t(e.jQuery,e.nwaf_apptools,e.jQuery,e.d3,e.Hammer,e.nwaf_table)}(globalThis,((e,t,a,i,r,n)=>(()=>{var o={8404:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o="ngantt-arrow-bar-path",s=r.NGANTT_BAR_PATH_PATTERN_CLASS,l=r.NGANTT_BAR_TEXT_CLASS,c=r.ElemType,m=r.BarType,d=function(){this._optionCache={}};i.extend(d.prototype,{createBar:function(e){e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+o,{elemType:c.BarRectangle,shape:e.barShapeId}));var t=e.dataItem.item;null!=t.fillPatternType&&e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+s,{elemType:c.BarRectangle,shape:e.barShapeId})).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${t.fillPatternType})`);var a=[t.startOffset,t.endOffset,t.isArrowLeft,t.isArrowRight,t.leftArrowDegree,t.rightArrowDegree,e.barHeight].join(",");if(!this._optionCache[a]){var i=+t.startOffset||0,r=+t.endOffset||0,l=null==t.isArrowLeft||!!t.isArrowLeft,m=null==t.isArrowRight||!!t.isArrowRight,d=null==t.leftArrowDegree?45:+t.leftArrowDegree||0,u=null==t.rightArrowDegree?45:+t.rightArrowDegree||0;(d<1||d>179)&&(d=45),d%90==0&&(l=!1),(u<1||u>179)&&(u=45),u%90==0&&(m=!1);var h=e.barHeight/2,p=l?Math.tan((90-d)*(Math.PI/180))*h:0,_=m?Math.tan((90-u)*(Math.PI/180))*h:0;this._optionCache[a]={startOffset:i,endOffset:r,isArrowLeft:l,isArrowRight:m,barHeightAsString:e.barHeight.toString(),halfBarHeight:h,halfBarHeightAsString:h.toString(),arrowLengthLeft:p,arrowLengthLeftAsString:p.toString(),negativeArrowLengthLeftAsString:(-p).toString(),arrowLengthRight:_,arrowLengthRightAsString:_.toString(),negativeArrowLengthRightAsString:(-_).toString(),absArrowLengthBoth:Math.abs(p)+Math.abs(_),maxArrowLengthLeft:Math.max(0,p),maxArrowLengthRight:Math.max(0,_)}}},positionBar:function(e){if(e.barD3){var t=e.dataItem.item,a=[t.startOffset,t.endOffset,t.isArrowLeft,t.isArrowRight,t.leftArrowDegree,t.rightArrowDegree,e.barHeight].join(","),i=this._optionCache[a],r=i.arrowLengthLeft,n=i.arrowLengthRight,c=i.arrowLengthLeftAsString,m=i.arrowLengthRightAsString,d=(i.negativeArrowLengthLeftAsString,i.negativeArrowLengthRightAsString),u=Math.max(0,e.width+i.startOffset+i.endOffset),h=Math.max(0,u-i.maxArrowLengthLeft-i.maxArrowLengthRight);u<i.absArrowLengthBoth&&(r=u*(r/i.absArrowLengthBoth),n=u*(n/i.absArrowLengthBoth),c=r.toString(),m=n.toString(),d=(-n).toString());var p,_=i.halfBarHeightAsString,g=h.toString(),f=(-h).toString();p=i.isArrowLeft?i.isArrowRight?["M",-Math.min(r,0)-i.startOffset,",",_,"l",c,",-",_,"h",g,"l",m,",",_,"l",d,",",_,"h",f,"Z"].join(""):["M",-Math.min(r,0)-i.startOffset,",",_,"l",c,",-",_,"h",g,"v",i.barHeightAsString,"h",f,"Z"].join(""):i.isArrowRight?["M",-i.startOffset,",0h",h,"l"+m,",",_,"l",d,",",_,"h",f,"Z"].join(""):["M",-i.startOffset,",0h",h,"v",i.barHeightAsString,"h",f,"Z"].join(""),e.barD3.select("."+o).attr("d",p),e.barD3.select("."+l).attr("transform","translate("+(r>0?r-4:0)+")"),null!=t.fillPatternType&&e.barD3.select("path."+s).attr("d",e.dataItem.item.start?p:"")}e.worldViewVisible&&(e.worldViewPathData=[{x:0,y:0},{x:e.worldViewBarWidth,y:0},{x:e.worldViewBarWidth,y:e.barHeight},{x:0,y:e.barHeight},{x:0,y:0}])},checkForBarType:function(e){return e===m.StartEnd||e===m.StartDuration||e===m.EndDuration},getBarOffsets:function(e){return{startOffset:+e.item.startOffset||0,endOffset:+e.item.endOffset||0}}}),e.exports=d},5699:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o=r.NGANTT_BAR_TEXT_CLASS,s=r.BarType,l=r.DisplayedElements,c=r.ElemType,m=function(){};i.extend(m.prototype,{createBar:function(e){e.barD3.append("path").attr("class",e.enrichClassFunc(n+" ngantt-arrow-path",{elemType:c.BarRectangle,shape:e.barShapeId})).attr("transform","translate(0,"+e.barHeight/2+")").attr("d","M-8,0 L0,-10 L0,10 L-8,0")},positionBar:function(e){e.barD3&&(e.rowDataItem.isHidden||(e.rowDataItems.isLeaf?e.rowDataItem.areLeavesCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(e.rowDataItem)&l.Bars:e.rowDataItem.isCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(e.rowDataItem)&l.BarsOfCollapsedChildRows)?e.barD3.select("."+o).remove():e.barD3.select("."+o).attr("x",2))},checkForBarType:function(e){return e===s.Single||e===s.SingleRespectedByOptimization}}),e.exports=m},5698:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o=r.NGANTT_BAR_TEXT_CLASS,s=r.BarType,l=r.DisplayedElements,c=r.ElemType,m=function(){};i.extend(m.prototype,{createBar:function(e){e.barD3.append("path").attr("class",e.enrichClassFunc(n+" ngantt-arrow-path",{elemType:c.BarRectangle,shape:e.barShapeId})).attr("transform","translate(0,"+e.barHeight/2+")").attr("d","M8,0 L0,-10 L0,10 L8,0")},positionBar:function(e){e.barD3&&(e.rowDataItem.isHidden||(e.rowDataItems.isLeaf?e.rowDataItem.areLeavesCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(e.rowDataItem)&l.Bars:e.rowDataItem.isCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(e.rowDataItem)&l.BarsOfCollapsedChildRows)?e.barD3.select("."+o).remove():(e.barD3.select("."+o).attr("x",10),e.barD3.selectAll(".ntexthelper-wrapping-line").attr("x",10)))},checkForBarType:function(e){return e===s.Single||e===s.SingleRespectedByOptimization}}),e.exports=m},5008:(e,t,a)=>{a(7658);var i=a(5549),r=a(9990),n=a(3571),o=n.nD3MigrationHelper.transform,s=n.nCursorHelper,l=n.nDateHelper,c=n.nEventDispatcher,m=n.nOSDetector,d=a(3429),u=a(5066),h=u.BarInteractions,p=u._BarInteractions,_=u.BarSnapTargets,g=u.TimeType,f=u.ElemType,T=u._BarTypeFlags,D=u.BarType,v=u.DisplayedElements,y=u.NGANTT_BAR_OUTLINE_CLASS,S=u.NGANTT_BAR_PHANTOM_CLASS,w=u.NGANTT_TIMEAREA_ROW_CONTENTS_CLASS,I=function(e,t){this._ganttWidget=e,this._options=i.extend({},t),this._isInitiated=!1};i.extend(I.prototype,{setOption:function(e,t){this._options[e]=t},isInitiated:function(){return this._isInitiated},isActive:function(){return this._isInitiated&&this._isActive},isDropped:function(){return this._isInitiated&&this._isDropped},isAutomaticRowExpansionEnabled:function(){return this._isInitiated&&(this._isAutomaticRowExpansionEnabled||this._interaction&p.DragHorOrVerOverride)},hasCoupledTimeItems:function(){return this._isInitiated&&!!this._coupledTimeDataItems},isDraggedTimeItem:function(e){return this._isInitiated&&e===this._timeDataItem},getPointerX:function(){return this._isInitiated&&this._pointerX},getPointerDateTime:function(){return this._isInitiated&&this._pointerDateTime},initiate:function(e,t,a){"use strict";var i=this;if(!i._isInitiated&&(i._createBarPhantom(e,t),i._isInitiated)){if(i._isActive=a,i._interaction&p.Compound)for(;t.parentTimeDataItem;)t=t.parentTimeDataItem;i.isAutomaticRowExpansionEnabled()&&i._options.checkForAutomaticRowExpansionFunc(e.center.x,e.center.y,t.rowDataItem.visibleRowDataItem),i.checkForAutoscrollOnBarDragging(e,t),i._pointerType=e.pointerType,i._options.setBarInteractionCursorFunc(i._interaction&~p.CurrentlyDraggedHorOnly);var r={sender:t.item,elemType:f.Bar,interaction:i._interaction&~p.Compound,event:e.srcEvent,cancel:!1};if(i._options.dragStartFunc||i._options.dragEnterFunc){try{i._options.dragStartFunc?.call(i,r)}catch(t){throw i.terminate(e,!0),t}if(!r.cancel){Array.isArray(r.coupledItems)&&(i._coupledTimeDataItems=[],r.coupledItems.forEach((function(a){var r=i._options.getTimeDataItemFunc(a);r&&r!==t&&(r.elem&&r.item.start&&i._createBarPhantom(e,r,!0),i._coupledTimeDataItems.push(r))})),i._coupledTimeDataItems.length||delete i._coupledTimeDataItems),delete r.coupledItems;try{i._options.dragEnterFunc?.call(i,r)}catch(t){throw i.terminate(e,!0),t}}if(r.cancel)return i.terminate(e,!0),!1}var n=null==t.item.snapTargetsForStart?i._options.defaultBarSnapTargetsForStart:t.item.snapTargetsForStart,o=null==t.item.snapTargetsForEnd?i._options.defaultBarSnapTargetsForEnd:t.item.snapTargetsForEnd;if(i._snapTargetsForStart=n,i._snapTargetsForEnd=o,n||o){if(i._options.dragEnterFunc&&Array.isArray(r.snapTargetStartDates)&&(i._snapTargetStartDates=r.snapTargetStartDates.slice()),i._options.dragEnterFunc&&Array.isArray(r.snapTargetEndDates)&&(i._snapTargetEndDates=r.snapTargetEndDates.slice()),i._snapTargetStartDates&&i._snapTargetStartDates.sort((function(e,t){return e-t})),i._snapTargetEndDates&&i._snapTargetEndDates.sort((function(e,t){return e-t})),i._createCachedRowDependentSnapTargets(t.rowDataItem.visibleRowDataItem),(n|o)&_.CalendarGrids){i._snapTargetStartWorkingTimeDates=[],i._snapTargetEndWorkingTimeDates=[];var s=i._options.determineCalendarForRowDataItemFunc(t.rowDataItem);let e=s?s.timeTypeChangeTimes():void 0;if(e){var l=s.determineTimeType(e[0])!==g.NonWorkingTime;e.forEach((function(e){l?i._snapTargetStartWorkingTimeDates.push(e):i._snapTargetEndWorkingTimeDates.push(e),l=!l}))}}if((n|o)&_.DateLines){var c={},m=i._options.dateLines;m&&(m.forEach((function(e){!1!==e.isSnapTarget&&e.date instanceof Date&&(c[e.date.getTime()]=!0)})),i._snapTargetDateLineDates=[],Object.keys(c).forEach((function(e){i._snapTargetDateLineDates.push(new Date(+e))})),i._snapTargetDateLineDates.sort((function(e,t){return e-t})))}if((n|o)&_.DateLineGrids){var d={},u=i._options.timeAxis.actualStart().getTime(),h=i._options.timeAxis.actualEnd().getTime(),T=i._options.dateLineGrids;if(T&&T.forEach((function(e){!1!==e.isSnapTarget&&i._options.callFunctionForAllDatesInDateLineGridFunc(u,h,e.timeType,(function(e){d[e.getTime()]=!0}))})),i._ganttWidget.options.timescaleRibbonDateLinesVisible){let e=i._ganttWidget.determineTimescaleRibbonDateLines();e&&e.forEach((e=>{d[e.getTime()]=!0}))}Object.keys(d).length&&(i._snapTargetDateLineGridDates=[],Object.keys(d).forEach((function(e){i._snapTargetDateLineGridDates.push(new Date(+e))})),i._snapTargetDateLineGridDates.sort((function(e,t){return e-t})))}}}return i._isInitiated},_createCachedRowDependentSnapTargets:function(e){var t=this;if(!t._cachedSnapTargetsForRowDataItemIDs[e.id]){var a=t._cachedSnapTargetsForRowDataItemIDs[e.id]={};if(t._snapTargetsForStart||t._snapTargetsForEnd){var i={},r={};(t._snapTargetsForStart|t._snapTargetsForEnd)&(_.Start|_.End)&&e.item.timeItems&&t._options.determineTimeDataItemsFunc(e.item.timeItems,!0).forEach((function(e){e!==t._timeDataItem&&(!t._coupledTimeDataItems||t._coupledTimeDataItems.indexOf(e)<0)&&(!t._snapTargetStartDates&&(t._snapTargetsForStart|t._snapTargetsForEnd)&_.Start&&e.item.startIsSnapTarget&&e.item.start instanceof Date&&(i[1e3*Math.floor(e.item.start.getTime()/1e3)]=!0),!t._snapTargetEndDates&&(t._snapTargetsForStart|t._snapTargetsForEnd)&_.End&&e.item.endIsSnapTarget&&e.item.end instanceof Date&&(r[1e3*Math.ceil(e.item.end.getTime()/1e3)]=!0))})),a._snapRowDependentTargetStartDates=[],Object.keys(i).forEach((function(e){a._snapRowDependentTargetStartDates.push(new Date(+e))})),a._snapRowDependentTargetStartDates.length?a._snapRowDependentTargetStartDates.sort((function(e,t){return e-t})):delete a._snapRowDependentTargetStartDates,a._snapRowDependentTargetEndDates=[],Object.keys(r).forEach((function(e){a._snapRowDependentTargetEndDates.push(new Date(+e))})),a._snapRowDependentTargetEndDates.length?a._snapRowDependentTargetEndDates.sort((function(e,t){return e-t})):delete a._snapRowDependentTargetEndDates}["leafRowDataItems","childRowDataItems"].forEach((function(a,i){Array.isArray(e[a])&&t._options.getCurrentlyDisplayedElementsInRowFunc(e)&(i?v.BarsOfCollapsedChildRows:v.Bars)&&e[a].forEach((function(e){e&&t._createCachedRowDependentSnapTargets(e)}))}))}},_determineRowDependentSnapTargets:function(e){"use strict";var t=this,a=t._cachedSnapTargetsForRowDataItemIDs[e.id]||{},r=a,n=function(e){e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(r,o){Array.isArray(e[r])&&(o?e.isCollapsed:!t._ganttWidget.options.leafRowsVisible||e.areLeavesCollapsed)&&t._options.getCurrentlyDisplayedElementsInRowFunc(e)&(o?v.BarsOfCollapsedChildRows:v.Bars)&&(a=i.extend({},a),e[r].forEach((function(e){if(e){var i=t._cachedSnapTargetsForRowDataItemIDs[e.id];a._snapRowDependentTargetStartDates=(a._snapRowDependentTargetStartDates||[]).concat(i._snapRowDependentTargetStartDates||[]),a._snapRowDependentTargetEndDates=(a._snapRowDependentTargetEndDates||[]).concat(i._snapRowDependentTargetEndDates||[]),o&&n(e)}})))}))};return n(e),a!==r&&(a._snapRowDependentTargetStartDates?.sort((function(e,t){return e-t})),a._snapRowDependentTargetEndDates?.sort((function(e,t){return e-t}))),a},terminate:function(e,t){"use strict";var a=this;a._isInitiated&&(a._options.setBarInteractionCursorFunc(h.None),a._options.onEventFunc&&e&&a._options.onEventFunc.call(a,{sender:null,eventType:"tooltip",event:e.srcEvent||e,hammerEvent:e}),a._options.stopAutoscrollFunc(),a._dropBarPhantoms(e,t||!a._dropAllowed))},checkForAutoscrollOnBarDragging:function(e,t){"use strict";var a=this,i=a._interaction&(h.DragHor|h.DragHorOrVer|h.DragLeftSide|h.DragRightSide|p.DragHorOrVerOverride),r=a._interaction&(h.DragVer|h.DragHorOrVer|p.DragHorOrVerOverride);a._options.checkForAutoscrollFunc(e,t,i,r)},_createBarPhantom:function(e,t,a){"use strict";var i,n=this,s=r.select(t.elem),l=n._options.pointToSVGRelativeFunc(t.elem,e.center.x,e.center.y);if(i=a?n._interaction:n._options.determineBarInteractionFunc(s,n._options.getActualBarInteractionsFunc(t),l,e,!0)){var c,_=n._options.determineSuperTimeDataItemFunc(t);if(i&p.Compound||_===t){if(c=n._options.determineDescendantTimeDataItemsFunc(_),null==_.item.barShape&&(t=void 0,c.some((function(e){return!!(n._options.getActualBarInteractionsFunc(e)&(h.DragHor|h.DragVer|h.DragHorOrVer|p.DragHorOrVerOverride))&&(t=e,!0)})),!t))return;_!==t&&(_.item.childTimeItems.length>1&&(m.isFirefox&&!_.elem.childNodes.length?l.y+=o(r.select(_.elem).attr("transform")).translate[1]-o(s.attr("transform")).translate[1]:l=n._options.pointToSVGRelativeFunc(_.elem,e.center.x,e.center.y)),t=_,s=r.select(t.elem))}var g,D,v=n._ganttWidget.options.ignoreCalendarOnBarInteractions?null:t.item.calendar||n._options.determineCalendarForRowDataItemFunc(t.rowDataItem)||n._options.defaultCalendar,I=n._ganttWidget.pageXToDate(e.center.x),b=n._options.determineTimeRangeFunc(t);i===h.DragRightSide?(g=0,D=n._options.timeAxis.convertDateToX(b.end)-n._ganttWidget.pageXToTimeAxisX(e.center.x)):i===h.DragLeftSide?(g=0,D=n._ganttWidget.pageXToTimeAxisX(e.center.x)-n._options.timeAxis.convertDateToX(b.start)):(g=a?void 0:d.calculateWorkingTime(v,I,b.start),D=0);var A=r.select(n._options.getOrCreateSpecialRowElemFunc(t.rowDataItem.visibleRowDataItem,!0,0)).select("."+w),E={phantomType:f.Bar,isMaster:!a,timeDataItem:t,start:b.start,duration:d.calculateWorkingTime(v,b.end,b.start),end:b.end,rowDataItem:t.rowDataItem,workingTimeSpanFromStartToMouseX:g,distanceFromStartToMouseX:D,newY:t.newY,oldVerticalScrollOffset:n._options.getBodyViewScrollTopFunc(t.rowDataItem.item.atTheTop),dropAllowed:!0,version:1};a&&(E.isStartingBeforeMaster=n._timeDataItem.phantomDataItem.start>b.start,E.workingTimeSpanBetweenBars=E.isStartingBeforeMaster?d.calculateWorkingTime(v,b.end,n._timeDataItem.phantomDataItem.start):d.calculateWorkingTime(v,b.start,n._timeDataItem.phantomDataItem.end)),E.duration||b.start.getTime()===b.end.getTime()||(E.duration=b.end-b.start,E.isInNonworkingTime=!0),t.phantomDataItem=E;let k=!0;if(t.backgroundElem){let e=s.select("."+y);e.size()&&(e.style("fill","rgba(255,255,255,0.5)"),k=!1)}k&&s.style("opacity",(t.item.opacity??1)*u._DefaultBarOpacity);var R=n._options.createBarFunc(A,E);R.attr("transform","translate("+n._ganttWidget.convertXToLimitedX(E.newX)+","+E.newY+")"),E.backgroundElem&&r.select(E.backgroundElem).attr("transform",R.attr("transform"));var C=n._options.determineTimeDataItemExtentFunc(_,void 0,void 0,!0),x=t.rowDataItem.visibleRowDataItem.subRowDataItems[t.subRowIndex];E.frameD3=A.append("g").attr("transform","translate("+n._ganttWidget.convertXToLimitedX(C.left)+","+(n._ganttWidget.determineActualRowMargins().top+x.offsetY+C.top-x.minimumY)+")");var B=E.frameD3.append("rect").attr("class",S).attr("x",-n._options.phantomFrameDistance).attr("y",-n._options.phantomFrameDistance).attr("rx",n._options.phantomFrameRounding).attr("ry",n._options.phantomFrameRounding).attr("height",C.bottom-C.top+2*n._options.phantomFrameDistance);!function e(){E.frameD3&&B.transition("stroke-width").duration(n._options.phantomTransitionDuration).style("stroke-width",4-parseInt(B.style("stroke-width"))+"px")[r.timeFormat?"on":"each"]("end",e)}();var L=n._options.registerBindingsForTimeItemsFunc(_.item);if(i&p.Compound||_===t?c.forEach((function(e){e!==t&&(null!=_.item.barShape||n._options.getActualBarInteractionsFunc(e)&(h.DragHor|h.DragVer|h.DragHorOrVer|p.DragHorOrVerOverride)||L&&L.indexOf(e.item)>=0)&&n._doCreateSiblingBarPhantom(e,E,A,I,v)})):L&&L.forEach((function(e){e!==t.item&&n._doCreateSiblingBarPhantom(n._options.getTimeDataItemFunc(e),E,A,I,v)})),E.siblings&&(E.isInNonworkingTime&&(E.duration=E.siblings.reduce((function(e,t){return e+t.duration}),0)),E.siblings.sort((function(e,t){var a=e.start instanceof Date,i=t.start instanceof Date;return a||i?a?i?e.start.getTime()-t.start.getTime():-1:1:E.siblings.indexOf(e)-E.siblings.indexOf(t)})),E.siblings.forEach((function(e,t){var a=e.timeDataItem.item.start;if(a&&a instanceof Date)for(var i=t-1;i>=0;i--){var r=E.siblings[i];if(n._options.getActualBarTypeFunc(r.timeDataItem)&T.End){var o=r.timeDataItem.item.end;o&&o instanceof Date&&(o.getTime()===a.getTime()||a>o&&!E.isInNonworkingTime&&!d.calculateWorkingTime(v,a,o))&&(r.siblingSynchronizedOnEnd=e)}}}))),E.backgroundElem&&(R.remove(),A.append((function(){return R.node()}))),!a){if(n._options.onEventFunc){var O=E.rowDataItem;O.isLeaf&&!n._ganttWidget.options.leafRowsVisible&&(O=O.parentRowDataItem),n._options.onEventFunc.call(n,{sender:E.timeDataItem.item,eventType:"tooltip",event:e.srcEvent,hammerEvent:e,elem:E.elem,elemType:f.Bar,phantom:{start:E.start,end:E.end,newRowItem:O.item,interaction:i}})}n._options.setBarInteractionCursorFunc(i);var M=n._options.determineTimeDataItemExtentFunc(_,void 0,void 0,!1),V=Math.min(C.top-M.top,3),F=Math.min(M.bottom-C.bottom,3);n._options.positionDragDateLinesFunc(E,Object.assign({},C,{top:M.top+V,bottom:M.bottom-F})),n._isInitiated=!0,n._isAutomaticRowExpansionEnabled=i&h.DragVer&&!(i&h.DragHorOrVer),n._timeDataItem=t,n._elemType=f.Bar,n._interaction=i,n._offsetY=(C.bottom-C.top)/2-l.y,n._dropAllowed=!0,n._cachedSnapTargetsForRowDataItemIDs={}}}},_doCreateSiblingBarPhantom:function(e,t,a,i,n){"use strict";var o=this;if(e.elem){var s=o._options.determineTimeRangeFunc(e),l=r.select(e.elem),c={phantomType:f.Bar,parentPhantomDataItem:t,timeDataItem:e,start:s.start,end:s.end,duration:d.calculateWorkingTime(t.isInNonworkingTime?void 0:n,s.end,s.start),timeDistanceFromParent:d.calculateWorkingTime(t.isInNonworkingTime?void 0:n,s.start,t.start),isInNonworkingTime:t.isInNonworkingTime,rowDataItem:e.rowDataItem,distanceFromStartToMouseX:0,newY:e.newY,oldVerticalScrollOffset:o._options.getBodyViewScrollTopFunc(e.rowDataItem.item.atTheTop),dropAllowed:!0,version:1};e.phantomDataItem=c,t.siblings||(t.siblings=[]),t.siblings.push(c),t.timeDataItem.backgroundElem||l.style("opacity",(t.timeDataItem.item.opacity??1)*u._DefaultBarOpacity),o._options.createBarFunc(a,c).attr("transform","translate("+o._ganttWidget.convertXToLimitedX(c.newX)+","+c.newY+")")}},handleDrag:function(e,t,a){"use strict";var i=this;if(t=i._timeDataItem,!a){if(i.isAutomaticRowExpansionEnabled()){var r=e||i._dragBarPhantomHammerEvent;r&&i._options.checkForAutomaticRowExpansionFunc(r.center.x,r.center.y,t.rowDataItem.visibleRowDataItem)}e&&i.checkForAutoscrollOnBarDragging(e)}if(e)i._dragBarPhantomHammerEvent=e;else if(!(e=i._dragBarPhantomHammerEvent))return;var n=t.phantomDataItem,o=!(i._interaction&h.DragHorOrVer);e.srcEvent.shiftKey&&i._options.getActualBarInteractionsFunc(t)&h.DragHorOrVer&&i._interaction&(h.DragHor|h.DragVer)?i._interaction|=p.DragHorOrVerOverride:!e.srcEvent.shiftKey&&i._interaction&p.DragHorOrVerOverride&&(i._interaction&=~p.DragHorOrVerOverride),o&&i._options.setBarInteractionCursorFunc(i._interaction&~p.CurrentlyDraggedHorOnly),i._interaction&h.DragHorOrVer&&(Math.abs(e.deltaX)>5||Math.abs(e.deltaY)>5)&&(i._interaction&=p.DragHorOrVerOverride|p.Compound,Math.abs(e.deltaX)>Math.abs(e.deltaY)?i._interaction|=h.DragHor:(i._interaction|=h.DragVer,i._isAutomaticRowExpansionEnabled=!0),i._options.setBarInteractionCursorFunc(i._interaction&~p.CurrentlyDraggedHorOnly)),i._options.setDragDateLinesTextVisibilityFunc((i._interaction&(p._ExcludeAdditionalFlagsMask|p.DragHorOrVerOverride))===h.DragVer?"hidden":null);var s=!i._options.isBindingActiveFunc()&&n.siblings&&i._interaction&(h.DragHor|h.DragVer|p.DragHorOrVerOverride)?[]:void 0;i._dragBarPhantomWithSiblings(e,n,s),i._coupledTimeDataItems&&i._coupledTimeDataItems.forEach((function(t){t.phantomDataItem&&i._dragBarPhantomWithSiblings(e,t.phantomDataItem,s,!0)}))},_dragBarPhantomWithSiblings:function(e,t,a,i){var r=this,n=t.timeDataItem,o=r._doDragSingleBarPhantom(e,t,a,i,!1);if(r._isInitiated){for(var l=t.dropAllowed,m=r._ganttWidget.options.ignoreCalendarOnBarInteractions?null:n.item.calendar||r._options.determineCalendarForRowDataItemFunc(n.rowDataItem),u=[n.item],_=[],g={};u.length>0;)u.forEach((function(e){var a;r._interaction&(h.DragHor|p.DragHorOrVerOverride|h.DragLeftSide)&&((a=r._options.getBindingPropertyInfosAndValueFunc(e,"start","date").propertyInfos)&&(n.item===e&&(a.value=t.start),a.itemInfos.forEach((function(e){var a=e.item[r._OBJECT_ID_PROPERTY]+e.itemPropertyName;g[a]||(g[a]=!0,_.indexOf(e.item)<0&&_.push(e.item),"start"===e.itemPropertyName&&e.item.end instanceof Date?e.item.end=d.addWorkingTime(m,t.start,r._options.getBindingPropertyInfosAndValueFunc(e.item,"duration","number").value):"end"===e.itemPropertyName&&e.item.start instanceof Date&&(e.item.start=d.addWorkingTime(m,t.start,-r._options.getBindingPropertyInfosAndValueFunc(e.item,"duration","number").value)))}))));r._interaction&(h.DragLeftSide|h.DragRightSide)&&((a=r._options.getBindingPropertyInfosAndValueFunc(e,"duration","number").propertyInfos)&&(n.item===e&&(a.value=t.duration),a.itemInfos.forEach((function(e){var t=e.item[r._OBJECT_ID_PROPERTY]+e.itemPropertyName;g[t]||(g[t]=!0,_.indexOf(e.item)<0&&_.push(e.item))}))));r._interaction&(h.DragHor|p.DragHorOrVerOverride|h.DragRightSide)&&((a=r._options.getBindingPropertyInfosAndValueFunc(e,"end","date").propertyInfos)&&(n.item===e&&(a.value=t.end),a.itemInfos.forEach((function(e){var a=e.item[r._ganttWidget._OBJECT_ID_PROPERTY]+e.itemPropertyName;g[a]||(g[a]=!0,_.indexOf(e.item)<0&&_.push(e.item),"start"===e.itemPropertyName&&e.item.end instanceof Date?e.item.end=d.addWorkingTime(m,t.end,r._options.getBindingPropertyInfosAndValueFunc(e.item,"duration","number").value):"end"===e.itemPropertyName&&e.item.start instanceof Date&&(e.item.start=d.addWorkingTime(m,t.end,-r._options.getBindingPropertyInfosAndValueFunc(e.item,"duration","number").value)))}))))})),u=_,_=[];var D=r._options.determineSuperTimeDataItemFunc(n),v=r._options.determineTimeDataItemExtentFunc(D,void 0,void 0,!0);v.start=t.start,v.end=t.end,!t.siblings||n.item.barShape&&!a||(t.siblings.forEach((function(o,s){if(r._doDragSingleBarPhantom(e,o,a,i,!0),a){var c=r._options.getActualBarTypeFunc(o.timeDataItem)&T.End;n.item.start.getTime()===o.timeDataItem.item.start?.getTime()&&(t.start=new Date(o.start)),c&&n.item.end.getTime()===o.timeDataItem.item.end?.getTime()&&(t.end=new Date(o.end));for(var m=s-1;m>=0;m--){var d=t.siblings[m];d.siblingSynchronizedOnEnd===o&&(d.end=new Date(o.start))}}l&&(l=o.dropAllowed)})),v.start=t.start,v.end=t.end,t.siblings.forEach((function(e){var t=e.start,a=e.end,i=r._options.handleOffsetsOnStartAndEndFunc(e.timeDataItem,t,a);i.outerStart&&(t=i.outerStart),i.outerEnd&&(a=i.outerEnd),v.start>t&&(v.start=t),v.end<a&&(v.end=a)})),a&&a.forEach((function(e){e()}))),v.left=r._options.timeAxis.convertDateToX(v.start),v.right=r._options.timeAxis.convertDateToX(v.end);var y=r._ganttWidget.determineActualRowMargins(),w=n.rowDataItem.visibleRowDataItem.subRowDataItems[n.subRowIndex];if(t.frameStart=new Date(v.start),t.frameEnd=new Date(v.end),t.frameD3.attr("transform","translate("+r._ganttWidget.convertXToLimitedX(v.left)+","+(y.top+w.offsetY+v.top-w.minimumY+o-n.newY)+")").select("."+S).attr("width",Math.max(r._ganttWidget.convertXToLimitedX(v.right)-r._ganttWidget.convertXToLimitedX(v.left),0)+2*r._options.phantomFrameDistance),!i){var I=r._options.determineTimeDataItemExtentFunc(D,void 0,void 0,!1),b=Math.min(v.top-I.top,3),A=Math.min(I.bottom-v.bottom,3);r._options.positionDragAreasAndDateLinesFunc(t,Object.assign({},v,{top:I.top+b,bottom:I.bottom-A}),o,y,w),r._dropAllowed=l;var E=l?r._options.interactionCursor:"no-drop";if(s.setCursor(r._ganttWidget.element[0],E),r._options.onEventFunc){var R=t.rowDataItem;R.isLeaf&&!r._ganttWidget.options.leafRowsVisible&&(R=R.parentRowDataItem),r._options.onEventFunc.call(r,{sender:n.item,event:e.srcEvent,hammerEvent:e,eventType:"tooltip",elem:t.frameD3.node(),elemType:f.Bar,phantom:{start:new Date(t.start),end:new Date(t.end),newRowItem:R.item,interaction:r._interaction&~p.Compound}})}}}else e[c.CANCEL_PROPERTY]=!0},__checkSnapSourceDate:function(e,t,a,i,r,n){"use strict";var o=this;if(n&&"function"==typeof o._options.checkSnapSourceDateFunc){var s={sender:e.item,actualCalendar:o._ganttWidget.options.ignoreCalendarOnBarInteractions?null:e.item.calendar||o._options.determineCalendarForRowDataItemFunc(e.rowDataItem),dates:t,sourceDate:a,sourceDateIsStart:i,resultSnapDistanceInMilliseconds:void 0};if(o._options.checkSnapSourceDateFunc(s),"number"==typeof s.resultSnapDistanceInMilliseconds)return void((null==r.snapDistance||Math.abs(r.snapDistance)>Math.abs(s.resultSnapDistanceInMilliseconds))&&(r.snapDistance=s.resultSnapDistanceInMilliseconds,r.targetDateIsStart=i))}var c=t.length?l.findDateWithinSortedArray(t,a,!1,void 0):-1;if(c>=0){var m=t[c],d=m.getTime()-a.getTime();Math.abs(r.snapDistance)>Math.abs(d)&&(r.snapDistance=d,r.targetDateIsStart=i),m<a&&null!=(m=t[c+1])&&(d=m.getTime()-a.getTime(),Math.abs(r.snapDistance)>Math.abs(d)&&(r.snapDistance=d,r.targetDateIsStart=i))}},_doDragSingleBarPhantom:function(e,t,a,i,n){"use strict";var s=this,c=t.timeDataItem,m=!1,u=s._ganttWidget.pageXToTimeAxisX(e.center.x);if(!i&&!n){var v=s._options.timeAxis.actualTimeAreaWidth()-10;u>v&&(u=v,e.center.x=s._ganttWidget.timeAxisXToPageX(u)),u<10&&(u=10,e.center.x=s._ganttWidget.timeAxisXToPageX(u))}var y,S,w=i?null:u+t.distanceFromStartToMouseX,I=r.select(t.elem),b=!1,A=0;let E=s._interaction;if(E!==h.None){if(S=t.newY,!(E&h.DragHorOrVer)&&E&(h.DragVer|p.DragHorOrVerOverride)){S+=e.deltaY/s._options.visualZoomFactor+(s._options.getBodyViewScrollTopFunc(c.rowDataItem.item.atTheTop)-t.oldVerticalScrollOffset);var R=o(I.attr("transform")).translate[1];S!==R&&(m=!0),i||n?y=E&p.CurrentlyDraggedHorOnly?c.rowDataItem:s._timeDataItem.phantomDataItem.rowDataItem:((y=s._options.findRowDataItemAtYFunc(e.center.y))===c.rowDataItem.visibleRowDataItem&&(y=c.rowDataItem),E=y===c.rowDataItem?s._interaction|=p.CurrentlyDraggedHorOnly:s._interaction&=~p.CurrentlyDraggedHorOnly)}y&&s._createCachedRowDependentSnapTargets(y.visibleRowDataItem);var C,x,B,L=s._ganttWidget.options.ignoreCalendarOnBarInteractions||t.isInNonworkingTime&&y===c.rowDataItem?null:c.item.calendar||s._options.determineCalendarForRowDataItemFunc(y||c.rowDataItem),O=s._ganttWidget.determineActualTimeResolutionInSeconds();if(i||(C=s._options.timeAxis.convertXToDate(w),(x=s._options.timeAxis.convertXToDate(w+1)).setSeconds(x.getSeconds()-1)),E===h.DragLeftSide)(B=L&&L.determineTimeType(C)!==g.WorkingTime?L.findStartOfNextTimeTypeChange(C):C)&&O>1&&t.start.getTime()!==B.getTime()&&(B=s._options.findRoundedTargetDateTimeFunc(L,t.start,B,!0)),B&&t.end.getTime()>B.getTime()&&(1===O&&B.getTime()===C.getTime()&&(B=l.determineBestDateBetween(B,x)),t.start.getTime()!==B.getTime()?(delete t.startIsNull,t.start=B,m=!0):w!==s._pointerX&&(m=!0));else if(E===h.DragRightSide)B=L&&L.determineTimeType(C)!==g.WorkingTime?L.findStartOfCurrentTimeTypeInterval(C):C,O>1&&t.end.getTime()!==B.getTime()&&(B=s._options.findRoundedTargetDateTimeFunc(L,t.end,B,!1)),B&&t.start.getTime()<B.getTime()&&(1===O&&B.getTime()===C.getTime()&&(B=l.determineBestDateBetween(B,x)),t.end.getTime()!==B.getTime()?(delete t.endIsNull,t.end=B,m=!0):w!==s._pointerX&&(m=!0));else if(s._timeDataItem.rowDataItem!==s._timeDataItem.phantomDataItem.rowDataItem||E&(h.DragHor|p.DragHorOrVerOverride)){if(n?t.timeDistanceFromParent?(B=d.addWorkingTime(L,t.parentPhantomDataItem.start,t.timeDistanceFromParent))&&(B=d.addWorkingTime(L,B,0)):B=new Date(t.parentPhantomDataItem.start):!(E&(h.DragHor|p.DragHorOrVerOverride))||Math.abs(e.deltaX)<=5?B=new Date(c.item.start):i&&(t.isStartingBeforeMaster?(B=d.addWorkingTime(L,s._timeDataItem.phantomDataItem.start,t.workingTimeSpanBetweenBars),A=1):B=d.addWorkingTime(L,s._timeDataItem.phantomDataItem.end,t.workingTimeSpanBetweenBars)),!B){var M=d.addWorkingTime(L,C,-t.workingTimeSpanFromStartToMouseX),V=d.addWorkingTime(L,x,-t.workingTimeSpanFromStartToMouseX);if(B=M&&V?l.determineBestDateBetween(M,V):M||V,!n&&c.item.end&&s._ganttWidget.options.ignoreCalendarOnBarInteractions){let e=s._options.timeAxis.collapseCalendar();e&&e.determineTimeType(B)===g.NonWorkingTime&&(B=d.addWorkingTime(L,B,t.duration),e.determineTimeType(B)===g.NonWorkingTime?(B=l.determineBestDateBetween(C,x),A=2):A=1)}if(c.item.end&&L&&B&&!d.addWorkingTime(L,B,t.duration)){var F=d.addWorkingTime(L,new Date(864e13),-t.duration);F&&(B=F,M=null)}B||(M=V=B=d.addWorkingTime(L,new Date(-864e13),0)),L&&M&&V&&V.getTime()-M.getTime()>x.getTime()-C.getTime()&&(B=L.findStartOfCurrentTimeTypeInterval(V))}if(!n&&B&&O>1){if((2===A?d.addWorkingTime(L,t.start,t.workingTimeSpanFromStartToMouseX):1===A?t.end:t.start).getTime()!==B.getTime())if(A>0){let e=2===A?d.addWorkingTime(L,c.item.start,t.workingTimeSpanFromStartToMouseX):c.item.end;B=new Date(B.valueOf()+1e3*O/2*(B<e?-1:1)),B=s._options.findRoundedTargetDateTimeFunc(L,e,B,!1)}else{0!==s._ganttWidget.options.horizontalDraggingUnitsPerStep||(C||x)&&(B=C||x),s._options.getActualBarTypeFunc(c)===D.EndDuration?(B=s._options.findRoundedTargetDateTimeFunc(L,c.item.end,d.addWorkingTime(L,B,t.duration),!1),B=d.addWorkingTime(L,B,-t.duration)):B=s._options.findRoundedTargetDateTimeFunc(L,c.item.start,B,!0)}}var k=t.start,N=t.end;if(2===A)t.start=d.addWorkingTime(null,B,-t.workingTimeSpanFromStartToMouseX),t.end=d.addWorkingTime(null,t.start,t.duration);else if(1===A)B&&L&&L.determineTimeType(B)===g.WorkingTime&&(B=d.addWorkingTime(L,B,"-0")),B&&(delete t.endIsNull,t.end=B,delete t.startIsNull,t.start=d.addWorkingTime(L,B,-t.duration),t.start||(t.start=new Date(s._options.timeAxis.actualStart()),t.startIsNull=!0));else if(B&&L&&L.determineTimeType(B)===g.NonWorkingTime&&(B=d.addWorkingTime(L,B,0)),B){var W=!(E&(h.DragHor|p.DragHorOrVerOverride));W&&!n&&(B=t.timeDataItem.item.start||B),delete t.startIsNull,t.start=B,delete t.endIsNull,t.end=(!W||n||d.calculateWorkingTime(L,t.timeDataItem.item.end,B)?void 0:t.timeDataItem.item.end)||(t.duration?d.addWorkingTime(L,B,t.duration):void 0)||t.start,t.end||(t.end=new Date(s._options.timeAxis.actualEnd()),t.endIsNull=!0),m=!0}else E&h.DragLeftSide&&w!==s._pointerX&&(m=!0);!m&&(k.getTime()!==t.start.getTime()||t.end&&N.getTime()!==t.end.getTime())&&(m=!0)}else b=!0}else b=!0,S=t.newY;if(b){var P=s._options.getBindingPropertyInfosAndValueFunc(c.item,"start","date").value,H=s._options.getBindingPropertyInfosAndValueFunc(c.item,"duration","number").value,X=s._options.getBindingPropertyInfosAndValueFunc(c.item,"end","date").value;X instanceof Date?P instanceof Date||(P=d.addWorkingTime(L,X,-H)):X=d.addWorkingTime(L,P,H),t.start.getTime()===P.getTime()&&t.end.getTime()===P.getTime()||(delete t.startIsNull,t.start=P,delete t.endIsNull,t.end=X,m=!0)}if(!e.srcEvent.altKey&&!i&&!n&&m&&E&(h.DragHor|p.DragHorOrVerOverride)&&(s._snapTargetsForStart||s._snapTargetsForEnd)){var U={targetDateIsStart:void 0,snapDistance:Number.MAX_VALUE},G=s._determineRowDependentSnapTargets((y||c.rowDataItem).visibleRowDataItem),Y=function(e){var a=e?s._snapTargetsForStart:s._snapTargetsForEnd,i=e?t.start:t.end;if(a&_.Start&&(G&&G._snapRowDependentTargetStartDates&&s.__checkSnapSourceDate(c,G._snapRowDependentTargetStartDates,i,e,U,!0),s._snapTargetStartDates&&s.__checkSnapSourceDate(c,s._snapTargetStartDates,i,e,U,!0),e&&c.start instanceof Date&&s.__checkSnapSourceDate(c,[c.start],i,e,U,!0)),a&_.End&&(G&&G._snapRowDependentTargetEndDates&&s.__checkSnapSourceDate(c,G._snapRowDependentTargetEndDates,i,e,U,!0),s._snapTargetEndDates&&s.__checkSnapSourceDate(c,s._snapTargetEndDates,i,e,U,!0)),a&_.CalendarGrids){var r=e?s._snapTargetStartWorkingTimeDates:s._snapTargetEndWorkingTimeDates;r&&s.__checkSnapSourceDate(c,r,i,e,U)}a&_.DateLines&&s._snapTargetDateLineDates&&s.__checkSnapSourceDate(c,s._snapTargetDateLineDates,i,e,U),a&_.DateLineGrids&&s._snapTargetDateLineGridDates&&s.__checkSnapSourceDate(c,s._snapTargetDateLineGridDates,i,e,U)};if(E!==h.DragRightSide&&Y.call(this,!0),E!==h.DragLeftSide&&Y.call(this,!1),null!=U.snapDistance&&(E!==h.DragRightSide?!t.startIsNull:!t.endIsNull)){var z=E!==h.DragRightSide?t.start:t.end,$=new Date(z.getTime()+U.snapDistance),j=s._options.timeAxis.convertDateToX($,!0,s._ganttWidget.options.ignoreCalendarOnBarInteractions),Z=s._options.timeAxis.convertDateToX(z,!0,s._ganttWidget.options.ignoreCalendarOnBarInteractions);if(Math.abs(j-Z)<=s._options.maximumSnapDistance)if(E&(h.DragHor|p.DragHorOrVerOverride)&&s._options.getActualBarTypeFunc(c)&T.End){var K=d.addWorkingTime(L,$,t.duration);K&&(t.start=$,t.end=K)}else E!==h.DragRightSide?t.start=$:t.end=$,e.center.x+=j+U.snapDistance}}if(m&&s._options.draggedFunc){var q=E&~p.Compound;q&p.DragHorOrVerOverride&&(q=h.DragHor|E&h.DragVer),(y=y||c.rowDataItem).isLeaf&&!s._ganttWidget.options.leafRowsVisible&&(y=y.parentRowDataItem);var Q={sender:c.item,elemType:f.Bar,interaction:q,event:e.srcEvent,start:t.start,end:t.end,newY:S,newRowItem:y.item,actualCalendar:L,dropAllowed:!0,cancel:!1};if(!i&&!n)try{s._options.draggedFunc.call(s,Q)}catch(e){throw Q.cancel=!0,e}finally{Q.cancel&&s.terminate(e,!0)}if(Q.cancel)return;t.start===Q.start&&t.end===Q.end||(t.start=Q.start,t.end=Q.end,null!=w&&(w=s._options.timeAxis.convertDateToX(d.addWorkingTime(null,Q.start,t.timeSpanFromStartToMouseX)),e.center.x=s._ganttWidget.timeAxisXToPageX(w))),y.item!==Q.newRowItem&&(y=s._options.getRowDataItem(Q.newRowItem)),t.dropAllowed=Q.dropAllowed}if(y&&y!==t.rowDataItem&&(t.rowDataItem=y,m=!0),m){n||i||(s._isActive=!0,s._pointerX=w,s._pointerDateTime=s._options.timeAxis.convertXToDate(w),s._dragDistanceInMilliseconds=d.calculateWorkingTime(L,t.start,t.timeDataItem.item.start));var J=function(){s._options.positionBarFullyFunc(I,void 0,t,!1,q,void 0,S)};a?a.push(J):J()}return S},_deleteBarPhantom:function(e){"use strict";var t=e.phantomDataItem;if(t&&(delete e.oldX,delete e.oldEndX,delete e.oldY,delete e.oldRowY,delete e.oldRowAtTheTop,t.siblings&&t.siblings.forEach((function(e){var t=e.timeDataItem;delete t.oldX,delete t.oldEndX,delete t.oldY,delete t.oldRowY,delete t.oldRowAtTheTop})),t.siblings&&t.siblings.forEach((function(t){var a=t.timeDataItem;e.backgroundElem||r.select(a.elem).style("opacity",a.item.opacity),delete t.oldVisibleRowDataItem,delete a.phantomDataItem,delete t.frameD3})),this._options.removeSpecialRowElemFunc(t.oldVisibleRowDataItem,0),delete t.oldVisibleRowDataItem,delete e.phantomDataItem,delete t.frameD3),e.elem){var a=r.select(e.elem);let t=!0;if(e.backgroundElem){let e=a.select("."+y);e.size()&&(e.style("fill","transparent"),t=!1)}t&&a.style("opacity",e.item.opacity)}},_dropBarPhantoms:function(e,t){"use strict";var a=this,i=a._timeDataItem;if(a._options.unregisterAllItemsFunc(),a._isInitiated)try{a._isDropped=!0;var r,n,o=i.phantomDataItem;if(a._options.setDragDateLinesTextVisibilityFunc("hidden"),!t&&a._options.droppedFunc&&a._isActive){a._setTimeDataItemPropsForAnimation(i),a._coupledTimeDataItems&&a._coupledTimeDataItems.forEach((function(e){e.phantomDataItem&&a._setTimeDataItemPropsForAnimation(e)}));var l=a._interaction&~(p.Compound|p.CurrentlyDraggedHorOnly);if(l&p.DragHorOrVerOverride&&(l=h.DragHor|h.DragVer),(o.rowDataItem===i.rowDataItem||a._interaction&p.CurrentlyDraggedHorOnly)&&(l&=~h.DragVer),o.start.getTime()===i.item.start?.getTime()&&(l&=~h.DragHor),l){var c=o.rowDataItem;c.isLeaf&&!a._ganttWidget.options.leafRowsVisible&&(c=c.parentRowDataItem),n={sender:i.item,elemType:f.Bar,interaction:l,event:e?.srcEvent||e,start:o.start,end:o.end,newRowItem:c.item,workingTimeDistance:a._dragDistanceInMilliseconds,promise:void 0,cancel:!1},a._coupledTimeDataItems&&(n.startsAndEndsOfCoupledItems=a._coupledTimeDataItems.map((function(e){var t=e.phantomDataItem;return{item:e.item,start:t&&!t.startIsNull?t.start:null,end:t&&!t.endIsNull?t.end:null}})));try{a._options.droppedFunc.call(a,n),r=n.promise,t=n.cancel}catch(e){throw t=!0,e}}}}finally{var m=function(t){a._deleteBarPhantom(i),a._coupledTimeDataItems&&a._coupledTimeDataItems.forEach((function(e){e.phantomDataItem&&a._deleteBarPhantom(e)})),s.setCursor(a._ganttWidget.element[0],null);var r=a._interaction&~p.Compound;if(r&p.DragHorOrVerOverride&&(r=h.DragHor|h.DragVer),a._reset(),a._options.resetFunc(),a._options.dragLeaveFunc||a._options.dragEndFunc){var n={sender:i.item,elemType:f.Bar,interaction:r,event:e?.srcEvent||e,canceled:t};a._options.dragLeaveFunc&&a._options.dragLeaveFunc.call(a,n),a._options.dragEndFunc&&a._options.dragEndFunc.call(a,n)}};r?r.then((function(e){m.call(a,!!e)}),(function(){m.call(a,!0)})):m.call(a,t)}},_setTimeDataItemPropsForAnimation:function(e){var t=e.phantomDataItem;e.oldX=t.newX,e.oldEndX=t.newEndX,e.oldY=o(r.select(t.elem).attr("transform")).translate[1],e.oldRowY=t.oldVisibleRowDataItem.oldY,e.oldRowAtTheTop=!!t.oldVisibleRowDataItem.item.atTheTop,t.siblings&&t.siblings.forEach((function(a){var i=a.timeDataItem;i.oldX=a.newX,i.oldEndX=a.newEndX,i.oldY=o(r.select(a.elem).attr("transform")).translate[1],i.oldRowY=a.oldVisibleRowDataItem.oldY,e.oldRowAtTheTop=!!t.oldVisibleRowDataItem.item.atTheTop}))},_reset:function(){"use strict";var e=this;e._isInitiated=!1,delete e._isActive,delete e._isDropped,delete e._isAutomaticRowExpansionEnabled,delete e._timeDataItem,delete e._elemType,delete e._interaction,delete e._offsetY,delete e._dropAllowed,delete e._dragBarPhantomHammerEvent,delete e._pointerX,delete e._pointerDateTime,delete e._snapTargetsForStart,delete e._snapTargetsForEnd,delete e._snapTargetStartDates,delete e._snapTargetEndDates,delete e._cachedSnapTargetsForRowDataItemIDs,delete e._snapTargetStartWorkingTimeDates,delete e._snapTargetEndWorkingTimeDates,delete e._snapTargetDateLineDates,delete e._snapTargetDateLineGridDates,delete e._dragDistanceInMilliseconds,delete e._coupledTimeDataItems},modifyStartEndForCoupledTimeItems:function(e,t,a){"use strict";var i=this;i._isInitiated&&i._dragDistanceInMilliseconds&&(t&&(t=d.addWorkingTime(e,t,i._dragDistanceInMilliseconds)),a&&(a=d.addWorkingTime(e,a,i._dragDistanceInMilliseconds)))},isRowOfCoupledTimeItems:function(e){"use strict";var t=this;return t._isInitiated&&t._rowDataItemIDsOfCoupledTimeDataItemsMap&&t._rowDataItemIDsOfCoupledTimeDataItemsMap[e.id]}}),e.exports=I},6599:(e,t,a)=>{var i=function(){this._barShapes={}};a(5549).extend(i.prototype,{registerBarShape:function(e,t){var a=t.prototype;a.createBar&&a.positionBar&&(this._barShapes[e]=new t)},createBar:function(e){var t=this._barShapes[e.barShapeId];t&&t.createBar(e)},positionBar:function(e){var t=this._barShapes[e.barShapeId];t&&t.positionBar(e)},checkBarShapeForBarType:function(e,t){var a=this._barShapes[e];return!a||!a.checkForBarType||a.checkForBarType(t)},getBarOffsets:function(e){var t=this._barShapes[e.barShapeId];if(t&&t.getBarOffsets)return t.getBarOffsets(e)}}),e.exports=i},5709:(e,t,a)=>{a(1703);var i=a(5549),r=a(3571),n=2200,o=a(5066).TimeType,s={Default:0,WorkingTime:1,NonWorkingTime:2},l=function(){},c=function(t){"use strict";return this instanceof c==!1?new c(t):t instanceof e.exports?(this._defaultTimeType=t._defaultTimeType,this._start=t._start,this._end=t._end,this._timeTypeChangeTimes=new r.nSortedDatesWithValuesList(t._timeTypeChangeTimes),this._actualStart=t._actualStart,this._actualEnd=t._actualEnd,this._actualStartUTC=t._actualStartUTC,this._actualEndUTC=t._actualEndUTC,this._startOfValidTimeSegmentsUTC=t._startOfValidTimeSegmentsUTC,this._endOfValidTimeSegmentsUTC=t._endOfValidTimeSegmentsUTC,this._defaultValidationTimeSpan=t._defaultValidationTimeSpan,this._timeOutOfBoundsExceptionsEnabled=t._timeOutOfBoundsExceptionsEnabled,void(this._actualDefaultTimeType=t._actualDefaultTimeType)):(this._defaultTimeType=t||o.NonWorkingTime,this._start=null,this._end=null,this._timeTypeChangeTimes=null,this._yearCache={},this._monthCache={},this._dayCache={},this._actualStart=new Date(0),this._actualEnd=new Date(n,0,1),this._actualStartUTC=this._actualStart.getTime(),this._actualEndUTC=this._actualEnd.getTime(),this._startOfValidTimeSegmentsUTC=null,this._endOfValidTimeSegmentsUTC,this._defaultValidationTimeSpan=15552e6,this._timeOutOfBoundsExceptionsEnabled=!1,void(this._actualDefaultTimeType=this._defaultTimeType))};i.extend(c.prototype,{defaultTimeType:function(){"use strict";return 0===arguments.length?this._defaultTimeType:this},timeOutOfBoundsExceptionsEnabled:function(){"use strict";return 0===arguments.length?this._timeOutOfBoundsExceptionsEnabled:(this._timeOutOfBoundsExceptionsEnabled!==arguments[0]&&(this._timeOutOfBoundsExceptionsEnabled=arguments[0]),this)},allocateTimeSpan:function(e,t,a){"use strict";e&&t&&e<t&&(this._timeTypeChangeTimes||(this._timeTypeChangeTimes=new r.nSortedDatesWithValuesList(this._defaultTimeType),this._start||(this._actualStart=new Date(864e10)),this._end||(this._actualEnd=new Date(-864e10))),this._timeTypeChangeTimes.allocateTimeSpan(e,t,a),this._yearCache={},this._monthCache={},this._dayCache={},this._actualStart>e&&(this._actualStart=e,this._actualStartRTC=e.getTime()),this._actualEnd<t&&(this._actualEnd=t,this._actualEndRTC=t.getTime()))},timeTypeChangeTimes:function(){"use strict";return this._timeTypeChangeTimes||(this._timeTypeChangeTimes=new r.nSortedDatesWithValuesList(this._defaultTimeType)),this._timeTypeChangeTimes.dates()},timeTypeChangeTimesList:function(){"use strict";return this._timeTypeChangeTimes},start:function(){"use strict";if(0===arguments.length)return this._start;if((this._start instanceof Date?this._start.getTime():this._start)!==arguments[0]){var e=arguments[0];(!e||e instanceof Date)&&(this._start=e,e||(e=new Date(0)),this._actualStart=this._start,this._actualStartUTC=this._actualStart.getTime(),this._actualStartUTC>this._actualEndUTC&&(this._actualEnd=this._actualStart,this._actualEndUTC=this._actualStartUTC))}return this},end:function(){"use strict";if(0===arguments.length)return this._end;if((this._end instanceof Date?this._end.getTime():this._end)!==arguments[0]){var e=arguments[0];(!e||e instanceof Date)&&(this._end=e,e||(e=new Date(n,0,1)),this._actualEnd=this._end,this._actualEndUTC=this._end.getTime(),this._actualEndUTC<this._actualStartUTC&&(this._actualStart=this._actualEnd,this._actualStartUTC=this._actualEndUTC))}return this},actualStart:function(){"use strict";return this._actualStart},actualEnd:function(){"use strict";return this._actualEnd},_validateTimeRange:function(){},_getPreviousOrSameDateTime:function(e){"use strict";var t=this._timeTypeChangeTimes?this._timeTypeChangeTimes.determinePreviousOrSameDateWithValue(new Date(e)):void 0;return{UTC:t?t.date.getTime():null,TimeType:t?t.value:void 0}},_getPreviousDateTime:function(e){"use strict";var t=this._timeTypeChangeTimes?this._timeTypeChangeTimes.determinePreviousDateWithValue(new Date(e)):void 0;return{UTC:t?t.date.getTime():null,TimeType:t?t.value:void 0}},_getNextDateTime:function(e){"use strict";if(e>=this._actualEndUTC)return{UTC:null};var t=this._timeTypeChangeTimes?this._timeTypeChangeTimes.determineNextDateWithValue(new Date(e+1)):void 0;return{UTC:t?t.date.getTime():null,TimeType:t?t.value:void 0}},_checkDateTimeBounds:function(e,t){"use strict";if(this._timeOutOfBoundsExceptionsEnabled){if(e.getTime()<this._actualStartUTC)throw new RangeError(t,t+" < actualStart");if(e.getTime()>this._actualEndUTC)throw new RangeError(t,t+" > actualEnd")}},_setActualDefaultTimeType:function(e){"use strict";this._actualDefaultTimeType!==e&&(this._actualDefaultTimeType=e)},_internalActualDefaultTimeType:function(){"use strict";return this._defaultTimeType},addWorkingTime:function(e,t){"use strict";this._checkDateTimeBounds(e,"reference");var a=function(e){return 1/e==-1/0||"-0"===e},i=a(t),r=e.getTime(),n=this._actualDefaultTimeType;t>0?this._validateTimeRange(r-this._defaultValidationTimeSpan,r+this._defaultValidationTimeSpan):this._validateTimeRange(r-this._defaultValidationTimeSpan,r);for(var c=this._getPreviousOrSameDateTime(r),m=c.UTC,d=c.TimeType;(null===m||m<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC;)this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC),m=(c=this._getPreviousOrSameDateTime(r)).UTC,d=c.TimeType;if(null===m&&n===o.WorkingTime)r+=t;else if(t>=0&&!i){if(!this._timeOutOfBoundsExceptionsEnabled)if(r<this._actualStartUTC)n===o.NonWorkingTime?r=this._actualStartUTC:this._actualStartUTC-r<=t?(r+=t,t=0):(r=this._actualStartUTC,t-=this._actualStartUTC-r);else if(r>=this._actualEndUTC){if(n===o.NonWorkingTime)throw new l;r+=t,t=0}for(var u=!0;u||t>0;){u=!1;var h=this._getNextDateTime(r),p=h.UTC,_=h.TimeType;if((null===p||p>this._endOfValidTimeSegmentsUTC)&&this._endOfValidTimeSegmentsUTC<this._actualEndUTC)this._validateTimeRange(this._endOfValidTimeSegmentsUTC,this._endOfValidTimeSegmentsUTC+this._defaultValidationTimeSpan);else if(null===p){if(d!==s.WorkingTime&&(d!==s.Default||n!==o.WorkingTime))throw new l;r+=t,t=0}else{if(d===s.WorkingTime||d===s.Default&&n===o.WorkingTime)t<=(D=p-r)?(r+=t,t=0):(r=p,t-=D);else r=p;d=_}}}else{var g=i?0:t;if(!this._timeOutOfBoundsExceptionsEnabled)if(r<this._actualStartUTC){if(n===o.NonWorkingTime)throw new l;r+=g,t=0}else r>this._actualEndUTC&&(n===o.NonWorkingTime?r=this._actualEndUTC:r-this._actualEndUTC<=-g?(r+=g,t=0):r=this._actualEndUTC);for(;t<0||a(t);){g=a(t)?0:t;var f=this._getPreviousDateTime(r),T=f.UTC;if(d=f.TimeType,(null===T||T<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC)this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC);else if(null===T){if(!(i||d===s.WorkingTime||d===s.Default&&n===o.WorkingTime))throw new l;r=i?e.getTime():r+g,t=0}else{var D;if(d===s.WorkingTime||d===s.Default&&n===o.WorkingTime)g>=(D=T-r)?(r+=g,t=0):(r=T,a(t)&&(t=0),t-=D);else r=T}}}return new Date(r)},hasWorkingTime:function(e,t){return!!this._doCalculateWorkingTime(e,t,!0)},calculateWorkingTime:function(e,t){return this._doCalculateWorkingTime(e,t,!1)},_doCalculateWorkingTime:function(e,t,a){"use strict";this._checkDateTimeBounds(e,"end"),this._checkDateTimeBounds(t,"start");var i=t.getTime(),r=e.getTime();this._validateTimeRange(i,r);var n=this._actualDefaultTimeType,l=r<i;if(l){var c=i;i=r,r=c}var m=0,d=!1;if(this._timeOutOfBoundsExceptionsEnabled||(i<this._actualStartUTC&&(r<this._actualStartUTC?(n===o.WorkingTime&&(m=r-i),d=!0):(n===o.WorkingTime&&(m=this._actualStartUTC-i),i=this._actualStartUTC)),r>this._actualEndUTC&&(i>this._actualEndUTC?(n===o.WorkingTime&&(m=r-i),d=!0):(n===o.WorkingTime&&(m+=r-this._actualEndUTC),r=this._actualEndUTC))),!d){for(var u=this._getPreviousOrSameDateTime(i),h=u.UTC,p=u.TimeType;(null===h||h<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC;)this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC),h=(u=this._getPreviousOrSameDateTime(i)).UTC,p=u.TimeType;if(null===h&&n===o.WorkingTime)return l?i-r:r-i;p===s.Default&&(p=n);var _=i;do{var g=this._getNextDateTime(_),f=g.UTC,T=g.TimeType;if((null===f||f>this._endOfValidTimeSegmentsUTC)&&this._endOfValidTimeSegmentsUTC<this._actualEndUTC)this._validateTimeRange(this._endOfValidTimeSegmentsUTC,this._endOfValidTimeSegmentsUTC+this._defaultValidationTimeSpan);else{if(null===f||f>r)p===s.WorkingTime&&(m+=r-_),f=null;else if(p===s.WorkingTime){m+=f-_,T===s.Default&&(T=n)}_=f,p=T}}while(!(null===_||a&&m))}return l?-m:m},determineTimeType:function(e){"use strict";this._checkDateTimeBounds(e,"reference");var t=e.getTime();if(!this._timeOutOfBoundsExceptionsEnabled&&(t<this._actualStartUTC||t>=this._actualEndUTC))return this._actualDefaultTimeType;this._validateTimeRange(t-1,t+1);var a=this._getPreviousOrSameDateTime(t);return null===a.UTC||a.timeType===s.Default?this._actualDefaultTimeType:a.TimeType},findStartOfNextTimeTypeChange:function(e){"use strict";this._checkDateTimeBounds(e,"reference");var t=e.getTime();if(!this._timeOutOfBoundsExceptionsEnabled){if(t>this._actualEndUTC)return null;t<this._actualStartUTC&&(t=this._actualStartUTC)}this._validateTimeRange(t,t+this._defaultValidationTimeSpan);for(var a,i=this._actualDefaultTimeType,r=this._getPreviousOrSameDateTime(t),n=r.UTC,o=r.TimeType;(null===n||n<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC;)this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC),n=(r=this._getPreviousOrSameDateTime(t)).UTC,o=r.TimeType;o===s.Default&&(o=i);do{n=(r=this._getNextDateTime(t)).UTC,a=r.TimeType,(null===n||n>this._endOfValidTimeSegmentsUTC)&&this._endOfValidTimeSegmentsUTC<this._actualEndUTC?(this._validateTimeRange(this._endOfValidTimeSegmentsUTC,this._endOfValidTimeSegmentsUTC+this._defaultValidationTimeSpan),a=o):null!==n&&(a===s.Default&&(a=i),t=n)}while(a===o&&null!==n);return null===n?null:new Date(n)},findStartOfPreviousTimeTypeChange:function(e){"use strict";this._checkDateTimeBounds(e,"reference");var t=e.getTime();if(!this._timeOutOfBoundsExceptionsEnabled){if(t<=this._actualStartUTC)return null;t>this._actualEndUTC&&(t=this._actualEndUTC)}this._validateTimeRange(t-this._defaultValidationTimeSpan,t);for(var a=this._actualDefaultTimeType,i=this._getPreviousOrSameDateTime(t),r=i.UTC,n=i.TimeType;(null===r||r<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC;)this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC),r=(i=this._getPreviousOrSameDateTime(t)).UTC,n=i.TimeType;if(n===s.Default&&(n=a),null!==r){var o;t=r;do{r=(i=this._getPreviousDateTime(t)).UTC,o=i.TimeType,(null===r||r>this._endOfValidTimeSegmentsUTC)&&this._endOfValidTimeSegmentsUTC<this._actualEndUTC?(this._validateTimeRange(this._endOfValidTimeSegmentsUTC,this._endOfValidTimeSegmentsUTC+this._defaultValidationTimeSpan),o=n):null!==r&&(o===s.Default&&(o=a),t=r)}while(o===n)}return null===t?null:new Date(t)},findStartOfCurrentTimeTypeInterval:function(e){"use strict";this._checkDateTimeBounds(e,"reference");var t=e.getTime(),a=!1;if(!this._timeOutOfBoundsExceptionsEnabled){if(t<this._actualStartUTC)return null;t>this._actualEndUTC&&(t=this._actualEndUTC,a=!0)}this._validateTimeRange(t-this._defaultValidationTimeSpan,t);var i=this._actualDefaultTimeType;t++;var r,n,o,l=a?i:s.Default;do{n=(r=this._getPreviousDateTime(t)).UTC,o=r.TimeType,(null===n||n<this._startOfValidTimeSegmentsUTC)&&this._startOfValidTimeSegmentsUTC>this._actualStartUTC?(this._validateTimeRange(this._startOfValidTimeSegmentsUTC-this._defaultValidationTimeSpan,this._startOfValidTimeSegmentsUTC),o=s.Default):null===n?l=o===s.WorkingTime?s.NonWorkingTime:s.WorkingTime:(o===s.Default&&(o=i),l===s.Default&&(l=o),o===l&&(t=n))}while(l===s.Default||o===l);return null===t?null:new Date(t)}}),c.TimeType=o,c.InternalTimeType=s,c.OutOfWorkingTimeException=l,e.exports=c},3429:(e,t,a)=>{var i=a(5066),r=a(5709),n=i.TimeType,o={findNearestWorkingTime:function(e,t,a){var i=new Date(t.getTime());if(null!=e)if(i.getTime()>e.actualEnd().getTime())i.setTime(e.actualEnd().getTime());else if(i.getTime()<e.actualStart().getTime()&&i.setTime(e.actualStart().getTime()),e.determineTimeType(i)===n.NonWorkingTime)if(a){var r=e.findStartOfNextTimeTypeChange(i);null!==r&&(i=r)}else{var o=e.findStartOfCurrentTimeTypeInterval(i);null!==o&&(i=o)}return i},hasWorkingTime:function(e,t,a){return t>a&&(null==e||e.hasWorkingTime(t,a))},calculateWorkingTime:function(e,t,a){if(null!=e){var i=e.timeOutOfBoundsExceptionsEnabled();e.timeOutOfBoundsExceptionsEnabled(!1);var r=null;try{r=e.calculateWorkingTime(t,a)}catch(e){}return e.timeOutOfBoundsExceptionsEnabled(i),r}return t.getTime()-a.getTime()},addWorkingTime:function(e,t,a){if(null!=e){var i=e.timeOutOfBoundsExceptionsEnabled();e.timeOutOfBoundsExceptionsEnabled(!1);var r=null;try{r=e.addWorkingTime(t,a)}catch(e){}return e.timeOutOfBoundsExceptionsEnabled(i),r}return new Date(t.getTime()+("-0"===a?0:a))},createWeekendCalendar:function(e,t,a,i){var o=new r(n.WorkingTime);if(o.start(e),o.end(t),(a%=7)===(i=(i+1)%7))return null;var s,l,c=a<i?i-a:i+7-a,m=7-c,d=(i<a||e.getDay()>a)&&e.getDay()<(i>0?i:7)?-1:1;for(s=e;s.getDay()!=a;)s=new Date(s.getFullYear(),s.getMonth(),s.getDate()+d);for(l=new Date(s.getFullYear(),s.getMonth(),s.getDate()+c),s.getTime()<e.getTime()&&(s=e);s.getTime()<t.getTime();)o.allocateTimeSpan(s,l,n.NonWorkingTime),s=new Date(l.getFullYear(),l.getMonth(),l.getDate()+m),(l=new Date(s.getFullYear(),s.getMonth(),s.getDate()+c)).getTime()>t.getTime()&&(l=t);return o}};e.exports=o},5066:e=>{var t={Start:1,End:2,Duration:4,Summary:8,RespectedByOptimization:16},a={TimeType:{WorkingTime:1,NonWorkingTime:2},PortDirections:{Up:1,Down:2,Left:3,Right:4},RoutingType:{Curved:1,Orthogonal:2},TimeUnit:{Seconds:0,Minutes:1,Hours:2,Days:3,Weeks:4,Months:5,Quarters:6,Years:7},TimeUnitToDateHelperTimeUnit:{0:"s",1:"m",2:"h",3:"d"},NGANTT_BAR_CLASS:"ngantt-bar",NGANTT_BAR_LAYER_CLASS:"ngantt-bar-layer",NGANTT_BAR_OUTLINE_CLASS:"ngantt-outline",NGANTT_BAR_PATH_CAL_CLASS:"ngantt-pcal",NGANTT_BAR_PATH_PATTERN_CLASS:"ngantt-bar-pattern",NGANTT_BAR_RECT_CLASS:"ngantt-bar-rect",NGANTT_BAR_RECT_CAL_CLASS:"ngantt-rcal",NGANTT_BAR_TEXT_CLASS:"ngantt-bar-text",NGANTT_BAR_WIDTH_DEPENDENT_PROP_CLASS:"ngantt-bar-width-dep",NGANTT_CONSTRAINT_SYMBOL_CLASS:"ngantt-constraint-symbol",NGANTT_CONSTRAINT_LINE_CLASS:"ngantt-constraint-line",NGANTT_COMPOUND_BAR_BACKGROUND_CLASS:"ngantt-compound-bar-background",NGANTT_COMPOUND_BAR_FOREGROUND_CLASS:"ngantt-compound-bar-foreground",NGANTT_BAR_PHANTOM_CLASS:"ngantt-bar-phantom",NGANTT_BAR_PHANTOM_NONWORK_CLASS:"ngantt-bar-phantom-nonwork",NGANTT_DATE_LINE_TEXT_CLASS:"ngantt-date-line-text",NGANTT_DRAG_DATE_LINE_TEXT_RECT_CLASS:"ngantt-drag-date-line-text-rect",NGANTT_TIMEAREA_ROW_CONTENTS_CLASS:"ngantt-timearea-row-contents",DateLineGridRecurrence:{Hourly:"h",Daily:"d",Weekly:"w",Monthly:"M",Quarterly:"Q",Yearly:"Y"},ElemType:{Row:1,GroupCell:2,TableCell:3,Link:4,Bar:5,BarRectangle:6,TableCellText:7,TableRow:8,LinkPath:9,LinkTargetMarker:10,DateLine:11,ConstraintDateSymbol:12,ConstraintDateLine:13,DateArea:14,LinkDanglingSourceBar:15,LinkDanglingTargetBar:16,LeavesIndicator:17},ConstraintType:{None:0,StartNoEarlierThan:1,EndNoEarlierThan:2,StartNoLaterThan:3,EndNoLaterThan:4,MustStartOn:5,MustEndOn:6},DisplayedElements:{Bars:1,Optimized:2,BarsOfCollapsedChildRows:4,CalendarGrid:8},_BarTypeFlags:t,BarType:{None:0,Single:t.Start,SingleRespectedByOptimization:t.Start|t.RespectedByOptimization,StartEnd:t.Start|t.End,StartDuration:t.Start|t.Duration,EndDuration:t.End|t.Duration,Summary:t.Summary|t.Start|t.End},BarShape:{None:"",Custom:"nCustomBarShape",Rectangle:"nRectangleBarShape",RectangleWithLeftTopBevel:"nRectangleWithLeftTopBevelBarShape",UpwardRamp:"nUpwardRamp",DownwardRamp:"nDownwardRamp",Summary:"nSummaryBarShape",Arrow:"nArrowBarShape",Diamond:"nDiamond",ArrowLeft:"nArrowLeftShape",ArrowRight:"nArrowRightShape"},BarInteractions:{None:0,DragLeftSide:1,DragRightSide:2,DragHor:4,DragVer:8,DragHorOrVer:16},_AllBarInteractions:31,BarSnapTargets:{None:0,Start:1,End:2,DateLines:4,CalendarGrids:8,DateLineGrids:16},LinkType:{EndStart:0,EndEnd:1,StartStart:2,StartEnd:3,SourceDateStart:4,SourceDateEnd:5,EndTargetDate:8,StartTargetDate:10,SourceDateTargetDate:12},LinkMarker:{None:0,FilledArrow:1},TimeAxisZoom:{Stretch:0,Shrink:1},DateLineLabelOrientation:{Horizontal:1,Vertical:2},TableRowDefinitionType:{BaseLevel:1,GroupingLevel:2,FixedColumnsPreceding:4,FixedColumnsSucceeding:8,FromCallback:16,Map:32,LeafDefault:64},HorizontalAlignment:{Left:0,Center:1,Right:2},TableCellType:{Text:1,Number:2,Date:3,ImageList:4},ProgressBarWidthCalculationMode:{ConsiderWorkingTimesOnly:0,ConsiderWorkingAndNonWorkingTimes:1},PanningMode:{None:0,HorizontallyOnly:1,VerticallyOnly:2,HorAndVer:3,AutoHorOrVer:4},DateLineLabelPosition:{Left:1,Center:2,Right:4,TopLeft:9,TopCenter:10,TopRight:12},_DefaultBarOpacity:.3,BarSortMode:{StartAndEnd:0,RowIndexes:1,RowIndexesOnSameStart:2},TimescaleInteractionModes:{None:0,ScrollingByButtons:1,Rescaling:2,Default:3},_BarInteractions:{_ExcludeAdditionalFlagsMask:1023,Compound:1024,DragHorOrVerOverride:2048,CurrentlyDraggedHorOnly:4096}};a._BarInteractions._AllSupportedFlags=a.BarInteractions.DragLeftSide|a.BarInteractions.DragRightSide|a.BarInteractions.DragHor|a.BarInteractions.DragVer|a.BarInteractions.DragHorOrVer|a._BarInteractions.Compound|a._BarInteractions.DragHorOrVerOverride|a._BarInteractions.CurrentlyDraggedHorOnly,e.exports=a},4430:(e,t,a)=>{var i=a(5066),r=i.NGANTT_BAR_PATH_PATTERN_CLASS,n=i.NGANTT_BAR_RECT_CLASS,o=i.NGANTT_BAR_TEXT_CLASS,s=i.NGANTT_COMPOUND_BAR_BACKGROUND_CLASS,l=i.NGANTT_COMPOUND_BAR_FOREGROUND_CLASS,c=n+" ngantt-diamond-path",m=[n,r].join(" "),d="path."+r,u="."+o+", ."+o+" tspan",h=i.BarType,p=i.DisplayedElements,_=i.ElemType,g=a(9579),f=function(){};Object.assign(f.prototype,{createBar:function(e){var t=e.barD3,a={elemType:_.BarRectangle,shape:e.barShapeId},i=t.classed(s),r=i||t.classed(l);if(i||g.createPredictedEndBar(e),t.append("path").attr("class",e.enrichClassFunc(c,a)).attr("transform",`translate(-6, ${e.barHeight/2-10})`).attr("d","M0,10 L6,20 L12,10 L6,0 L0,10"),!r){let i=e.dataItem.item.fillPatternType;null!=i&&t.append("path").attr("class",e.enrichClassFunc(m,a)).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${i})`)}i||g.createConstraintSymbols(e)},positionBar:function(e){var t=e.barD3;if(t){var a=t.classed(s),i=a||t.classed(l),r=e.rowDataItem;r.isHidden||(r.isLeaf?r.areLeavesCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(r)&p.Bars:r.isCollapsed&&e.ganttWidget._getCurrentlyDisplayedElementsInRow(r)&p.BarsOfCollapsedChildRows)?t.selectAll(u).remove():t.selectAll(u).attr("x",8),a||(g.positionProgressBar(e),g.positionConstraintSymbols(e),g.positionPredictedEndBar(e)),i||null==e.dataItem.item.fillPatternType||t.select(d).attr("transform",`translate(-6, ${e.barHeight/2-10})`).attr("d","M0,10 L6,20 L12,10 L6,0 L0,10")}},checkForBarType:function(e){return e===h.Single||e===h.SingleRespectedByOptimization}}),e.exports=f},445:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o=r.NGANTT_BAR_RECT_CAL_CLASS,s=r.NGANTT_BAR_PATH_CAL_CLASS,l=r.NGANTT_BAR_OUTLINE_CLASS,c=r.NGANTT_BAR_PATH_PATTERN_CLASS,m=r.BarType,d=r.ElemType,u=r.TimeType,h=a(3429),p=a(9579),_=function(){};i.extend(_.prototype,{createBar:function(e){e.respectingCalendar?(e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+o,{elemType:d.BarRectangle,shape:e.barShapeId})),e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+s,{elemType:d.BarRectangle,shape:e.barShapeId})),p.separateBarShapeOutlinesEnabled&&(e.barD3.selectAll("path."+n).style("stroke-width",0),e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+l,{elemType:d.BarRectangle,shape:e.barShapeId})).style("fill","transparent"))):e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+s,{elemType:d.BarRectangle,shape:e.barShapeId})),null!=e.dataItem.item.fillPatternType&&e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+c,{elemType:d.BarRectangle,shape:e.barShapeId})).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${e.dataItem.item.fillPatternType})`)},positionBar:function(e){if(e.barD3){var t=!e.calendar||e.calendar.determineTimeType(e.timeRange.start)===u.WorkingTime,a=e.convertXToLimitedX;if(e.calendar){for(var i="M0,"+e.barHeight+"V0",r="M0,"+e.barHeight+(t?"V0":""),n=h.calculateWorkingTime(e.calendar,e.timeRange.end,e.timeRange.start),m=e.timeRange.start;null!==(m=e.calendar.findStartOfNextTimeTypeChange(m))&&m.getTime()<e.timeRange.end.getTime();){t=!t;var d=Math.max(a(e.timeAxis.convertDateToX(m))-a(e.timeAxis.convertDateToX(e.timeRange.start))-1,0),_=h.calculateWorkingTime(e.calendar,m,e.timeRange.start)/n*e.barHeight;i=i+"L"+d+","+_,r=r+"L"+d+","+(t?e.barHeight:_)+"V"+(t?_:e.barHeight)}i+="L"+e.width+","+e.barHeight+"H0",e.barD3.select("."+o).attr("d",i),e.barD3.select("."+s).attr("d",r+"L"+e.width+","+e.barHeight+"H0"),p.separateBarShapeOutlinesEnabled&&e.barD3.select("path."+l).attr("d",e.dataItem.item.start?i:"")}else e.barD3.select("."+s).attr("d","M0,0L"+e.width+","+e.barHeight+"V"+e.barHeight+"H0");null!=e.dataItem.item.fillPatternType&&e.barD3.select("path."+c).attr("d",e.dataItem.item.start?i:"")}e.worldViewVisible&&(e.worldViewPathData=[{x:0,y:0},{x:e.worldViewBarWidth,y:e.barHeight},{x:0,y:e.barHeight},{x:0,y:0}])},checkForBarType:function(e){return e===m.StartEnd}}),e.exports=_},2672:(e,t,a)=>{var i=a(5549);a(8276);var r=a(3571),n=a(7142),o=".ngsynchronizer";i.widget("netronic.nGanttSynchronizerWidget",i.netronic.nSynchronizerWidget,{options:{horizontalTableScrollOffsetsSynchronized:!1,errorFunc:null},_ignoreNextTimeAxisChangedEvents:{},_ignoreNextTableScrollOffsetsChangedEvents:{},_create:function(){"use strict";var e=this;e._tableViewWidthSetOnce=!1,this._super();var t=o+this._uniqueID;e.element.children("."+n.WIDGET_CLASS).each((function(a,n){var o=i(n),s=window.getComputedStyle(n);"none"!==s.display&&"hidden"!==s.visibility&&"collapse"!==s.visibility&&(o.on("nganttwidgettimeaxischanged"+t,(function(){try{e._onGanttTimeAxisChanged(i(this).data(r.nSynchronizerWidget.INDEX_DATA))}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on("nganttwidgettablescrolloffsetchanged"+t,(function(){try{e._onGanttTableScrollOffsetChanged(i(this).data(r.nSynchronizerWidget.INDEX_DATA))}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on("nganttwidgetsplitterchanged"+t,(function(){try{e._onGanttSplitterChanged(i(this).data(r.nSynchronizerWidget.INDEX_DATA))}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on("nganttwidgettablewidthchanged"+t,(function(t,a){try{e._onGanttTableWidthChanged(i(this).data(r.nSynchronizerWidget.INDEX_DATA),a)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),o.nGanttWidget("instance").verticalSplitterWidget().element.on("nsplitterwidgetstartdrag"+t,(function(){try{e._onGanttSplitterStartDrag(i(this).closest("."+r.nSynchronizerWidget.PANE_CLASS).data(r.nSynchronizerWidget.INDEX_DATA))}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on("nsplitterwidgetdragged"+t,(function(t,a){try{e._onGanttSplitterDragged(i(this).closest("."+r.nSynchronizerWidget.PANE_CLASS).data(r.nSynchronizerWidget.INDEX_DATA),a.newValue)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on("nsplitterwidgetenddrag"+t,(function(){try{e._onGanttSplitterEndDrag(i(this).closest("."+r.nSynchronizerWidget.PANE_CLASS).data(r.nSynchronizerWidget.INDEX_DATA))}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})))})),e.options.noInitialViewWidthSynchronization||e._onGanttTableWidthChanged()},_destroy:function(){"use strict";var e=o+this._uniqueID;this.element.children("."+n.WIDGET_CLASS).each((function(t,a){var r=i(a);r.off(e),r.nGanttWidget("instance").verticalSplitterWidget().element.off(e)})),this._super()},_onGanttTimeAxisChanged:function(e){"use strict";var t=this;if(t._ignoreNextTimeAxisChangedEvents[e])t._ignoreNextTimeAxisChangedEvents[e]=!1;else{var a=t.element.children("."+r.nSynchronizerWidget.PANE_CLASS+e).nGanttWidget("instance").timeAxis();t.element.children("."+n.WIDGET_CLASS).each((function(r,n){var o=r!==e?i(n).nGanttWidget("instance").timeAxis():null,s=!!o&&o.synchronizationNeeded(a);t._ignoreNextTimeAxisChangedEvents[r]=s,s&&o.synchronizeWith(a)}))}},_onGanttTableScrollOffsetChanged:function(e){"use strict";var t=this;if(this.options.horizontalTableScrollOffsetsSynchronized)if(t._ignoreNextTableScrollOffsetsChangedEvents[e])t._ignoreNextTableScrollOffsetsChangedEvents[e]=!1;else{var a=this.element.children("."+r.nSynchronizerWidget.PANE_CLASS+e).nGanttWidget("instance").horizontalTableViewScrollOffset();this.element.children("."+n.WIDGET_CLASS).each((function(r,n){var o=r!==e?i(n).nGanttWidget("instance"):null,s=!!o&&o.horizontalTableViewScrollOffset()!==a;t._ignoreNextTableScrollOffsetsChangedEvents[r]=s,s&&o.scrollTo(a,void 0,void 0)}))}},_onGanttSplitterStartDrag:function(e){this.element.children("."+n.WIDGET_CLASS).each((function(t,a){t!==e&&i(a).nGanttWidget("instance").verticalSplitterWidget().manualStartDrag()}))},_onGanttSplitterDragged:function(e,t){this.element.children("."+n.WIDGET_CLASS).each((function(a,r){a!==e&&i(r).nGanttWidget("instance").verticalSplitterWidget().manualDrag(t)}))},_onGanttSplitterEndDrag:function(e){this.element.children("."+n.WIDGET_CLASS).each((function(t,a){t!==e&&i(a).nGanttWidget("instance").verticalSplitterWidget().manualEndDrag()}))},_onGanttSplitterChanged:function(e){var t=this.element.children("."+r.nSynchronizerWidget.PANE_CLASS+e).nGanttWidget("instance").actualTableViewWidth();this.element.children("."+n.WIDGET_CLASS).each((function(a,r){a!==e&&i(r).nGanttWidget("instance").modifyTableViewWidth(t)}))},_onGanttTableWidthChanged:function(e,t){var a,r=1/0;this.element.children("."+n.WIDGET_CLASS).each((function(n,o){if("none"!==i(o).css("display")){var s=i(o).nGanttWidget("instance"),l=s.actualTableWidth();l&&(r=Math.min(r,l),n===e&&t&&t.inColumnWidthInteraction?a=s.actualTableViewWidth()||0:void 0===e&&(a=Math.max(a||0,s.actualTableViewWidth()||0)))}})),this._tableViewWidthSetOnce||r===1/0||(this._tableViewWidthSetOnce=!0,void 0===a&&(a=r)),this.element.children("."+n.WIDGET_CLASS).each((function(t,n){var o=i(n).nGanttWidget("option","tableViewWidthMaximum",r);void 0!==a&&t!==e&&o.nGanttWidget("instance").modifyTableViewWidth(a)}))}}),e.exports=i.netronic.nGanttSynchronizerWidget},7142:(e,t,a)=>{a(2801),a(541),a(1703),a(7658),a(6699);var i=a(5549);a(8276);var r=a(9990),n=a(3571),o=n.nD3MigrationHelper.transform,s=n.nCoordinateLimiter,l=n.nCursorHelper,c=n.nDateHelper,m=n.nDOMHelper.eventListenerHelper,d=n.nEventDispatcher,u=n.nLocale,h=n.nLocales,p=n.nOSDetector,_=n.nOverlayArea,g=n.nPopup,f=n.nSortedDatesWithValuesList,T=n.nSplitterWidget,D=n.nTextHelper,v=n.nDebugHelper,y=n.nImageHelper,S=n.nWorldViewCanvasWidget.CanvasIdentifier,w=n.nRectManager,I=n.nSVGTextBox,b=n.nSVGSymbolBox,A=a(9280),E=A.RowInteractions,R=Object.assign({LinkItemsChanged:2,TimeAxisChanged:7},A.nBaseWidget._UpdateCause),C=A.nBaseWidget._VirtualizationUpdateCause,x=A.nBaseWidget._RowItemVirtualizationStatus,B=a(5066),L=B.BarSortMode,O=B.TimescaleInteractionModes,M=B.TimeUnit,V=B.TimeUnitToDateHelperTimeUnit,F=a(2254),k=F.LayoutRow,N=F.LayoutColumn,W=F.LayoutElements,P=F.TitleArea,H=a(5709).TimeType,X=a(2691),U=X.PortDirections,G=X.RoutingType,Y=a(9579),z=a(4349),$=a(3429),j=a(6599),Z=a(5008),K=a(8791),q=a(670),Q=a(6477),J=a(445),ee=a(9316),te=a(8404),ae=a(4430),ie=a(5699),re=a(5698),ne=[k.BodyAtTheTop,k.MainBody],oe=B.NGANTT_BAR_CLASS,se=B.NGANTT_BAR_LAYER_CLASS,le=B.NGANTT_BAR_OUTLINE_CLASS,ce=B.NGANTT_BAR_PHANTOM_CLASS,me=B.NGANTT_BAR_PHANTOM_NONWORK_CLASS,de=B.NGANTT_BAR_RECT_CLASS,ue="ngantt-bar-selection",he=B.NGANTT_BAR_TEXT_CLASS,pe=B.NGANTT_BAR_WIDTH_DEPENDENT_PROP_CLASS,_e="ngantt-body-clippath",ge="ngantt-calgrid",fe="ngantt-compound-bar",Te=B.NGANTT_COMPOUND_BAR_BACKGROUND_CLASS,De=B.NGANTT_COMPOUND_BAR_FOREGROUND_CLASS,ve=B.NGANTT_CONSTRAINT_SYMBOL_CLASS,ye=B.NGANTT_CONSTRAINT_LINE_CLASS,Se="ngantt-cursor-date-line",we="ngantt-cursor-row-rect",Ie="ngantt-date-area",be="ngantt-date-area-text",Ae="ngantt-date-line",Ee="ngantt-date-line-line",Re="ngantt-date-line-text",Ce="ngantt-date-line-grid",xe="_ngantt_time_type",Be="_ngantt_definition",Le="_ngantt_date-line-compatibility-displacement-y",Oe="_ngantt_date-line-symbol-box",Me="_ngantt_date-line-text-box",Ve="ngantt-drag-date-line",Fe="ngantt-drag-date-line-text-rect",ke="ngantt-drag-date-line-phantom-rect",Ne="ngantt-drag-end-date-line",We="ngantt-drag-start-date-line",Pe=[];Pe[k.BodyAtTheTop]="ngantt-top-hlt-body",Pe[k.MainBody]="ngantt-hlt-body";var He=[];He[k.BodyAtTheTop]="ngantt-top-hlt-body-parent",He[k.MainBody]="ngantt-hlt-body-parent";var Xe="ngantt-hlt-row",Ue="ngantt-invalid-time-area-marking-rect",Ge="ngantt-link",Ye="ngantt-link-dangling-bar",ze="ngantt-link-dangling-source-bar",$e="ngantt-link-dangling-target-bar",je="ngantt-link-hot-region",Ze="ngantt-link-path",Ke="ngantt-link-target-marker",qe="ngantt-marked-bar",Qe=[];Qe[k.BodyAtTheTop]="ngantt-top-phantoms-body",Qe[k.MainBody]="ngantt-phantoms-body";var Je=[];Je[k.BodyAtTheTop]="ngantt-top-phantoms-body-parent",Je[k.MainBody]="ngantt-phantoms-body-parent";var et="ngantt-row-background-rect",tt="ngantt-row",at="ngantt-row-clippath",it="ngantt-row-date-area",rt="ngantt-row-date-line-group",nt="ngantt-row-date-line",ot="ngantt-row-height-dep",st="ngantt-selected-bar-mask-",lt="ngantt-selected-link",ct="ngantt-separation-line",mt=["ngantt-top-timearea-overlay","ngantt-timearea-overlay"],dt=["ngantt-top-timearea-overlay-scp","ngantt-timearea-overlay-scroll-parent"],ut="ngantt-timearea-row",ht="ngantt-timearea-row-contents",pt="ngantt-timescale-dep-stripes-scp",_t=["ngantt-timescale-overlay","ngantt-timescale-overlay"],gt=["ngantt-timescale-overlay-scroll-parent","ngantt-bottom-timescale-overlay-scp"],ft=".ngantt",Tt="ngantt-zsel-bar";const Dt=`.${oe},.${fe}`;var vt=B.DateLineGridRecurrence,yt=B.ElemType,St=B.ConstraintType,wt=B.DisplayedElements,It=B._BarTypeFlags,bt=B.BarType,At=B.BarShape,Et=B.BarInteractions,Rt=B._BarInteractions,Ct=B._AllBarInteractions,xt=B.BarSnapTargets,Bt=B.LinkType,Lt=B.LinkMarker,Ot=B.TimeAxisZoom,Mt=B.DateLineLabelOrientation,Vt=B.TableRowDefinitionType,Ft={date:Date,string:String,number:Number},kt=0,Nt=1,Wt=B.HorizontalAlignment,Pt=B.ProgressBarWidthCalculationMode,Ht=B.PanningMode,Xt="scale(1,1e-6)",Ut=100,Gt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?.5:-.5,Yt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?.5:-.5,zt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?1:-1,$t=p.isIEWebBrowserControl?0:p.isIE?-1:p.isEdge?.5:-.5,jt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?.5:0,Zt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?.5:0,Kt=p.isIEWebBrowserControl?0:p.isIE||p.isEdge?.5:0,qt=p.isIEWebBrowserControl?-.5:0,Qt=p.isIEWebBrowserControl?-.5:0,Jt=p.isIEWebBrowserControl?-1:0,ea=p.isIEWebBrowserControl?-.5:0,ta=function(e){return"twice"===e||"string"==typeof e&&e.match(/^\d,\d$/)},aa={options:{tableTreeLinesVisible:!1,tableTreeLevelIndent:14,tableColumnSplitterWidth:1,tableCellContentTopOffset:21,tableRowSeparationLinesVisible:!0,splitterWidth:8,rowItemsDraggable:!1,linkItems:null,dateLineGrids:null,dateLineGridColor:null,dateLineGridDashArray:null,dateLineGridWidth:null,dateLines:null,defaultCalendar:null,defaultBarType:bt.StartEnd,defaultBarShape:At.Rectangle,defaultLeafBarShape:At.Rectangle,defaultTimeItemSelectable:!0,defaultLeafTimeItemSelectable:!0,barSortModeForOptimizedDisplayedElements:L.StartAndEnd,leafBarsVisibleOnParentRows:!1,defaultRespectingCalendar:!1,defaultBarInteractions:Et.None,defaultLeafBarInteractions:Et.None,forcedBarInteractions:void 0,forcedLeafBarInteractions:void 0,defaultBarSnapTargetsForStart:xt.None,defaultBarSnapTargetsForEnd:xt.None,alwaysDragCompoundBar:!1,tableViewWidthMaximum:1/0,timeItemsEditableInCollapsedRows:!1,timeItemsHaveSameReferenceAsRowItems:!1,timescaleSmartNavigationEnabled:!0,timescaleSmartNavigationVersion:1,timescaleInteractionsEnabled:!0,timescaleInteractionMode:O.Default,timescaleSingleRibbonMode:!1,collapseCalendar:null,timeResolutionUnit:M.Seconds,timeResolutionUnitsPerStep:1,horizontalDraggingUnit:void 0,horizontalDraggingUnitsPerStep:void 0,linksVisible:!0,linkMarkersVisible:!0,linksWithDanglingBarsVisible:!1,linkRoutingType:G.Curved,defaultLinkType:Bt.EndStart,linkItemsSelectable:!1,defaultLinkItemSelectable:!0,defaultLinkTargetMarker:Lt.FilledArrow,verticalLinkDistance:4,subRowDistance:5,defaultMaximumSubRowHeight:null,constraintSymbolHeight:8,constraintSymbolsInMargin:!1,barHeight:22,defaultLeafBarHeight:22,barCornerWidth:5,progressBarHeight:4,progressBarWidthCalculationMode:Pt.ConsiderWorkingTimesOnly,predictedEndBarHeight:4,barDragAreaExtent:10,maximumSnapDistance:8,barTopOffsetAndHeightScaleFactor:1,leafBarTopOffsetAndHeightScaleFactor:1,dragDateLinesVisible:!0,horizontalMousePositionHighlightingEnabled:!1,verticalMousePositionHighlightingEnabled:!1,contextMenuEventOnRowItemInTimeArea:!1,tapEventOnRowItemInTimeArea:!1,timeItemsSelectable:!1,timeItemsSelectableByRectangle:!1,canSelectTimeItemFuncResultsCacheable:!1,barSelectionWithFrames:!0,barSelectionFramesShownWithHigherZOrder:!1,detailedConstraintSymbolsEnabled:!1,constraintViolationsVisible:!1,automaticDraggingOfSelectedTimeItems:!1,defaultLeafRowDisplayedElements:wt.Bars|wt.CalendarGrid,defaultRowCollapsedDisplayedElements:wt.Bars|wt.Optimized|wt.BarsOfCollapsedChildRows|wt.CalendarGrid,defaultRowExpandedDisplayedElements:wt.Bars|wt.Optimized|wt.CalendarGrid,timeAreaRowFillFunc:null,timeAreaRowUpdateFunc:null,createBarFunc:null,positionBarFunc:null,positionLinkFunc:null,canSelectTimeItemFunc:null,selectTimeItemFunc:null,canSelectLinkItemFunc:null,selectLinkItemFunc:null,checkVisualZoomFactorFunc:null,timeAreaViewParametersChangedFunc:null,checkSnapSourceDateFunc:null,formatDateFunc:null,asynchronousInteractiveTimeAreaStretching:!1,detachingOfDOMOnUpdateEnabled:!1,minimumLinearCoordinateExtent:void 0,maximumLinearCoordinateExtent:void 0,linearCoordinateReserve:void 0,barVisibilityCheckEnabled:!0,scrollToViewOffsetPercentage:10,timeAreaRowSeparationLinesVisible:!0,calendarGridVisible:!0,alternatingTimeStripesVisible:!1,timescaleRibbonDateLinesVisible:!1,timescaleRibbonsWideningFactor:1,differentiationBetweenEmptyArrayAndUndefined:!1,separateBarShapeOutlinesEnabled:!1,automaticCalculationOfSubRowIndexesOfBarsInRow:!0,rescalingByMouseWheelEnabled:!0,zoomingByPinchInTimeAreaEnabled:!1,minimumVisualZoomFactorOnInteraction:.5,maximumVisualZoomFactorOnInteraction:1.5,ignoreCalendarOnBarInteractions:!1,relativeDateModeEnabled:!1,recordingSymbolVisible:!1,timeAreaPanningMode:Ht.HorAndVer,selectedItemsShownHighlighted:!1,locale:null,timeZone:null,formattingByMoment:!1,watermarkOpacity:.2,dateLineCaptionOptimizedPositioningEnabled:!1},_create:function(){"use strict";var e=this;this._super(),this._debugSymbolOptimization=!1,this._timeDataItemsMap=new Map,this._unusedTimeDataItemsMap=new Map,this._linkDataItemsMap=new Map,this._unusedLinkDataItemsMap=new Map,this._invalidRowDataItemIDsForSubRowIndexesMap={},this._localeListenerFunc=function(){e._localeChanged()},this.options.locale instanceof u&&this.options.locale.addListener(this._localeListenerFunc),this._nextBindingItemID=1,this._boundTargetInfosMap={},this._selectedLinkDataItemsMap=new Map,this._rowDateLineElemsByRowDataItemIds={},this._rectManager=new w,this._barFactory=new j,this._barFactory.registerBarShape(At.Rectangle,K),this._barFactory.registerBarShape(At.RectangleWithLeftTopBevel,q),this._barFactory.registerBarShape(At.UpwardRamp,Q),this._barFactory.registerBarShape(At.DownwardRamp,J),this._barFactory.registerBarShape(At.Summary,ee),this._barFactory.registerBarShape(At.Arrow,te),this._barFactory.registerBarShape(At.Diamond,ae),this._barFactory.registerBarShape(At.ArrowLeft,ie),this._barFactory.registerBarShape(At.ArrowRight,re),Y.separateBarShapeOutlinesEnabled=this.options.separateBarShapeOutlinesEnabled,this._pointerEnterCursorElems=[],this._pointerEnterCursorClassNames=[],this._timeAreaTransitionDuration=500,this._phantomTransitionDuration=500,this._phantomFrameDistance=3,this._phantomFrameRounding=3,this._barFrameDistance=3,this._barFrameRounding=3,this._automaticTimeExpansionParams=void 0,this._currentTimeAreaWidth=void 0,this._currentTimeAreaViewScrollOffset=void 0,this._currentActualBaseTimeUnitWidth=void 0,this._currentStart=void 0,this._currentEnd=void 0,this._selectedTimeDataItemsMap=new Map,this._nextCalendarCacheID=0,this._calendarGridDataCache={},this._currentCursorDateLineVisible=this.options.horizontalMousePositionHighlightingEnabled;var t=e.options.timeResolutionUnit||M.Seconds;this._timeAxis=new z,this._timeAxis.baseTimeUnit(t),this._timeAxis.baseTimeUnitWidth(40/z.timeUnitToSeconds(M.Days)*z.timeUnitToSeconds(t)),this.options.updateSuspended&&this._timeAxis.cacheEvents(),this._timeAxis.anythingChangedCallback((function(t){return e._onTimeAxisAnythingChanged(t)})),this._barDragging=new Z(this,{visualZoomFactor:e.options.visualZoomFactor,timeAxis:e._timeAxis,dateLines:e.options.dateLines,dateLineGrids:e.options.dateLineGrids,defaultCalendar:e.options.defaultCalendar,maximumSnapDistance:e.options.maximumSnapDistance,defaultBarSnapTargetsForStart:e.options.defaultBarSnapTargetsForStart,defaultBarSnapTargetsForEnd:e.options.defaultBarSnapTargetsForEnd,checkSnapSourceDateFunc:function(t){return e.options.checkSnapSourceDateFunc&&e.options.checkSnapSourceDateFunc(e._extendCallbackArgs(t))},dragStartFunc:e._triggerBarDragStartCallback.bind(e),dragEnterFunc:function(t){return e.options.dragEnterFunc?.(e._extendCallbackArgs(t))},draggedFunc:function(t){return e.options.draggedFunc?.(e._extendCallbackArgs(t))},dragLeaveFunc:function(t){return e.options.dragLeaveFunc?.(e._extendCallbackArgs(t))},dragEndFunc:function(t){return e.options.dragEndFunc?.(e._extendCallbackArgs(t))},droppedFunc:function(t){return e.options.droppedFunc?.(e._extendCallbackArgs(t))},onEventFunc:function(t){return e._triggerEvent(t)},phantomFrameDistance:e._phantomFrameDistance,phantomFrameRounding:e._phantomFrameRounding,phantomTransitionDuration:e._phantomTransitionDuration,getRowDataItemFunc:function(t){return e._getDataItem.call(e,t,e._rowDataItemsMap)},getTimeDataItemFunc:function(t){return e._getDataItem.call(e,t,e._timeDataItemsMap)},sortBarsInRowFunc:function(){return e._sortBarsInRow.apply(e,arguments)},registerBindingsForTimeItemsFunc:function(){return e._registerBindingsForTimeItems.apply(e,arguments)},isBindingActiveFunc:function(){return e._isBindingActive.apply(e,arguments)},getBindingPropertyInfosAndValueFunc:function(){return e._getBindingPropertyInfosAndValue.apply(e,arguments)},unregisterAllItemsFunc:function(){return e._unregisterAllItems.apply(e,arguments)},checkForAutomaticRowExpansionFunc:function(){return e._checkForAutomaticRowExpansion.apply(e,arguments)},checkForAutoscrollFunc:function(t,a,i,r){return e._checkForAutoscroll(t.center.x,t.center.y,i,r,(function(){"press"!==t.type&&e._onBarDragMove(t,void 0,!0)}))},stopAutoscrollFunc:function(){return e._stopAutomaticRowExpansionTimer(),e._stopAutoscroll.apply(e,arguments)},pointToSVGRelativeFunc:e._pointToSVGRelative.bind(e),getBodyViewScrollTopFunc:function(t){return e._layoutRows[t?0:1].scrollStart()},determineSuperTimeDataItemFunc:e._determineSuperTimeDataItem.bind(e),determineTimeDataItemsFunc:e._determineTimeDataItems.bind(e),determineDescendantTimeDataItemsFunc:e._determineDescendantTimeDataItems.bind(e),determineTimeRangeFunc:e._determineTimeRange.bind(e),determineTimeDataItemExtentFunc:e._determineTimeDataItemExtent.bind(e),determineCalendarForRowDataItemFunc:e._determineCalendarForRowDataItem.bind(e),determineBarInteractionFunc:e._determineBarInteraction.bind(e),getActualBarInteractionsFunc:e._getActualBarInteractions.bind(e),setBarInteractionCursorFunc:function(t){return e._setVisibilityForRowCovers(t&(Et.DragVer|Et.DragHorOrVer|Rt.DragHorOrVerOverride)?null:"hidden"),e._setBarInteractionCursor.apply(e,arguments)},getActualBarTypeFunc:e._getActualBarType.bind(e),getCurrentlyDisplayedElementsInRowFunc:e._getCurrentlyDisplayedElementsInRow.bind(e),getOrCreateSpecialRowElemFunc:e._getOrCreateSpecialRowElem.bind(e),removeSpecialRowElemFunc:e._removeSpecialRowElem.bind(e),createBarFunc:e._createBar.bind(e),positionBarFullyFunc:e._positionBarFully.bind(e),handleOffsetsOnStartAndEndFunc:e._handleOffsetsOnStartAndEnd.bind(e),positionDragDateLinesFunc:function(t,a){if(e.option("dragDateLinesVisible")){e._currentCursorDateLineVisible=!1,e._positionVerticalDragArea(t.start,t.end),e._verticalDragAreaD3.style("visibility",null),e._positionHorizontalDragArea(t.rowDataItem),e._horizontalDragAreaD3.style("visibility",null),e._dragDateLineTextBaseY=t.rowDataItem.visibleRowDataItem.newY;var i=e._dragDateLineTextBaseY+t.newY-e._layoutRows[e._getBodyAreaIndex(t.rowDataItem.item)].scrollStart()+(e._isItemAtTheTop(t.rowDataItem.item)?0:e._layoutRows[k.BodyAtTheTop].innerViewExtent()+e._actualBodyAreaSeparatorHeight());e._positionDateLine(e._dragStartDateLineD3,t.start,{y:i-8,text:e._formatDate(t.start)}),e._dragStartDateLineD3.selectAll("."+Re+", ."+Fe).attr("visibility","hidden"),e._dragStartDateLineD3.style("visibility",null),t.start!==t.end&&(e._positionDateLine(e._dragEndDateLineD3,t.end,{y:i+16+a.bottom-a.top,text:e._formatDate(t.end)}),e._dragEndDateLineD3.selectAll("."+Re+", ."+Fe).attr("visibility","hidden"),e._dragEndDateLineD3.style("visibility",null))}},setDragDateLinesTextVisibilityFunc:function(t){e._dragStartDateLineD3.selectAll("."+Re+",."+Fe).attr("visibility",t),e._dragEndDateLineD3.selectAll("."+Re+",."+Fe).attr("visibility",t)},positionDragAreasAndDateLinesFunc:function(t,a,i,r,n){e._positionVerticalDragArea(t.start,t.end),e._positionHorizontalDragArea(t.rowDataItem);var o=t.timeDataItem,s=e._dragDateLineTextBaseY-e._layoutRows[e._getBodyAreaIndex(o.rowDataItem.item)].scrollStart()+(e._isItemAtTheTop(o.rowDataItem.item)?0:e._layoutRows[k.BodyAtTheTop].innerViewExtent()+e._actualBodyAreaSeparatorHeight())+r.top+n.offsetY+a.top-n.minimumY+i-o.newY;e._positionDateLine(e._dragStartDateLineD3,t.start,{y:s-8,text:e._formatDate(t.start)}),e._positionDateLine(e._dragEndDateLineD3,t.end,{y:s+16+a.bottom-a.top,text:e._formatDate(t.end)})},callFunctionForAllDatesInDateLineGridFunc:e._callFunctionForAllDatesInDateLineGrid.bind(e),findRoundedTargetDateTimeFunc:e._findRoundedTargetDateTime.bind(e),findRowDataItemAtYFunc:e._findRowDataItemAtY.bind(e),resetFunc:function(){e._touchScrollingEnabled=!0,e._setBarInteractionCursor(Et.None),e._setVisibilityForRowCovers("hidden"),e._lastBarInteractionValues&&(e._lastBarInteractionValues.outOfBar=!0),e._verticalDragAreaD3.style("visibility","hidden"),e._dragStartDateLineD3.style("visibility","hidden"),e._dragEndDateLineD3.style("visibility","hidden"),e._horizontalDragAreaD3.style("visibility","hidden"),e._currentCursorDateLineVisible=e.options.horizontalMousePositionHighlightingEnabled}}),this.options.isForExport||(this._createVerticalDragArea(),this._createHorizontalDragArea(),this._dragStartDateLineD3=this._createDateLine(e._foregroundDateLinesD3,{className:Ve+" "+We,label:"start"}),this._dragStartDateLineD3.style("visibility","hidden"),this._dragEndDateLineD3=this._createDateLine(e._foregroundDateLinesD3,{className:Ve+" "+Ne,label:"end"}),this._dragEndDateLineD3.style("visibility","hidden"),this._cursorDateLineD3=this._createDateLine(e._foregroundDateLinesD3,{className:Se,label:"cursor date",phantom:"phantom"}),this._cursorDateLineD3.style("visibility","hidden"),this._cursorRowD3=this._createCursorRow(),this._cursorRowD3.style("visibility","hidden"),this._createXCoordinateLimiter()),this._timescaleWidgets=[];for(var a=0;a<=1;a++)if(this._titleVisible(a)&&this._timescaleD3s[a]){var n=void 0;if(this._overlayAreas){var o=a+2;n=this._overlayAreas[N.TimeArea][o]._PE_ContentOverlays()[0][0],m.on(n,"contextmenu"+e._EVENT_NAMESPACE,(function(t){e.options.preventDefaultOnContextMenuEvents&&(t.stopPropagation(),t.preventDefault())}))}this._timescaleWidgets[a]=i(this._timescaleD3s[a].node()).nTimescaleWidget({timescaleElementForInput:n,height:e._actualTitleHeight(a),reversedRibbonOrder:a===P.bottom,locale:e.options.locale,timeZone:e.options.timeZone,formattingByMoment:e.options.formattingByMoment,timeAxis:e._timeAxis,asynchronousInteractiveStretching:e.options.asynchronousInteractiveTimeAreaStretching,ribbonsWideningFactor:e.options.timescaleRibbonsWideningFactor,smartNavigationVersion:e.options.timescaleSmartNavigationVersion,singleRibbonMode:e.options.timescaleSingleRibbonMode,rescalingByMouseWheelEnabled:e.options.rescalingByMouseWheelEnabled,smartNavigationEnabled:!e.options.isForExport&&e.options.timescaleSmartNavigationEnabled,relativeDateModeEnabled:e.options.relativeDateModeEnabled,errorFunc:e._handleException.bind(e),invalidTimeAreaMarkingChangedFunc:e._setInvalidTimeAreaMarking.bind(e),contextMenuFunc:e._onTimescaleContextMenu.bind(e)}).nTimescaleWidget("instance")}if(this._linkRouter=new X({routingType:this.options.linkRoutingType,timeAxis:this._timeAxis,xCoordinateLimiter:this._xCoordinateLimiter}),Array.isArray(this.options.dateLineGrids)&&this.options.dateLineGrids.forEach((function(t){e._dateLineGridsD3.append("g").attr("class",Ce+" "+t.className).property(xe,t.timeType)})),!this.options.isForExport){this._svgSplitterRootD3=this._svgRootD3.insert("g",`.${this.NXXXXX.PHANTOMS_BODY_SCROLL_PARENT_CLASS}`).attr("class","ngantt-svg-splitter-root");var s=this._PE_ActualTableViewWidth();this._verticalSplitterWidget=i(this._svgSplitterRootD3.node()).nSplitterWidget({classes:"ngantt-ver-splitter",divElemForCursor:e.element[0],visualZoomFactor:e.options.visualZoomFactor,min:0,max:this.options.splitterEnabled?e.options.tableViewWidthMaximum||s:0,position:{x:s,y:0},width:this._actualSplitterWidth(),orientation:T.Orientation.Vertical,useOwnEventDispatcher:!1,startDrag:function(){e._tableViewWidthAtStartDrag=e._layoutColumns[N.Table].innerViewExtent(),e._tableScrollStartAtStartDrag=e._layoutColumns[N.Table].scrollStart()},changed:function(t,a){e._onSplitterChanged(a.newValue,!0)},dragged:function(t,a){e.options.virtualized&&e._onSplitterChanged(a.newValue)},endDrag:function(t,a){a.canceled&&e._onSplitterChanged(e._tableViewWidthAtStartDrag)}}).nSplitterWidget("instance")}let l=this._actualScrollBarWidth();l&&(this._additionalVerticalSplitterDivD3=r.select(this.element[0]).append("div").attr("class","ngantt-ver-splitter-bottom-rect").style("left",s*this.options.visualZoomFactor+"px").style("top",(this._actualScaledMainHeight()-l)*this.options.visualZoomFactor+"px").style("width",this._actualSplitterWidth()*this.options.visualZoomFactor+"px").style("height",l*this.options.visualZoomFactor+"px")),this.options.collapseCalendar&&this._collapseCalendarChanged(),this._dateLineIDsToSVGElementsMap={},this.options.dateLines&&this._dateLinesChanged(),this.options.locale instanceof u||m.on(window,"netronic_nLocales_localeChanged"+this._EVENT_NAMESPACE,(function(){e._localeChanged()})),this.options.timeZone||m.on(window,"netronic_nDateHelper_timeZoneChanged"+this._EVENT_NAMESPACE,(function(){e._localeChanged()})),this._tableDefinitionChanged()},_destroy:function(){"use strict";try{if(this._super(),m.off(window,this._EVENT_NAMESPACE+"-rectselect"),this._pointerEnterTimeDataItemsMap)for(let e of this._pointerEnterTimeDataItemsMap.keys())if(e.startsWith("da"))m.off(this._pointerEnterTimeDataItemsMap.get(e),this._EVENT_NAMESPACE+"-tooltip-"+e);else{let t=this._pointerEnterTimeDataItemsMap.get(e);for(let e of t.values())m.off(e.elem,this._EVENT_NAMESPACE+"-tooltip-"+e.id)}m.off(window,this._EVENT_NAMESPACE+"-cursor"),this._dateLineIDsToSVGElementsMap=null,this.options.locale instanceof u&&this.options.locale.removeListener(this._localeListenerFunc),this._timeAreaViewParametersChangedTimerID&&window.clearTimeout(this._timeAreaViewParametersChangedTimerID),delete this._barFactory,delete this._linkRouter,delete this._timeAxis}catch(e){this._handleException(e,"_destroy")}},_setOption:function(t,a){"use strict";try{var i=this,n=i.options[t];switch(t){case"tableTreeLinesVisible":this._super(t,a),this._super("treeLinesVisible",a);break;case"treeLinesVisible":this._super("tableTreeLinesVisible",a),this._super(t,a);break;case"tableTreeLevelIndent":this._super(t,a),this._super("treeLevelIndent",a);break;case"treeLevelIndent":this._super("tableTreeLevelIndent",a),this._super(t,a);break;case"tableColumnSplitterWidth":this._super(t,a),this._super("columnSplitterWidth",a);break;case"columnSplitterWidth":this._super("tableColumnSplitterWidth",a),this._super(t,a);break;case"tableCellContentTopOffset":this._super(t,a),this._super("cellContentTopOffset",a);break;case"cellContentTopOffset":this._super("tableCellContentTopOffset",a),this._super(t,a);break;case"tableRowSeparationLinesVisible":this._super(t,a),this._super("rowSeparationLinesVisible",a);break;case"rowSeparationLinesVisible":this._super("tableRowSeparationLinesVisible",a),this._super(t,a);break;case"locale":n!==a&&(this.options.locale instanceof u&&this.options.locale.removeListener(this._localeListenerFunc),this._super(t,a),this.options.locale instanceof u&&this.options.locale.addListener(this._localeListenerFunc),this._localeChanged(),this._timescaleWidgets.forEach((function(e){e.option(t,a)})));break;case"timeZone":n!==a&&(this._super(t,a),this._localeChanged(),this._timescaleWidgets.forEach((function(e){e.option(t,a)})));break;case"formattingByMoment":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option(t,a)})));break;case"linkItems":this._super(t,a),null!=this.options.rowItemsRoot&&(this._linkItemsChanged(),this._bodyChanged(R.LinkItemsChanged));break;case"linksVisible":n!==a&&(this._super(t,a),null!=this.options.rowItemsRoot&&this._bodyChanged(R.LinkItemsChanged));break;case"linkRoutingType":n!==a&&(this._super(t,a),this._linkRouter=new X({routingType:this.options.linkRoutingType,timeAxis:this._timeAxis,xCoordinateLimiter:this._xCoordinateLimiter}));case"linkMarkersVisible":case"defaultLinkTargetMarker":case"defaultLinkType":n!==a&&(this._super(t,a),null!=this.options.rowItemsRoot&&this.options.linksVisible&&(this._linkHotRegionsD3.selectAll("."+je).remove(),this._linksD3.selectAll("."+Ge).remove(),this._selectedLinksD3.selectAll("."+lt).remove(),this._bodyChanged(R.LinkItemsChanged)));break;case"splitterWidth":n!==(a=!isNaN(+a)&&a>=0?a:e.exports.prototype.options[t])&&(this._layoutColumns[N.Splitter].extent(this.options.isForExport?a:0),this._layoutColumns[N.Splitter].innerViewExtent(a),this._layoutColumns[N.Splitter].outerViewExtent(a),this._verticalSplitterWidget?.option("width",a),this._additionalVerticalSplitterDivD3?.style("width",a*this.options.visualZoomFactor+"px"),this._super(t,a));break;case"timescaleInteractionsEnabled":n!==a&&(this._super(t,a),this._super("timescaleSmartNavigationEnabled",a),this._timescaleWidgets.forEach((function(e){e.option("smartNavigationEnabled",a)})),this._super("rescalingByMouseWheelEnabled",a),this._timescaleWidgets.forEach((function(e){e.option("rescalingByMouseWheelEnabled",a)})));break;case"timescaleInteractionMode":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("rescalingEnabled",a&O.Rescaling),e.option("scrollingByButtonsEnabled",a&O.ScrollingByButtons)})));break;case"timescaleSmartNavigationEnabled":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("smartNavigationEnabled",a)})));break;case"timescaleSmartNavigationVersion":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("smartNavigationVersion",a)})));break;case"timescaleSingleRibbonMode":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("singleRibbonMode",a)})));break;case"rescalingEnabled":case"rescalingByMouseWheelEnabled":case"relativeDateModeEnabled":case"scrollingEnabled":n!==a&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option(t,a)})));break;case"timescaleRibbonsWideningFactor":n!==a&&a>=1&&(this._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("ribbonsWideningFactor",a)})));break;case"collapseCalendar":n!==a&&(this._super(t,a),this._collapseCalendarChanged());break;case"dateLines":this._super(t,a),this._barDragging.setOption(t,a),this._dateLinesChanged();break;case"dateLineGrids":this._super(t,a),this._barDragging.setOption(t,a),this._dateLineGridsD3.selectAll("."+Ce).remove(),Array.isArray(a)&&a.forEach((function(e){i._dateLineGridsD3.append("g").attr("class",Ce+" "+e.className).property(xe,e.timeType)})),this._updateDateLineGrids();break;case"dateLineGridColor":case"dateLineGridDashArray":case"dateLineGridWidth":this._super(t,a),this._updateDateLineGrids(),this._updateTimescaleDependentStripesOrDateLines();break;case"defaultCalendar":case"maximumSnapDistance":case"defaultBarSnapTargetsForStart":case"defaultBarSnapTargetsForEnd":this._barDragging.setOption(t,a);break;case"horizontalMousePositionHighlightingEnabled":n!==a&&(this._super(t,a),this._currentCursorDateLineVisible=a);break;case"dateAreas":this._super(t,a),this._dateAreasChanged();break;case"timeItemsSelectable":n!==a&&(a||i.selectedTimeItems([]),i._super(t,a));break;case"timeItemsSelectableByRectangle":n!==a&&(i._super(t,a),i._registerBackgroundPanningEvents());break;case"timeAreaRowSeparationLinesVisible":n!==a&&(i._super(t,a),null!=this.options.rowItemsRoot&&i._backgroundBodyD3s.forEach((function(e){e.selectAll("."+ut+" ."+ct).style("visibility",a?null:"hidden")})));break;case"editable":n!==a&&(i._super(t,a),i._dateLinesChanged());break;case"defaultRowExpandedDisplayedElements":case"defaultRowCollapsedDisplayedElements":case"defaultLeafRowDisplayedElements":case"progressBarWidthCalculationMode":case"barSortModeForOptimizedDisplayedElements":n!==a&&(i._super(t,+a||0),null!=this.options.rowItemsRoot&&(i.invalidateAllRows(),i.update()));break;case"barHeight":case"defaultLeafBarHeight":case"subRowDistance":case"defaultMaximumSubRowHeight":case"barTopOffsetAndHeightScaleFactor":case"leafBarTopOffsetAndHeightScaleFactor":case"progressBarHeight":n!==(a=!isNaN(+a)&&a>0?a:e.exports.prototype.options[t])&&(i._super(t,a),null!=this.options.rowItemsRoot&&(i.invalidateAllRows(!1,!0),"progressBarHeight"!==t&&i._actualBodyAreaSeparatorHeight()&&(i.options.updateSuspended?i._doResizeNeededWhileUpdateSuspended=!0:i._doResize(R.Other,null,!0)),i.update()));break;case"calendarGridVisible":n!==a&&(i._super(t,a),a?null!=this.options.rowItemsRoot&&(i._foregroundBodyD3s.forEach((function(e){e.selectAll("."+tt).each((function(e){var t=r.select(this).select("."+ht);i._createCalendarGridInRow(e,t)}))})),i.invalidateAllRows(),i.update()):i._backgroundBodyD3s.forEach((function(e){e.selectAll("."+ge).remove()})));break;case"asynchronousInteractiveTimeAreaStretching":n!==a&&(i._super(t,a),this._timescaleWidgets.forEach((function(e){e.option("asynchronousInteractiveStretching",a)})));break;case"tableViewWidthMaximum":n!==(a=!isNaN(+a)&&a>=0?a:e.exports.prototype.options[t])&&(i._super(t,a),i._tableViewChanged());break;case"timeResolutionUnit":n!==a&&(i._super(t,a),i._timeAxis.baseTimeUnit(a||M.Seconds),i._timescaleWidgets.forEach((function(e){e.option("baseTimeUnit",a||M.Seconds)})));break;case"timeResolutionUnitsPerStep":n!==a&&(i._super(t,a),i._timescaleWidgets.forEach((function(e){e.option("baseTimeUnitFactor",a||1)})));break;case"alternatingTimeStripesVisible":case"timescaleRibbonDateLinesVisible":n!==(a=!!a)&&(i._super(t,a),i._updateTimescaleDependentStripesOrDateLines());break;case"separateBarShapeOutlinesEnabled":n!==(a=!!a)&&(i._super(t,a),Y.separateBarShapeOutlinesEnabled=a);break;case"zoomingByPinchInTimeAreaEnabled":n!==(a=!!a)&&(i._super(t,a),i._backgroundBodyRectD3s.slice().concat(i._backgroundBodyD3s).forEach((function(e){e.classed(d.PINCH_EVENT_CLASS_NAME,a)})));break;case"automaticCalculationOfSubRowIndexesOfBarsInRow":n!==a&&(null!=this.options.rowItemsRoot&&a&&i.calculateInvalidSubRowIndexesOfBarsInRows(),i._super(t,a));break;case"recordingSymbolVisible":n!==a&&(i._super(t,a),i._recordingSymbolD3.attr("visibility",a?null:"hidden"));break;case"updateSuspended":n!==a&&(i._super(t,a),a?i._timeAxis.cacheEvents():(i._timeAxis.triggerCachedEvents(),i._timeAreaViewUpdateNeeded&&(delete i._timeAreaViewUpdateNeeded,i._timeAreaViewChanged())));break;case"forcedBarInteractions":case"forcedLeafBarInteractions":i._super(t,a),i._pointerEnterCursorClassNames.some(((e,t)=>{if(e===oe)return i._onpointermove_cursor(i._lastPointerMoveEvent,i._pointerEnterCursorElems[t],e),!0}));break;case"watermarkURL":i._super(t,a),i._updateWatermarks();break;case"watermarkOpacity":i._super(t,a),i._backgroundWatermarkParentD3.style("opacity",a);break;case"dateLineCaptionOptimizedPositioningEnabled":i._super(t,a),i._dateLinesChanged();break;default:i._super(t,a)}}catch(e){this._handleException(e,"option")}},_initConstants:function(){"use strict";var e=this._getOrCreateNXXXXX({WIDGET_ABBREVIATION:"ngantt",WIDGET_PREFIX:"ngantt-",WIDGET_NAMESPACE:".ngantt",WIDGET_NAME_IN_ERROR_MESSAGES:"nGanttWidget",WIDGET_PROPERTYNAME_IN_CALLBACKS:"ganttWidget",WIDGET_TABLE_PREFIX:"ngantt-table-",WIDGET_TABLE_INSERTION:"table-"});return this._super(),e.BAR_SELECTION_FRAMES_PARENT_CLASS=[e.WIDGET_PREFIX+"top-bar-selection-frames-parent",e.WIDGET_PREFIX+"bar-selection-frames-parent"],e.SELECTED_ROW_GRADIENT_START_CLASS=e.WIDGET_PREFIX+"table-row-selected-gradient-start",e.SELECTED_ROW_GRADIENT_END_CLASS=e.WIDGET_PREFIX+"table-row-selected-gradient-end",e.WIDTH_CLIPPATH_ID[N.Table]=e.WIDGET_PREFIX+"table-width-clippath",e.WIDTH_CLIPPATH_ID[N.TimeArea]=e.WIDGET_PREFIX+"timearea-width-clippath",e},_doScale:function(){var e=this.options.visualZoomFactor;this._timeAxis?.visualZoomFactor(e),this._barDragging?.setOption("visualZoomFactor",e),this._verticalSplitterWidget?.option("visualZoomFactor",e),this.element.find(`.${Ae} .${T.CLASS}`).each(((t,a)=>{i(a).nSplitterWidget().option("visualZoomFactor",e)})),this._additionalVerticalSplitterDivD3?.style("left",this._PE_ActualTableViewWidth()*e+"px").style("width",this._actualSplitterWidth()*e+"px").style("height",this._actualScrollBarWidth()*e+"px"),this._super()},_onSplitterChanged:function(e,t){"use strict";try{this._setViewWidth(N.Table,e),this._tableViewChanged(!0,!0),this._trigger("splitterChanged",null,{newValue:e,isDropped:t})}catch(e){this._handleException(e,"onSplitterChanged_verticalSplitter")}},_doResize:function(e,t,a){"use strict";var i=this;if(i.options.updateSuspended&&i._doResizeNeededWhileUpdateSuspended&&(delete i._doResizeNeededWhileUpdateSuspended,a=!0),i._mainWidth>0&&i._mainHeight>0){if(void 0===i._layoutRows[k.MainBody].extent()&&!a)return void window.setTimeout((function(){i._layoutRows[k.MainBody].innerViewExtent()||i._doResize(e,t,!0)}),100);i._setOption("updateSuspended",!1);var n=i._actualScaledMainWidth(),o=i._actualScaledMainHeight();i._tableViewChanged();var s=i._calcBodyViewAndSeparatorHeights(o),l=i._calcInnerBodyViewAndSeparatorHeights(s),c=[];c[k.BodyAtTheTop]=l[k.BodyAtTheTop]-i._layoutRows[k.BodyAtTheTop].innerViewExtent(),c[k.MainBody]=l[k.MainBody]-i._layoutRows[k.MainBody].innerViewExtent();var m=i._shouldHeightChange(e,c);if(m){i._layoutRows[k.BodyAtTheTop].outerViewExtent(s[k.BodyAtTheTop]),(i._layoutRows[k.MainBody].outerViewExtent()||s[k.MainBody]>=0)&&i._layoutRows[k.MainBody].outerViewExtent(s[k.MainBody]),i._layoutRows[k.BodyAtTheTop].innerViewExtent(l[k.BodyAtTheTop]),(i._layoutRows[k.MainBody].innerViewExtent()||l[k.MainBody]>=0)&&i._layoutRows[k.MainBody].innerViewExtent(l[k.MainBody]),i._layoutRows[k.BodySeparator].extent(0),i._layoutRows[k.BodySeparator].outerViewExtent(s[k.BodySeparator]),i._layoutRows[k.BodySeparator].innerViewExtent(l[k.BodySeparator]);var d=0;if(i._layoutRows[k.TopTitle].start(d),d+=i._layoutRows[k.TopTitle].outerViewExtent(),i._layoutRows[k.BodyAtTheTop].start(d),d+=i._layoutRows[k.BodyAtTheTop].outerViewExtent(),i._layoutRows[k.BodySeparator].start(d),d+=i._layoutRows[k.BodySeparator].outerViewExtent(),i._layoutRows[k.MainBody].start(d),d+=i._layoutRows[k.MainBody].outerViewExtent(),i._layoutRows[k.BottomTitle].start(d),s[k.BodyAtTheTop]>=0||s[k.MainBody]>=0){var u=!i.options.isForExport&&i._elementHeightOnLastCallOf_doResize===i._elementHeight,h=u?function(e){return r.select(e[0]).transition().duration(i.options.transitionDuration)}:function(e){return r.select(e[0])},p=u?function(e){return e.transition().duration(i.options.transitionDuration)}:function(e){return e};i._doResizeOverlaysHeightWithAnimation(h),i._PE_DoResizeUpdateBodyHeight(p),i._PE_DoResizeHeight_222(p);var _=[];ne.forEach((function(e){c[e]>0&&(_[e]=Math.max(0,i._layoutRows[e].extent()-l[e]),i._layoutRows[e].scrollStart()<=_[e]&&(_[e]=void 0))})),null==_[k.BodyAtTheTop]&&null==_[k.MainBody]||i._scrollOffsetsChanged([void 0,void 0],_),i.options.virtualized&&i._updateVirtualization(C.ViewResized,t)}}var g=i._calcWidthDifference(n),f=i._shouldWidthChange(e,g);if(m||f){this._currentScaledMainWidth=n;var T=i._specifyNewViewWidth(n);i._layoutColumns[N.Table].outerViewExtent(T[N.Table]),i._layoutColumns[N.TimeArea].outerViewExtent(T[N.TimeArea]);var D=i._calcInnerViewWidths(T);i._layoutColumns[N.Table].innerViewExtent(D[N.Table]),i._layoutColumns[N.TimeArea].innerViewExtent(D[N.TimeArea]);var v=0;i._layoutColumns[N.Table].start(v),v+=i._layoutColumns[N.Table].outerViewExtent(),i._layoutColumns[N.Splitter].start(v),v+=i._layoutColumns[N.Splitter].outerViewExtent(),i._layoutColumns[N.TimeArea].start(v)}(m||f)&&(i._layoutGrid.update(),i._updateWatermarks(),i._provideChartSizeToWorldView(),i._provideViewRectsToWorldView()),i._executeCachedTransitionFunctions(),i._elementHeightOnLastCallOf_doResize=i._elementHeight}},_svgRootWheelVer:function(e,t){"use strict";return this._barDragging.isActive()&&this._barDragging.handleDrag(),this._super(e,t)},_svgRootWheelHor:function(e,t){"use strict";return this._innerClientXToLayoutColumn(e[0])===N.TimeArea?(this._doRelativeScroll("timearea",t),!1):this._super(e,t)},_doRelativeScroll:function(e,t,a){"use strict";if("timearea"===e)this._doRelativeScrollHor(N.TimeArea,t,a);else this._super(e,t,a)},_onSwipe_OpacityOff:function(){"use strict";this._super();for(var e=0;e<=1;e++)this._overlayAreas[N.TimeArea][e].showIOSScrollBars(!1)},_onSwipe_RecurrentCalculations:function(e){"use strict";var t=this;if("timeArea"===t._bodySwipeScrollPos.view)switch(t._currentPanParams||(t._currentPanParams={}),t._currentPanParams.timeAreaPanningMode!==Ht.HorizontallyOnly&&t._currentPanParams.timeAreaPanningMode!==Ht.VerticallyOnly&&(t._currentPanParams.timeAreaPanningMode=t.options.timeAreaPanningMode),void 0===t._currentPanParams.timeAreaCachedPanningMode&&t._currentPanParams.timeAreaPanningMode===Ht.AutoHorOrVer&&(Math.abs(e.deltaX)>5||Math.abs(e.deltaY)>5)&&(Math.abs(e.deltaX)>Math.abs(e.deltaY)?t._currentPanParams.timeAreaPanningMode=Ht.HorizontallyOnly:t._currentPanParams.timeAreaPanningMode=Ht.VerticallyOnly),t._currentPanParams.timeAreaPanningMode){case Ht.VerticallyOnly:"mouse"===e.pointerType&&l.setCursor(t.element[0],"ns-resize"),e.deltaX=0;break;case Ht.HorizontallyOnly:"mouse"===e.pointerType&&l.setCursor(t.element[0],"ew-resize"),e.deltaY=0;break;case Ht.None:"mouse"===e.pointerType&&l.setCursor(t.element[0],null),e.deltaX=0,e.deltaY=0;break;case Ht.HorAndVer:"mouse"===e.pointerType&&l.setCursor(t.element[0],"move")}else"mouse"===e.pointerType&&l.setCursor(t.element[0],"move")},_onSwipe_DetectView:function(e){"use strict";if(this._super(e),e&&e.row){var t=e.row.getIndex();switch(t){case k.BodyAtTheTop:case k.MainBody:e.column&&e.column.getIndex()===N.TimeArea&&(this._bodySwipeScrollPos.view="timeArea"),this._overlayAreas[N.TimeArea][t].showIOSScrollBars(!0)}}},_onSwipe_ScrollTo:function(e,t,a){"use strict";"timeArea"===this._bodySwipeScrollPos.view?(e[N.TimeArea]=Math.min(Math.max(0,this._timeAxis.actualTimeAreaWidth()-this._timeAxis.timeAreaViewWidth()),this._bodySwipeScrollPos.lefts[N.TimeArea]-a.deltaX),this._scrollTo(e,t)):this._super(e,t,a)},_scrollLeftsChanged:function(e,t,a,i,r){"use strict";var n=this;if(r.timeAxisChangedEventNeeded=!1,null!=e&&null!=e[N.TimeArea]){var o=Math.abs(n._currentTimeAreaViewScrollOffset-e[N.TimeArea])>.1;if(n._layoutColumns[N.TimeArea].cachedScrollStart(e[N.TimeArea]/n._layoutColumns[N.TimeArea].scrollFactorExceeding()),o){if(a&&n._overlayAreas)for(var s=0;s<=1;s++)n._overlayAreas[N.TimeArea][s].scrollLeft(n._layoutColumns[N.TimeArea].cachedScrollStart());a||(n._PE_SetTimeAreaViewScrollOffset(e[N.TimeArea],!0),r.timeAxisChangedEventNeeded=!0,r.viewChangedFlags[N.TimeArea]=!0,r.changedFlag=!0,n._callTimeAreaViewParametersChangedFunc())}}if(r.viewChangedFlags[N.TimeArea]){void 0===e&&(e=[]),void 0===e[N.TimeArea]&&(e[N.TimeArea]=n._getHorViewScrollOffset(N.TimeArea)),void 0===t&&(t=[]),void 0===t[k.BodyAtTheTop]&&(t[k.BodyAtTheTop]=n._layoutRows[k.BodyAtTheTop].scrollStart()),void 0===t[k.MainBody]&&(t[k.MainBody]=n._layoutRows[k.MainBody].scrollStart());var l=[];if(l[k.BodyAtTheTop]="translate("+-n.convertXToLimitedX(e[N.TimeArea])+","+-t[k.BodyAtTheTop]+")",l[k.MainBody]="translate("+-n.convertXToLimitedX(e[N.TimeArea])+","+-t[k.MainBody]+")",n._linkHotRegionsD3&&n._linkHotRegionsD3.attr("transform",l[k.MainBody]),n._linksD3&&n._linksD3.attr("transform",l[k.MainBody]),n._selectedLinksD3&&n._selectedLinksD3.attr("transform",l[k.MainBody]),ne.forEach((function(e){n._barSelectionFramesD3&&n._barSelectionFramesD3[e].attr("transform",l[e]),n._rowDateLinesD3s&&n._rowDateLinesD3s[e].attr("transform",l[e])})),n._timeAreaViewChanged(),i&&void 0!==e[N.TimeArea]&&n._overlayAreas)for(s=0;s<=1;s++)n._overlayAreas[N.TimeArea][s].scrollLeft(n._layoutColumns[N.TimeArea].cachedScrollStart())}n._super(e,t,a,i,r)},_triggerChangedEventAfterScrollOffsetsChanged:function(e){"use strict";this._super(e),e.timeAxisChangedEventNeeded&&this._trigger("timeAxisChanged")},_onTimeAxisAnythingChanged:function(e){"use strict";var t=this;(!t._temporaryMarkMinimumDate||(new Date).getTime()>t._temporaryMarkMinimumDate)&&(t._temporaryMarkVisible=void 0),null!=e.centerCoordinateOnRescaling&&t._saveXStretchCenterCoordinate(e.centerCoordinateOnRescaling);var a=!0;if(!t._changeTimeAreaWidthScrollFactor()){var i=t._calculateTimeAreaOverlayWidth(t._layoutColumns[N.TimeArea].scrollFactorExceeding());t._layoutColumns[N.TimeArea].extent(i),t._layoutGrid.update(),t._updateWatermarks()}var r=[];r[N.TimeArea]=t._timeAxis.timeAreaViewScrollOffset(),t._currentTimeAreaViewScrollOffset!==r[N.TimeArea]&&(t._scrollTo(r,[void 0,void 0]),a=!1),a&&t._timeAreaViewChanged(),t._callTimeAreaViewParametersChangedFunc(),t._worldViewDivJQ&&(t._provideChartSizeToWorldView(),t._provideViewRectsToWorldView(),t._createRows(t._currentlyVisibleRowDataItems?t._currentlyVisibleRowDataItems[0].slice().concat(t._currentlyVisibleRowDataItems[1]):[],void 0,R.WorldView)),t._trigger("timeAxisChanged")},_callTimeAreaViewParametersChangedFunc:function(){"use strict";var e=this;if(e.options.timeAreaViewParametersChangedFunc){void 0!==e._timeAreaViewParametersChangedTimerID&&window.clearTimeout(e._timeAreaViewParametersChangedTimerID);var t=function(){try{if(delete e._timeAreaViewParametersChangedTimerID,e.options.timeAreaViewParametersChangedFunc){var t=e._extendCallbackArgs({scrollOffset:e._timeAxis.timeAreaViewScrollOffset(),width:e._timeAxis.timeAreaViewWidth(),start:e._timeAxis.actualStart(),end:e._timeAxis.actualEnd()});t.scrollOffset&&(t.start=$.addWorkingTime(e.options.collapseCalendar,e._timeAxis.convertXToDate(t.scrollOffset,!1,!0),0)),t.scrollOffset+t.width<e._timeAxis.actualTimeAreaWidth()&&(t.end=$.addWorkingTime(e.options.collapseCalendar,e._timeAxis.convertXToDate(t.scrollOffset+t.width,!1,!0),"-0")),e.options.timeAreaViewParametersChangedFunc.call(e,t)}}catch(t){e._handleException(t,"_callTimeAreaViewParametersChangedFunc")}};e.options.scrollOffsetsChangedFuncTimeDelay?e._timeAreaViewParametersChangedTimerID=window.setTimeout(t,e.options.scrollOffsetsChangedFuncTimeDelay):t()}},verticalSplitterWidget:function(){return this._verticalSplitterWidget},scrollTo:function(e,t,a,i){"use strict";try{v.assertNumberOrNull(e,"",0),v.assertNumberOrNull(t,"",1),v.assertNumberOrNull(a,"",2),v.assertNumberOrNull(i,"",3);var r=[];r[N.Table]=e,r[N.TimeArea]=t;var n=[];n[k.BodyAtTheTop]=i,n[k.MainBody]=a,this._scrollTo(r,n)}catch(e){this._handleException(e,"scrollTo")}},_setLayoutColumnsScrollLefts:function(e){"use strict";this._super(e),null!=e&&null!=e[N.TimeArea]&&(e[N.TimeArea]=Math.max(0,Math.min(e[N.TimeArea],Math.ceil(this._timeAxis.actualTimeAreaWidth()-this._timeAxis.timeAreaViewWidth()))))},horizontalTimeAreaViewScrollOffset:function(){return this._getHorViewScrollOffset(N.TimeArea)},_determineCurrentTableViewWidthMaximum:function(){"use strict";if(this.options.tableDefinition||null!=this.options.tableWidth){var e=!this.options.isForExport&&this._actualScaledMainWidth()||1/0;return Math.min(this.options.rowItemsRoot?this.actualTableWidth():1/0,Math.min(Math.max(0,e-this._actualSplitterWidth()-this._actualScrollBarWidth()),this.options.tableViewWidthMaximum))}},timeAreaBodyClientRect:function(){"use strict";return this._getBodyClientRect(N.TimeArea)},_tableViewChanged_DetectTableViewWidth:function(){"use strict";var e=this._layoutColumns[N.Table].rawInnerViewExtent(),t=this._determineCurrentTableViewWidthMaximum();return void 0===e?e=t:void 0!==t&&e>(t||0)&&(e=Math.max(0,t||0)),e},_adaptVerticalSplitter:function(){"use strict";if(this._verticalSplitterWidget){var e=this._determineCurrentTableViewWidthMaximum();if(void 0!==this._layoutColumns[N.Table].innerViewExtent()&&void 0!==e){this._verticalSplitterWidget.option({max:this.options.splitterEnabled&&e||0});let t=this._layoutColumns[N.Table].innerViewExtent();this._verticalSplitterWidget.isCurrentlyDragged()||this._verticalSplitterWidget.option({position:{x:t,y:0}}),this._additionalVerticalSplitterDivD3?.style("left",t*this.options.visualZoomFactor+"px")}}},_tableViewChanged_RecalcDependentColumns:function(e,t){"use strict";this._layoutColumns[N.Splitter].start(t);var a=t+this._actualSplitterWidth(),i=Math.max(0,e-t-this._actualSplitterWidth()),r=Math.max(0,i-this._actualScrollBarWidth());this._layoutColumns[N.TimeArea].start(a),this._layoutColumns[N.TimeArea].outerViewExtent(i),this._layoutColumns[N.TimeArea].innerViewExtent(r),this._adaptVerticalSplitter()},_calculateTimeAreaOverlayWidth:function(e){"use strict";var t=this._timeAxis.actualTimeAreaWidth(),a=t;if(e>1){var i=this._timeAxis.timeAreaViewWidth();a=Math.ceil((t-i)/e+i)}return a},_changeTimeAreaWidthScrollFactor:function(){"use strict";var e=this,t=e._timeAxis.actualTimeAreaWidth(),a=Math.max(e.options.isForExport?1:t/1e5,1);if(e._layoutColumns[N.TimeArea].scrollFactorExceeding()!==a){var i=e._timeAxis.timeAreaViewScrollOffset();e._layoutColumns[N.TimeArea].cachedScrollStart(i/a);var r=e._calculateTimeAreaOverlayWidth(a);return e._layoutColumns[N.TimeArea].extent(r),e._ignoreNextScrollEvents(!0,N.TimeArea),e._layoutColumns[N.TimeArea].scrollFactorExceeding()>a?(e._callJQsScrollLeft(e._PE_ContentOverlays(N.TimeArea),e._layoutColumns[N.TimeArea].cachedScrollStart()),e._setJQsWidth(e._PE_ContentOverlays(N.TimeArea),r)):(e._setJQsWidth(e._PE_ContentOverlays(N.TimeArea),r),e._callJQsScrollLeft(e._PE_ContentOverlays(N.TimeArea),e._layoutColumns[N.TimeArea].cachedScrollStart())),e._layoutColumns[N.TimeArea].scrollFactorExceeding(a),!0}return!1},updateExportWatermarks:function(){return this._updateWatermarks()},_updateWatermarks:function(){"use strict";var e=this;return new Promise((t=>{e._backgroundWatermarkParentD3.selectAll("*").remove();var a=[e.options.watermarkURL,e.options.isForExport?e.options.exportWatermarkURL:void 0],i=a.length,n=function(){--i||t()};a.forEach((t=>{if(t)if("///"===t.substring(0,3)){var a=r.select("#"+t.substring(3)),i=e._backgroundWatermarkParentD3.append("g");if(!a.size())return!1;var o=a.attr("href");if(0===o.indexOf("data:image/svg")){var s=atob(o.slice(o.indexOf(",")+1));i.node().insertAdjacentHTML("afterbegin",s)}else i.append("image").attr("href",o);let l=a.node();y.calculateOriginalImageSize(l).then((()=>{var t=l.getAttribute("data-originalwidth")??1,a=l.getAttribute("data-originalheight")??1,r=e._currentTimeAreaViewWidth/t||1,o=e._actualInnerBodyViewHeightsSumWithSeparator()/a,s=e.options.watermarkScale||Math.min(r,o),c=(e._currentTimeAreaViewWidth-t*s)/2||0,m=(e._actualInnerBodyViewHeightsSumWithSeparator()-a*s)/2;i.attr("transform",`translate(${c},${m}) scale(${s})`),n()}))}else n();else n();return!0}))}))},_timeAreaViewChanged:function(){"use strict";var e=this;if(e.options.updateSuspended)e._timeAreaViewUpdateNeeded=!0;else{var t=e._timeAxis.actualTimeAreaWidth(),a=e._timeAxis.timeAreaViewWidth(),i=e._timeAxis.timeAreaViewScrollOffset(),n=e._timeAxis.actualBaseTimeUnitWidth(),s=[];s[k.BodyAtTheTop]=e._currentBodyViewScrollTops[k.BodyAtTheTop]!==e._layoutRows[k.BodyAtTheTop].scrollStart(),s[k.MainBody]=e._currentBodyViewScrollTops[k.MainBody]!==e._layoutRows[k.MainBody].scrollStart();var l=e._currentTimeAreaWidth!==t,c=e._currentTimeAreaViewWidth!==a,m=i-e._currentTimeAreaViewScrollOffset,d=e._currentActualBaseTimeUnitWidth!==n,u=e._currentStart&&e._currentStart.getTime()!==e._timeAxis.actualStart().getTime()||e._currentEnd&&e._currentEnd.getTime()!==e._timeAxis.actualEnd().getTime();if(e._currentBodyViewScrollTops[k.BodyAtTheTop]=e._layoutRows[k.BodyAtTheTop].scrollStart(),e._currentBodyViewScrollTops[k.MainBody]=e._layoutRows[k.MainBody].scrollStart(),e._currentTimeAreaWidth=t,e._currentTimeAreaViewWidth=a,e._currentTimeAreaViewScrollOffset=i,e._currentActualBaseTimeUnitWidth=n,e._currentStart=e._timeAxis.actualStart(),e._currentEnd=e._timeAxis.actualEnd(),s[k.MainBody]||l||c||m||d||u){if(e.options.virtualized&&!s[k.MainBody]&&!s[k.BodyAtTheTop]&&m&&d&&e._removeRealizedRowsIfTooMany(),l&&!e._changeTimeAreaWidthScrollFactor()){var h=e._calculateTimeAreaOverlayWidth(e._layoutColumns[N.TimeArea].scrollFactorExceeding());e._layoutColumns[N.TimeArea].extent(h),e._doResize()}c?e._provideChartSizeToWorldView():m&&e._provideViewRectsToWorldView();var p=e._backgroundBodyD3s[k.BodyAtTheTop].selectAll("."+tt),_=e._backgroundBodyD3s[k.MainBody].selectAll("."+tt),g=e._foregroundBodyD3s[k.BodyAtTheTop].selectAll("."+tt),f=e._foregroundBodyD3s[k.MainBody].selectAll("."+tt),T=e._highlightedBodyD3s[k.BodyAtTheTop].selectAll("."+Xe),D=e._highlightedBodyD3s[k.MainBody].selectAll("."+Xe),v=this._updateXCoordinateLimiterTransform(),y=e.getCurrentUpperXLimit()-e.getCurrentLowerXLimit(),S=e._extendCallbackArgs({isForeground:!1,width:e._actualLayoutColumnLeft(N.TimeArea)+y,timeAreaWidth:y,bodyViewScrollOffsetChanged:s[k.MainBody],timeAreaWidthChanged:l,timeAreaViewWidthChanged:c,timeAreaViewScrollOffsetChanged:!!m,baseTimeUnitWidthChanged:d,startOrEndChanged:u,xCoordTransformChanged:v,rowHeightChanged:!1}),w=this.convertXToLimitedX(i),I="translate("+-w+")",b=[];if(b[k.BodyAtTheTop]="translate("+-w+","+-e._layoutRows[k.BodyAtTheTop].scrollStart()+")",b[k.MainBody]="translate("+-w+","+-e._layoutRows[k.MainBody].scrollStart()+")",[p,_].forEach((function(t){t&&t.each((function(t){var i=r.select(this).select("."+ut),n=i.select("g."+ht);c&&(i.select("."+et).attr("width",a),i.select("."+ct).attr("x2",a)),(l||d||u||v)&&e._getCurrentlyDisplayedElementsInRow(t)&wt.CalendarGrid&&e._updateCalendarGridForRow(t,n,!1),Array.isArray(e._determineDateAreasForRowDataItem(t))&&e._positionDateAreasInRow(t,i,!1),e.options.timeAreaRowUpdateFunc&&(S.rowItem=t.item,S.rowElem=i.node(),S.parentElem=n.node(),e.options.timeAreaRowUpdateFunc.call(e,S))}))})),S.isForeground=!0,[g,f,T,D].forEach((function(t){t&&t.each((function(t){var a=r.select(this).select("."+ut),i=a.select("g."+ht);((d||u||v)&&(i.selectAll(Dt).each((function(a){if(a){var i=r.select(this);void 0!==t.oldY?e._positionBarFully(i,t,a,void 0,void 0,!0):e._positionBar(i,a,void 0,void 0,!0)}})),Array.isArray(e._determineDateAreasForRowDataItem(t))&&e._positionDateAreasInRow(t,a,!0),e.options.timeAreaRowUpdateFunc&&(S.rowItem=t.item,S.rowElem=a.node(),S.parentElem=i.node(),e.options.timeAreaRowUpdateFunc.call(e,S))),e.options.rowOmissionSymbolsVisible)&&r.select(this).selectAll("."+e.NXXXXX.ROW_OMISSION_SYMBOL_CLASS+" line").attr("x2",e._actualScaledMainWidth())}))})),(m||d||u||v)&&e._svgRootD3.selectAll(".ngantt-phantom-row").each((function(){var t=r.select(this).select("."+ut).select("g."+ht);t.attr("transform","translate("+-w+")"),(d||u||v)&&t.selectAll(Dt).each((function(t){if(t){var a=r.select(this),i=o(a.attr("transform")).translate[1];e._positionBarFully(a,void 0,t,void 0,void 0,void 0,i),t.frameD3&&(d||v)&&t.frameD3.attr("transform","translate("+(e.convertXToLimitedX(e._timeAxis.convertDateToX(t.frameStart))+jt)+","+(t.newY+Zt)+")").select("."+ce).attr("width",e.convertXToLimitedX(e._timeAxis.convertDateToX(t.frameEnd))-e.convertXToLimitedX(e._timeAxis.convertDateToX(t.frameStart))+2*e._phantomFrameDistance)}}))})),d||u||v){var A={};e._linksD3&&e._linksD3.selectAll("."+Ge).each((function(t){var a=t.sourceTimeDataItem;if(a&&e._getDataItemByID(a.id,e._timeDataItemsMap)&&(A[a.id]||(A[a.id]=!0,a.elem&&a.elem.parentElement&&!a.isHiddenByLimits&&0!==a.rowDataItem.totalHeight&&e._isTimeDataItemVisible(a)||e._positionBar(null,a,2)),(a=t.targetTimeDataItem)&&e._getDataItemByID(a.id,e._timeDataItemsMap))){A[a.id]||(A[a.id]=!0,a.elem&&a.elem.parentElement&&!a.isHiddenByLimits&&0!==a.rowDataItem.totalHeight&&e._isTimeDataItemVisible(a)||e._positionBar(null,a,2));var i=r.select(this);e._positionLink(i,t,R.LinkItemsChanged)}})),e._updateRowDateLinesX()}(m||u||v)&&([p,_,g,f,T,D].forEach((function(e){e&&e.selectAll("."+ht).attr("transform",I)})),[e._highlightedBodyD3s,e._phantomsBodyD3s].forEach((function(e){e&&e.forEach((function(e){e.selectAll(" ."+ht).attr("transform",I)}))})),e._verticalDragAreaD3&&e._verticalDragAreaD3.attr("transform",I)),(u||isNaN(m))&&e._updateDateLineGrids(),(l||d||v)&&([e._backgroundDateLinesD3,e._foregroundDateLinesD3,e._dateLineGridsD3].forEach((function(t){t&&t.selectAll("."+Ae).each((function(){e._positionDateLine(r.select(this))}))})),e.__sortAndRepositionDateLines(),[e._backgroundDateAreasD3,e._foregroundDateAreasD3].forEach((function(t){t&&t.selectAll("."+Ie).each((function(){e._positionDateArea(r.select(this))}))}))),(m||u||v)&&(e._backgroundDateLinesD3&&e._backgroundDateLinesD3.attr("transform",I),e._foregroundDateLinesD3&&e._foregroundDateLinesD3.attr("transform",I),e._backgroundDateAreasD3&&e._backgroundDateAreasD3.attr("transform",I),e._foregroundDateAreasD3&&e._foregroundDateAreasD3.attr("transform",I),e._dateLineGridsD3&&e._dateLineGridsD3.attr("transform",I),e._linkHotRegionsD3&&e._linkHotRegionsD3.attr("transform",b[k.MainBody]),e._linksD3&&e._linksD3.attr("transform",b[k.MainBody]),e._selectedLinksD3&&e._selectedLinksD3.attr("transform",b[k.MainBody]),ne.forEach((function(t){e._barSelectionFramesD3&&e._barSelectionFramesD3[t].attr("transform",b[t]),e._rowDateLinesD3s&&e._rowDateLinesD3s[t].attr("transform",b[t])}))),c&&e._foregroundBodyD3s.forEach((function(t){t&&t.select("line.ngantt-last-separation-line").attr("x2",e._actualLayoutColumnLeft(N.TimeArea)+a)})),(l||c||m||d||u)&&e._timescaleWidgets.forEach((function(e){e.render()})),(e.options.alternatingTimeStripesVisible||e.options.timescaleRibbonDateLinesVisible)&&(m||c||d||u||v)&&e._updateTimescaleDependentStripesOrDateLines()}}},_updateDateLineGrids:function(){"use strict";var e=this,t=e._timeAxis.actualStart().getTime(),a=e._timeAxis.actualEnd().getTime(),i=e._dateLineGridsD3.selectAll("."+Ce);i.selectAll("."+Ae).remove(),i.each((function(){var i=r.select(this),n=i.property(xe);e._callFunctionForAllDatesInDateLineGrid(t,a,n,(function(t){e._createDateLine(i,{date:t,dateLineGridColor:e.options.dateLineGridColor,dateLineGridDashArray:e.options.dateLineGridDashArray,dateLineGridWidth:e.options.dateLineGridWidth})}))}))},_callFunctionForAllDatesInDateLineGrid:function(e,t,a,i){"use strict";var r=this,n=this.options.locale instanceof u?r.options.locale.applyDateFormat:function(e){return e()};c.applyTimeZone(r.options.timeZone,(function(){for(var o=c.dateToMomentIfNecessary(new Date(e-1));!((o=n.call(r.options.locale,(function(){return c.addToDateOrMoment(c.normalizeDateOrMoment(o,a,1),a,1)}))).valueOf()>=t);)i.call(r,c.toDate(o))}))},timeRange:function(e,t){"use strict";try{var a=this;v.assertDate(e,"",0),v.assertDate(t,"",1),a.options.updateSuspended||a._timeAxis.cacheEvents(),a._timeAxis.startAndEnd(e,t),a.options.updateSuspended||a._timeAxis.triggerCachedEvents(),a._timeAreaViewChanged()}catch(e){this._handleException(e,"timeRange")}return this},timeAxis:function(){return this._timeAxis},timescaleWidget:function(){return this._timescaleWidgets[P.top]},zoom:function(e){"use strict";try{var t=this;t._timeAxis.cacheEvents();var a=t._timeAxis.actualBaseTimeUnitWidth(),i=t._timeAxis.timeAreaViewScrollOffset();t._saveXStretchCenterCoordinate(i),e===Ot.Stretch?t._timeAxis.baseTimeUnitWidth(1.25*a):t._timeAxis.baseTimeUnitWidth(.8*a);var r=t._timeAxis.actualBaseTimeUnitWidth();if(r!==a){var n=i*r/a;n<0&&(n=0),t._PE_SetTimeAreaViewScrollOffset(n)}t._timeAxis.triggerCachedEvents()}catch(e){this._handleException(e,"zoom")}},fitTimeAreaIntoView:function(e,t,a){"use strict";try{var n=this;v.assertDateOrNull(e,"",0),v.assertDateOrNull(t,"",1),(!n._temporaryMarkMinimumDate||(new Date).getTime()>n._temporaryMarkMinimumDate)&&(n._temporaryMarkVisible=void 0);var o=i.Deferred(),s=n._timeAxis.timeAreaViewWidth(),l=z.timeUnitToSeconds(n._timeAxis.baseTimeUnit());if((!e||e.getTime()<n._timeAxis.actualStart().getTime())&&(e=n._timeAxis.actualStart()),(!t||t.getTime()>n._timeAxis.actualEnd().getTime())&&(t=n._timeAxis.actualEnd()),e.getTime()<t.getTime()){var c=$.calculateWorkingTime(n._timeAxis.collapseCalendar(),t,e);if(!c)return;var m=s/(c/l/1e3),d=this._timeAxis.actualBaseTimeUnitWidth(),u=this._timeAxis.timeAreaViewScrollOffset();if(m===d)return void n.scrollTimeAreaViewToDate(e,!0,a);n._timeAxis.cacheEvents(),n._timeAxis.baseTimeUnitWidth(m);var h=n._timeAxis.convertDateToX(e);n._timeAxis.baseTimeUnitWidth(d),n._PE_SetTimeAreaViewScrollOffset(u);var p=function(){n._timeAxis.cacheEvents(),n._timeAxis.baseTimeUnitWidth(m),n._PE_SetTimeAreaViewScrollOffset(h),n._timeAxis.setFittedTimeAreaViewStartAndEnd(e,t),n._timeAxis.triggerCachedEvents(),o.resolve()};a?p():r.select(this).transition().duration(n._timeAreaTransitionDuration).ease(r.easeLinear?r.easeLinear:"linear").tween("fitTimeAreaIntoView",(function(){var e=r.interpolate(d,m);return function(t){var a=e(t);n._timeAxis.cacheEvents(),n._timeAxis.baseTimeUnitWidth(a);var i=Math.max(0,(d-a)/(d-m));n._PE_SetTimeAreaViewScrollOffset(u+(h-u)*i),n._timeAxis.triggerCachedEvents()}}))[r.timeFormat?"on":"each"]("end",p)}else o.reject()}catch(e){o.reject(),this._handleException(e,"fitTimeAreaIntoView")}return o.promise()},scrollTimeAreaViewToDate:function(e,t,a,n){"use strict";var o=i.Deferred();try{var s=this;v.assertDateOrNull(e,"",0),v.assertStringOrNull(n,"",3);var l=this.options.scrollToViewOffsetPercentage;t||null==n||(n.indexOf("%")>-1?l=parseInt(n,10):n.indexOf("px")>-1&&(l=100*parseInt(n,10)/this._timeAxis.timeAreaViewWidth())),s._scrollingFinished=!1;var c=this._timeAxis.timeAreaViewScrollOffset(),m=this._timeAxis.convertDateToX(e)-(t?0:this._timeAxis.timeAreaViewWidth()*l/100);m<0&&(m=0),a||!s.options.transitionDuration?(s._PE_SetTimeAreaViewScrollOffset(m),s._scrollingFinished=!0,o.resolve()):r.select(this).transition().duration(s._timeAreaTransitionDuration).tween("text",(function(){var e=r.interpolateRound(c,m);return function(t){s._PE_SetTimeAreaViewScrollOffset(e(t))}}))[r.timeFormat?"on":"each"]("end",(function(){s._scrollingFinished=!0,o.resolve()}))}catch(e){o.reject(),this._handleException(e,"scrollTimeAreaViewToDate")}return o.promise()},_collapseCalendarChanged:function(){"use strict";var e=this;null!=this.options.rowItemsRoot&&e.invalidateAllRows();var t=Math.floor(e._timeAxis.timeAreaViewWidth()/2),a=e._timeAxis.convertXToDate(Math.round(e._timeAxis.timeAreaViewScrollOffset())+t);e._timeAxis.collapseCalendar(e.options.collapseCalendar);var i=e._timeAxis.convertDateToX(a)-t;Math.abs(e._timeAxis.timeAreaViewScrollOffset()-i)>1&&e._PE_SetTimeAreaViewScrollOffset(i),e._updateDateLineGrids(),e._bodyChanged(R.TimeAxisChanged)},eventPointToTimeArea:function(e){"use strict";var t,a=this;if(r.mouse){var i=r.event;e&&(r.event=e),t=r.mouse(a._svgRootD3.node()),r.event=i}else t=r.pointer(e,a._svgRootD3.node());return a._pointToTimeArea(t)},pagePointToTimeArea:function(e,t){"use strict";var a=this,i=a._pointToSVGRelative(a._svgRootD3.node(),e,t);return a._pointToTimeArea([i.x,i.y])},_pointToTimeArea:function(e){"use strict";var t=this;if(e[1]>=t._actualBodyViewTop(k.BodyAtTheTop)&&e[1]<t._actualInnerBodyViewBottom(k.MainBody)&&e[0]>=t._actualLayoutColumnLeft(N.TimeArea)&&e[0]<t._actualInnerLayoutColumnRight(N.TimeArea)){var a=e[0]-t._actualLayoutColumnLeft(N.TimeArea)+t._timeAxis.timeAreaViewScrollOffset(),i=t._timeAxis.convertXToDate(a,!1,!0);return{pageX:e[0],x:a,date:i,y:e[1]-t._actualTitleHeight(P.top)}}},pageXToTimeAxisX:function(e){"use strict";return(e-this.element[0].getBoundingClientRect().left)/this.options.visualZoomFactor-this._actualLayoutColumnLeft(N.TimeArea)+this._timeAxis.timeAreaViewScrollOffset()},timeAxisXToPageX:function(e){"use strict";return e*this.options.visualZoomFactor+this._actualLayoutColumnLeft(N.TimeArea)-this._timeAxis.timeAreaViewScrollOffset()+this.element[0].getBoundingClientRect().left},pageXToDate:function(e){return this._timeAxis.convertXToDate(this.pageXToTimeAxisX(e),!1,!0)},dateToPageX:function(e){"use strict";return this._timeAxis.convertDateToX(e)+this._actualLayoutColumnLeft(N.TimeArea)-this._timeAxis.timeAreaViewScrollOffset()+this.element[0].getBoundingClientRect().left},isInInteraction:function(){"use strict";try{return this._super()||this._barDragging.isInitiated()||this._isInDateLineInteraction||!!this._temporaryTimeAreaViewScrollOffsetForBarSelection}catch(e){return this._handleException(e,"isInInteraction"),!1}},isInPinchZoomInteraction:function(){"use strict";try{return!!this._pinchStartTime}catch(e){return this._handleException(e,"isInPinchZoomInteraction"),!1}},_cancelInteractionAtLast:function(e){"use strict";this._super(),this._barDragging.isInitiated()?this._barDragging.terminate(e,!0):this._temporaryTimeAreaViewScrollOffsetForBarSelection&&this._finishBarSelectionRectangle(void 0,!0)},getTimeItem:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=r.select(e).datum();return t?t.item:void 0}catch(e){this._handleException(e,"getTimeItem")}},determineTimeItemExtent:function(e,t){"use strict";try{v.assertNotNull(e,"",0);var a=this,i=a._getDataItem(e,a._timeDataItemsMap);if(i)return i?a._determineTimeDataItemExtent(i,void 0,void 0,t):void 0}catch(e){this._handleException(e,"determineTimeItemExtent")}},getRowItem:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=this;if(e instanceof Element)return void 0===(a=t._super(e))?(a=r.select(i(e).closest("."+oe+",."+ut)[0]).data()[0])?a.item:void 0:a;var a,n=t._getDataItem(e,t._timeDataItemsMap,t._unusedTimeDataItemsMap);return(a=n?n.rowDataItem:void 0)?a.item:void 0}catch(e){this._handleException(e,"getRowItem")}},getVisibleRowItem:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=this,a=t._getDataItem(e,t._timeDataItemsMap,t._unusedTimeDataItemsMap),i=a&&a.rowDataItem?a.rowDataItem.visibleRowDataItem:void 0;return i?i.item:void 0}catch(e){this._handleException(e,"getVisibleRowItem")}},disposeUnusedItems:function(){"use strict";try{var e=this;e._super(),e._unusedTimeDataItemsMap.clear();for(let t of e._unusedLinkDataItemsMap.values())t.sourceTimeDataItem&&"linkCounter"in t.sourceTimeDataItem&&t.sourceTimeDataItem.linkCounter--,t.targetTimeDataItem&&"linkCounter"in t.targetTimeDataItem&&t.targetTimeDataItem.linkCounter--;e._unusedLinkDataItemsMap.clear()}catch(e){this._handleException(e,"disposeUnusedItems")}},disposeUnusedItem:function(e){"use strict";this._unusedTimeDataItemsMap.delete(e.id)||this._unusedLinkDataItemsMap.delete(e.id)||this._super(e)},scrollToItem:function(e,t,a,n,o){"use strict";try{v.assertNotNull(e,"",0);var s=this,l=s._super(e,t,a,n,o);if(!l){var c,m,d=s._getDataItem(e,s._timeDataItemsMap);if(!d)throw Error("Item not found");if(d.parentTimeDataItem&&(d=d.parentTimeDataItem),!s._canTimeDataItemBeVisible(d)&&d.rowDataItem)return s._super(d.rowDataItem.item,t,a,n,o);if("string"==typeof t&&(c=(t=t.split(",")).indexOf("left")>=0?"left":t.indexOf("hcenter")>=0?"center":t.indexOf("right")>=0?"right":void 0,m=t.indexOf("top")>=0?"top":t.indexOf("vcenter")>=0?"center":t.indexOf("bottom")>=0?"bottom":void 0,t=void 0),!s._isTimeDataItemVisible(d)){var u,h=[];for(u=d.rowDataItem;u;u=u.parentRowDataItem)h.unshift(u);h.shift(),h.every((function(e,t){let a=d.rowDataItem.isLeaf&&t===h.length-2;return!(a?e.areLeavesCollapsed:e.isCollapsed)||(s._expandOrCollapseRow(e,!1,!1,a),!s._isTimeDataItemVisible(d))}))}var p=d.rowDataItem.visibleRowDataItem;s._isRowDataItemVirtualized(p)&&s._createRow(p,p,R.ScrollToRow);var _=s._getBodyAreaIndex(p.item),g=[],f=[],T=s._determineTimeDataItemExtent(d);if(null==n||n){if(m||null!=t||(p.oldY+T.bottom<s._layoutRows[_].scrollStart()?m="top":p.oldY+T.constraintTop>s._layoutRows[_].scrollStart()+s._layoutRows[_].innerViewExtent()&&(m="bottom")),m){var D=T.bottom-T.constraintTop;t="top"===m?-s.determineActualRowMargins().top:"center"===m?(s.determineActualRowMargins().sum-(s._layoutRows[_].innerViewExtent()-D))/2:"bottom"===m?s.determineActualRowMargins().bottom-(s._layoutRows[_].innerViewExtent()-D):void 0}null!=t&&(g[_]=Math.max((p.newY||p.oldY)+(d.newY??d.oldY??0)+t+T.constraintTop,0))}if(null==a||a){t="left"===c?T.left-10:"right"===c?T.right-s._currentTimeAreaViewWidth+10:(T.right+T.left)/2-s._currentTimeAreaViewWidth/2;var y=s._currentTimeAreaViewScrollOffset>T.right,S=s._currentTimeAreaViewScrollOffset+s._currentTimeAreaViewWidth<T.left;(c||y||S)&&(f[N.TimeArea]=Math.max(t,0))}var w=i.Deferred();if(l=w.promise(),o){var I=s._getScrollOffsets(N.TimeArea,_);void 0===f[N.TimeArea]&&(f[N.TimeArea]=I.horScrollOffset),void 0===g[_]&&(g[_]=I.verScrollOffset);var b={horScrollOffset:f[N.TimeArea],verScrollOffset:g[_]},A=["horScrollOffset","verScrollOffset"],E=Math.abs(b.horScrollOffset-I.horScrollOffset)>Math.abs(b.verScrollOffset-I.verScrollOffset)?0:1,C=(b[A[1-E]]-I[A[1-E]])/(b[A[E]]-I[A[E]]);r.select(s.element[0]).transition().duration(s.options.transitionDuration).tween("scrollToItem",(function(){var e=r.interpolate(I[A[E]],b[A[E]]);return function(t){if(E){var a=g[_]=Math.floor(e(t));C&&isFinite(C)&&(f[N.TimeArea]=Math.floor((a-I[A[E]])*C+I[A[1-E]]))}else{var i=f[N.TimeArea]=Math.floor(e(t));C&&isFinite(C)&&(g[_]=Math.floor((i-I[A[E]])*C+I[A[1-E]]))}s._scrollTo(f,g)}}))[r.timeFormat?"on":"each"]("end",(function(){w.resolve()}))}else s._scrollTo(f,g),w.resolve()}return l}catch(e){this._handleException(e,"scrollToItem")}},getItemBoundingRect:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=this,a=t._super(e);if(a)return a;var i=t._getDataItem(e,t._timeDataItemsMap);if(i&&t._isTimeDataItemVisible(i)){var r=t._determineTimeDataItemExtent(i);return{xOffset:0,yOffset:r.top,left:r.outerLeft,right:r.outerRight,width:r.outerRight-r.outerLeft,top:i.newY+i.rowDataItem.visibleRowDataItem.newY+r.top,bottom:i.newY+i.rowDataItem.visibleRowDataItem.newY+r.bottom,height:r.bottom-r.top}}}catch(e){this._handleException(e,"getItemBoundingRect")}return null},getElementOfItem:function(e,t){"use strict";try{v.assertNotNull(e,"",0);var a=this,i=!0===t||1===t,n=a._getDataItem(e,a._rowDataItemsMap);if(n)return 2===t?r.select(n.foregroundRowElem).select("."+a.NXXXXX.TABLE_ROW_CLASS).node():i?n.backgroundRowElem:n.foregroundRowElem;if(n=a._getDataItem(e,a._timeDataItemsMap))return i?n.backgroundElem:n.elem;if(n=a._getDataItem(e,a._linkDataItemsMap))return 2===t?n.hotRegionElem:n.elem}catch(e){this._handleException(e,"getElementOfItem")}},invalidateRow:function(e,t,a){"use strict";if(t){var i=this._getDataItem(e,this._rowDataItemsMap,this._unusedRowDataItemsMap);if(i){for(var r=i;i.visibleRowDataItem!==r;){if(!(this._getCurrentlyDisplayedElementsInRow(r)&wt.Bars)){r=i;break}r=r.parentRowDataItem}e=r.item}}this._doInvalidateRowWithCheck(e,{barsChangedFlag:t,childRowsChangedFlag:a})},deactivateInvalidationOfSubRowIndexesOfBarsInRows:function(e){this._invalidationOfSubRowIndexesOfBarsInRowsDeactivated=e},calculateInvalidSubRowIndexesOfBarsInRows:function(){"use strict";try{var e=this;Object.keys(e._invalidRowDataItemIDsForSubRowIndexesMap).forEach((function(t){var a=e._rowDataItemsMap.get(t);a&&(e._calculateSubRowIndexesOfBarsInRow(a),delete a.totalHeight)})),e._invalidRowDataItemIDsForSubRowIndexesMap={}}catch(e){this._handleException(e,"calculateInvalidSubRowIndexesOfBarsInRows")}},_handleRowInvalidationAtLast:function(e,t,a,i){"use strict";this._super(e,t,a,i),this._invalidationOfSubRowIndexesOfBarsInRowsDeactivated||(this.options.automaticCalculationOfSubRowIndexesOfBarsInRow?this._calculateSubRowIndexesOfBarsInRow(e):this._invalidRowDataItemIDsForSubRowIndexesMap[e.id]=!0),(t||a)&&delete e.worldViewBarCacheMap},update:function(){"use strict";try{this._super(),this.calculateInvalidSubRowIndexesOfBarsInRows(),this._bodyChanged(R.RowItemsChanged)}catch(e){this._handleException(e,"update")}},_getCurrentlyDisplayedElementsInRow:function(e){"use strict";return e.isCollapsed?this._getCollapsedDisplayedElementsForRowDataItem(e):this._getExpandedDisplayedElementsForRowDataItem(e)},_getCollapsedDisplayedElementsForRowDataItem:function(e){"use strict";var t=e.item.collapsedDisplayedElements;return null==t&&(t=e.isLeaf?this.options.defaultLeafRowDisplayedElements:this.options.defaultRowCollapsedDisplayedElements),+t||0},_getExpandedDisplayedElementsForRowDataItem:function(e){"use strict";var t=e.item.expandedDisplayedElements;return null==t&&(t=e.isLeaf?this.options.defaultLeafRowDisplayedElements:this.options.defaultRowExpandedDisplayedElements),(+t||0)&~wt.BarsOfCollapsedChildRows},_determineVisibleTimeDataItemsInRow:function(e){"use strict";var t=this,a=function(e,i,r,n){Array.isArray(e.item.timeItems)&&t._doDetermineTimeDataItems(e.item.timeItems,i,!0),e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(o,s){(s||t.options.leafBarsVisibleOnParentRows)&&(s?r:n)&&t._getCurrentlyDisplayedElementsInRow(e)&(s?wt.BarsOfCollapsedChildRows:wt.Bars)&&Array.isArray(e[o])&&e[o].forEach((function(e){e&&a(e,i,r,n)}))}))},i=[];return a(e,i,e.isCollapsed,!t.options.leafRowsVisible||e.areLeavesCollapsed),i},_determineTimeDataItems:function(e,t){"use strict";var a=[];return e&&this._doDetermineTimeDataItems(e,a,t),a},_doDetermineTimeDataItems:function(e,t,a){"use strict";var i=this;e.forEach((function(e){var r=i._getDataItem(e,i._timeDataItemsMap);if(r){var n=ta(r.item.zOrder);n||t.push(r),a&&Array.isArray(e.childTimeItems)&&i._doDetermineTimeDataItems(e.childTimeItems,t,!r.parentTimeDataItem),n&&t.push(r)}}))},_determineSuperTimeDataItem:function(e){"use strict";for(var t=e;t.parentTimeDataItem?.barShape;)t=t.parentTimeDataItem;return t},_determineDescendantTimeDataItems:function(e){"use strict";var t=[];return this._doDetermineDescendantTimeDataItemsRecursively(e,t),t},_doDetermineDescendantTimeDataItemsRecursively:function(e,t){"use strict";var a=this;Array.isArray(e.item?.childTimeItems)&&e.item.childTimeItems.forEach((function(e){var i=a._getDataItem(e,a._timeDataItemsMap);i&&a._doDetermineDescendantTimeDataItemsRecursively(i,t)})),e.item?.childTimeItems&&!e.item?.barShape||t.push(e)},_determineTimeRange:function(e,t,a,i){"use strict";var r=!!t;return t?(t.constraintStart||(t.constraintStart=t.outerStart),t.constraintEnd||(t.constraintEnd=t.outerEnd)):t={start:void 0,outerStart:void 0,end:void 0,outerEnd:void 0},this._doDetermineTimeRangeRecursively(e,t,a,i),t.start||r?t:void 0},_determineCalendarForRowDataItem:function(e){let t=e?.item.calendar;return"fromParentRow"===t&&(t=e.parentRowDataItem.item.calendar),t||(t=this.options.defaultCalendar),t},_determineDateAreasForRowDataItem:function(e){let t=e.item.dateAreas;return"fromParentRow"===t&&(t=e.parentRowDataItem.item.dateAreas),t},_doDetermineTimeRangeRecursively:function(e,t,a,i){"use strict";var r=this;if(!i||e.item&&!1!==e.item.markable)if(e.item&&!e.item.barShape&&Array.isArray(e.item.childTimeItems)&&e.item.childTimeItems.length)e.item.childTimeItems.forEach((function(e){var n=r._getDataItem(e,r._timeDataItemsMap);r._doDetermineTimeRangeRecursively(n,t,a,i)}));else if(!a||!a[e.id]){var n=r._timeAxis,o=r._getActualBarShape(e.timeDataItem||e),s=o===At.None?bt.None:r._getActualBarType(e,!e.item),l=e.item?e.item:e,c=s&It.Start&&r._getBindingPropertyInfosAndValue(l,"start","date").value||null,m=s&It.End&&r._getBindingPropertyInfosAndValue(l,"end","date").value||c;if(s&It.Duration){var d=r._getBindingPropertyInfosAndValue(l,"duration","number").value||0,u=e.item.calendar??r._determineCalendarForRowDataItem(e.rowDataItem);c&&s&It.Start?m=$.addWorkingTime(u,c,d)||c:m&&(c=$.addWorkingTime(u,m,-d))}if((!(s&It.Start)||c)&&(!(s&It.End)||m)){if(r._barDragging.isInitiated()&&!r._barDragging.isDropped())if((e.parentTimeDataItem||e).isCurrentlyDraggedCoupled){u=e.item.calendar??r._determineCalendarForRowDataItem(e.rowDataItem);var h=r._barDragging.modifyStartEndForCoupledTimeItems(u,c,m);c=h.start,m=h.end}var p,_=c,g=m;if(c&&m)(p=r._barFactory.getBarOffsets(r._extendCallbackArgs({barShapeId:o,item:e.item,rowItem:e.rowDataItem&&e.rowDataItem.item})))&&(p.startOffset&&(_=n.convertXToDate(n.convertDateToX(c)-p.startOffset)),p.endOffset&&(g=n.convertXToDate(n.convertDateToX(m)+p.endOffset))),(p=r._handleOffsetsOnStartAndEnd(e.timeDataItem||e,c,m)).outerStart&&(_=p.outerStart),p.outerEnd&&(g=p.outerEnd);s!==bt.None&&(_&&(!t.outerStart||t.outerStart.getTime()>_.getTime())&&(t.outerStart=_,(!t.constraintStart||t.constraintStart.getTime()>_.getTime())&&(t.constraintStart=_)),c&&(!t.start||t.start.getTime()>c.getTime())&&(t.start=c),g&&(!t.outerEnd||t.outerEnd.getTime()<g.getTime())&&(t.outerEnd=g,(!t.constraintEnd||t.constraintEnd.getTime()<g.getTime())&&(t.constraintEnd=g)),m&&(!t.end||t.end.getTime()<m.getTime())&&(t.end=m),!e.rowDataItem||e.rowDataItem.visibleRowDataItem.isHidden||e.timeDataItem||(Array.isArray(e.item.constraints)&&e.item.constraints.length&&e.item.constraints.forEach((function(e){if(e.date instanceof Date){var a=e.date.getTime();t.constraintStart.getTime()>a?t.constraintStart=e.date:t.constraintEnd.getTime()<a&&(t.constraintEnd=e.date)}})),e.item.predictedEnd instanceof Date&&(t.constraintEnd.getTime()<e.item.predictedEnd.getTime()?t.constraintEnd=e.item.predictedEnd:t.constraintStart.getTime()>e.item.predictedEnd.getTime()&&(t.constraintStart=e.item.predictedEnd))))}}},_handleOffsetsOnStartAndEnd:function(e,t,a){"use strict";var i,r,n=this._timeAxis,o=+e.item.startOffsetInPixels;return o&&(o>0?i=n.convertXToDate(n.convertDateToX(t)-o):r=n.convertXToDate(Math.max(n.convertDateToX(a),n.convertDateToX(t)-o))),(o=+e.item.endOffsetInPixels)&&(o>0?r=n.convertXToDate(n.convertDateToX(a)+o):i=n.convertXToDate(Math.min(n.convertDateToX(t),n.convertDateToX(a)+o))),{outerStart:i,outerEnd:r}},_determineTimeDataItemExtent:function(e,t,a,i){"use strict";var r=this;if(t=r._determineTimeRange(e,t,a,i)){t.left=r._timeAxis.convertDateToX(t.start),t.right=r._timeAxis.convertDateToX(t.end),t.outerLeft=r._timeAxis.convertDateToX(t.outerStart),t.outerRight=r._timeAxis.convertDateToX(t.outerEnd),t.top=Number.MAX_VALUE,t.bottom=Number.MIN_VALUE,t.constraintLeft=r._timeAxis.convertDateToX(t.constraintStart),t.constraintRight=r._timeAxis.convertDateToX(t.constraintEnd),t.constraintTop=Number.MAX_VALUE;var n=r.options.constraintSymbolsInMargin?0:r.options.detailedConstraintSymbolsEnabled?r.options.constraintSymbolHeight+6:r.options.constraintSymbolHeight,o=(e.timeDataItem||e).rowDataItem.isLeaf?r.options.leafBarTopOffsetAndHeightScaleFactor:r.options.barTopOffsetAndHeightScaleFactor;if(r._determineDescendantTimeDataItems(e.timeDataItem||e).forEach((function(a){if((!i||!1!==a.item.markable)&&r._getActualBarType(a)!==bt.None&&r._isTimeDataItemVisible(a)){var s=Math.round((a.item.barTopOffset||0)*o),l=r._getActualBarHeight(a);t.top>s&&(t.top=s),t.bottom<s+l&&(t.bottom=s+l),e.rowDataItem&&!e.rowDataItem.isHidden&&!e.timeDataItem&&Array.isArray(a.item.constraints)&&a.item.constraints.length&&(s-=n,t.constraintTop>s&&(t.constraintTop=s))}})),t.top!==Number.MAX_VALUE&&e.rowDataItem&&!e.rowDataItem.isHidden&&!e.timeDataItem&&Array.isArray(e.item.constraints)&&e.item.constraints.length&&(t.constraintTop=t.top-n),t.top===Number.MAX_VALUE||(e.timeDataItem||e).item.barShape){var s=Math.round(((e.timeDataItem||e).item.barTopOffset||0)*o),l=r._getActualBarHeight(e.timeDataItem||e);t.top=Math.min(s,t.top),t.bottom=Math.max(s+l,t.bottom)}t.constraintTop===Number.MAX_VALUE&&(t.constraintTop=t.top)}return t},_rowItemsRootChanged_ClearAllSelections:function(){"use strict";this._super(),this._changeTimeItemSelection([])},_rowItemsRootChanged_ClearAdditionalUsages:function(e){"use strict";var t=e.calendarCacheID;void 0!==t&&this._calendarGridDataCache[t]&&0==--this._calendarGridDataCache[t].usageCount&&delete this._calendarGridDataCache[t],delete e.calendarCacheID},_rowItemsRootChanged_prepareUpdate:function(e,t){"use strict";var a=this;t.oldTimeDataItemIDsSet={};for(let e of a._timeDataItemsMap.keys())t.oldTimeDataItemIDsSet[e]=!0;e.forEach((function(e){var i=a._rowItemsRootChanged_getRowDataItemWithChildren(e,t);i.timeDataItems&&(i.timeDataItems.length=0),Array.isArray(e.timeItems)&&e.timeItems.forEach((function(e){a._createTimeDataItemAndChildrenRecursively(e,i,t.oldTimeDataItemIDsSet)}))}))},_rowItemsRootChanged_update:function(e){"use strict";var t=this;(e.rowDataItems.forEach((function(e){t._doCalculateSummaryTimeItemsInRow(e,!0,!1)})),Object.keys(e.oldTimeDataItemIDsSet).forEach((function(e){var a=t._timeDataItemsMap.get(e);delete a.parentTimeDataItem,delete a.rowDataItem,a&&!t.options.autoDisposeOfUnusedItems&&t._unusedTimeDataItemsMap.set(e,a),t._timeDataItemsMap.delete(e)})),t.options.rowItemsRoot)&&t._determineRowDataItems(!0).forEach((function(e){t._calculateSubRowIndexesOfBarsInRow(e)}));t._removeAllRowDateLines(),t._super(e)},_linkItemsChanged:function(){"use strict";var e=this;e._temporaryMarkVisible=void 0;var t={},a={},r={};for(let a of e._linkDataItemsMap.keys()){let i=e._linkDataItemsMap.get(a);t[a]=!0,i.sourceTimeDataItem&&(void 0===i.sourceTimeDataItem.oldLinkCounter&&(i.sourceTimeDataItem.oldLinkCounter=i.sourceTimeDataItem.linkCounter),i.sourceTimeDataItem.linkCounter--,r[i.sourceTimeDataItem.id]=!0),i.targetTimeDataItem&&(void 0===i.targetTimeDataItem.oldLinkCounter&&(i.targetTimeDataItem.oldLinkCounter=i.targetTimeDataItem.linkCounter),i.targetTimeDataItem.linkCounter--,r[i.targetTimeDataItem.id]=!0)}if(e.options.linkItems){for(var n={},o=0;o<e.options.linkItems.length;o++){var s=e.options.linkItems[o],l=e._getOrCreateDataItem(s,e._linkDataItemsMap,e._unusedLinkDataItemsMap);let i=l.dataItem;var c,m=i.id;if(l.isCreated||i.version++,i.sourceTimeDataItem=s.sourceTimeItem?e._getDataItem(s.sourceTimeItem,e._timeDataItemsMap):void 0,i.targetTimeDataItem=s.targetTimeItem?e._getDataItem(s.targetTimeItem,e._timeDataItemsMap):void 0,i.sourceTimeDataItem)if(0!=i.sourceTimeDataItem.linkCounter++||r[i.sourceTimeDataItem.id]||(n[i.sourceTimeDataItem.id]=i.sourceTimeDataItem),i.sourceTimeDataItem.rowDataItem)a[(c=i.sourceTimeDataItem.rowDataItem.visibleRowDataItem).id]=c;if(i.targetTimeDataItem)if(0!=i.targetTimeDataItem.linkCounter++||r[i.targetTimeDataItem.id]||(n[i.targetTimeDataItem.id]=i.targetTimeDataItem),i.targetTimeDataItem.rowDataItem)a[(c=i.targetTimeDataItem.rowDataItem.visibleRowDataItem).id]=c;l.isCreated?e._linkDataItemsMap.set(m,i):(e._unusedLinkDataItemsMap.delete(m),e._linkDataItemsMap.set(m,i),delete t[m])}e.calculateInvalidSubRowIndexesOfBarsInRows(),e.options.virtualized&&i.each(n,(function(t,a){a.elem||e._positionBar(null,a,!0)}))}Object.keys(t).forEach((function(t){var a=e._linkDataItemsMap.get(t);a&&!e.options.autoDisposeOfUnusedItems&&e._unusedLinkDataItemsMap.set(t,a),e._linkDataItemsMap.delete(t)}))},_createTimeDataItemAndChildrenRecursively:function(e,t,a,i){"use strict";var r=this,n=r._getOrCreateDataItem(e,r._timeDataItemsMap,r._unusedTimeDataItemsMap),o=n.dataItem;if(o.parentTimeDataItem=i,n.isCreated)o.linkCounter=0;else{o.rowDataItem&&o.rowDataItem!==t&&o.rowDataItem.timeDataItems.splice(o.rowDataItem.timeDataItems.indexOf(o),1);var s=o.id;o.version++,r._unusedTimeDataItemsMap.delete(s),r._timeDataItemsMap.set(s,o),a&&delete a[s]}return t.timeDataItems||(t.timeDataItems=[]),t.timeDataItems.push(o),o.rowDataItem=t,Array.isArray(e.childTimeItems)&&e.childTimeItems.forEach((function(e){r._createTimeDataItemAndChildrenRecursively(e,t,a,o)})),o},_getActualBarType:function(e,t){"use strict";t&&(e=e.timeDataItem);var a=e.item.barType;return null==a&&(a=this.options.defaultBarType),null==a&&(a=bt.Single),t&&a&It.Duration&&(a=bt.StartEnd),a},_getActualBarShape:function(e){"use strict";var t=e.item.barShape;return null==t&&(t=e.rowDataItem.isLeaf?this.options.defaultLeafBarShape:this.options.defaultBarShape),null==t&&(t=At.Rectangle),this._barFactory.checkBarShapeForBarType(t,this._getActualBarType(e)&~It.Summary)||(t=At.None),t},_getActualBarHeight:function(e){"use strict";var t=this,a=e.item.barHeight;null==a&&(a=e.rowDataItem.isLeaf?t.options.defaultLeafBarHeight:t.options.barHeight),null==a&&(a=0);var i=e.rowDataItem.isLeaf?t.options.leafBarTopOffsetAndHeightScaleFactor:t.options.barTopOffsetAndHeightScaleFactor;return Math.round(a*i)},_getActualBarInteractions:function(e){"use strict";var t=this,a=e.item.start?e.rowDataItem.isLeaf?t.options.forcedLeafBarInteractions:t.options.forcedBarInteractions:Et.None;return null==a&&(a=e.item.barInteractions),null==a&&(a=(e.rowDataItem.isLeaf?t.options.defaultLeafBarInteractions:t.options.defaultBarInteractions)||Et.None),a&Ct},_registerBindingsForTimeItems:function(e){"use strict";var t=this,a=[],i=function(e){e.childTimeItems.forEach((function(e){t._doRegisterBindingsForTimeItem(e)&&a.push(e),Array.isArray(e.childTimeItems)&&i(e)}))};return Array.isArray(e.childTimeItems)&&i(e),a.length?a:void 0},_doRegisterBindingsForTimeItem:function(e){"use strict";var t=!1,a=this._getDataItem(e,this._timeDataItemsMap),i=this._getActualBarType(a);return i&It.Start&&(t|=this._registerBindingForItem(e,"start","date")),i&It.End&&(t|=this._registerBindingForItem(e,"end","date")),i&It.Duration&&(t|=this._registerBindingForItem(e,"duration","number")),t},_registerBindingForItem:function(e,t,a){"use strict";var i=this,r=e[t];if(r&&(r instanceof String||"string"==typeof r)){var n=this._determineBindingTargetAndPropertyName(e,r,a);if(n){var o=n.target[this._BINDING_ID_PROPERTY];o||(o=n.target[this._BINDING_ID_PROPERTY]=this._nextBindingItemID++);var s=this._boundTargetInfosMap[o];s||(s={target:n.target,propertyInfosMap:{}},this._boundTargetInfosMap[o]=s);var l=s.propertyInfosMap[n.propertyName];if(!l){var c=n.target[n.propertyName];if(i.options.convertFunc&&n.withConversion){var m=i._extendCallbackArgs({item:n.item,attr:n.itemAttr,value:c});void 0===(c=i.options.convertFunc.call(i,m))&&(c=m.value)}l={value:c,itemInfos:[]},s.propertyInfosMap[n.propertyName]=l}return l.itemInfos.push({item:e,itemPropertyName:t}),!0}}return!1},_determineBindingTargetAndPropertyName:function(e,t,a){"use strict";var i,r=!1;"convert:"===t.substring(0,8)&&(t=t.substring(8),r=!0),"."===t[0]&&(t=t.slice(1)),"_super."===t.substring(0,7)&&(t=t.substring(7),e=(i=this._getDataItem(e,this._timeDataItemsMap))?i.parentTimeDataItem.item:(i=this._getDataItem(e,this._rowDataItemsMap))?i.parentRowDataItem.item:void 0);var n=t.split("."),o=n.pop(),s=e;if(n.forEach((function(e){s&&(s=s[e])})),s&&o&&(r||typeof s[o]===a||s[o]instanceof Ft[a]))return{target:s,propertyName:o,item:e,itemAttr:t,withConversion:r}},_getBindingPropertyInfosAndValue:function(e,t,a){"use strict";var i=e[t];if(i&&(i instanceof String||"string"==typeof i)){var r=this._determineBindingTargetAndPropertyName(e,i,a);if(r){var n=r.target[this._BINDING_ID_PROPERTY];if(n){var o=this._boundTargetInfosMap[n];if(o){var s=o.propertyInfosMap[r.propertyName];return{propertyInfos:s,value:s.value}}}if(this.options.convertFunc&&r.withConversion){var l=this._extendCallbackArgs({item:r.item,attr:r.itemAttr,value:r.target[r.propertyName]});void 0===(i=this.options.convertFunc.call(this,l))&&(i=l.value)}else i=r.target[r.propertyName]}}return{propertyInfos:null,value:typeof i===a||i instanceof Ft[a]?i:void 0}},_unregisterAllItems:function(){"use strict";this._boundTargetInfosMap={}},_isBindingActive:function(){"use strict";return!!Object.keys(this._boundTargetInfosMap).length},_onTimescaleContextMenu:function(e,t){"use strict";var a=this;a.options.onEventFunc&&(a._setBarInteractionCursor(Et.None),a._triggerEvent({sender:"Timescale",eventType:"contextmenu",elem:this,event:e,timePeriodStartDate:t.startDate,timePeriodEndDate:t.endDate})),a.options.preventDefaultOnContextMenuEvents&&(e.stopPropagation(),e.preventDefault())},_createTimeAreaRow:function(e,t,a,i,r,n){"use strict";var o=this;if(n)a&&(r===R.ScrollToRow||r===R.BeforeRowCollapse||Array.isArray(o.options.linkItems)&&o.options.linkItems.length)&&o._createAllBarsInRow(e,null,i,r,n);else{var s,l=this.convertXToLimitedX(o._timeAxis.timeAreaViewScrollOffset());if(r!==R.WorldView){var c=t.append("g").attr("class",ut+" "+ot).attr("transform","translate("+(o._actualLayoutColumnLeft(N.TimeArea)+Jt)+")").attr("clip-path","url(#"+o.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")");if(!a){let t=c.append("rect").attr("class",ot+" "+et).attr("width",o._timeAxis.timeAreaViewWidth());m.on(t.node(),"pointerdown"+o._EVENT_NAMESPACE,(function(){o._setActiveHorizontalBodyAreaIndex(o._getBodyAreaIndex(e.item))}))}s=c.append("g").attr("class",ht).attr("transform","translate("+-l+")")}a?o._createAllBarsInRow(e,s,i,r):(r!==R.WorldView&&(o._createCalendarGridInRow(e,s),o._updateCalendarGridForRow(e,s,!1)),o._determineCalendarGridForRowInWorldView(e)),n||r===R.WorldView||o._createDateAreasInRow(e,s,a,r),o._determineDateAreasForRowInWorldView(e,a),r!==R.WorldView&&(o.options.timeAreaRowFillFunc&&o.options.timeAreaRowFillFunc.call(o,o._extendCallbackArgs({rowItem:e.item,parentElem:s.node(),isForeground:a,totalHeight:e.totalHeight,oldTotalHeight:null!=e.oldTotalHeight?e.oldTotalHeight:e.totalHeight,mainHeight:o._getRowMainHeight(e),width:o.getCurrentUpperXLimit()-o.getCurrentLowerXLimit()})),a||c.append("line").attr("class",ct+" ngantt-level"+e.level).attr("x2",o._timeAxis.timeAreaViewWidth()).attr("y1",Yt).attr("y2",Yt).style("visibility",o.options.timeAreaRowSeparationLinesVisible?null:"hidden"))}},_createCalendarGridInRow:function(e,t){"use strict";this._getCurrentlyDisplayedElementsInRow(e)&wt.CalendarGrid&&this.options.calendarGridVisible&&t.append("path").attr("class",ge)},_updateCalendarGridForRow:function(e,t,a,i){"use strict";var r=this,n=t.select("."+ge);if(n.size()){n.attr("d",r._determineCalendarGridPathData(e));var o=e.totalHeight-r._getRowAdditionalHeight(e),s=Kt?"translate("+Kt+")":"";if(a&&(null!=e.oldTotalHeight||i)){var l=i?0:e.oldTotalHeight-(e.oldAdditionalHeight||0);n.attr("transform",s+"scale(1,"+Math.max(l||0,1e-6)+")"),r._cacheTransitionFunction((function(){n.transition().duration(r.options.transitionDuration).attr("transform",s+"scale(1,"+Math.max(o||0,1e-6)+")")}))}else n.attr("transform",s+"scale(1,"+o+")")}},_determineCalendarGridForRowInWorldView:function(){},_determineCalendarGridPathData:function(e){"use strict";var t=this,a=t._determineCalendarForRowDataItem(e);if(a){var n,o=t._timeAxis.collapseCalendar(),s=t._timeAxis.convertXToDate(t.getCurrentLowerXLimit()),l=t._timeAxis.convertXToDate(t.getCurrentUpperXLimit()),m=a.timeTypeChangeTimes(),d=a[t._OBJECT_ID_PROPERTY];void 0===d&&(d=a[t._OBJECT_ID_PROPERTY]=t._nextCalendarCacheID++);var u=t._calendarGridDataCache[d];if(u||(u=t._calendarGridDataCache[d]={usageCount:0}),e.calendarCacheID!==d&&(void 0!==e.calendarCacheID&&0==--t._calendarGridDataCache[e.calendarCacheID].usageCount&&delete t._calendarGridDataCache[e.calendarCacheID],e.calendarCacheID=d,u.usageCount++),u.dates===m&&u.collapseCalendar===o&&u.projectStartAsTime===s.getTime()&&u.projectEndAsTime===l.getTime())n=u.reducedDates;else{n=[];for(var h=m.length,p=c.findDateWithinSortedArray(m,s,!1);p<h;p++){var _=m[p];if(n.push(_),_.getTime()>=l)break}if(n.length||n.push(s),n[n.length-1]<l&&n.push(l),o&&n.length>2)for(var g=n.length-1;g>0;g--){_=new Date(n[g].getTime()-1);if(o.determineTimeType(_)===H.NonWorkingTime&&n[g-1]>=o.findStartOfCurrentTimeTypeInterval(_)&&(n.splice(--g,2),n.length<=2))break}delete(u=i.extend(t._calendarGridDataCache[d],{dates:m,collapseCalendar:o,projectStartAsTime:s.getTime(),projectEndAsTime:l.getTime(),reducedDates:n})).pathData}if(u.pathData&&u.baseTimeUnit===t._timeAxis.baseTimeUnit()&&u.baseTimeUnitWidth===t._timeAxis.actualBaseTimeUnitWidth())return u.pathData;var f=a.determineTimeType(n[0])!==H.WorkingTime,T=(r.line?r.line().curve(r.curveStepAfter):r.svg.line().interpolate("step-after")).x((function(e){return t.convertXToLimitedX(t._timeAxis.convertDateToX(e))})).y((function(){return(f=!f)?1:0}))(n);return T=[T,"V1"!==T.substring(T.length-2)?"V1H":"H",T.substring(1,T.indexOf(",")),"Z"].join(""),u.pathData=T,T}return""},_calculateSubRowIndexesOfBarsInRow:function(e,t){"use strict";var a=this;e.isHidden||(e.mainHeight=0,e.subRowCount=0,e.subRowDataItems=[],!1!==e.item.barsPaneVisible&&(a._doCalculateSubRowIndexesOfBarsInRow(e,a._getCurrentlyDisplayedElementsInRow(e)),["leafRowDataItems","childRowDataItems"].forEach((function(i,r){(r?t:a.options.leafRowsVisible)&&Array.isArray(e[i])&&!(r?e.isCollapsed:!a.options.leafRowsVisible||e.areLeavesCollapsed)&&e[i].forEach((function(e){a._calculateSubRowIndexesOfBarsInRow(e,!!r&&t)}))}))))},_doCalculateSubRowIndexesOfBarsInRow:function(e,t){"use strict";var a=this,i=a._determineAndSortPositionableTimeDataItemsInRow(e,t);if(i.length){a._doCalculateSubRowIndexesOfBars(e.subRowDataItems,i,t);var r=e.item.maximumSubRowHeight;r>0||(r=a.options.defaultMaximumSubRowHeight),null==r&&(r=Number.POSITIVE_INFINITY),e.subRowCount=e.subRowDataItems.length;var n=0;e.subRowDataItems.forEach((function(t,i){i===e.subRowCount-1&&(r=Number.POSITIVE_INFINITY),t.offsetY=n;var o=(t.maximumY===Number.MIN_VALUE?0:t.maximumY)-(t.minimumY===Number.MAX_VALUE?0:t.minimumY);n+=Math.min(o,r)+a.options.subRowDistance}));var o=a.determineActualRowMargins();e.mainHeight=e.subRowCount?o.sum+Math.ceil(n)-a.options.subRowDistance:0}var s=e.isLeaf?a.options.defaultLeafRowMainHeight:a.options.defaultRowMainHeight;e.mainHeight=Math.max(e.mainHeight,s);var l=e.item.maximumHeight;if(l>0||(l=a.options.defaultMaximumRowHeight),e.mainHeightLimited=l>0&&e.mainHeight>l){var c=(e.mainHeight-l)/2;e.mainHeight=l,e.subRowDataItems.forEach((function(e){e.offsetY-=c}))}},_doCalculateSubRowIndexesOfBars:function(e,t,a,i){"use strict";var r=this;t.forEach((function(t){if(i?r._isTimeDataItemVisible(t)&&0!==t.rowDataItem.item.totalHeight:r._isTimeDataItemVisible(t,!0)){var n=r._determineTimeRange(t);if(t.item.barType===bt.SingleRespectedByOptimization&&n.constraintStart.getTime()===n.constraintEnd.getTime()&&(n.constraintEnd=new Date(n.constraintEnd.getTime()+1e3)),n){var o=null,s=-1;e.some((function(e){return s++,o=e,!(a&wt.Optimized&&e.timeSpans.isTimeSpanAllocated(n.constraintStart,n.constraintEnd))}))||(o={timeSpans:new f(!1),minimumY:Number.MAX_VALUE,maximumY:Number.MIN_VALUE,offsetY:0},e.push(o),s++),o.timeSpans.allocateTimeSpan(n.constraintStart,n.constraintEnd,!0),t.subRowIndex=s;var l=r._determineTimeDataItemExtent(t);l&&(o.minimumY>l.constraintTop&&(o.minimumY=l.constraintTop),o.maximumY<l.bottom&&(o.maximumY=l.bottom),r._determineTimeDataItems(t.item.childTimeItems,!0).forEach((function(e){e.subRowIndex=s})))}}}))},_doCalculateSummaryTimeItemsInRow:function(e,t,a){"use strict";var i=this;(t||e.summariesExistent)&&(e.summariesExistent=!1,Array.isArray(e.item.timeItems)&&e.item.timeItems.forEach((function(t){var r=i._getDataItem(t,i._timeDataItemsMap);r&&i._getActualBarType(r)&It.Summary&&(i._calculateSummaryDates(r,a),e.summariesExistent=!0)})))},_calculateSummaryDates:function(e,t){"use strict";var a=e.item.start,i=e.item.end;e.item.start=e.item.end=void 0,this._doCalculateSummaryDatesRecursively(e),t&&e.rowDataItem&&(e.item.start!==a||e.item.end!==i)&&this._doInvalidateRow(e.rowDataItem,{barsChangedFlag:!1,childRowsChangedFlag:!1})},_doCalculateSummaryDatesRecursively:function(e,t){"use strict";var a=this,i=!1;if(t){if(Array.isArray(t.item.timeItems)){var r=a._determineCalendarForRowDataItem(t);t.item.timeItems.forEach((function(t){var n,o,s=a._getDataItem(t,a._timeDataItemsMap);if(s){var l=!1,c=a._getActualBarType(s);switch(c&It.Summary?(i=!0,c&=~It.Summary):(a._registerBindingsForTimeItems(t),l=!0),c){case bt.StartEnd:n=a._getBindingPropertyInfosAndValue(t,"start","date").value,o=a._getBindingPropertyInfosAndValue(t,"end","date").value;break;case bt.StartDuration:(n=a._getBindingPropertyInfosAndValue(t,"start","date").value)&&(o=$.addWorkingTime(r,n,a._getBindingPropertyInfosAndValue(t,"duration","number").value||0));break;case bt.EndDuration:(o=a._getBindingPropertyInfosAndValue(t,"end","date").value)&&(n=$.addWorkingTime(r,o,-a._getBindingPropertyInfosAndValue(t,"duration","number").value||0))}if(n){var m=e.item;(!m.start||m.start>n)&&(m.start=n),(!m.end||m.end<o)&&(m.end=o)}l&&a._unregisterAllItems()}}))}}else if(!(t=e.rowDataItem))return;i||["leafRowDataItems","childRowDataItems"].forEach((function(i){Array.isArray(t[i])&&t[i].forEach((function(t){t&&a._doCalculateSummaryDatesRecursively(e,t)}))}))},_determinePositionableTimeDataItemsInRow:function(e,t,a){"use strict";var i=this,r=[];return t&wt.Bars&&Array.isArray(e.item.timeItems)&&i._determineTimeDataItems(e.item.timeItems,!1).forEach((function(e){i._isTimeDataItemVisible(e)&&r.push(e)})),["leafRowDataItems","childRowDataItems"].forEach((function(a,n){(n||i.options.leafBarsVisibleOnParentRows)&&t&(n?wt.BarsOfCollapsedChildRows:wt.Bars)&&(n?e.isCollapsed:!i.options.leafRowsVisible||e.areLeavesCollapsed)&&Array.isArray(e[a])&&e[a].forEach((function(e){i._findTimeDataItemsForCollapsedChildRowsRecursively(e,r)}))})),a||(a={}),r.forEach((function(e,t){(a[e.id]=i._determineTimeRange(e)||{})._index=t})),r.filter((function(e){return a[e.id].start}))},_determineAndSortPositionableTimeDataItemsInRow:function(e,t){"use strict";var a={},i=t&wt.Optimized?this.options.barSortModeForOptimizedDisplayedElements:L.StartAndEnd;return this._determinePositionableTimeDataItemsInRow(e,t,a).sort((function(t,r){var n,o=a[t.id],s=a[r.id];if(i!==L.RowIndexes&&(n=o.outerStart.getTime()-s.outerStart.getTime()),!n){if(i!==L.StartAndEnd){const a=function(t,a,r,n){if(n.push(a.indexOf(r)),t===e)return n;let o=t.parentRowDataItem;return i(o,o.childRowDataItems,t,n)},i=function(e){let t=e.rowDataItem;return t.isLeaf?a(t.parentRowDataItem,t.parentRowDataItem.leafRowDataItems,t,[]):a(t,t.timeDataItems,e,[])};let o=i(t),s=i(r);for(let e=Math.min(o.length,s.length);e>0&&!(n=o.pop()-s.pop());e--);n||(n=o.length-s.length)}n||(n=o.outerEnd.getTime()-s.outerEnd.getTime())}return n||o._index-s._index}))},_createAllBarsInRow:function(e,t,a,i,n){"use strict";var o=this,s=o._getCurrentlyDisplayedElementsInRow(e);!1===e.item.barsPaneVisible&&(s&=~(wt.Bars|wt.BarsOfCollapsedChildRows|wt.Bars));var l,c=o._determineAndSortPositionableTimeDataItemsInRow(e,s);if(o._worldViewDivJQ&&(e.worldViewBarCacheMap={}),o._determineTimeDataItems(c.map((function(e){return e.item})),!0).forEach((function(a){if(!a.item.hidden){if(i!==R.WorldView){var s=t;o.options.selectedItemsShownHighlighted&&o._isTimeDataItemSelected(a)&&(s=(l=r.select(o._getOrCreateSpecialRowElem(e,!0,1))).select("."+ht),a.highlighted=!0)}o._createBar(s,a,i,n)}})),i!==R.WorldView&&s&(wt.Bars|wt.BarsOfCollapsedChildRows|wt.Bars)&&!n){var m=[t];l&&m.push(l),m.forEach((function(t){t.selectAll(Dt).each((function(t){var n=r.select(this),s=n.select("."+ve),l=(i===R.RowExpanded||i===R.RowLeavesExpanded)&&e!==a&&!t.actuallyVisibleInCollapsedRow;if("newX"in t){var c,m="translate("+(o.convertXToLimitedX(t.newX)+jt)+","+(t.newY+Zt)+")",d=m;if(i!==R.Virtualization&&i!==R.TimeAxisChanged&&!o._barDragging.isDropped()&&!t.phantomDataItem){if(l||void 0!==t.oldY&&void 0!==e.oldY){var u=0;if(l||(u=t.oldY+t.oldRowY-e.oldY,o._isItemAtTheTop(e.item)||(u-=o._layoutRows[k.BodyAtTheTop].innerViewExtent()),!1===t.oldRowAtTheTop&&(u+=o._layoutRows[k.BodyAtTheTop].innerViewExtent())),(l||u||void 0!==t.oldX)&&(i!==R.RowCollapsed&&i!==R.RowLeavesCollapsed||u>0)){var h=o.convertXToLimitedX(void 0!==t.oldX?t.oldX:t.newX);d="translate("+(h+jt)+","+(u+Zt)+")",s.length&&(c="translate("+(o.convertXToLimitedX(t.newX)-o.convertXToLimitedX(h))+")")}}l&&(d+=Xt)}n.attr("transform",d);var p=t.phantomDataItem;p&&m===d&&o._barDragging.isDropped()&&(p.newY=t.newY+t.rowDataItem.visibleRowDataItem.newY-p.rowDataItem.visibleRowDataItem.newY,o._cacheTransitionFunction((function(){r.selectAll(p.backgroundElem?[p.backgroundElem,p.elem]:[p.elem]).transition().duration(o.options.transitionDuration).attr("transform","translate("+(o.convertXToLimitedX(p.newX)+jt)+","+(p.newY+Zt)+")")}))),m!==d?o._cacheTransitionFunction((function(){if(n.transition().duration(o.options.transitionDuration).attr("transform",m)[r.timeFormat?"on":"each"]("end",(function(){t.oldRowY=t.rowDataItem?.visibleRowDataItem.newY,delete t.actuallyVisibleInCollapsedRow})),!p&&!l&&o.options.barSelectionWithFrames&&o.options.barSelectionFramesShownWithHigherZOrder&&t.selectedFrameElem){var e=o._determineSelectionFrameExtent(t);if(e&&(r.select(t.selectedFrameElem).transition().duration(o.options.transitionDuration).attr("transform","translate("+e.xoffset+")").attr("x",e.xplus).attr("y",e.yplus).attr("width",e.wplus),t.selectedFrameMaskElem)){var a=r.select(t.selectedFrameMaskElem);(a=a.transition().duration(o.options.transitionDuration)).select("rect:nth-child(1)").attr("x",e.xplus-Ut).attr("y",e.yplus-Ut).attr("width",e.wplus+200),a.select("rect:nth-child(2)").attr("x",e.x).attr("y",e.y).attr("width",e.w)}}p&&o._barDragging.isDropped()&&(p.newY=t.newY+t.rowDataItem.visibleRowDataItem.newY-p.rowDataItem.visibleRowDataItem.newY,r.selectAll(p.backgroundElem?[p.backgroundElem,p.elem]:[p.elem]).transition().duration(o.options.transitionDuration).attr("transform","translate("+(o.convertXToLimitedX(p.newX)+jt)+","+(p.newY+Zt)+")")),c&&(s.attr("transform",c).transition().duration(o.options.transitionDuration).attr("transform",""),n.select("."+ye).each((function(){r.select(this).attr("opacity","0").transition().delay(o.options.transitionDuration).duration(0).attr("opacity","1")})))})):(t.oldX=t.newX,t.oldEndX=t.newEndX,t.oldY=t.newY,t.oldRowY=t.rowDataItem.visibleRowDataItem.newY,t.oldRowAtTheTop=!!o._isItemAtTheTop(t.rowDataItem.item))}}))}))}},_sortBarsInRow:function(e){"use strict";var t=this;if(t._barDragging.isInitiated()&&t._barDragging.isRowOfCoupledTimeItems(e)||!(t._getCurrentlyDisplayedElementsInRow(e)&wt.Optimized)){var a=r.select(e.foregroundRowElem).select("."+ht),i=r.select(t._getOrCreateSpecialRowElem(e,!1,1)),n=[a];i&&n.push(i),n.forEach((function(e){var a={},i=-1,n=e.selectAll(Dt),o=n.size()+1;n.each((function(e){if(i++,e.parentTimeDataItem){(n=a[e.parentTimeDataItem.id])||(n=a[e.parentTimeDataItem.id]={rectLeft:Number.MAX_VALUE,rectRight:-Number.MAX_VALUE});var t=e.newX||e.oldX,r=e.newEndX||e.oldEndX||t;n.rectLeft>t&&(n.rectLeft=t),n.rectRight<r&&(n.rectRight=r),a[e.id]={barIndex:i,rectLeft:t,rectRight:r}}else{var n;(n=a[e.id])||(n=a[e.id]={rectLeft:Number.MAX_VALUE,rectRight:-Number.MAX_VALUE}),n.barIndex=o*i}})),e.selectAll("."+se).each((function(){var e=r.select(this).selectAll(Dt),i=e[0]||e.nodes();i.sort((function(e,i){var n=r.select(e),s=r.select(i),l=n.datum(),c=s.datum(),m=(l.parentTimeDataItem||l).isCurrentlyDraggedCoupled,d=(c.parentTimeDataItem||c).isCurrentlyDraggedCoupled;if(m!==d)return(m?1:0)-(d?1:0);var u=a[l.id],h=a[c.id],p=u.barIndex,_=h.barIndex;if(l.parentTimeDataItem?(u=a[l.parentTimeDataItem.id],ta(l.parentTimeDataItem.item.zOrder)||(p+=u.barIndex+1)):ta(l.item.zOrder)&&(p/=o),c.parentTimeDataItem?(h=a[c.parentTimeDataItem.id],ta(c.parentTimeDataItem.item.zOrder)||(_+=h.barIndex+1)):ta(c.item.zOrder)&&(_/=o),l.parentTimeDataItem!==c&&c.parentTimeDataItem!==l){var g=l.rowDataItem.isLeaf?t.options.leafBarTopOffsetAndHeightScaleFactor:t.options.barTopOffsetAndHeightScaleFactor,f=c.rowDataItem.isLeaf?t.options.leafBarTopOffsetAndHeightScaleFactor:t.options.barTopOffsetAndHeightScaleFactor,T=Math.round(((l.parentTimeDataItem||l).item.barTopOffset||0)*g)-Math.round(((c.parentTimeDataItem||c).item.barTopOffset||0)*f);if(T)return T;if(u.rectLeft!==h.rectLeft)return u.rectLeft-h.rectLeft;if(h.rectRight!==u.rectRight)return h.rectRight-u.rectRight}return p-_})),e[0]?e.order():r.selectAll(i).order()}))}))}},_findTimeDataItemsForCollapsedChildRowsRecursively:function(e,t){"use strict";var a=this;Array.isArray(e.item.timeItems)&&0!==e.item.totalHeight&&a._determineTimeDataItems(e.item.timeItems,!1).forEach((function(e){a._isTimeDataItemVisible(e)&&t.push(e)})),e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(i,r){(r||a.options.leafBarsVisibleOnParentRows)&&a._getCurrentlyDisplayedElementsInRow(e)&wt.Bars&&Array.isArray(e[i])&&e[i].forEach((function(e){a._findTimeDataItemsForCollapsedChildRowsRecursively(e,t)}))}))},_isTimeDataItemEditable:function(e){"use strict";var t=e.rowDataItem&&e.rowDataItem.visibleRowDataItem;return!(!t||!this.options.editable)&&(e.parentTimeDataItem?.item.barShape&&(e=e.parentTimeDataItem),this._getActualBarInteractions(e)!==Et.None&&(!t.isCollapsed||this.options.timeItemsEditableInCollapsedRows||e.rowDataItem.isLeaf||(this.options.timeItemsHaveSameReferenceAsRowItems?t===e.rowDataItem.parentRowDataItem:!t.childRowDataItems||Array.isArray(t.childRowDataItems)&&!t.childRowDataItems.length||!(this._getCurrentlyDisplayedElementsInRow(t)&wt.BarsOfCollapsedChildRows)||!t.leafRowDataItems||Array.isArray(t.leafRowDataItems)&&!t.leafRowDataItems.length||!(this._getCurrentlyDisplayedElementsInRow(t)&wt.Bars))))},_isTimeDataItemVisible:function(e,t){"use strict";var a=e.item;if(a.hidden)return!1;if("function"==typeof a.isDisposed&&a.isDisposed())return!1;var i=e.rowDataItem;if(!i||!this._getDataItemByID(e.id,this._timeDataItemsMap))return!1;var r=i.visibleRowDataItem,n=r.isCollapsed;if(a.hiddenInCollapsedRow&&n)return!1;for(var o=e.parentTimeDataItem;o;){if((a=o.item).hidden||a.hiddenInCollapsedRow&&n)return!1;o=o.parentTimeDataItem}return!!t||(i.isHidden?!!(i.isLeaf&&this.options.leafBarsVisibleOnParentRows&&i.parentRowDataItem===r&&this._getCurrentlyDisplayedElementsInRow(r)&wt.Bars)||this._getCollapsedDisplayedElementsForRowDataItem(r)&wt.BarsOfCollapsedChildRows:this._getCurrentlyDisplayedElementsInRow(i)&wt.Bars)},_canTimeDataItemBeVisible:function(e){"use strict";if(this._isTimeDataItemVisible(e))return!0;if(!e.rowDataItem)return!1;var t=!0,a=e.rowDataItem,i=e.item;if(i.hidden)t=!1;else for(var r=e.parentTimeDataItem;t&&r;)(i=r.item).hidden?t=!1:r=r.parentTimeDataItem;if(t&&!(this._getExpandedDisplayedElementsForRowDataItem(a)&wt.Bars)){t=!1;do{if((a=a.parentRowDataItem)&&this._getCollapsedDisplayedElementsForRowDataItem(a)&wt.BarsOfCollapsedChildRows){t=!0;break}}while(a)}return t},_determineBarLayerByZOrder:function(e,t,a){"use strict";t-=t%1;var i=e.datum();i.zOrdersToBarLayersD3Maps||(i.zOrdersToBarLayersD3Maps={}),i.zOrdersToBarLayersD3Maps[a]||(i.zOrdersToBarLayersD3Maps[a]={});var r=i.zOrdersToBarLayersD3Maps[a],n=r[t];if(!n){var o=Object.keys(r).map((function(e){return+e}));o.push(t),o.sort((function(e,t){return e-t}));var s=o.indexOf(t);if((n=s<o.length-1?e.insert("g",(function(){return r[o[s+1]].node()})):e.append("g")).attr("class",se+" ngantt-z-order-"+t),r[t]=n,i.mainHeightLimited){var l=this._getOrCreateClipPathForRow(0,i.mainHeight);n.attr("clip-path","url(#"+l+")")}}return n},_barEventDispatcherHandlerFunction:function(e,t){"use strict";var a=this,r=i(t.srcEvent?t[d.SUB_ELEM_PROPERTY]:t.target);if(!r.hasClass(ve)&&!r.hasClass(ye))switch(t.type){case d.TAP_EVENT_NAME:if(a.options.timeItemsSelectable){var n=e.item.selectable;if(null==n?e.rowDataItem.isLeaf?a.options.defaultLeafTimeItemSelectable:a.options.defaultTimeItemSelectable:n){for(var o=e;o.parentTimeDataItem;)o=o.parentTimeDataItem;if(null==(n=o.item.selectable)?e.rowDataItem.isLeaf?a.options.defaultLeafTimeItemSelectable:a.options.defaultTimeItemSelectable:n){var s,l,c,m,u=a._isCtrlKeyPressed(t,!a._selectedTimeDataItemsMap.size);if(u){if(a._selectedRowDataItemsMap.size||a._selectedLinkDataItemsMap.size)return;var h=(s=Array.from(a._selectedTimeDataItemsMap.values()).map((e=>e.item))).indexOf(o.item);h>=0?s.splice(h,1):(c=s.slice(),s.push(o.item),l=!0)}else t.srcEvent.shiftKey||t.srcEvent.altKey?s=Array.from(a._selectedTimeDataItemsMap.values()).map((e=>e.item)):(a.options.canSelectTimeItemFunc&&!a._selectedTimeDataItemsMap.has(o.id)&&(c=[],l=!0),s=[o.item]);if(a._updateSuspendedForSelectionChanges=!0,l&&a.options.canSelectTimeItemFunc){var p=a._extendCallbackArgs({timeItem:e.item,otherSelectedTimeItems:c,altKey:t.srcEvent.altKey,shiftKey:t.srcEvent.shiftKey,metaKey:u,ctrlKey:u,event:t.srcEvent,hammerEvent:t,canSelect:!0});a.options.canSelectTimeItemFunc.call(a,p),p.canSelect||(m=!0)}if(!m&&a.options.selectTimeItemFunc){p=a._extendCallbackArgs({timeItem:o.item,oldSelectedRowItems:a.selectedRowItems(),oldSelectedItems:Array.from(a._selectedTimeDataItemsMap.values()).map((e=>e.item)),newSelectedItems:s,altKey:t.srcEvent.altKey,shiftKey:t.srcEvent.shiftKey,metaKey:u,ctrlKey:u,event:t.srcEvent,hammerEvent:t,cancel:!1});a.options.selectTimeItemFunc.call(a,p),p.cancel&&(m=!0)}m||((s=Array.isArray(p.newSelectedItems)?p.newSelectedItems:[]).length&&(a.options.timeItemsHaveSameReferenceAsRowItems||a._changeRowItemSelection([]),a._changeLinkItemSelection([])),s&&a._changeTimeItemSelection(s)),delete a._updateSuspendedForSelectionChanges,m||a.update()}}}a._triggerEvent({sender:e.item,eventType:"tap",elem:e.elem,elemType:yt.Bar,event:t.srcEvent,hammerEvent:t});break;case d.DOUBLE_TAP_EVENT_NAME:a._triggerEvent({sender:e.item,eventType:"doubletap",elem:e.elem,elemType:yt.Bar,event:t.srcEvent,hammerEvent:t});break;case d.CONTEXTMENU_EVENT_NAME:a.options.onEventFunc&&(a._setBarInteractionCursor(Et.None),a._triggerEvent({sender:e.item,eventType:"contextmenu",elem:e.elem,elemType:yt.Bar,event:t})),a.options.preventDefaultOnContextMenuEvents&&(t.stopPropagation(),t.preventDefault());break;case d.PAN_EVENT_NAME+"start":a._onBarDragStart(t,e);break;case d.PAN_EVENT_NAME+"move":a._onBarDragMove(t,e);break;case d.PAN_EVENT_NAME+"end":a._onBarDragMove(t,e);case d.PAN_EVENT_NAME+"cancel":a._onBarDragEnd(t);break;case d.PRESS_EVENT_NAME:"touch"===t.pointerType&&a._onBarPress(t,e);break;case d.PRESS_EVENT_NAME+"up":"touch"===t.pointerType&&a._onBarPressUp(t,e)}},_createBar:function(e,t,a,n){"use strict";var o=this;let s=!0;if(a===R.WorldView||!n){var l,c;if(t.phantomType?(c=(l=t).timeDataItem,l.oldVisibleRowDataItem=c.rowDataItem.visibleRowDataItem):c=t,a!==R.WorldView){t.version++,t.elem&&o._detachTimeDataItem(t,!1);var u=Array.isArray(c.item.childTimeItems)&&c.item.childTimeItems.length;if(c){var h=u?fe:oe;let a=" "+d.TAP_EVENT_CLASS_NAME+" "+d.DOUBLE_TAP_EVENT_CLASS_NAME+" "+d.CONTEXTMENU_EVENT_CLASS_NAME;h+=a,h=o._enrichClass(c,h,{elemType:yt.Bar});let S=ta(c.item.zOrder);var g,f,T=u&&null==c.item.zOrder?-1e3:S?0:100*(parseFloat(c.item.zOrder)||0);if(S)if(u&&c.item.barShape){let i=function(e){return"twice"===e?[-1e3,0]:e.match(/\d/g).map((e=>parseInt(e)))}(c.item.zOrder);T=i[0],g=o._determineBarLayerByZOrder(e,T,l?1:c.highlighted?2:0),f=g.append("g").attr("class",fe+" "+Te+a).datum(t).property(o._ITEM_VERSION_PROPERTY,t.version),t.backgroundElem=f.node(),T=i[1],h+=" "+De}else T=0;T+=(c.subRowIndex??c.parentTimeDataItem?.subRowIndex)||0;var v=o._determineBarLayerByZOrder(e,T,l?1:c.highlighted?2:0).append("g").attr("class",h).datum(t).property(o._ITEM_VERSION_PROPERTY,t.version);if(t.elem=v.node(),l||(c.selected?o._prependBarSelectedRect(c,v):o._isTimeDataItemSelected(c)&&o._checkHighlightingForTimeDataItem(c,v)),!l&&c.item.marked&&v.append("rect").attr("class",qe).attr("rx",o._barFrameRounding).attr("ry",o._barFrameRounding),!u||c.item.barShape){var y=function(){let e=f??v;o._isTimeDataItemEditable(c)?e.attr("class",e.attr("class")+" "+d.PRESS_PAN_EVENT_CLASS_NAME):e.attr("class",e.attr("class")+" "+d.PRESS_EVENT_CLASS_NAME),i(e.node()).data(d.HANDLER_FUNCTION_PROPERTY+ft+o._uniqueID,(function(e){try{o._barEventDispatcherHandlerFunction(c,e)}catch(e){o._handleException(e,"onEventDispatch_bar")}})),!l&&c.phantomDataItem&&!c.phantomDataItem.parentPhantomDataItem&&o._currentDragParams&&o._currentDragParams.elemType===yt.Bar&&(!ta(c.item.zOrder)||T>=0)&&o._eventDispatcher.replacePressOrPanTargetElem(e.node()),o.options.attachEventListenersFunc&&o.options.attachEventListenersFunc.call(o,o._extendCallbackArgs({isForeground:!0,item:e.datum().item,elem:this,elemType:yt.Bar}));var a=c.item.respectingCalendar;void 0===a&&(a=o.options.defaultRespectingCalendar),a&&(a=!!(c.item.calendar??o._determineCalendarForRowDataItem(c.rowDataItem)));var n,s,h=o._getActualBarHeight(c),g=o._getActualBarShape(c);if(o._barFactory.createBar(o._extendCallbackArgs({barShapeId:g,barD3:v,barHeight:h,respectingCalendar:a,dataItem:c,rowDataItem:c.rowDataItem.visibleRowDataItem,uniqueID:o._uniqueID,enrichClassFunc:function(e,t){return o._enrichClass(c,e,t)}})),f&&o._barFactory.createBar(o._extendCallbackArgs({barShapeId:g,barD3:f,barHeight:h,respectingCalendar:a,dataItem:c,rowDataItem:c.rowDataItem.visibleRowDataItem,uniqueID:o._uniqueID,enrichClassFunc:function(e){return e},nwtColorVisible:!0})),o.options.createBarFunc&&(s=o._extendCallbackArgs({timeItem:c.item,elem:v.node(),backgroundElem:t.backgroundElem,isBarInInteraction:!l&&!!c.phantomDataItem,isPhantom:!!l,caption:void 0}),void 0===(n=o.options.createBarFunc.call(o,s))&&(n=s.caption),c.worldViewFillColor=s.worldViewFillColor,c.worldViewBorderColor=s.worldViewBorderColor),n){var y,S=2+((c.item.leftCaptionOffset||void 0)+2||0);if("string"==typeof n){let e=v.select("."+le);(y=e.size()?v.insert("text",(function(){return e.node()})):v.append("text")).attr("class",he).attr("x",S).attr("y",h/2).attr("dy",".3em").text(n)}else if(n instanceof Element)n instanceof SVGTextElement&&(y=r.select(n).attr("class",he).attr("x",S).attr("dy",".3em"));else if(void 0!==n.text){if(void 0!==n.elem)y=r.select(n.elem);else{let e=v.select("."+le);y=e.size()?v.insert("text",(function(){return e.node()})):v.append("text")}y.classed(he,!0).attr("x",S).attr("y",h/2).attr("dy",".3em"),n.width?(y.attr("data-text",n.text).attr("data-inline-width",n.width),null!=n.wrapMode&&y.attr("y",".7em").attr("data-wrap-mode",n.wrapMode),D.wrapSVGText(y),y.attr("data-text",null)):y.text(n.text)}y&&s&&s.finalizeFunc&&s.finalizeFunc.call(o,o._extendCallbackArgs({elem:y.node()}))}if(!l&&!p.isIOS&&!o.options.isForExport&&c.item.barShape){let e=function(e,t){if(e.backgroundElem??e.elem){let a=r.select(e.backgroundElem??e.elem),i=t||a.classed(le)?a:a.select("."+le);return(i.size()?i:r.select(e.elem)).select("."+de).node()||e.elem}},t=e(c,u);i(t).attr(_.POINTER_ENTER_ATTR_NAME,"1").attr(_.POINTER_LEAVE_ATTR_NAME,"1"),m.on(t,"pointerenter pointermove",o._EVENT_NAMESPACE,(function(a){try{t=e(c,u);let l=c.parentTimeDataItem??c;if(["mouse","pen"].includes(a.pointerType)){var i=function(e){o._lastTooltipDataItem===c&&delete o._lastTooltipDataItem,e&&o._getDataItemByID(e.id,o._timeDataItemsMap)||o._triggerEvent({sender:null,eventType:"tooltip",elem:null,event:a})},n=function(){if(t&&(o._onpointerenter_cursor(a,t,oe),t=e(c,u),t&&!o.isInInteraction()&&(o._lastTooltipDataItem!==c&&(o._lastTooltipDataItem=c,o._triggerEvent({sender:c.item,eventType:"tooltip",elem:t,event:a})),"pointerenter"===a.type))){o._pointerEnterTimeDataItemsMap||(o._pointerEnterTimeDataItemsMap=new Map);let e=o._pointerEnterTimeDataItemsMap.get(l.id);e||(e=new Set,o._pointerEnterTimeDataItemsMap.set(l.id,e)),e.has(c)||(e.add(c),m.on(t,"pointerleave",`${o._EVENT_NAMESPACE}-tooltip-${c.id}`,(function(a){try{let n=(a.relatedTarget&&r.select(a.relatedTarget))?.datum();if(n!==c&&n!==l&&n?.parentTimeDataItem!==l){for(let a of e.values())m.off(t,"pointerleave",`${o._EVENT_NAMESPACE}-tooltip-${a.id}`);o._pointerEnterTimeDataItemsMap.delete(l.id),o._onpointerleave_cursor(t),i(n)}}catch(e){o._handleException(e,"onPointerLeave_bar")}})))}};if("pointerenter"!==a.type||o._pointerEnterTimeDataItemsMap?.has(l.id))null==o._barPointerEnterTimeoutID&&n();else{var s=()=>{null!=o._barPointerEnterTimeoutID&&(window.clearTimeout(o._barPointerEnterTimeoutID),delete o._barPointerEnterTimeoutID)};s(),m.on(t,"pointerleave",`${o._EVENT_NAMESPACE}-ttenter-${c.id}`,(function(e){["mouse","pen"].includes(e.pointerType)&&(s(),m.off(t,"pointerleave",`${o._EVENT_NAMESPACE}-ttenter-${c.id}`),i())})),o._barPointerEnterTimeoutID=window.setTimeout((function(){delete o._barPointerEnterTimeoutID,m.off(t,"pointerleave",`${o._EVENT_NAMESPACE}-ttenter-${c.id}`),t.parentElement&&n()}),100)}}}catch(e){o._handleException(e,"onPointerEnter_bar")}}))}l&&v.append("path").attr("class",me)};if(!l&&o.options.asynchronousRendering){let e=c.rowDataItem.visibleRowDataItem,a=o._determineTimeDataItemExtent(c),i=o._timeAxis,r=i.timeAreaViewScrollOffset();a&&(a.right>r&&a.left<r+i.timeAreaViewWidth()?y():(o._createOrRemoveRowPartsAsynchronously("b",e,(function(){let e=c.rowDataItem?.visibleRowDataItem;e?.foregroundRowElem&&(y(),o._positionBarFully(v,e,t,n,void 0,!0))})),s=!1))}else y()}if(c.item.opacity<1){let e=v.select("."+le);e.size()?e.style("fill","rgba(255,255,255,"+(1-Math.max(c.item.opacity,0))):v.style("opacity",c.item.opacity)}}}else{var S;o.options.createBarFunc&&!l&&(S=o._extendCallbackArgs({timeItem:c.item,caption:void 0}),o.options.createBarFunc.call(o,S),c.worldViewFillColor=S.worldViewFillColor,c.worldViewBorderColor=S.worldViewBorderColor)}return s&&o._positionBar(v,t,a===R.WorldView?3:n,void 0,!0),v}return o._positionBar(null,t,n),null},_checkBarVisibilityForLimitedXCoords:function(e,t){"use strict";var a=this;if(a.options.barVisibilityCheckEnabled){var i=t.newX,r=t.newEndX;t.outerStart&&(i=Math.min(i,a._timeAxis.convertDateToX(t.outerStart)),r=Math.max(r,a._timeAxis.convertDateToX(t.outerEnd)));var n=a._isXOutsideLimits(i);n&&n===a._isXOutsideLimits(r)?"unlimitedVisibility"in t||(t.unlimitedVisibility=e.attr("visibility"),e.attr("visibility","hidden"),t.isHiddenByLimits=!0):"unlimitedVisibility"in t&&(e.attr("visibility",t.unlimitedVisibility),delete t.unlimitedVisibility,delete t.isHiddenByLimits)}},_calculateProgress:function(e,t,a,i){"use strict";var r;return i?i instanceof Date?i:i>=100?a:i<0?t:$.hasWorkingTime(e,a,t)&&this.options.progressBarWidthCalculationMode===Pt.ConsiderWorkingTimesOnly?(r=$.calculateWorkingTime(e,a,t)*i/100,$.addWorkingTime(e,t,r)):(r=(a.getTime()-t.getTime())*i/100,new Date(t.getTime()+r)):t},_positionBar:function(e,t,a,n,o){"use strict";var s,l,c=this;if(l=t.phantomType?(s=t).timeDataItem:t,2===a||(a?c._isTimeDataItemVisible(l):t.elem)){var m,d,u=c._timeAxis,h=Array.isArray(l.item.childTimeItems)&&l.item.childTimeItems.length;h&&t.backgroundElem&&(d=r.select(t.backgroundElem));var p=null,_=null;if(!a)if(s)p=c._determineTimeDataItemExtent(s);else{if(l.selectedFrameElem){var g=c._determineSelectionFrameExtent(l);g&&c._positionSelectionFrame(l,r.select(l.selectedFrameElem),l.selectedFrameMaskElem&&r.select(l.selectedFrameMaskElem),g)}l.item.marked&&(_=c._determineTimeDataItemExtent(l,void 0,void 0,!0))&&(p=c._determineTimeDataItemExtent(l),e.select("."+qe).attr("transform","translate("+(c.convertXToLimitedX(p.outerLeft)-c.convertXToLimitedX(p.left))+")").attr("x",-c._barFrameDistance+c.convertXToLimitedX(_.left)-c.convertXToLimitedX(p.left)).attr("y",-c._barFrameDistance+_.top-p.top).attr("width",Math.max(c.convertXToLimitedX(_.outerRight)-c.convertXToLimitedX(_.outerLeft),0)+2*c._barFrameDistance).attr("height",_.bottom-_.top+2*c._barFrameDistance))}var f=null!==p?p:c._determineTimeRange(t);if(f){var T,D;if(p)T=p.left,D=p.right;else{var v=t.item.calcStartEndX(u.convertDateToX(f.start),u.convertDateToX(f.end));T=v.startX,D=v.endX}var y=Math.max(c.convertXToLimitedX(D)-c.convertXToLimitedX(T),0),S=!c._barDragging.hasCoupledTimeItems(),w=S&&c._barDragging.getPointerX()-T||0,I=S&&c._barDragging.getPointerDateTime()||void 0,b=c._getActualBarShape(l);t.newX=T;var A=l.rowDataItem.visibleRowDataItem.subRowDataItems[l.subRowIndex],E=l.rowDataItem.isLeaf?c.options.leafBarTopOffsetAndHeightScaleFactor:c.options.barTopOffsetAndHeightScaleFactor,R=Math.round((l.item.barTopOffset||0)*E);if(t.newY=c.determineActualRowMargins().top+(A?A.offsetY:0)+R-(A?A.minimumY:0),t.phantomDataItem&&(t.phantomDataItem.newY=l.newY+l.rowDataItem.visibleRowDataItem.newY-t.phantomDataItem.rowDataItem.visibleRowDataItem.newY),t.newEndX=D,t.phantomDataItem&&t.phantomDataItem.frameD3&&c._barDragging.isDropped()){null===_&&(_=c._determineTimeDataItemExtent(l,void 0,void 0,!0)),t.phantomDataItem.frameStart=_.start,t.phantomDataItem.frameEnd=_.end;var C=t.phantomDataItem.newY;t.phantomDataItem.frameD3.transition().duration(c.options.transitionDuration).attr("transform","translate("+(c.convertXToLimitedX(c._timeAxis.convertDateToX(t.phantomDataItem.frameStart))+jt)+","+(C+Zt)+")").select("."+ce).attr("width",c.convertXToLimitedX(c._timeAxis.convertDateToX(t.phantomDataItem.frameEnd))-c.convertXToLimitedX(c._timeAxis.convertDateToX(t.phantomDataItem.frameStart))+2*c._phantomFrameDistance)}if(3!==a&&o&&!s&&c._checkBarVisibilityForLimitedXCoords(e,l),!h||l.item.barShape){var x=3!==a&&l.item.respectingCalendar;if(void 0===x&&(x=c.options.defaultRespectingCalendar),a){if(3===a){let e=c._extendCallbackArgs({barShapeId:b,barHeight:c._getActualBarHeight(l),barCornerWidth:c.options.barCornerWidth,worldViewBarWidth:D-T,considerPhantomStart:c._barDragging.isActive()&&!c._barDragging.isDropped(),dataItem:l,rowDataItem:l.rowDataItem,timeRange:f,calculateProgressFunc:function(){return 0},worldViewVisible:!0,uniqueID:c._uniqueID});this._barFactory.positionBar(e),c.options.positionBarFunc&&(G=c._extendCallbackArgs({timeItem:l.item,width:D-T,isPhantom:!!s,start:f.start,duration:$.calculateWorkingTime(M,f.end,f.start),end:f.end,progress:m,worldViewVisible:!0}),c.options.positionBarFunc.call(c,G)),c._worldViewDivJQ&&c._putBarIntoWorldViewCache(l,G&&G.worldViewPathData||e.worldViewPathData)}}else{var B=u.isDateAfterEnd(f.constraintStart)||u.isDateBeforeStart(f.constraintEnd);if(!l.isHiddenByLimits||c._worldViewDivJQ){if(!l.isHiddenByLimits){if(!B){var L=u.collapseCalendar();L&&c._getActualBarType(l)!==bt.Single&&L.determineTimeType(f.start)!==H.WorkingTime&&!$.calculateWorkingTime(L,f.end,f.start)&&(B=!0)}e.attr("visibility",B?"hidden":null)}if(!B||c._worldViewDivJQ){let t=Math.max(1,y);e.selectAll("."+pe).attr("width",t),d?.selectAll("."+pe).attr("width",t);var O=c._getActualBarHeight(l),M=x?l.item.calendar??c._determineCalendarForRowDataItem(l.rowDataItem):void 0,V=x&&s&&n&Et.DragVer?l.item.calendar??c._determineCalendarForRowDataItem(s.rowDataItem):M,F=B?void 0:M&&s&&c._barDragging.isInitiated()&&n&Et.DragLeftSide,k=B?void 0:F&&w&&f.start.getTime()>I.getTime(),N=B?void 0:M&&s&&c._barDragging.isInitiated()&&n&Et.DragRightSide,W=B?void 0:N&&w!==y&&f.end.getTime()<I.getTime();let h=c._extendCallbackArgs({barShapeId:b,barD3:B?void 0:e,barHeight:O,barCornerWidth:c.options.barCornerWidth,width:y,worldViewBarWidth:D-T,pointerX:w,considerPhantomStart:c._barDragging.isActive()&&!c._barDragging.isDropped(),calendar:V,dataItem:l,rowDataItem:l.rowDataItem,timeAxis:c._timeAxis,timeRange:f,draggingLeftSide:F,draggingRightSide:N,openOnLeftSide:k,openOnRightSide:W,calculateProgressFunc:function(){return c._calculateProgress(M,f.start,f.end,l.item.progress)},convertXToLimitedX:function(e){return c.convertXToLimitedX(e)},worldViewVisible:!!c._worldViewDivJQ,uniqueID:c._uniqueID});if(this._barFactory.positionBar(h),!B&&(d&&this._barFactory.positionBar(i.extend({},h,{barD3:d,calculateProgressFunc:function(){return 0},nwtColorVisible:!0,worldViewVisible:!1})),b===At.Custom)){var P=u.convertDateToX(f.start),X=c.determineActualRowMargins().top+O/2;e.attr("transform","translate("+(c.convertXToLimitedX(P)+Gt)+","+(X+Yt)+")")}if(c._worldViewDivJQ&&c._putBarIntoWorldViewCache(l,h.worldViewPathData),!B){var U=c._getActualBarType(l)>bt.Single;e.selectAll("."+he).each((function(){var e=r.select(this);if(e.node()&&!e.attr("data-text")&&U&&Y.isTextClippingAllowed(b)){if(l.item.clipEndAtNextItemStart&&void 0!==l.subRowIndex){var t=l.rowDataItem.visibleRowDataItem.subRowDataItems[l.subRowIndex];if(t.timeSpans&&!t.timeSpans.getValueAtDate(f.end)){var a=t.timeSpans.determineNextDateWithValue(f.end);y=a?Math.max(c.convertXToLimitedX(u.convertDateToX(a.date))-c.convertXToLimitedX(T),0):-1}}y>=0?c.setClipPathAttrOnElemD3WithRefCount(e,c.getOrCreateClipPathForRange(0,y)):c.setClipPathAttrOnElemD3WithRefCount(e)}}))}var G;if(c.options.positionBarFunc&&(G=c._extendCallbackArgs({timeItem:l.item,elem:B?void 0:e.node(),width:D-T,isPhantom:!!s,pointerX:!B&&c._barDragging.isInitiated()?c._barDragging.getPointerX():void 0,calendar:M,start:f.start,duration:$.calculateWorkingTime(M,f.end,f.start),end:f.end,progress:m}),!B&&d&&(G.backgroundElem=d.node()),c.options.positionBarFunc.call(c,G)),c._worldViewDivJQ&&c._putBarIntoWorldViewCache(l,G&&G.worldViewPathData||h.worldViewPathData),!B&&!s&&l.phantomDataItem){var z=l.phantomDataItem;z.start=c._getBindingPropertyInfosAndValue(l.item,"start","date").value,z.end=c._getBindingPropertyInfosAndValue(l.item,"end","date").value,c._positionBar(r.select(z.elem),z,a,n,o)}}}}}}}},_putBarIntoWorldViewCache:function(e,t){var a=this;if(a._worldViewDivJQ&&t){var i=e.rowDataItem.visibleRowDataItem,r=a._getTopOfRowDataItemForWorldView(i),n=a._timeAxis.actualTimeAreaWidth();t=t.map((function(t){return{x:Math.min(Math.max(t.x+e.newX,0),n),y:t.y}}));var o={x:a.actualTableWidth(),xPx:1,y:r.top+e.newY,yPx:r.topPx};null==e.worldViewFillColor||["none","transparent"].includes(e.worldViewFillColor)||(i.worldViewBarCacheMap||(i.worldViewBarCacheMap={}),i.worldViewBarCacheMap["F"+e.id]={method:"fillPath",args:[S.Content,{fillStyle:e.worldViewFillColor},t,o]}),null==e.worldViewBorderColor||["none","transparent"].includes(e.worldViewBorderColor)||(i.worldViewBarCacheMap||(i.worldViewBarCacheMap={}),i.worldViewBarCacheMap["S"+e.id]={method:"drawPath",args:[S.Content,{strokeStyle:e.worldViewBorderColor},t,o]}),e.worldViewRowDataItem!==i&&(e.worldViewRowDataItem&&e.worldViewRowDataItem.worldViewBarCacheMap&&(delete e.worldViewRowDataItem.worldViewBarCacheMap["F"+e.id],delete e.worldViewRowDataItem.worldViewBarCacheMap["S"+e.id]),e.worldViewRowDataItem=i)}},_positionBarFully:function(e,t,a,i,n,o,s){"use strict";var l=this;if(l._positionBar(e,a,i,n,o),"newX"in a){e.interrupt(),r.timeFormat&&e.transition().each((function(){r.select(this).interrupt()})),null==s&&(s=a.newY);var c="translate("+(l.convertXToLimitedX(a.newX)+jt)+","+(s+Zt)+")";e.attr("transform")!==c&&(e.attr("transform",c),a.backgroundElem&&r.select(a.backgroundElem).attr("transform",c),"phantomType"in a||(a.oldX=a.newX,a.oldEndX=a.newEndX,a.oldY=a.newY,t&&(a.oldRowY=t.newY,a.oldRowAtTheTop=!!l._isItemAtTheTop(t.item))))}},recheckBarInteractions:function(e){"use strict";var t=this,a=t._getDataItem(e,t._timeDataItemsMap);a&&a.elem&&t._pointerEnterCursorElems.length&&t._pointerEnterCursorElems.some((e=>{if(a.elem===e||a.elem===e.parentNode)return delete t._lastBarInteractionValues,t._onpointermove_cursor(t._lastPointerMoveEvent,e,oe),!0}))},_onpointermove_cursor:function(e,t,a){"use strict";var i=this;if(i._lastPointerMoveEvent=e,!i._currentPanParams&&a===oe){var n=r.select(t),o=n.datum();if(o&&!o.timeDataItem){o.parentTimeDataItem?.item.barShape&&(t=(o=o.parentTimeDataItem).elem);var s=i._pointToSVGRelative(t,e.pageX,e.pageY),l=i._determineBarInteraction(n,i._getActualBarInteractions(o),s,e);i._setBarInteractionCursor(l)}}},_onpointerenter_cursor:function(e,t,a){"use strict";var i=this,n=r.select(t).datum();if(!i.isInInteraction()){if(i._pointerEnterCursorElems.indexOf(t)<0){if(a===oe&&i._pointerEnterCursorElems.slice().forEach((function(e){let t=r.select(e).datum();t&&(t.parentTimeDataItem&&(t.parentTimeDataItem===n?.parentTimeDataItem||t.parentTimeDataItem===n)||t===n.parentTimeDataItem)||i._onpointerleave_cursor(e)})),i._pointerEnterCursorElems.push(t),i._pointerEnterCursorClassNames.push(a),p.isIE){var o=t.nextSibling,s=t.parentNode;s.removeChild(t),s.insertBefore(t,o)}var l=n?.id||"";m.on(t,"pointermove",i._EVENT_NAMESPACE+"_"+l+"-cursor",(function(e){try{i.isInInteraction()||i._onpointermove_cursor(e,t,a)}catch(e){i._handleException(e,"onPointerMove_cursor")}})).on(t,"pointerleave",i._EVENT_NAMESPACE+"_"+l+"-cursor",(function(e){try{if(!i.isInInteraction()){if(e.relatedTarget){let t=r.select(e.relatedTarget).datum();if(t&&(t.parentTimeDataItem&&(t.parentTimeDataItem===n?.parentTimeDataItem||t.parentTimeDataItem===n)||t===n?.parentTimeDataItem))return}i._onpointerleave_cursor(t,l)}}catch(e){i._handleException(e,"onPointerLeave_cursor")}}))}i._onpointermove_cursor(e,t,a)}},_onpointerleave_cursor:function(e,t){"use strict";var a=this;let i=r.select(e).datum();null==t&&(t=i?.id),m.off(e,"pointermove pointerleave",a._EVENT_NAMESPACE+"_"+t+"-cursor");var n=a._pointerEnterCursorElems.indexOf(e);n>=0&&(a._pointerEnterCursorElems.splice(n,1),a._pointerEnterCursorClassNames.splice(n,1)),i&&a._pointerEnterCursorElems.slice().every((function(e){let t=r.select(e).datum();return!t||(!t.parentTimeDataItem||t.parentTimeDataItem!==i.parentTimeDataItem&&t.parentTimeDataItem!==i)&&t!==i.parentTimeDataItem||(a._onpointerleave_cursor(e),!1)})),a.isInInteraction()||a._pointerEnterCursorElems.length||(a._setBarInteractionCursor(Et.None),a._lastBarInteractionValues&&(a._lastBarInteractionValues.outOfBar=!0))},_shouldDragCompoundBar:function(e){"use strict";var t=this.options.alwaysDragCompoundBar;return!t&&e&&((e.srcEvent?e.srcEvent:e)._shiftKey||e.pointers&&2===e.pointers.length)&&(t=!0),t},_determineBarInteraction:function(e,t,a,r,n){"use strict";var o=this;if(!this.options.editable)return Et.None;var s=i(r.srcEvent?r[d.SUB_ELEM_PROPERTY]:r.target);if(s.hasClass(ve)||s.hasClass(ye))return Et.None;var l=e.datum();t&Et.DragHorOrVer&&(t|=Et.DragHor|Et.DragVer);var c=!1;l.parentTimeDataItem&&(l.parentTimeDataItem.item.barShape||o._shouldDragCompoundBar(r)||t===Et.None)&&(l=l.parentTimeDataItem,t=o._getActualBarInteractions(l),c=!0);var m=o._isTimeDataItemEditable(l),u=t;if(m){if(u&(Et.DragHor|Et.DragLeftSide|Et.DragRightSide)){var h=l.rowDataItem;h.visibleRowDataItem.isCollapsed&&!o.options.timeItemsEditableInCollapsedRows&&(o.options.timeItemsHaveSameReferenceAsRowItems&&(h=h.parentRowDataItem),h.visibleRowDataItem!==h&&(u&=~(Et.DragHor|Et.DragHorOrVer|Et.DragLeftSide|Et.DragRightSide)))}}else u=Et.None;if(!o._lastBarInteractionValues||!n&&o._lastBarInteractionValues.outOfBar||o._lastBarInteractionValues.timeItem!==l.item||o._lastBarInteractionValues.determinedBarInteractions!==u)if(o._lastBarInteractionValues={timeItem:l.item,possibleBarInteractions:t,determinedBarInteractions:u,finalBarInteractions:u,outOfBar:!1},o.options.checkPossibleInteractionsFunc){var p=o._extendCallbackArgs({item:l.item,elemType:yt.Bar,elem:l.elem,event:r.center?r.srcEvent:r,hammerEvent:r.center?r:void 0,point:a,startX:l.oldX,endX:l.oldEndX,isEditable:m,isInCollapsedRow:l.rowDataItem.visibleRowDataItem.isCollapsed,possibleInteractions:t,interactions:u,dragCompound:c||o._shouldDragCompoundBar(r)});o.options.checkPossibleInteractionsFunc(p),o._lastBarInteractionValues.finalBarInteractions=null!=o.options.forcedBarInteractions?l.rowDataItem.isLeaf?o.options.forcedLeafBarInteractions:o.options.forcedBarInteractions:p.interactions,o._lastBarInteractionValues.finalBarInteractions!==Et.None&&p.dragCompound&&(o._lastBarInteractionValues.finalBarInteractions|=Rt.Compound)}else o._lastBarInteractionValues.finalBarInteractions!==Et.None&&(c||o._shouldDragCompoundBar(r))&&(o._lastBarInteractionValues.finalBarInteractions|=Rt.Compound,c&&!o._shouldDragCompoundBar(r)||(o._lastBarInteractionValues.finalBarInteractions&=~(Et.DragLeftSide|Et.DragRightSide)));var _=o._lastBarInteractionValues.finalBarInteractions;if(o._getActualBarType(l)&(It.End|It.Duration)||(_&=~(Et.DragLeftSide|Et.DragRightSide)),_&Et.DragRightSide){var g=o.convertXToLimitedX(void 0!==l.newX?l.newX:l.oldX),f=o.convertXToLimitedX(void 0!==l.newEndX?l.newEndX:l.oldEndX);if(Math.abs(a.x)>f-g-o.options.barDragAreaExtent&&(!(_&(Et.DragHor|Et.DragVer|Et.DragHorOrVer))||f-g>o.options.barDragAreaExtent))return Et.DragRightSide}if(_&Et.DragLeftSide){g=o.convertXToLimitedX(void 0!==l.newX?l.newX:l.oldX),f=o.convertXToLimitedX(void 0!==l.newEndX?l.newEndX:l.oldEndX);if(Math.abs(a.x)<o.options.barDragAreaExtent&&(!(_&(Et.DragHor|Et.DragVer|Et.DragHorOrVer))||f-g>(_&Et.DragLeftSide?2.5*o.options.barDragAreaExtent:o.options.barDragAreaExtent)))return Et.DragLeftSide}return _&~(Et.DragLeftSide|Et.DragRightSide)&Ct},determineActualTimeResolutionInSeconds:function(){"use strict";var e=this,t=e.options.horizontalDraggingUnit,a=e.options.horizontalDraggingUnitsPerStep;return null!=t&&null!=a||(t=e.options.timeResolutionUnit,a=e.options.timeResolutionUnitsPerStep),z.timeUnitToSeconds(t)*(a||1)},_convertXToDateInActualTimeResolution:function(e){"use strict";var t=this,a=t.determineActualTimeResolutionInSeconds(),i=t._timeAxis.convertXToDate(e,!1,!0).getTime(),r=i-i%a;if((r!==i?t._timeAxis.convertDateToX(new Date(r)):e)!==e){var n=r+a;i=t._timeAxis.convertDateToX(new Date(n))>e?r:n}else i=r;return new Date(i)},_setBarInteractionCursor:function(e){"use strict";var t=this,a="";switch(g.isContextMenuActive()&&(e=Et.None),e&Rt._AllSupportedFlags&~Rt.Compound){case Et.DragHor:a="ew-resize";break;case Et.DragLeftSide:case Et.DragRightSide:a="col-resize";break;case Et.DragVer:a="ns-resize";break;case Et.DragHorOrVer:case Et.DragHor|Et.DragVer:case Et.DragHor|Et.DragVer|Et.DragHorOrVer:case Et.DragHor|Rt.DragHorOrVerOverride:case Et.DragVer|Rt.DragHorOrVerOverride:a="move"}t._barDragging.isInitiated()&&t._barDragging.setOption("interactionCursor",a),l.setCursor(t.element[0],a)},_onBarPress:function(e,t){"use strict";var a=this,i=!0;if(!a._barDragging.isInitiated()){t.parentTimeDataItem?.item.barShape&&(t=t.parentTimeDataItem);var n=a._pointToSVGRelative(t.elem,e.center.x,e.center.y);a._determineBarInteraction(r.select(t.elem),a._getActualBarInteractions(t),n,e,!0)!==Et.None&&a._barDragging.initiate(e,t,!1)&&(a._touchScrollingEnabled=!1,i=!1)}i&&["mouse","pen"].includes(e.pointerType)&&(e[d.CANCEL_PROPERTY]=!0)},_onBarPressUp:function(e,t){"use strict";var a=this,i=a._barDragging.isActive(),r=!i;a._barDragging.isInitiated()&&a._barDragging.terminate(e,!i),r&&"touch"===e.pointerType&&a.options.onEventFunc&&(a._setBarInteractionCursor(Et.None),a._triggerEvent({sender:t.item,eventType:"contextmenu",elem:t.elem,elemType:yt.Bar,event:e.srcEvent,hammerEvent:e}))},_onBarDragStart:function(e,t){"use strict";var a=this,i=!0;if(a._barDragging.isInitiated())i=!1;else if("mouse"===e.pointerType){t.parentTimeDataItem?.item.barShape&&(t=t.parentTimeDataItem);var n=a._pointToSVGRelative(t.elem,e.center.x,e.center.y);a._determineBarInteraction(r.select(t.elem),a._getActualBarInteractions(t),n,e,!0)!==Et.None&&a._barDragging.initiate(e,t,!0)&&(i=!1)}i&&(e[d.CANCEL_PROPERTY]=!0)},_onBarDragMove:function(e,t,a){"use strict";this._barDragging.isInitiated()&&(t?.parentTimeDataItem?.item.barShape&&(t=t.parentTimeDataItem),this._barDragging.handleDrag(e,t,a))},_onBarDragEnd:function(e){"use strict";this._barDragging.terminate(e,e.type.indexOf("cancel")>=0)},_triggerBarDragStartCallback:function(e){"use strict";var t=this,a=t._getDataItem(e.sender,t._timeDataItemsMap),i=function(){var i=t._determineSuperTimeDataItem(a);e.coupledItems=t.selectedTimeItems().filter((function(e){return e!==i.item})).map((function(e){for(var a=t._getDataItem(e,t._timeDataItemsMap),i=t._determineSuperTimeDataItem(a),r=t._determineTimeDataItems([i.item],!0).reverse();a=r.pop();)if(t._getActualBarInteractions(a))return a.item})).filter((function(e){return e}))};(a.rowDataItem.isLeaf?t.options.forcedLeafBarInteractions:t.options.forcedBarInteractions)===Et.None?e.cancel=!0:e.interaction&(Et.DragLeftSide|Et.DragRightSide)||!t.options.automaticDraggingOfSelectedTimeItems||i(),t.options.dragStartFunc&&(t.options.dragStartFunc(t._extendCallbackArgs(e)),e.cancel||e.interaction&(Et.DragLeftSide|Et.DragRightSide)||!t.options.automaticDraggingOfSelectedTimeItems?delete e.coupledItems:i())},_findRoundedTargetDateTime:function(e,t,a,i){"use strict";var r=this,n=t,o=r.determineActualTimeResolutionInSeconds();if(t.getTime()!==a.getTime())if(null!=r.options.horizontalDraggingUnitsPerStep&&o<86400&&o>1&&(n=c.roundDateTimeWithExactStepping(n,V[r.options.horizontalDraggingUnit],r.options.horizontalDraggingUnitsPerStep)),86400===o&&0===r.options.horizontalDraggingUnitsPerStep){let t=new Date(a);t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),a.getHours()>=12&&t.setDate(t.getDate()+1),n=$.addWorkingTime(e,t,0);let i=new Date(t);if(a<n)do{i.setDate(i.getDate()-1)}while(!$.calculateWorkingTime(e,i,a));else i.setDate(i.getDate()+1);i=$.addWorkingTime(e,i,0),Math.abs(n-a)>Math.abs(i-a)&&(n=i)}else{var s=n<a?1:-1,l=1e3*s,m=r.options.horizontalDraggingUnit,d=r.options.horizontalDraggingUnitsPerStep;null!=m&&null!=d||(m=r.options.timeResolutionUnit,d=r.options.timeResolutionUnitsPerStep),d*=s,m===M.Quarters&&(d*=3);let c=function(t,a,r){var n=new Date(t);switch(m){case M.Quarters:case M.Months:n.setMonth(n.getMonth()+a*d);break;case M.Years:n.setFullYear(n.getFullYear()+a*d);break;case M.Days:case M.Weeks:n=$.addWorkingTime(null,t,a*l*o);break;default:n=$.addWorkingTime(e,t,a*l*o)}if(!n)return t;if(e&&(r||o<86400))if(i){if(e.determineTimeType(n)!==H.WorkingTime){let t=e.findStartOfNextTimeTypeChange(n);(o<86400||a<0&&t-n<o)&&(n=t)}}else{let t=new Date(n);t.setMilliseconds(t.getMilliseconds()-1),e.determineTimeType(t)!==H.WorkingTime&&(t=e.findStartOfCurrentTimeTypeInterval(t),(o<86400||a<0&&n-t<o)&&(n=t))}return n};for(;l>0?n<a:n>a;){var u=c(n,1,!1);if(o>=86400&&(l>0?u>a:u<a)&&(u=c(n,1,!0)),!u||u.getTime()===n.getTime())break;if(n=u,l>0?u>a:u<a)break}if(n.getTime()!==a.getTime()){var h=c(n,-1,!0);if(h){if(e)if(i)e.determineTimeType(h)!==H.WorkingTime&&(h=e.findStartOfNextTimeTypeChange(h));else{var p=new Date(h);p.setMilliseconds(p.getMilliseconds()-1),e.determineTimeType(p)!==H.WorkingTime&&(h=e.findStartOfCurrentTimeTypeInterval(h))}Math.abs(h-a)<Math.abs(n-a)&&(n=h),1===o&&Math.abs(a-t)<Math.abs(n-t)&&(n=t)}}}return n},_calculateStartForEntityPhantomFromPointer:function(e,t,a,i){var r=this,n=i-r.actualTableViewWidth()-r._actualSplitterWidth(),o=e&&(Math.abs(a)||0),s=o?t??r._determineCalendarForRowDataItem(e):void 0,l=r._convertXToDateInActualTimeResolution(n+r._timeAxis.timeAreaViewScrollOffset());if(l=$.addWorkingTime(s,l,-Math.floor(o/2))||l,o&&s&&!$.addWorkingTime(s,l,o)){var c=$.addWorkingTime(s,l,-o);c?l=c:s=null}var m=new Date(l),d=r.options.horizontalDraggingUnit,u=r.options.horizontalDraggingUnitsPerStep;switch(null!=d&&null!=u||(d=r.options.timeResolutionUnit,u=r.options.timeResolutionUnitsPerStep),u*=2,d){case M.Quarters:u*=3;case M.Months:m.setMonth(m.getMonth()+u);break;case M.Years:m.setFullYear(m.getFullYear()+u);break;default:var h=r.determineActualTimeResolutionInSeconds();(m=$.addWorkingTime(s,l,2e3*h-1)).setSeconds(m.getSeconds()-(60*(60*(24*m.getDate()+m.getHours())+m.getMinutes())+m.getSeconds())%h)}return l=r._findRoundedTargetDateTime(s,m,l,!0),{start:l=$.addWorkingTime(s,l,0),end:o?$.addWorkingTime(s,l,o):void 0}},_getPhantomReferenceElem:function(e){return r.select(e.foregroundRowElem).select("."+this.NXXXXX.TABLE_ROW_CLASS).node()},_getActualRowInteractions:function(e){"use strict";return this._super(e)&(E.DragVertically|E.DragOnSameLevelOnly)},_updateVerticalDOMElementsForRowDrag:function(e,t,a){"use strict";var i=this;if(i._super.apply(i,arguments),i._currentCursorDateLineVisible){var r=i._calculateStartForEntityPhantomFromPointer(t,e.object.calendar,e.object.duration,a.x);i._positionDateLine(i._cursorDateLineD3,r.start,{y:18,text:i._formatDate(r.start)},{y:a.y-i._actualTitleHeight(P.top),endDate:r.end}),i._cursorDateLineD3.style("visibility",null)}},_updateHorizontalDOMElementsForRowDrag:function(e,t,a){"use strict";var i=this;i._super.apply(i,arguments),t?(i._horizontalDragAreaD3.style("visibility",null),i._positionHorizontalDragArea(t)):i._horizontalDragAreaD3.style("visibility","hidden")},_determineStartEndForRowDrag:function(e,t,a){"use strict";var i=this;if(i._super.apply(i,arguments),t)return i._calculateStartForEntityPhantomFromPointer(t,e.object.calendar,e.object.duration,a.x)},_handleDragEnterForRowDrag:function(e){"use strict";var t=this;t._super.apply(t,arguments),"netronic_rowItem"===e.objectType&&(t._isInDragOver=!0,"ngantt"===e.senderWidget.NXXXXX.WIDGET_ABBREVIATION?t._currentCursorDateLineVisible=!1:t._currentCursorDateLineVisible=!0)},_handleDragLeaveForRowDrag:function(){"use strict";var e=this;e._super.apply(e,arguments),e._horizontalDragAreaD3.style("visibility","hidden"),e._currentCursorDateLineVisible=e.options.horizontalMousePositionHighlightingEnabled,e._currentCursorDateLineVisible||e._cursorDateLineD3.style("visibility","hidden")},_getOrCreateSpecialRowElem:function(e,t,a){"use strict";var i=this;e.specialRowElems||(e.specialRowElems={});var r=e.specialRowElems[a];if(!r&&t){var n=(a?i._highlightedBodyD3s:i._phantomsBodyD3s)[i._getBodyAreaIndex(e.item)].append("g").attr("class",a?Xe:i.NXXXXX.PHANTOM_ROW_CLASS).attr("transform","translate(0,"+e.newY+")").data([e]);r=n.node(),e.specialRowElems[a]=r,n.append("g").attr("class",ut).attr("transform","translate("+(i._actualLayoutColumnLeft(N.TimeArea)+Jt)+")").attr("clip-path","url(#"+i.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")").attr("height",e.totalHeight).append("g").attr("class",ht).attr("transform","translate("+-i.convertXToLimitedX(i._timeAxis.timeAreaViewScrollOffset())+")")}return r},_removeSpecialRowElem:function(e,t){"use strict";var a=e.specialRowElems[t];a&&(r.select(a).remove(),e.specialRowElems[t]=void 0,e.zOrdersToBarLayersD3Maps&&delete e.zOrdersToBarLayersD3Maps[t+1])},_createVerticalDragArea:function(){"use strict";var e=this._verticalDragAreaParentD3.append("g").attr("class","ngantt-vertical-drag-area").attr("transform","translate("+this.convertXToLimitedX(this._timeAxis.timeAreaViewScrollOffset())+")").style("visibility","hidden");e.append("rect").attr("class","ngantt-vertical-drag-area-rect"),this._verticalDragAreaD3=e},_positionVerticalDragArea:function(e,t){"use strict";var a=this._verticalDragAreaD3.select("rect"),i=this.convertXToLimitedX(this._timeAxis.convertDateToX(e)),r=this.convertXToLimitedX(this._timeAxis.convertDateToX(t));a.attr("x",i).attr("y",0).attr("width",Math.max(r-i,0)).attr("height",this._actualInnerBodyViewHeightsSumWithSeparator())},_createHorizontalDragArea:function(){"use strict";var e=this._horizontalDragAreaParentD3.append("g").attr("class","ngantt-horizontal-drag-area").style("visibility","hidden");e.append("rect").attr("class","ngantt-horizontal-drag-area-rect"),this._horizontalDragAreaD3=e},_positionHorizontalDragArea:function(e){"use strict";var t=this,a=this._horizontalDragAreaD3.select("rect"),i=(e=e.visibleRowDataItem).newY;t._isItemAtTheTop(e.item)||(i+=t._layoutRows[k.BodyAtTheTop].innerViewExtent()+t._actualBodyAreaSeparatorHeight()),a.attr("y",i-this.verticalScrollOffset()).attr("width",this._currentTimeAreaViewWidth).attr("height",e.totalHeight)},_createCursorRow:function(){"use strict";var e=this._horizontalDragAreaParentD3.append("g").attr("class","ngantt-cursor-row").style("visibility","hidden");return e.append("rect").attr("class",we),e},_positionCursorRow:function(e){"use strict";var t=this;if(e){var a=this._horizontalDragAreaParentD3.select("."+we),i=(e=e.visibleRowDataItem).newY;t._isItemAtTheTop(e.item)||(i+=t._layoutRows[k.BodyAtTheTop].innerViewExtent()+t._actualBodyAreaSeparatorHeight()),a.attr("y",i-this.verticalScrollOffset()).attr("width",this._currentTimeAreaViewWidth).attr("height",e.totalHeight)}},_registerGestureEventsOnTimeAreaBackground:function(e){"use strict";var t=this;e.classed(d.TAP_EVENT_CLASS_NAME,!0).classed(d.DOUBLE_TAP_EVENT_CLASS_NAME,!0).classed(d.CONTEXTMENU_EVENT_CLASS_NAME,!0).classed(d.PINCH_EVENT_CLASS_NAME,t.options.zoomingByPinchInTimeAreaEnabled),i(e.node()).data(d.HANDLER_FUNCTION_PROPERTY+ft+this._uniqueID,(function(e){try{t._handleGestureEventOnTimeAreaBackground(e)}catch(e){t._handleException(e,"onEventDispatch_background")}}))},_handleGestureEventOnTimeAreaBackground:function(e){"use strict";var t,a=this,i=e.srcEvent||e;r.mouse?(r.event=i,t=r.mouse(a._backgroundBodyD3s[k.BodyAtTheTop].node()),r.event=null):t=r.pointer(i,a._backgroundBodyD3s[k.BodyAtTheTop].node());var n=a.actualTableViewWidth(),o=t[0]>=0&&t[0]<n;if(o&&a._isInsideFixedPrecedingImageListColumn(e))e.type===d.CONTEXTMENU_EVENT_NAME&&(a.options.onEventFunc&&a._triggerEvent({sender:null,eventType:"contextmenu",event:i}),a.options.preventDefaultOnContextMenuEvents&&(e.stopPropagation(),e.preventDefault()));else switch(e.type){case d.TAP_EVENT_NAME:case d.DOUBLE_TAP_EVENT_NAME:if(a.options.onEventFunc){let t=e.type===d.DOUBLE_TAP_EVENT_NAME;a._handleTapOnTimeAreaBackground(e);let i=a.options.tapEventOnRowItemInTimeArea&&a._findRowDataItemAtY(e.center.y);i?a._triggerEvent({sender:i.item,elem:i.foregroundRowElem,elemType:yt.Row,eventType:t?"doubletap":"tap",event:e.srcEvent,hammerEvent:e}):a._triggerEvent({sender:o?null:"TimeAreaBackground",eventType:t?"doubletap":"tap",event:e.srcEvent,hammerEvent:e})}break;case d.CONTEXTMENU_EVENT_NAME:if(a.options.onEventFunc){let t=a.options.contextMenuEventOnRowItemInTimeArea&&a._findRowDataItemAtY(e.pageY);t?a._triggerEvent({sender:t.item,elem:t.foregroundRowElem,elemType:yt.Row,eventType:"contextmenu",event:e}):a._triggerEvent({sender:o?null:"TimeAreaBackground",eventType:"contextmenu",event:e})}a.options.preventDefaultOnContextMenuEvents&&(e.stopPropagation(),e.preventDefault());break;case d.PINCH_EVENT_NAME+"start":a._pinchStartVisualZoomFactor=a.options.visualZoomFactor,a._pinchCounter=0,a._pinchStartTime=performance.now(),a._pinchStartTimeStamp=e.srcEvent.timeStamp,a._pinchLastTimeStamp=0;break;case d.PINCH_EVENT_NAME:case d.PINCH_EVENT_NAME+"end":var s=e.type===d.PINCH_EVENT_NAME+"end";!function(){delete a._pinchTimerId;var t=a.options.visualZoomFactor,i=a._pinchStartVisualZoomFactor*e.scale,r=Math.max(a.options.minimumVisualZoomFactorOnInteraction,Math.min(a.options.maximumVisualZoomFactorOnInteraction,i));if(a.options.checkVisualZoomFactorFunc){var n=a._extendCallbackArgs({oldVisualZoomFactor:t,newVisualZoomFactorRaw:i,newVisualZoomFactor:r,hammerEvent:e,event:e.srcEvent,finished:s});s&&delete a._pinchStartTime,a.options.checkVisualZoomFactorFunc.call(a,n),r=n.newVisualZoomFactor}if(t!==r){var o=r/t,l=a._actualLayoutColumnLeft(N.TimeArea),c=l*t,m=l*r,d=a._actualTitleHeight(P.top)*t,u=a._actualTitleHeight(P.top)*r,h=a.horizontalTimeAreaViewScrollOffset(),p=a.verticalScrollOffset(),_=a._pointToSVGRelative(a._svgRootD3.node(),e.center.x,e.center.y);a.option("visualZoomFactor",r),a.scrollTo(void 0,h+(m-c)+(_.x-m)*(o-1)/t,p+(u-d)+(_.y-u)*(o-1)/t),a._pinchCounter=0}}(),a._pinchLastTimeStamp=e.srcEvent.timeStamp,e.preventDefault(),s&&(delete a._pinchStartVisualZoomFactor,delete a._pinchCounter,delete a._pinchStartTime,delete a._pinchStartTimeStamp,delete a._pinchLastTimeStamp)}},handleTapOnTimeAreaBackground:function(e){this._handleTapOnTimeAreaBackground(e)},_handleTapOnTimeAreaBackground:function(e){"use strict";var t=this;if(t.options.timeItemsSelectable&&t._selectedTimeDataItemsMap.size){let i=Array.from(t._selectedTimeDataItemsMap.values()).map((e=>e.item));var a=t._extendCallbackArgs({timeItem:null,oldSelectedRowItems:t.selectedRowItems(),oldSelectedLinkItems:[],oldSelectedItems:i,newSelectedItems:(p.isMacOrIOS?e.srcEvent.metaKey:e.srcEvent.ctrlKey)?i.slice():[],altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:e.srcEvent.metaKey,ctrlKey:e.srcEvent.ctrlKey,event:e.srcEvent,hammerEvent:e,cancel:!1});if(t.options.selectTimeItemFunc){if(t.options.selectTimeItemFunc.call(t,a),a.cancel)return;Array.isArray(a.newSelectedItems)||(a.newSelectedItems=[])}else if(a.newSelectedItems.length)return;t.options.timeItemsHaveSameReferenceAsRowItems||t._changeRowItemSelection([]),t._changeLinkItemSelection([]),t._changeTimeItemSelection(a.newSelectedItems)}else if(t.options.rowItemsSelectable&&(t._selectedRowDataItemsMap.size||t.options.selectRowItemFuncCalledForDeselectionForced)){let a=t.selectedRowItems(),i=t._extendCallbackArgs({rowItem:null,oldSelectedTimeItems:Array.from(t._selectedTimeDataItemsMap.values()).map((e=>e.item)),oldSelectedLinkItems:[],oldSelectedItems:a,newSelectedItems:(p.isMacOrIOS?e.srcEvent.metaKey:e.srcEvent.ctrlKey)?a.slice():[],altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:e.srcEvent.metaKey,ctrlKey:e.srcEvent.ctrlKey,event:e.srcEvent,hammerEvent:e,cancel:!1});if(t.options.selectRowItemFunc){if(t.options.selectRowItemFunc.call(t,i),i.cancel)return;Array.isArray(i.newSelectedItems)||(i.newSelectedItems=[])}else if(i.newSelectedItems.length)return;t.options.timeItemsHaveSameReferenceAsRowItems||t._changeTimeItemSelection([]),t._changeLinkItemSelection([]),t._changeRowItemSelection(i.newSelectedItems),t.update()}else if(t.options.linkItemsSelectable&&t._selectedLinkDataItemsMap.size){a=t._extendCallbackArgs({linkItem:null,oldSelectedTimeItems:[],oldSelectedRowItems:[],oldSelectedItems:t.selectedLinkItems(),newSelectedItems:(p.isMacOrIOS?e.srcEvent.metaKey:e.srcEvent.ctrlKey)?t.selectedLinkItems():[],altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:e.srcEvent.metaKey,ctrlKey:e.srcEvent.ctrlKey,event:e.srcEvent,hammerEvent:e,cancel:!1});if(t.options.selectLinkItemFunc){if(t.options.selectLinkItemFunc.call(t,a),a.cancel)return;Array.isArray(a.newSelectedItems)||(a.newSelectedItems=[])}else if(a.newSelectedItems.length)return;t._changeTimeItemSelection([]),t._changeRowItemSelection([]),t._changeLinkItemSelection(a.newSelectedItems),t.update()}},_changeTimeItemSelection:function(e){"use strict";var t=this,a=new Map,i=!!t._selectedTimeDataItemsMap.size;for(let e of t._selectedTimeDataItemsMap.values())a.set(e,e.selected),e.selected=!1;t._selectedTimeDataItemsMap.clear(),e.forEach((function(e){var i=e.selectable,r=t._getDataItem(e,t._timeDataItemsMap);r&&(i??(r.rowDataItem.isLeaf?t.options.defaultLeafTimeItemSelectable:t.options.defaultTimeItemSelectable))&&(a.set(r,r.selected),t._selectedTimeDataItemsMap.set(r.id,r),r.selected=!0)}));for(let e of a.keys())e.selected!==a.get(e)&&(e.selected?e.elem&&!e.item.hidden&&e.rowDataItem?.visibleRowDataItem?.totalHeight&&t._prependBarSelectedRect(e,r.select(e.elem)):t._removeSelectionFrameOfTimeDataItem(e));"auto"===t.options.unselectedItemsShownCovered&&i!==!!e.length&&t._foregroundBodyD3s.forEach((function(e){e.selectAll("."+t.NXXXXX.ROW_CLASS).each((function(e){t._checkForVisibilityOfUnselectedRowCover(e)}))}))},_moveSelectedBar:function(e,t,a){"use strict";var i=this;if(i.options.selectedItemsShownHighlighted&&!!e.highlighted!==a){var n=r.select(i._getOrCreateSpecialRowElem(e.rowDataItem.visibleRowDataItem,!0,1)),o=(a?n:r.select(e.rowDataItem.visibleRowDataItem.foregroundRowElem)).select("."+ht),s=Array.isArray(e.item.childTimeItems)&&e.item.childTimeItems.length,l=t.classed(Te);s&&!l&&(e.backgroundElem&&i._moveSelectedBar(e,r.select(e.backgroundElem),a),e.item.childTimeItems.forEach((function(e){var t=i._getDataItem(e,i._timeDataItemsMap);i._moveSelectedBar(t,r.select(t.elem),a)})));var c=s&&(null==e.item.zOrder||l)?-1e3:100*(parseFloat(e.item.zOrder)||0);c+=e.subRowIndex,i._determineBarLayerByZOrder(o,c,a?2:0).node().appendChild(t.node()),e.highlighted=a}},_checkHighlightingForTimeDataItem:function(e,t){e.rowDataItem&&this._checkForVisibilityOfUnselectedRowCover(e.rowDataItem.visibleRowDataItem),this.options.selectedItemsShownHighlighted&&this._moveSelectedBar(e,t,!0)},_prependBarSelectedRect:function(e,t){"use strict";var a=this;if(a._checkHighlightingForTimeDataItem(e,t),e.selectedFrameElem&&(r.select(e.selectedFrameElem).remove(),delete e.selectedFrameElem),e.selectedFrameMaskElem&&(r.select(e.selectedFrameMaskElem).remove(),delete e.selectedFrameMaskElem),a.options.barSelectionWithFrames){var i=a._determineSelectionFrameExtent(e);if(i){var n,o=a._getBodyAreaIndex(e.rowDataItem.item);(null!=e.item.barShape&&Array.isArray(e.item.childTimeItems)||a.options.barSelectionFramesShownWithHigherZOrder)&&(n=a.options.barSelectionFramesShownWithHigherZOrder?a._barSelectionFramesD3[o].append("mask"):t.insert("mask",":first-child")),n&&(n.attr("class","ngantt-selected-bar-mask").attr("id",st+e.id),n.append("rect").attr("fill","white"),n.append("rect").attr("fill","black"),e.selectedFrameMaskElem=n.node()),a.options.barSelectionFramesShownWithHigherZOrder&&t.classed(Tt,!0);var s=(a.options.barSelectionFramesShownWithHigherZOrder?a._barSelectionFramesD3[o].append("rect"):t.insert("rect",":first-child")).attr("class","ngantt-selected-bar").attr("filter","url(#"+a.NXXXXX.BLUR_FILTER_ID+a._uniqueID+")");a._positionSelectionFrame(e,s,n,i),a.options.barSelectionFramesShownWithHigherZOrder&&!e.rowDataItem.visibleRowDataItem.entered&&(e.rowDataItem.oldVisibleRowDataItem&&e.rowDataItem.visibleRowDataItem!==e.rowDataItem.oldVisibleRowDataItem||e.rowDataItem.visibleRowDataItem.oldY!==e.rowDataItem.visibleRowDataItem.newY)&&(s.attr("visibility","hidden"),window.setTimeout((function(){e.selected&&(i=a._determineSelectionFrameExtent(e),a._positionSelectionFrame(e,s,n,i),r.select(e.selectedFrameElem).attr("visibility",null))}),a.options.transitionDuration+50)),n&&s.attr("mask","url(#"+st+e.id+")"),e.selectedFrameElem=s.node()}}},_determineSelectionFrameExtent:function(e){"use strict";var t=this,a=t._determineTimeDataItemExtent(e,void 0,void 0,!0);if(a){var i=e.rowDataItem.visibleRowDataItem,r=i.subRowDataItems[e.subRowIndex],n=t.convertXToLimitedX(a.left),o=a.top,s=n,l=o;if(t._worldViewDivJQ&&(r&&(l+=r.offsetY-r.minimumY),l+=t.determineActualRowMargins().top),t.options.barSelectionFramesShownWithHigherZOrder)r&&(o+=r.offsetY-r.minimumY),o+=t.determineActualRowMargins().top+(i.oldY??i.newY);else{var c=t._determineTimeDataItemExtent(e);n-=t.convertXToLimitedX(c.left)}var m=t.convertXToLimitedX(a.outerRight)-t.convertXToLimitedX(a.outerLeft),d=a.bottom-a.top;return{x:n,y:o,w:m,h:d,worldViewX:s,worldViewY:l,xplus:-t._barFrameDistance+n,yplus:-2*t._barFrameDistance+o,wplus:m+2*t._barFrameDistance,hplus:d+4*t._barFrameDistance,xoffset:t.convertXToLimitedX(a.outerLeft)-t.convertXToLimitedX(a.left)}}},_positionSelectionFrame:function(e,t,a,i){"use strict";if(i){var r=this;if(a&&(a.select("rect:nth-child(1)").attr("x",i.xplus-Ut).attr("y",i.yplus-Ut).attr("width",i.wplus+200).attr("height",i.hplus+200),a.select("rect:nth-child(2)").attr("x",i.x).attr("y",i.y).attr("width",i.w).attr("height",i.h)),t.attr("transform","translate("+i.xoffset+")").attr("x",i.xplus).attr("y",i.yplus).attr("width",i.wplus).attr("height",i.hplus),r._worldViewDivJQ){var n=e.rowDataItem.visibleRowDataItem;n.worldViewSelectionCacheMap||(n.worldViewSelectionCacheMap={});var o=r._getTopOfRowDataItemForWorldView(n);n.worldViewSelectionCacheMap["T"+e.id]={method:"drawRect",args:[{left:r.actualTableWidth()+i.worldViewX,leftPx:1,top:o.top+i.worldViewY,topPx:o.topPx,width:i.w,height:i.h}]},r._renderCachedRowInWorldView(n,"S")}}},_removeSelectionFrameOfTimeDataItem:function(e){"use strict";var t=this;if(e.elem&&(e.rowDataItem&&t._checkForVisibilityOfUnselectedRowCover(e.rowDataItem.visibleRowDataItem),e.highlighted&&t._moveSelectedBar(e,r.select(e.elem),!1),r.select(e.elem).classed(Tt,!1)),r.select(e.selectedFrameElem).remove(),r.select(e.selectedFrameMaskElem).remove(),delete e.selectedFrameElem,delete e.selectedFrameMaskElem,e.rowDataItem){var a=e.rowDataItem.visibleRowDataItem;a.worldViewSelectionCacheMap&&delete a.worldViewSelectionCacheMap["T"+e.id],t._worldViewDivJQ&&t._renderCachedRowInWorldView(a,"S")}},_isAnyItemSelected:function(){"use strict";var e=this;return e._selectedRowDataItemsMap.size||e._selectedTimeDataItemsMap.size||e._selectedLinkDataItemsMap.size},isTimeItemSelected:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=this._getDataItem(e,this._timeDataItemsMap);return this._isTimeDataItemSelected(t)}catch(e){this._handleException(e,"isTimeItemSelected")}},_isTimeDataItemSelected:function(e){"use strict";if(e){for(var t=e;t.parentTimeDataItem;)t=t.parentTimeDataItem;return!!t.selected}},selectedTimeItems:function(e){"use strict";try{v.assertArrayOrNull(e,"",0);var t=this;if(void 0===e){var a=[],i=!1;for(let e of t._selectedTimeDataItemsMap.keys()){let r=t._getDataItemByID(e,t._timeDataItemsMap);r?a.push(r.item):i=!0}return i&&this._changeTimeItemSelection(a),a}if(t.options.timeItemsSelectable){var r=e;Array.isArray(e)&&(r=[],e.forEach((function(e){var a=t._getDataItem(e,t._timeDataItemsMap);if(a){for(var i=a;i.parentTimeDataItem;)i=i.parentTimeDataItem;r.push(i.item)}}))),t.options.timeItemsHaveSameReferenceAsRowItems||t._changeRowItemSelection([]),t._changeLinkItemSelection([]),t._changeTimeItemSelection(r),t._updateSuspendedForSelectionChanges||t._barDragging.isActive()&&t._barDragging.isDropped()||t.update()}}catch(e){this._handleException(e,"selectedTimeItems")}},_registerBackgroundPanningEvents:function(){"use strict";var e=this;e._backgroundBodyScrollParentD3.classed(d.PRESS_PAN_EVENT_CLASS_NAME,e.options.timeItemsSelectableByRectangle).classed(d.PAN_EVENT_CLASS_NAME,e.options.timeItemsSelectableByRectangle),e._svgRootD3.classed(d.PAN_EVENT_CLASS_NAME,!e.options.rowItemsDraggable&&!e.options.timeItemsSelectableByRectangle);let t=`keydown${e._EVENT_NAMESPACE}-rectselect keyup${e._EVENT_NAMESPACE}-rectselect`;e.options.timeItemsSelectableByRectangle?m.on(window,t,(function(t){e._checkModifierKeysForBarSelectionByRectangle(t)})):m.off(window,t)},_checkModifierKeysForBarSelectionByRectangle:function(e){"use strict";try{var t=this;t._cachedHammerEventForSelectionByRect&&(p.isMacOrIOS?"Meta"===e.key:"Control"===e.key)&&(t._cachedHammerEventForSelectionByRect.srcEvent=e,t._dragBarSelectionRectangle(t._cachedHammerEventForSelectionByRect))}catch(e){this._handleException(e,"onKeyDown_selectionRect")}},_checkBarSelectionRectangleEvents:function(e){"use strict";var t=this;switch(e.type){case d.PRESS_EVENT_NAME:t._pressOnDiagramActive="touch"===e.pointerType,t._pressOnDiagramActive?t._temporaryMarkVisible=void 0:e[d.CANCEL_PROPERTY]=!0;break;case d.PRESS_EVENT_NAME+"up":if(t._pressOnDiagramActive=!1,t._finishBarSelectionRectangle(e,!0),"touch"===e.pointerType&&t.options.onEventFunc){var a=t.options.contextMenuEventOnRowItemInTimeArea&&t._findRowDataItemAtY(e.center.y);a?t._triggerEvent({sender:a.item,elem:a.foregroundRowElem,elemType:yt.Row,eventType:"contextmenu",event:e.srcEvent,hammerEvent:e}):t._triggerEvent({sender:"TimeAreaBackground",eventType:"contextmenu",event:e.srcEvent,hammerEvent:e}),t.options.preventDefaultOnContextMenuEvents&&(e.stopPropagation(),e.preventDefault())}break;case d.PAN_EVENT_NAME+"start":("mouse"===e.pointerType||t._pressOnDiagramActive)&&t._startDraggingBarSelectionRectangle(e)||(e[d.CANCEL_PROPERTY]=!0),t._pressOnDiagramActive=!1;break;case d.PAN_EVENT_NAME+"move":t._dragBarSelectionRectangle(e);break;case d.PAN_EVENT_NAME+"end":t._finishBarSelectionRectangle(e,!1);break;case d.PAN_EVENT_NAME+"cancel":t._finishBarSelectionRectangle(e,!0)}},_startDraggingBarSelectionRectangle:function(e){"use strict";var t=this;l.setCursor(t.element[0],"crosshair");var a=t._pointToSVGRelative(t._svgRootD3.node(),e.center.x,e.center.y),i=a.y>=t._actualTitleHeight(P.top)+t._layoutRows[k.BodyAtTheTop].innerViewExtent()?1:0;if(i&&(a.y-=t._layoutRows[k.BodyAtTheTop].innerViewExtent()+t._actualBodyAreaSeparatorHeight()),a.y+=-t._actualTitleHeight(P.top)+t._layoutRows[i].scrollStart(),a.x<t._layoutColumns[N.Table]+t.options.splitterWidth)return!1;if(t._phantomsBodyD3s[i].append("g").attr("class",ue).attr("transform","translate("+a.x+","+a.y+")").append("g").attr("transform","scale("+1/t.options.visualZoomFactor+")").append("rect"),t._temporaryTimeAreaViewScrollOffsetForBarSelection=t._timeAxis.timeAreaViewScrollOffset(),t._temporaryHorizontalBodyAreaIndexForBarSelection=i,t._temporaryForcedLeafTimeItems=void 0,t._temporaryForcedLeafTimeItemsQuadrant=void 0,t.options.selectedItemsShownHighlighted||"touch"===e.pointerType!==(p.isMacOrIOS?e.srcEvent.metaKey:e.srcEvent.ctrlKey)){t._temporarilySelectedTimeDataItemsByRect=[];for(let e of t._selectedTimeDataItemsMap.keys()){let a=t._getDataItemByID(e,t._timeDataItemsMap);a&&a.rowDataItem&&t._isItemAtTheTop(a.rowDataItem.item)===!i&&t._temporarilySelectedTimeDataItemsByRect.push(a)}}else for(let e of t._selectedTimeDataItemsMap.keys()){let a=t._getDataItemByID(e,t._timeDataItemsMap);a&&a.elem&&t._removeSelectionFrameOfTimeDataItem(a)}if(!t.options.timeItemsHaveSameReferenceAsRowItems){var n=t.selectedRowItems();n.length&&n.forEach((function(e){var a=t._getDataItem(e,t._rowDataItemsMap);a&&a.foregroundRowElem&&r.select(a.foregroundRowElem).selectAll("."+t.NXXXXX.SELECTED_ROW_CLASS).remove()}))}return t.options.canSelectTimeItemFuncResultsCacheable&&(t._temporaryTimeDataItemIDToSelectionAllowedMap={}),!0},_dragBarSelectionRectangle:function(e,t){"use strict";var a=this,n=this._pointToSVGRelative(this._svgRootD3.node(),e.center.x,e.center.y);a._temporaryHorizontalBodyAreaIndexForBarSelection?n.y+=-a._actualTitleHeight(P.top)-a._layoutRows[k.BodyAtTheTop].innerViewExtent()-a._actualBodyAreaSeparatorHeight()+a._layoutRows[k.MainBody].scrollStart():n.y+=-a._actualTitleHeight(P.top)+a._layoutRows[k.BodyAtTheTop].scrollStart(),n.x=Math.max(n.x,a._layoutColumns[N.Table].innerViewExtent()+a.options.splitterWidth+1);var s=this._phantomsBodyD3s[a._temporaryHorizontalBodyAreaIndexForBarSelection].select("."+ue);if(0===!s.size)return void(e[d.CANCEL_PROPERTY]=!0);var l=o(s.attr("transform")),c=s.select("rect");if(t){var m=a._timeAxis.timeAreaViewScrollOffset();l.translate[0]+=a._temporaryTimeAreaViewScrollOffsetForBarSelection-m,s.attr("transform",l.toString()),a._temporaryTimeAreaViewScrollOffsetForBarSelection=m}var u=!(2==a.options.timeItemsSelectableByRectangle)||l.translate[0]>n.x,h=n.x-l.translate[0],p=n.y-l.translate[1];c.attr("x",h>=0?0:h*a.options.visualZoomFactor).attr("y",p>=0?0:p*a.options.visualZoomFactor).attr("width",Math.abs(h)*a.options.visualZoomFactor).attr("height",Math.abs(p)*a.options.visualZoomFactor).classed("ngantt-bar-selection-partially",u).classed("ngantt-bar-selection-fully",!u);let _=(h>=0?0:1)+(p>=0?0:2);a._temporaryForcedLeafTimeItemsQuadrant!==_&&(a._temporaryForcedLeafTimeItemsQuadrant=_,a._temporaryForcedLeafTimeItems=void 0);var g=a._findTimeDataItemsInRect({x:l.translate[0],y:l.translate[1]},{x:n.x,y:n.y},u),f=a._isCtrlKeyPressed(e,!a._selectedTimeDataItemsMap.size);if(f)for(let e of a._selectedTimeDataItemsMap.keys()){let t=a._getDataItemByID(e,a._timeDataItemsMap,a._unusedTimeDataItemsMap);if(t){var T=g.indexOf(t);T<0?g.push(t):g.splice(T,1)}}var D,v=g.slice();if(a._temporarilySelectedTimeDataItemsByRect&&(a._temporarilySelectedTimeDataItemsByRect.forEach((function(e){var t=v.indexOf(e);t>=0&&v.splice(t,1)})),D=a._temporarilySelectedTimeDataItemsByRect.slice(),g.forEach((function(e){var t=D.indexOf(e);t>=0&&D.splice(t,1)}))),v.length&&a.options.canSelectTimeItemFunc){var y=a._temporarilySelectedTimeDataItemsByRect?a._temporarilySelectedTimeDataItemsByRect.slice():[];D&&D.forEach((function(e){y.splice(y.indexOf(e),1)})),v.slice().forEach((function(t){var i=!0;if(a._temporaryTimeDataItemIDToSelectionAllowedMap&&t.id in a._temporaryTimeDataItemIDToSelectionAllowedMap)i=a._temporaryTimeDataItemIDToSelectionAllowedMap[t.id];else{var r=a._extendCallbackArgs({timeItem:t.item,otherSelectedTimeItems:y.map((function(e){return e.item})),altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:f,ctrlKey:f,event:e.srcEvent,hammerEvent:e,canSelect:!0});a.options.canSelectTimeItemFunc.call(a,r),a._temporaryTimeDataItemIDToSelectionAllowedMap&&(a._temporaryTimeDataItemIDToSelectionAllowedMap[t.id]=r.canSelect),i=r.canSelect}i?y.push(t):v.splice(v.indexOf(t),1)})),g=y}a._temporarilySelectedTimeDataItemsByRect=g,a._cachedHammerEventForSelectionByRect=i.extend({},e),v.forEach((function(e){e&&a._prependBarSelectedRect(e,r.select(e.elem))})),D&&D.forEach((function(e){a._removeSelectionFrameOfTimeDataItem(e)})),t||a._checkForAutoscroll(e.center.x,e.center.y,!0,!0,(function(){a._dragBarSelectionRectangle(e,!0)}))},_finishBarSelectionRectangle:function(e,t){"use strict";var a=this;if(e||(t=!0),l.setCursor(a.element[0],null),a._stopAutoscroll(),void 0!==a._temporaryTimeAreaViewScrollOffsetForBarSelection){this._phantomsBodyD3s[a._temporaryHorizontalBodyAreaIndexForBarSelection].select("."+ue).remove(),a._temporarilySelectedTimeDataItemsByRect&&a._temporarilySelectedTimeDataItemsByRect.forEach((function(e){a._removeSelectionFrameOfTimeDataItem(e)}));for(let e of a._selectedTimeDataItemsMap.keys()){let t=a._getDataItemByID(e,a._timeDataItemsMap);t&&a._prependBarSelectedRect(t,r.select(t.elem))}if(!t){var i=a._isCtrlKeyPressed(e,!a._selectedTimeDataItemsMap.size),n=[];if(a._temporarilySelectedTimeDataItemsByRect&&a._temporarilySelectedTimeDataItemsByRect.forEach((function(e){n.push(e.item)})),a.options.selectTimeItemFunc){var o=a._extendCallbackArgs({timeItem:n[0],oldSelectedRowItems:a.selectedRowItems(),oldSelectedItems:Array.from(a._selectedTimeDataItemsMap.values()).map((e=>e.item)),newSelectedItems:n,altKey:e.srcEvent.altKey,shiftKey:e.srcEvent.shiftKey,metaKey:i,ctrlKey:i,event:e.srcEvent,hammerEvent:e,cancel:!1});a.options.selectTimeItemFunc.call(a,o),!o.cancel&&Array.isArray(o.newSelectedItems)||(t=!0)}t||(a.options.timeItemsHaveSameReferenceAsRowItems||!o.newSelectedItems.length||a.options.timeItemsHaveSameReferenceAsRowItems||a._changeRowItemSelection([]),this._changeLinkItemSelection([]),a._changeTimeItemSelection(o.newSelectedItems),a.update())}}t&&!a.options.timeItemsHaveSameReferenceAsRowItems&&a._updateAllRowSelections(),delete a._temporaryTimeAreaViewScrollOffsetForBarSelection,delete a._temporarilySelectedTimeDataItemsByRect,delete a._cachedHammerEventForSelectionByRect,delete a._temporaryTimeDataItemIDToSelectionAllowedMap,delete a._temporaryHorizontalBodyAreaIndexForBarSelection,delete a._temporaryForcedLeafTimeItemsQuadrant,delete a._temporaryForcedLeafTimeItems},_findTimeDataItemsInRect:function(e,t,a){"use strict";var i=this,r=i._temporaryTimeAreaViewScrollOffsetForBarSelection,n=i.actualTableViewWidth(),o={left:Math.min(e.x,t.x)-n-i._actualSplitterWidth()+r,right:Math.max(e.x,t.x)-n-i._actualSplitterWidth()+r,top:Math.min(e.y,t.y),bottom:Math.max(e.y,t.y)},s=[],l=i._determineRowDataItems(!0,void 0,i._temporaryHorizontalBodyAreaIndexForBarSelection),c=[];return l.forEach((function(e){if(e.newY>o.bottom)return!1;e.newY+e.totalHeight>=o.top&&c.push(e)})),t.y<e.y&&(c=c.reverse()),c.forEach((function(e){i._findTimeDataItemsInRowRecursively(e,s,o,a,!0)})),s},_findTimeDataItemsInRowRecursively:function(e,t,a,i,r){"use strict";var n=this;if(n._temporaryForcedLeafTimeItems=n._temporaryForcedLeafTimeItems??t[0]?.rowDataItem.isLeaf,(null==n._temporaryForcedLeafTimeItems||e.isLeaf===n._temporaryForcedLeafTimeItems)&&Array.isArray(e.item.timeItems)){let r=e.isLeaf?n.options.defaultLeafTimeItemSelectable:n.options.defaultTimeItemSelectable;e.item.timeItems.forEach((function(e){let o=e.selectable;if(null==o?r:o){var s=n._getDataItem(e,n._timeDataItemsMap),l=n._determineTimeDataItemExtent(s,void 0,void 0,!0),c=s.newY+s.rowDataItem.visibleRowDataItem.newY+l.top,m=s.newY+s.rowDataItem.visibleRowDataItem.newY+l.bottom;(i?a.right>=l.outerLeft&&a.left<=l.outerRight&&a.bottom>=c&&a.top<=m:a.left<=l.outerLeft&&a.right>=l.outerRight&&a.top<=c&&a.bottom>=m)&&t.push(s)}}))}e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(o,s){(s||n.options.leafBarsVisibleOnParentRows)&&(!r||(s?e.isCollapsed:!n.options.leafRowsVisible||e.areLeavesCollapsed)&&n._getCurrentlyDisplayedElementsInRow(e)&(s?wt.BarsOfCollapsedChildRows:wt.Bars))&&Array.isArray(e[o])&&e[o].forEach((function(e){n._findTimeDataItemsInRowRecursively(e,t,a,i,!1)}))}))},_changeLinkItemSelection:function(e){"use strict";var t,a,i=this,r=new Map;for(a=0;a<e.length;a++)e[a]&&(t=i._getDataItem(e[a],i._linkDataItemsMap))&&r.set(t.id,t);for(let e of i._selectedLinkDataItemsMap.values())r.has(e.id)||(delete e.selected,e.version++,i._selectedLinkDataItemsMap.delete(e.id));for(let e of r.values())(e.item.selectable??i.options.defaultLinkItemSelectable)&&(i._selectedLinkDataItemsMap.has(e.id)||(e.selected=!0,i._selectedLinkDataItemsMap.set(e.id,e),e.version++))},_selectLink:function(e,t){"use strict";var a,i,r,n=this,o=n.selectedLinkItems(),s=o.slice(),l=n._isCtrlKeyPressed(t,!n._selectedLinkDataItemsMap.size);if(l){if(n._selectedTimeDataItemsMap.size||n._selectedRowDataItemsMap.size)return;if(n._selectedLinkDataItemsMap.has(e.id)){var c=s.indexOf(e.item);c>-1&&s.splice(c,1)}else i=s.slice(),s.push(e.item),a=!0}else n.options.canSelectLinkItemFunc&&o.indexOf(e.item)<0&&(i=[],a=!0),s=[e.item];if(n._updateSuspendedForSelectionChanges=!0,a&&n.options.canSelectLinkItemFunc){var m=n._extendCallbackArgs({linkItem:e.item,otherSelectedLinkItems:i,altKey:t.srcEvent.altKey,shiftKey:t.srcEvent.shiftKey,metaKey:l,ctrlKey:l,event:t.srcEvent,hammerEvent:t,canSelect:!0});n.options.canSelectLinkItemFunc.call(n,m),m.canSelect||(r=!0)}if(!r&&n.options.selectLinkItemFunc){m=n._extendCallbackArgs({linkItem:e.item,oldSelectedTimeItems:Array.from(n._selectedTimeDataItemsMap.values()).map((e=>e.item)),oldSelectedRowItems:n.selectedRowItems(),oldSelectedItems:n.selectedLinkItems(),newSelectedItems:s,altKey:t.srcEvent.altKey,shiftKey:t.srcEvent.shiftKey,metaKey:l,ctrlKey:l,event:t.srcEvent,hammerEvent:t,cancel:!1});n.options.selectLinkItemFunc.call(n,m),m.cancel?r=!0:s=Array.isArray(m.newSelectedItems)?m.newSelectedItems:[]}delete n._updateSuspendedForSelectionChanges,r||n.selectedLinkItems(s)},isLinkItemSelected:function(e){"use strict";try{v.assertNotNull(e,"",0);var t=this,a=t._getDataItem(e,t._linkDataItemsMap);if(a)return t._selectedLinkDataItemsMap.has(a.id)}catch(e){this._handleException(e,"isLinkItemSelected")}},selectedLinkItems:function(e){"use strict";try{v.assertArrayOrNull(e,"",0);var t=this;if(void 0===e)return Array.from(t._selectedLinkDataItemsMap.values()).map((e=>e.item));t.options.linkItemsSelectable&&(t._changeTimeItemSelection([]),t._changeRowItemSelection([]),t._changeLinkItemSelection(e),t.update())}catch(e){this._handleException(e,"selectedLinkItems")}},_removeLinks:function(e){"use strict";var t=this;e.each((function(e){e.selectedLinkElem&&(i(e.selectedLinkElem).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID,null),r.select(e.selectedLinkElem).remove(),e.selectedLinkElem=void 0),m.off(this,t._EVENT_NAMESPACE),e.elem=void 0;let a=r.select(e.hotRegionElem);a.remove(),m.off(a.select("path").node(),"",t._EVENT_NAMESPACE),i(e.hotRegionElem).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID,null),e.hotRegionElem=void 0})).remove()},_createAndUpdateAllLinks:function(e){"use strict";var t=this,a=[],n=t._calculateVisibleVerticalBodyRangeForVirtualization(k.MainBody);if(t.options.linksVisible)for(let e of t._linkDataItemsMap.values()){var o=e.sourceTimeDataItem?e.sourceTimeDataItem.rowDataItem:void 0,s=e.targetTimeDataItem?e.targetTimeDataItem.rowDataItem:void 0;if(o&&!t._isItemAtTheTop(o.item)&&o.visibleRowDataItem.arrayIndex>=0&&s&&!t._isItemAtTheTop(s.item)&&s.visibleRowDataItem.arrayIndex>=0){var l=t._isTimeDataItemVisible(e.sourceTimeDataItem)&&0!==o.visibleRowDataItem.totalHeight,c=t._isTimeDataItemVisible(e.targetTimeDataItem)&&0!==s.visibleRowDataItem.totalHeight;if(t.options.linksWithDanglingBarsVisible?l||c:l&&c){var u=o.visibleRowDataItem.newY,h=s.visibleRowDataItem.newY,p=u+o.visibleRowDataItem.totalHeight,g=h+s.visibleRowDataItem.totalHeight,f=p<n.top?-1:u>n.bottom?1:0;f===(g<n.top?-1:h>n.bottom?1:0)&&f||a.push(e)}}}var T=t._linksD3.selectAll("."+Ge).data(a,(function(e){return e.id+"_"+e.version})),D=T.enter().append("g").attr("class",(function(e){return t._enrichClass(e,Ge,{elemType:yt.Link})}));this.options.linksWithDanglingBarsVisible&&D.each((function(){r.select(this).append("circle").attr("class",(function(e){return t._enrichClass(e,Ye+" "+ze,{elemType:yt.LinkDanglingSourceBar})})).attr("r","6").attr("visibility","hidden"),r.select(this).append("circle").attr("class",(function(e){return t._enrichClass(e,Ye+" "+$e,{elemType:yt.LinkDanglingTargetBar})})).attr("r","6").attr("visibility","hidden")})),D.append("path").attr("class",(function(e){return t._enrichClass(e,Ze,{elemType:yt.LinkPath})})),D.each((function(e){var a=je+" "+d.CONTEXTMENU_EVENT_CLASS_NAME+" "+d.PRESS_EVENT_CLASS_NAME+" "+d.TAP_EVENT_CLASS_NAME+" "+d.DOUBLE_TAP_EVENT_CLASS_NAME,n=t._linkHotRegionsD3.append("g").attr("class",a);if(n.append("path"),e.hotRegionElem=n.node(),i(e.hotRegionElem).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID,(function(a){try{switch(a.type){case d.CONTEXTMENU_EVENT_NAME:t.options.onEventFunc&&(t._setBarInteractionCursor(Et.None),t._triggerEvent({sender:e.item,eventType:"contextmenu",elemType:yt.Link,event:a})),t.options.preventDefaultOnContextMenuEvents&&(a.stopPropagation(),a.preventDefault());break;case d.PRESS_EVENT_NAME+"up":t.options.onEventFunc&&"touch"===a.pointerType&&(t._setBarInteractionCursor(Et.None),t._triggerEvent({sender:e.item,eventType:"contextmenu",elemType:yt.Link,event:a.srcEvent,hammerEvent:a}));break;case d.TAP_EVENT_NAME:t.options.onEventFunc&&t._triggerEvent({sender:e.item,eventType:"tap",elem:this,elemType:yt.Link,event:a.srcEvent,hammerEvent:a});var i=e.item.selectable;(null==i?t.options.defaultLinkItemSelectable:i)&&t._selectLink(e,a);break;case d.DOUBLE_TAP_EVENT_NAME:t.options.onEventFunc&&t._triggerEvent({sender:e.item,eventType:"doubletap",elem:this,elemType:yt.Link,event:a.srcEvent,hammerEvent:a})}}catch(e){t._handleException(e,"onEventDispatch_link")}})),!t.options.isForExport){var o=r.select(e.hotRegionElem).select("path").node();i(o).attr(_.POINTER_ENTER_ATTR_NAME,"1").attr(_.POINTER_LEAVE_ATTR_NAME,"1"),m.on(o,"pointerenter",t._EVENT_NAMESPACE,(function(a){try{if(t._onpointerenter_cursor(a,this,Ge),!t.isInInteraction()){t._triggerEvent({sender:e.item,event:a,eventType:"tooltip",elem:this,elemType:yt.Link});var i=this;m.on(o,"pointerleave",t._EVENT_NAMESPACE,(function(a){try{m.off(o,"pointerleave",t._EVENT_NAMESPACE),t._onpointerleave_cursor(i,e.id),!t._pointerEnterCursorElems.length&&t.options.onEventFunc&&t._triggerEvent({sender:null,eventType:"tooltip",elem:null,event:a})}catch(e){t._handleException(e,"onPointerLeave_link")}}))}}catch(e){t._handleException(e,"onPointerEnter_link")}}))}}));var v=r.timeFormat?D.merge(T):T;v.each((function(e){if(e.selected&&!e.selectedLinkElem){var a=t._selectedLinksD3.append("path").attr("class",lt+" "+d.CONTEXTMENU_EVENT_CLASS_NAME+" "+d.PRESS_EVENT_CLASS_NAME+" "+d.TAP_EVENT_CLASS_NAME+" "+d.DOUBLE_TAP_EVENT_CLASS_NAME).node();e.selectedLinkElem=a,i(a).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID,(function(a){i(e.hotRegionElem).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID)(a)}))}else!e.selected&&e.selectedLinkElem&&(i(e.selectedLinkElem).data(d.HANDLER_FUNCTION_PROPERTY+ft+t._uniqueID,null),r.select(e.selectedLinkElem).remove(),e.selectedLinkElem=void 0)})),this.options.linkMarkersVisible&&(D.each((function(e){var a=r.select(this);(null!=e.item.targetMarker?e.item.targetMarker:t.options.defaultLinkTargetMarker)!==Lt.None&&a.append("path").attr("class",(function(e){return t._enrichClass(e,Ke,{elemType:yt.LinkTargetMarker})}))})),v.each((function(e){var a=r.select(this);(null!=e.item.targetMarker?e.item.targetMarker:t.options.defaultLinkTargetMarker)!==Lt.None?a.select("."+Ke).size()||a.append("path").attr("class",(function(e){return t._enrichClass(e,Ke,{elemType:yt.LinkTargetMarker})})):a.select("."+Ke).remove()})));var y=[];v.each((function(a){var i=r.select(this);[a.sourceTimeDataItem,a.targetTimeDataItem].forEach((function(e){e&&t._getDataItemByID(e.id,t._timeDataItemsMap)&&(y[e.id]||(y[e.id]=!0,e.elem&&e.elem.parentElement&&!e.isHiddenByLimits&&0!==e.rowDataItem.totalHeight&&t._isTimeDataItemVisible(e)||t._positionBar(null,e,2)))})),t._positionLink(i,a,e),a.elem=this})),t._removeLinks(T.exit())},_doDetermineLinkInfo:function(e,t){"use strict";var a,i,r,n=e.sourceTimeDataItem,o=e.targetTimeDataItem,s=n.rowDataItem.visibleRowDataItem,l=o.rowDataItem.visibleRowDataItem,c=s.newY+n.newY,m=l.newY+o.newY,d=this._getActualBarHeight(n),u=this._getActualBarHeight(o),h=e.item.type||this.options.defaultLinkType||Bt.EndStart;switch(h){case Bt.EndEnd:a="End",i="End";break;case Bt.SourceDateEnd:a="SourceDate",i="End";break;case Bt.StartEnd:a="Start",i="End";break;case Bt.EndStart:a="End",i="Start";break;case Bt.SourceDateStart:a="SourceDate",i="Start";break;case Bt.StartStart:a="Start",i="Start";break;case Bt.EndTargetDate:a="End",i="TargetDate";break;case Bt.SourceDateTargetDate:a="SourceDate",i="TargetDate";break;case Bt.StartTargetDate:a="Start",i="TargetDate"}"SourceDate"===a&&(n.item.linkSourceDate instanceof Date?(r=this._timeAxis.convertDateToX(n.item.linkSourceDate))===n.newX?(r=void 0,a="Start"):r===n.newEndX&&(r=void 0,a="End"):a="End");var p,_=void 0!==r;"TargetDate"===i&&(o.item.linkTargetDate instanceof Date?(p=this._timeAxis.convertDateToX(o.item.linkTargetDate))===o.newX?(p=void 0,i="Start"):p===o.newEndX&&(p=void 0,i="End"):i="Start");var g,f,T,D,v,y,S,w=void 0!==p,I={type:h};switch(a){case"Start":f=n.newX;break;case"End":f=n.newEndX;break;case"SourceDate":f=_?r:n.newEndX}switch(i){case"Start":T=o.newX;break;case"End":T=o.newEndX;break;case"TargetDate":T=w?p:o.newX}switch(a){case"Start":D=m>=c?c+d:c+this.options.barCornerWidth,v=m>=c?U.Down:U.Up;break;case"End":(g=T-f)<t?(D=m>=c?c+d:c,v=m>=c?U.Down:U.Up):(D=c+d/2,v=U.Right);break;case"SourceDate":D=m>=c?c+d:c,v=m>=c?U.Down:U.Up}switch(i){case"Start":(g=T-f)<t?(y=m>=c?m+this.options.barCornerWidth/2:m+u,S=m>=c?U.Up:U.Down):(y=m+u/2,S=U.Left);break;case"End":g<t&&c<m+u&&m<c+d?(y=m>=c?m+u:m,S=m>=c?U.Down:U.Up):(y=m>=c?m:m+u,S=m>=c?U.Up:U.Down);break;case"TargetDate":y=m>=c?m:m+u,S=m>=c?U.Up:U.Down}return I.source={x:f,y:D,portDirection:v},I.target={x:T,y,portDirection:S},s.subRowDataItems[n.subRowIndex]&&(I.source.allocatedTimeSpans=s.subRowDataItems[n.subRowIndex].timeSpans),l.subRowDataItems[o.subRowIndex]&&(I.target.allocatedTimeSpans=l.subRowDataItems[o.subRowIndex].timeSpans),I.source.y&&(I.source.yAbove=c-this.options.verticalLinkDistance,I.source.yBelow=c+d+this.options.verticalLinkDistance),I.target.y&&(I.target.yAbove=m-this.options.verticalLinkDistance,I.target.yBelow=m+u+this.options.verticalLinkDistance),I.routingType=e.item.routingType,this.options.linksWithDanglingBarsVisible&&(0===s.totalHeight?(I.source.y=s.newY,I.source.yAbove=s.newY,I.source.yBelow=s.newY):this._isTimeDataItemVisible(n)||(I.source.y=I.source.y-6,I.source.yAbove=I.source.y,I.source.yBelow=I.source.y),0===l.totalHeight?(I.target.y=l.newY,I.target.yAbove=l.newY,I.target.yBelow=l.newY):this._isTimeDataItemVisible(o)||(I.target.y=I.target.y-6,I.target.yAbove=I.target.y,I.target.yBelow=I.target.y)),I},_positionLink:function(e,t,a){"use strict";var i=this,n=void 0!==t.item.routingType?t.item.routingType:this._linkRouter.options.routingType,o=(t.item.targetMarker??i.options.defaultLinkTargetMarker)!==Lt.None;if(n===G.Orthogonal)this.options.linkMarkersVisible&&o?(this._linkRouter.options.sourcePortSectionExtent=0,this._linkRouter.options.targetPortSectionExtent=10):(this._linkRouter.options.sourcePortSectionExtent=5,this._linkRouter.options.targetPortSectionExtent=5);else this.options.linkMarkersVisible&&o?(this._linkRouter.options.sourcePortSectionExtent=0,this._linkRouter.options.targetPortSectionExtent=5):(this._linkRouter.options.sourcePortSectionExtent=0,this._linkRouter.options.targetPortSectionExtent=0);var s=null,l=this._doDetermineLinkInfo(t,this._linkRouter.options.sourcePortSectionExtent+this._linkRouter.options.targetPortSectionExtent+5),c=r.select(t.hotRegionElem),m=t.selectedLinkElem?r.select(t.selectedLinkElem):null;if(isNaN(l.source.x)||null==l.source.x||isNaN(l.source.y)||isNaN(l.target.x)||null==l.target.x||isNaN(l.target.y))s="hidden";else{var d=this._linkRouter.determinePath(l);i.options.linksWithDanglingBarsVisible&&(e.selectAll("circle."+ze).attr("cx",i.convertXToLimitedX(l.source.x)).attr("cy",l.source.y).attr("visibility",0!==t.sourceTimeDataItem.rowDataItem.totalHeight&&i._isTimeDataItemVisible(t.sourceTimeDataItem)?"hidden":null),e.selectAll("circle."+$e).attr("cx",i.convertXToLimitedX(l.target.x)).attr("cy",l.target.y).attr("visibility",0!==t.targetTimeDataItem.rowDataItem.totalHeight&&i._isTimeDataItemVisible(t.targetTimeDataItem)?"hidden":null));let r="";if(o){var u={[U.Left]:0,[U.Up]:90,[U.Right]:180,[U.Down]:270}[l.target.portDirection];r={[U.Left]:"h5",[U.Up]:"v5",[U.Right]:"h-5",[U.Down]:"v-5"}[l.target.portDirection],e.select("."+Ke).attr("d","M0,0l-5,-3v6L0,0")}var h=i.getCurrentLowerXLimit(),p=i.getCurrentUpperXLimit();(l.source.x<h&&l.target.x<h||l.source.x>=p&&l.target.x>=p)&&(s="hidden");var _=e.select("."+Ze);(t.transitionActive||_.attr("d")!==d||m&&m.attr("d")!==d)&&(t.elem&&a!==R.LinkItemsChanged&&a!==R.TimeAxisChanged&&"hidden"!==s?(t.transitionActive=!0,i._cacheTransitionFunction((function(){t.transitionActive&&(e.select("."+Ze).transition().duration(i.options.transitionDuration).attr("d",d),m?.transition().duration(i.options.transitionDuration).attr("d",d),c.select("path").transition().duration(i.options.transitionDuration).attr("d",d),e.select("."+Ke).transition().duration(i.options.transitionDuration).attr("transform","translate("+i.convertXToLimitedX(l.target.x)+","+l.target.y+") rotate("+u+")"))}))):(delete t.transitionActive,e.select("."+Ze).attr("d",d).interrupt().transition(),c.select("path").attr("d",`${d}${r}`).interrupt().transition(),m?.attr("d",d).interrupt().transition(),e.select("."+Ke).attr("transform","translate("+i.convertXToLimitedX(l.target.x)+","+l.target.y+") rotate("+u+")").interrupt().transition(),"hidden"===s||a!==R.RowExpanded&&a!==R.RowLeavesExpanded||(s="hidden",window.setTimeout((function(){e.attr("visibility",null),c.attr("visibility",null),m?.attr("visibility",null)}),i.options.transitionDuration))))}e.attr("visibility",s),c.attr("visibility",s),m?.attr("visibility",s),i.options.positionLinkFunc?.call(i,i._extendCallbackArgs({linkItem:t.item,elem:e.node()}))},_createTableRow:function(e,t,a,i){"use strict";var r=i===R.WorldView?void 0:t.append("g").attr("class",this.NXXXXX.TABLE_ROW_CLASS);this._super(e,r,a,i,yt.TableRow)},_PE_determineTableCellWidth:function(e){"use strict";return Math.max(0,Math.max(this.actualTableWidth(),this.actualTableViewWidth())-this._fixedTableColumnsWidthSucceeding-e)},_PE_LastColumnResult:function(){return!0},_PE_Decision111:function(){return!0},_PE_ColumnIndexResult:function(e){return e},addDateLine:function(e){"use strict";try{v.assertNotNull(e,"",0);if(e.id){if(this._dateLineIDsToSVGElementsMap[e.id])return;Array.isArray(this.options.dateLines)||(this.options.dateLines=[]),this.options.dateLines.push(e),this._createDateLine(!1!==e.inForeground?this._foregroundDateLinesD3:this._backgroundDateLinesD3,e),this.__sortAndRepositionDateLines()}}catch(e){this._handleException(e,"addDateLine")}},__sortAndRepositionDateLines:function(e){"use strict";var t=this;if(this.options.dateLineCaptionOptimizedPositioningEnabled){var a=this.options.dateLines;if(Array.isArray(a)&&a.length>1){e||this._sortDatelines(),this._rectManager.removeRects();var i=1;!0===this._debugSymbolOptimization&&(i=0);for(var n=i;n<=1;n++)a.forEach((function(e){var a=t._dateLineIDsToSVGElementsMap[e.id];a&&t._positionDateLine(r.select(a),void 0,void 0,void 0,n)}))}}},addRowDateLine:function(e){"use strict";try{v.assertNotNull(e,"",0);var t,a,i=this;if(e.timeItem&&(t=i._getDataItem(e.timeItem,i._timeDataItemsMap,i._unusedTimeDataItemsMap),e.rowItem=e.rowItem||t.rowDataItem.item,a=i._getDataItem(e.rowItem,i._rowDataItemsMap,i._unusedRowDataItemsMap),e.date?e.timeItem=void 0:e.date=e.timeItem.start),e.yStartOffsetInRow||(e.yStartOffsetInRow=0),e.rowItem&&e.date&&a){if(e.rowItem.dateLines){for(var r=!0,n=0;n<e.rowItem.dateLines.length;n++){var o=e.rowItem.dateLines[n];o.date.getTime()===e.date.getTime()&&o.yStartOffsetInRow===e.yStartOffsetInRow&&(r=!1)}r&&e.rowItem.dateLines.push(e)}else e.rowItem.dateLines=[],e.rowItem.dateLines.push(e);var s=function(t){var a=i._rowDateLinesD3s[i._getBodyAreaIndex(t.item)].append("g").classed(rt,!0);a.append("line").classed(nt,!0),a.property(Be,e),i._rowDateLineElemsByRowDataItemIds[t.id].push(a)};if(i._rowDateLineElemsByRowDataItemIds[a.id]){var l=!0;for(n=0;n<i._rowDateLineElemsByRowDataItemIds[a.id].length;n++){var c=i._rowDateLineElemsByRowDataItemIds[a.id][n].property(Be);c.date.getTime()===e.date.getTime()&&c.yStartOffsetInRow===e.yStartOffsetInRow&&(l=!1)}l&&s(a)}else i._rowDateLineElemsByRowDataItemIds[a.id]=[],s(a);return!0}}catch(e){this._handleException(e,"addRowDateLine")}return!1},_updateRowDateLines:function(e){"use strict";Array.isArray(e.item.dateLines)&&e.item.dateLines.forEach((function(e){e.timeItem&&(e.date=e.timeItem.start)}))},removeDateLine:function(e){"use strict";try{v.assertString(e,"",0);var t=this;if(e){var a=t._dateLineIDsToSVGElementsMap[e];if(a&&(t._elementD3.select("#"+e).remove(),delete t._dateLineIDsToSVGElementsMap[e],Array.isArray(this.options.dateLines))){var i=this.options.dateLines.indexOf(r.select(a).property(Be));i>=0&&(this.options.dateLines.splice(i,1),this.__sortAndRepositionDateLines(!0))}}}catch(e){this._handleException(e,"removeDateLine")}},_dateLinesChanged:function(e){"use strict";var t=this;t._timeAreaIsCurrentlyInvalid?t._dateLinesWereChangedWhileTimeAreaWasInvalid=!0:e&&!t._dateLinesWereChangedWhileTimeAreaWasInvalid||(delete t._dateLinesWereChangedWhileTimeAreaWasInvalid,t._backgroundDateLinesD3.selectAll("."+Ae).remove(),t._foregroundDateLinesD3.selectAll("."+Ae+":not(."+Ve+"):not(."+Se+")").remove(),t._dateLineIDsToSVGElementsMap={},this._rectManager.removeRects(),Array.isArray(t.options.dateLines)&&(this._sortDatelines(),t.options.dateLines.forEach((function(e){t._createDateLine(!1!==e.inForeground?t._foregroundDateLinesD3:t._backgroundDateLinesD3,e)}))),t.options.worldViewVisible&&t._renderCompleteWorldView())},_createDateLine:function(e,t){"use strict";var a=this,r=e.append("g").attr("class",Ae);t.className&&r.classed(t.className,!0);var n=r.append("g").attr("class","ngantt-date-line-group");t.id&&(a._dateLineIDsToSVGElementsMap[t.id]=r.node(),r.attr("id",t.id)),r.property(Be,t);var o=a._actualInnerBodyViewHeightsSumWithSeparator(),s=n.append("line").attr("class",Ee).attr("y2",o);if(null!=t.dateLineGridColor&&s.style("stroke",t.dateLineGridColor),t.dateLineGridDashArray&&s.style("stroke-dasharray",t.dateLineGridDashArray),null!=t.dateLineGridWidth&&s.style("stroke-width",t.dateLineGridWidth),null!=t.rab_symbolID){var l=new b(t.id,2,!1);if(r.property(Oe,l),l.appendTo(n),null!=t.rab_symbolWidth||null!=t.rab_symbolHeight){var c=null!=t.rab_symbolWidth?parseFloat(t.rab_symbolWidth):0,m=null!=t.rab_symbolHeight?parseFloat(t.rab_symbolHeight):0;l.setWidthHeight(c,m),l.calcInitialPosition(c,m),r.property(Le,m)}}if(t.label){var d=new I(t.id,t.labelPosition,!(t.labelOrientation===Mt.Horizontal));if(r.property(Me,d),d.appendTo(n,Re),t.className&&(t.className.indexOf(We)>-1||t.className.indexOf(Ne)>-1||t.className.indexOf(Se)>-1))d.classed(Fe,!0);else{var u=t.labelPosition;t.labelOrientation===Mt.Horizontal&&8&u&&(d.setScale(.66),d.classed("ngantt-date-line-caption-background ntimescale-ribbon-cell",!0)),d.setText(t.label)}}return t.draggable&&a.options.editable&&!a.options.isForExport&&i(r.node()).nSplitterWidget({divElemForCursor:a.element[0],visualZoomFactor:a.options.visualZoomFactor,height:o,width:1,svgGroupElem:n.node(),svgLineElem:n.select("line").node(),changed:function(e,t){a._onDateLineDropped(this,e,t)},startDrag:function(e,t){a._onDateLineDragStart(this,e,t)},endDrag:function(e,t){a._onDateLineDragEnd(this,e,t)},dragged:function(e,t){a._onDateLineDragged(this,e,t.newValue)},showDragStart:!0,useOwnEventDispatcher:!1}),t.createFunc&&t.createFunc.call(this,this._extendCallbackArgs({parentD3:n,dateLineDefinition:t})),t.phantom&&n.append("rect").attr("class",ke),this._positionDateLine(r),r},moveDateLine:function(e,t){"use strict";try{v.assertString(e,"",0),v.assertDate(t,"",1);var a=this,i=a._dateLineIDsToSVGElementsMap[e];return i&&(a._positionDateLine(r.select(i),t),a.__sortAndRepositionDateLines()),!!i}catch(e){this._handleException(e,"moveDateLine")}},getDateLine:function(e){try{v.assertString(e,"",0);var t=this._dateLineIDsToSVGElementsMap[e];return t?r.select(t).property(Be):void 0}catch(e){this._handleException(e,"getDateLine")}},_sortDatelines:function(){"use strict";var e=this.options.dateLines;Array.isArray(e)&&e.length>1&&e.sort((function(e,t){var a=0;return e.date&&t.date&&(a=Date.parse(e.date)-Date.parse(t.date)),0===a&&(a=e.id<t.id?-1:1),a}))},_positionDateLine:function(e,t,a,r,n){"use strict";var o=this,s=e.property(Be);t&&(s.date=t);var l=s.date;if(l){e.attr("visibility",null);var c=o.convertXToLimitedX(o._timeAxis.convertDateToX(l));if(e.classed(T.CLASS)?i(e.node()).nSplitterWidget("option",{min:0,max:o._timeAxis.actualTimeAreaWidth(),height:o._actualInnerBodyViewHeightsSumWithSeparator(),position:{x:c,y:0}}):e.attr("transform","translate("+c+")"),o.options.dateLineCaptionOptimizedPositioningEnabled){if(void 0===n&&(n=-1),!1===this._debugSymbolOptimization&&(n=1),-1===n||0===n){var m=e.property(Oe);m&&m.optimizePosition(this._rectManager,kt,this.options.visualZoomFactor)}if((-1===n||1===n)&&s.label&&!s.phantom&&!a&&!r){var d=e.property(Me);if(d){let t=0;!1===this._debugSymbolOptimization&&(t=e.property(Le)||0),d.setXY(0,t),d.optimizePosition(this._rectManager,Nt,this.options.visualZoomFactor)}}}else{let t=e.property(Me);if(t){let a=e.property(Le)||0;t.setXY(0,a)}}if(a){var u=!1;if(e===o._cursorDateLineD3){var h=c-o.convertXToLimitedX(o._timeAxis.timeAreaViewScrollOffset());(h<=0||h>o._timeAxis.timeAreaViewWidth())&&(u=!0)}var p,_=e.select("text").attr("transform","translate(0,"+(a.y||0)+")");a.text&&_.text(u?"":a.text);try{p=_.node().getBBox()}catch(e){p={height:0,width:0,x:0,y:0}}var g="end"===_.style("text-anchor")?-p.width:"middle"===_.style("text-anchor")?-p.width/2:0;e.select("."+Fe).attr("x",g).attr("y",(a.y||0)+p.y).attr("width",p.width).attr("height",p.height).attr("display",u?"none":"initial")}if(r&&r.endDate){var f=o.convertXToLimitedX(o._timeAxis.convertDateToX(r.endDate));e.select("."+ke).attr("x",0).attr("y",r.y-o.options.barHeight/2||0).attr("width",f-c).attr("height",o.options.barHeight)}else e.select("."+ke).attr("width",0)}else e.attr("visibility","collapse")},_dateLineDefinitionByElem:function(e){"use strict";for(var t,a=this,i=Object.keys(a._dateLineIDsToSVGElementsMap),r=i.length-1;r>=0&&(t=i[r],a._dateLineIDsToSVGElementsMap[t]!==e);r--);if(void 0!==t)for(r=a.options.dateLines.length-1;r>=0;r--){var n=a.options.dateLines[r];if(n.id===t)return n}},_getCallbackArgsForDateLine:function(e){"use strict";if(e){var t=this._dateLineDefinitionByElem(e);if(t)return this._extendCallbackArgs({sender:t,elem:e,elemType:yt.DateLine,cancel:!1})}},_onDateLineDragStart:function(e,t,a){"use strict";var i=this,n=i._getCallbackArgsForDateLine(e);n&&(n.event=t,i.options.dragStartFunc&&(i.options.dragStartFunc.call(i,n),a.cancel=n.cancel),!n.cancel&&i.options.dragEnterFunc&&(i.options.dragEnterFunc.call(i,n),a.cancel=n.cancel),a.cancel||(i._isInDateLineInteraction=!0,i.__wasCursorDateLineVisible=i.option("horizontalMousePositionHighlightingEnabled"),i._cursorDateLineD3.select("line").attr("visibility","hidden"),i.option("horizontalMousePositionHighlightingEnabled",!0),r.select(e).selectAll("."+Ee+",."+Re).style("opacity",B._DefaultBarOpacity)))},_onDateLineDragEnd:function(e,t,a){"use strict";var i=this;i._isInDateLineInteraction=!1;var n=i._getCallbackArgsForDateLine(e);if(n){r.select(e).selectAll("."+Ee+", ."+Re).style("opacity",null),i._cursorDateLineD3.select("line").attr("visibility",null),i.option("horizontalMousePositionHighlightingEnabled",i.__wasCursorDateLineVisible),delete i.__wasCursorDateLineVisible,i._currentCursorDateLineVisible||i._cursorDateLineD3.style("visibility","hidden");var o=a.newValue;o&&(Gt<0&&p.isFirefox&&o++,o=i.convertLimitedXToX(o),(i.options.dragLeaveFunc||i.options.dragEndFunc)&&(n.newDate=i._timeAxis.convertXToDate(o,!1,!0),n.event=t,n.cancel=a.canceled,i.options.dragLeaveFunc?.call(i,n),i.options.dragEndFunc?.call(i,n)),a.canceled=!0)}},_onDateLineDragged:function(e,t,a){"use strict";var r=this;Gt<0&&p.isFirefox&&a++,a=r.convertLimitedXToX(a),r._currentCursorDateLineVisible&&_.isPermanentScrollbarOverlayActive&&r._updateCursorHighlighters(t);var n,o=r._timeAxis.timeAreaViewScrollOffset();if(r._checkForAutoscroll(t.pageX,t.pageY,!0,!1,(function(){n&&window.clearTimeout(n),n=window.setTimeout((function(){try{var t=r._timeAxis.timeAreaViewScrollOffset()-o;i(e).nSplitterWidget("instance").manualDrag(a,t),a+=t,o=r._timeAxis.timeAreaViewScrollOffset()}catch(e){r._handleException(e,"_onDateLineDragged")}}),10)})),r.options.draggedFunc){var s=r._getCallbackArgsForDateLine(e);if(s)return s.newDate=r._timeAxis.convertXToDate(a,!1,!0),s.event=t,r.options.draggedFunc.call(r,s),!s.cancel}},_onDateLineDropped:function(e,t,a){"use strict";var i=this;i._stopAutoscroll();var r=i._getCallbackArgsForDateLine(e);if(r){var n=a.newValue;Gt<0&&p.isFirefox&&n++,n=i.convertLimitedXToX(n),i.options.droppedFunc&&(r.newDate=i._timeAxis.convertXToDate(n,!1,!0),r.event=t,i.options.droppedFunc.call(i,r),a.canceled=r.cancel)}},_updateRelevantRowDateLines:function(){"use strict";var e=this;if(Object.keys(e._rowDateLineElemsByRowDataItemIds).length){var t=function(a,i){i.add(a.parentRowDataItem)||a.parentRowDataItem?.item===e.options.rowItemsRoot||t(a.parentRowDataItem,i)},a=new Set;for(let i of e._realizedVisibleRowsSet)a.add(i),t(i,a);for(let i of e._realizedInvisibleRowsSet)a.add(i),t(i,a);a.forEach((function(t){if(t.item.dateLines){var a=e._rowDateLineElemsByRowDataItemIds[t.id],i=t.item.dateLines;if(t.isCollapsed){if(a&&i)for(l=0;l<a.length;l++){c=a[l].select("."+nt),m=i[l],_=e._timeAxis.convertDateToX(m.date),g=e.options.transitionDuration,f=a[l],T=c;e._cacheTransitionFunction((function(){f.attr("transform","translate("+_+")"),T.attr("y1",c.attr("y1")).attr("y2",c.attr("y2")).transition().duration(g).attr("y1",c.attr("y1")).attr("y2",c.attr("y1"))}))}}else{var r,n=function(t){var a=void 0;return["childRowDataItems","leafRowDataItems"].every((function(i,r){if(t&&Array.isArray(t[i])&&!(r?!e.options.leafRowsVisible||t.areLeavesCollapsed:t.isCollapsed)){var n=t[i].length-1;return a=t[i][n],!1}return!0})),a&&n(a)||a||t},o=n(t);a?"number"==typeof a[0].select("."+nt).attr("y2")?r=a[0].select("."+nt).attr("y2"):(r=parseFloat(a[0].select("."+nt).attr("y2")))||(r=o.oldY+(o.oldTotalHeight||o.totalHeight)):r=o.oldY+(o.oldTotalHeight||o.totalHeight);var s=o.newY+(o.totalHeight||o.oldTotalHeight);if(a&&i)for(var l=0;l<a.length;l++){var c=a[l].select("."+nt),m=i[l];if(o){var d=t.oldY+m.yStartOffsetInRow,u=r,h=t.newY+m.yStartOffsetInRow,p=s,_=e._timeAxis.convertDateToX(m.date),g=e.options.transitionDuration,f=a[l],T=c;e._cacheTransitionFunction((function(){f.attr("transform","translate("+_+")"),d&&u?T.attr("y1",d).attr("y2",u).transition().duration(g).attr("y1",h).attr("y2",p):T.attr("y1",h).attr("y2",p)}))}else{var _=e._timeAxis.convertDateToX(m.date),g=e.options.transitionDuration,f=a[l],T=c;e._cacheTransitionFunction((function(){f.attr("transform","translate("+_+")"),T.attr("y1",c.attr("y1")).attr("y2",c.attr("y2")).transition().duration(g).attr("y1",c.attr("y1")).attr("y2",c.attr("y1"))}))}}}}}))}},_updateRowDateLinesX:function(){"use strict";var e=this;e._rowDateLinesD3s.forEach((function(t){t.selectAll("."+rt).each((function(){var t=r.select(this).property(Be);r.select(this).attr("transform","translate("+e.convertXToLimitedX(e._timeAxis.convertDateToX(t.date))+")")}))}))},_removeAllRowDateLines:function(){"use strict";this._rowDateLineElemsByRowDataItemIds={},r.selectAll("."+rt).remove()},_removeRowDateLines:function(e,t,a){"use strict";var i=this,r=i._rowDateLineElemsByRowDataItemIds[e.id];if(r)if(t){(o=r[t].select("."+nt)).attr("y1",o.attr("y1")).attr("y2",o.attr("y2")).transition().duration(i.options.transitionDuration).attr("y1",a||o.attr("y1")).attr("y2",a||o.attr("y1")),r[t].transition().duration(i.options.transitionDuration).remove(),r.splice(t,1)}else{for(var n=0;n<r.length;n++){var o;(o=r[n].select("."+nt)).attr("y1",o.attr("y1")).attr("y2",o.attr("y2")).transition().duration(i.options.transitionDuration).attr("y1",a||o.attr("y1")).attr("y2",a||o.attr("y1")),r[n].transition().duration(i.options.transitionDuration).remove()}delete i._rowDateLineElemsByRowDataItemIds[e.id]}},_findDateAreaEntry:function(e,t){"use strict";var a=this,i=a._pointToSVGRelative(a._svgRootD3.node(),t.center?t.center.x:t.pageX,t.center?t.center.y:t.pageY),r=a._timeAxis.convertXToDate(i.x-a.actualTableViewWidth()-a._actualSplitterWidth()+a._timeAxis.timeAreaViewScrollOffset());if(r){var n,o=r.getTime(),s=a._timeAxis.convertXToDate(i.x-a.actualTableViewWidth()-a._actualSplitterWidth()+a._timeAxis.timeAreaViewScrollOffset()+1),l=s?s.getTime()-1:o;if(Array.isArray(e.entries))if(!e.entries.slice().reverse().every((function(e,t){return!(e.start&&e.end&&e.start.getTime()<=l&&e.end.getTime()>=o)||(n=t,!1)})))return e.entries.length-1-n}},_dateAreasChanged:function(){"use strict";var e=this;e._backgroundDateAreasD3.selectAll("."+Ie).remove().each((function(){i(this).data(d.HANDLER_FUNCTION_PROPERTY+ft+e._uniqueID,null),m.off(this,ft+e._uniqueID)})),e._foregroundDateAreasD3.selectAll("."+Ie).remove().each((function(){i(this).data(d.HANDLER_FUNCTION_PROPERTY+ft+e._uniqueID,null),m.off(this,ft+e._uniqueID)})),Array.isArray(e.options.dateAreas)&&e.options.dateAreas.forEach((function(t){e._createDateArea(t,t.inForeground?e._foregroundDateAreasD3:e._backgroundDateAreasD3,null)}))},_createDateArea:function(e,t,a){"use strict";var r,o=this;if(null!=e.id){let c=a?.item;r=t.append("g").attr("class",c?it:Ie),e.className&&r.classed(e.className,!0),c?r.property(o._OBJECT_ID_PROPERTY,e.id):r.attr("id",e.id);var s=r.append("path");if(c)s.attr("class",[o.NXXXXX.ROW_MAIN_HEIGHT_SCALE_CLASS,d.PRESS_EVENT_CLASS_NAME,d.TAP_EVENT_CLASS_NAME,d.DOUBLE_TAP_EVENT_CLASS_NAME,d.CONTEXTMENU_EVENT_CLASS_NAME].join(" "));else{var l=o._actualInnerBodyViewHeightsSumWithSeparator();s.attr("height",l)}"fromParentRow"!==c?.dateAreas&&(Array.isArray(e.entries)?e.entries.some((function(e){return!!e.caption})):e.caption)&&(e.entries||[e]).forEach((function(e){e.caption&&r.append("text").attr("class",be).attr("dy","1em").text(e.caption)})),e.createFunc&&e.createFunc.call(e,o._extendCallbackArgs({dateArea:r.node(),dateAreaDefinition:e,rowItem:c})),p.isIOS||o.options.isForExport||i(s.node()).attr(_.POINTER_ENTER_ATTR_NAME,"1").attr(_.POINTER_LEAVE_ATTR_NAME,"1"),m.on(s.node(),"pointerenter",o._EVENT_NAMESPACE,(function(t){try{if(o._onpointerenter_cursor(t,r.node(),it),!o.isInInteraction()){o._lastTooltipDataItem=e;var a=Array.isArray(e.entries),i=o._findDateAreaEntry(e,t);(!a||i>=0)&&(o._lastTooltipDateAreaEntryIndex=i,o._triggerEvent({sender:e,entryIndex:i,eventType:"tooltip",rowItem:c,elem:this,elemType:yt.DateArea,event:t}),o._pointerEnterTimeDataItemsMap||(o._pointerEnterTimeDataItemsMap=new Map),o._pointerEnterTimeDataItemsMap.set("da"+e.id,s.node()),m.on(s.node(),"pointerleave",o._EVENT_NAMESPACE,(function(t){m.off(s.node(),"pointerleave",o._EVENT_NAMESPACE).off(s.node(),"pointermove",o._EVENT_NAMESPACE+"-tooltip-da"+e.id),o._pointerEnterTimeDataItemsMap.delete("da"+e.id),o._triggerEvent({sender:null,eventType:"tooltip",elem:null,event:t})})).on(r.node(),"pointermove"+o._EVENT_NAMESPACE+"-tooltip-da"+e.id,(function(t){try{var a=t.target,i=!0;if(e!==o._lastTooltipDataItem&&(i=!1),i){var r=Array.isArray(e.entries),n=o._findDateAreaEntry(e,t);r&&n===o._lastTooltipDateAreaEntryIndex?o._lastTooltipDataItem===e&&(i=!1):o._lastTooltipDateAreaEntryIndex=n,i&&null!=n&&o._triggerEvent({sender:e,entryIndex:n,eventType:"tooltip",rowItem:c,elem:a,elemType:yt.DateArea,event:t})}}catch(e){o._handleException(e,"onPointerMove_dateArea")}})))}}catch(e){o._handleException(e,"onPointerEnter_dateArea")}})),i(s.node()).data(d.HANDLER_FUNCTION_PROPERTY+ft+o._uniqueID,(function(t){try{var a=Array.isArray(e.entries),i=o._findDateAreaEntry(e,t);if(!a||i>=0)switch(t.type){case d.TAP_EVENT_NAME:o._handleTapOnTimeAreaBackground(t),o._triggerEvent({sender:e,entryIndex:i,elemType:yt.DateArea,rowItem:c,eventType:"tap",event:t.srcEvent,hammerEvent:t});break;case d.DOUBLE_TAP_EVENT_NAME:o._triggerEvent({sender:e,entryIndex:i,elemType:yt.DateArea,rowItem:c,eventType:"doubletap",event:t.srcEvent,hammerEvent:t});break;case d.PRESS_EVENT_NAME:["mouse","pen"].includes(t.pointerType)&&(t[n.nEventDispatcher.CANCEL_PROPERTY]=!0);break;case d.PRESS_EVENT_NAME+"up":o._triggerEvent({sender:e,entryIndex:i,elemType:yt.DateArea,rowItem:c,eventType:"contextmenu",event:t.srcEvent,hammerEvent:t});break;case d.CONTEXTMENU_EVENT_NAME:o._triggerEvent({sender:e,entryIndex:i,elemType:yt.DateArea,rowItem:c,eventType:"contextmenu",event:t}),o.options.preventDefaultOnContextMenuEvents&&(t.stopPropagation(),t.preventDefault())}}catch(e){o._handleException(e,"onEventDispatch_dateArea")}})),o._positionDateArea(r,e,a)}return r},_positionDateArea:function(e,t,a){"use strict";var n=this;t?((t=i.extend({},t)).entries&&(t.entries=t.entries.map((function(e){return i.extend({},e)}))),e.datum(t)):t=e.datum();var o=e.selectAll("."+be).nodes(),s=t.entries||[t],l="",c=0;s.forEach((function(e){var t=e.start,i=e.end;if(t&&i&&t<i&&i>n._currentStart&&t<n._currentEnd){var s=n.convertXToLimitedX(n._timeAxis.convertDateToX(t)),m=n.convertXToLimitedX(n._timeAxis.convertDateToX(i));if(l+=["M",s,",0H",m,"V",a?1:n._actualInnerBodyViewHeightsSumWithSeparator(),"H",s,"Z"].join(""),e.caption&&"fromParentRow"!==a?.item.dateAreas){var d=r.select(o[c++]);d.attr("x",s+2),n.setClipPathAttrOnElemD3WithRefCount(d,n.getOrCreateClipPathForRange(s,Math.max(m-2,s)))}}})),e.select("path").attr("d",l)},_createDateAreasInRow:function(e,t,a){"use strict";var i,r=this;let n=r._determineDateAreasForRowDataItem(e);Array.isArray(n)&&n.forEach((function(n){!!n.inForeground===a&&(i||(i=t.append("g").attr("class",a?"ngantt-foreground-row-date-areas":"ngantt-background-row-date-areas")),r._createDateArea(n,i,e))}))},_determineDateAreasForRowInWorldView:function(){},_positionDateAreasInRow:function(e,t,a){"use strict";var i=this;let n=i._determineDateAreasForRowDataItem(e);if(Array.isArray(n)){var o={};n.forEach((function(e){!!e.inForeground===a&&(o[e.id]=e)})),t.selectAll("."+it).each((function(){var t=r.select(this);o[t.property(i._OBJECT_ID_PROPERTY)]&&i._positionDateArea(t,void 0,e)}))}},_initializeTimescaleDependentStripesOrDateLines:function(){"use strict";var e="url(#"+this.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")";this._alternatingTimeStripesScrollParentD3=this._svgRootD3.append("g").attr("class",pt).attr("clip-path",e),this._alternatingTimeStripesD3=this._alternatingTimeStripesScrollParentD3.append("path").attr("class","ngantt-alt-time-stripes"),this._timescaleRibbonDateLinesScrollParentD3=this._svgRootD3.append("g").attr("class",pt).attr("clip-path",e),this._timescaleRibbonDateLinesD3=this._timescaleRibbonDateLinesScrollParentD3.append("path").attr("class","ngantt-ribbon-date-lines")},_updateTimescaleDependentStripesOrDateLines:function(){"use strict";var e=this;if(e.options.alternatingTimeStripesVisible){this._alternatingTimeStripesD3.attr("visibility",null);var t=e.determineTimescaleRibbonDateLines();if(t&&t.length){for(var a=(e._timescaleWidgets[P.top]||e._timescaleWidgets[P.bottom]).getCurrentTypicalCellWidthOfMostDetailedRibbon(),i=Math.floor(t[0].getTime()/a)%2,r=e._timeAxis,n=this.convertXToLimitedX(r.timeAreaViewScrollOffset()),o=i?2:0,s=t.length,l=r.convertXToDate(r.timeAreaViewScrollOffset()+r.timeAreaViewWidth()),m=Math.max(e._actualInnerBodyViewHeightsSumWithSeparator(),e._actualBodyHeightsSum()).toString(),d=[];o<=s;){if(i){var u=e.convertXToLimitedX(e._timeAxis.convertDateToX(t[o-1]))-n,h=e.convertXToLimitedX(e._timeAxis.convertDateToX(t[o]||l))-n;u!==h&&(u=u.toString(),h=h.toString(),d.push("M",u,",0H",h,"V",m,"H",u,"Z"))}i=!i,o++}this._alternatingTimeStripesD3.attr("d",d.join(""))}}else this._alternatingTimeStripesD3.attr("visibility","hidden").attr("d",null);if(e.options.timescaleRibbonDateLinesVisible){if(e._layoutRows[k.BodyAtTheTop].innerViewExtent()||e._layoutRows[k.MainBody].innerViewExtent()){var p=(e._timescaleWidgets[P.top]||e._timescaleWidgets[P.bottom]).getCellsOfMostDetailedRibbon();if(p&&p.length){var _=(r=e._timeAxis).collapseCalendar(),g=this.convertXToLimitedX(r.timeAreaViewScrollOffset());s=p.length;m=(m=e._actualInnerBodyViewHeightsSumWithSeparator()).toString();d=[];c.applyTimeZone(e.options.timeZone,(function(){for(var t=1;t<s;t++){var i=p[t];if(t||i.width<a)var r=!!_&&i.previousDateSkipped;var n=e.convertXToLimitedX(e._timeAxis.convertDateToX(c.toDate(i.dateOrMoment)))-g;r?d.push("M",(n-1).toString(),",0V",m,"M",(n+1).toString(),",0V",m):d.push("M",n.toString(),",0V",m)}})),this._timescaleRibbonDateLinesD3.style("stroke",e.options.dateLineGridColor),this._timescaleRibbonDateLinesD3.style("stroke-dasharray",e.options.dateLineGridDashArray),this._timescaleRibbonDateLinesD3.style("stroke-width",e.options.dateLineGridWidth),this._timescaleRibbonDateLinesD3.attr("d",d.join("")).attr("visibility",null)}}}else this._timescaleRibbonDateLinesD3.attr("visibility","hidden").attr("d",null)},determineTimescaleRibbonDateLines:function(){var e=this._timescaleWidgets[P.top]||this._timescaleWidgets[P.bottom];return e&&e.getDatesOfMostDetailedRibbon(!0)},_bodyChanged_isSuspended:function(e){"use strict";if(this.options.updateSuspended){if(!([R.Other,R.RowItemsChanged,R.RowItemsRootChanged,R.LinkItemsChanged].indexOf(e)<0))return this._cachedBodyChangedArguments||(this._cachedBodyChangedArguments=[]),void 0!==this._cachedBodyChangedArguments[0]&&e===R.LinkItemsChanged||(this._cachedBodyChangedArguments[0]=e),!0;this._setOption("updateSuspended",!1)}return!1},_bodyChanged_prepareUpdate:function(){"use strict";this.options.automaticCalculationOfSubRowIndexesOfBarsInRow||this.calculateInvalidSubRowIndexesOfBarsInRows()},_bodyChanged_additionalUpdates:function(e){"use strict";null!=e?this._createAndUpdateAllLinks(e):this._createAndUpdateAllLinks(R.LinkItemsChanged)},_bodyChanged_updateNeededByUpdateCause:function(e){return e!==R.LinkItemsChanged},_bodyChanged_restrictTotalHeight:function(e){"use strict";if(!1===e.item.barsPaneVisible){var t=e.isLeaf?this.options.defaultLeafRowMainHeight:this.options.defaultRowMainHeight;this._bodyChanged_setTotalHeight(e,Math.max(e.totalHeight,t))}},_bodyChanged_calcTotalHeight:function(e,t){"use strict";var a=e.isLeaf?this.options.defaultLeafRowMainHeight:this.options.defaultRowMainHeight;return Math.max(t||0,e.mainHeight||0,!1!==e.item.barsPaneVisible?a:0)},_updateRows_moveVertically:function(e,t,a,i){"use strict";var n=this;if(e.phantomRowElem&&t!==R.RowExpanded&&t!==R.RowLeavesExpanded){var s=o(r.select(e.phantomRowElem).attr("transform"));s.translate[1]+=i,r.select(e.phantomRowElem).transition().duration(n.options.transitionDuration).attr("transform",s.toString())}if(n.options.barSelectionFramesShownWithHigherZOrder||n.options.selectedItemsShownHighlighted){var l;if(n.options.selectedItemsShownHighlighted){var c=n._getOrCreateSpecialRowElem(e,!1,1);c&&(l=r.select(c).selectAll(Dt))}else l=a.selectAll("."+Tt);l&&l.each((function(a){if(a.selectedFrameElem&&(n.options.barSelectionFramesShownWithHigherZOrder||n._worldViewDivJQ))if(a.rowDataItem.visibleRowDataItem.totalHeight&&!a.rowDataItem.visibleRowDataItem.isHidden){if(n.options.barSelectionFramesShownWithHigherZOrder){var o=r.select(a.selectedFrameElem);if(a.rowDataItem.visibleRowDataItem.entered||t===R.RowExpanded||t===R.RowLeavesExpanded)if((o=r.select(a.selectedFrameElem)).transition().duration(n.options.transitionDuration).attr("y",+o.attr("y")+i),a.selectedFrameMaskElem){var s=r.select(a.selectedFrameMaskElem),l=s.select("rect:nth-child(1)");l.transition().duration(n.options.transitionDuration).attr("y",+l.attr("y")+i);var c=s.select("rect:nth-child(2)");c.transition().duration(n.options.transitionDuration).attr("y",+c.attr("y")+i)}}n._worldViewDivJQ&&(e.worldViewSelectionCacheMap["T"+a.id].args[2].top+=i)}else n._removeSelectionFrameOfTimeDataItem(a)}))}},_updateRows_hideSelectionFrameForHiddenRow:function(e){"use strict";if(e&&e.selectedFrameElem&&this.options.barSelectionFramesShownWithHigherZOrder){var t=r.select(e.selectedFrameElem);t.attr("transform",t.attr("transform")+" "+Xt)}},_updateRows_updateSingleRow:function(e,t,a,i){"use strict";this._updateCalendarGridForRow(e,t,!0,a&&e!==i)},_updateRows_prepareExitingRow:function(e){"use strict";var t=this;t._determineVisibleTimeDataItemsInRow(e).forEach((function(a){a.oldX=a.newX,a.oldEndX=a.newEndX,a.oldY=a.newY,a.oldRowY=e.newY,a.oldRowAtTheTop=!!t._isItemAtTheTop(e.item)}))},_updateRows_handleExitingRows:function(e,t){"use strict";var a=this;a._updateRelevantRowDateLines(),e.forEach((function(e){a._removeRowCompletely(e,!0),a._removeRowDateLines(e,void 0,t?(t.newY??t.oldY)+(t.newTotalHeight??t.oldTotalHeight):void 0)}))},_updateRows_callback:function(e,t,a){"use strict";var i=this;if(i.options.timeAreaRowUpdateFunc){var r=i.getCurrentUpperXLimit()-i.getCurrentLowerXLimit(),n=i._extendCallbackArgs({isForeground:!1,width:i._actualLayoutColumnLeft(N.TimeArea)+r,timeAreaWidth:r,bodyViewScrollOffsetChanged:!1,timeAreaWidthChanged:!1,timeAreaViewWidthChanged:!1,timeAreaViewScrollOffsetChanged:!1,baseTimeUnitWidthChanged:!1,startOrEndChanged:!1,xCoordTransformChanged:!1,rowHeightChanged:!0});n.rowItem=e.item;var o=t.select("."+ut),s=o.select("g."+ht);n.isForeground=!1,n.rowElem=o.node(),n.parentElem=s.node(),i.options.timeAreaRowUpdateFunc.call(i,n),s=(o=a.select("."+ut)).select("g."+ht),n.isForeground=!0,n.rowElem=o.node(),n.parentElem=s.node(),i.options.timeAreaRowUpdateFunc.call(i,n)}},_removeSelectionFrames:function(e,t){"use strict";var a=this,i=e.datum();(a.options.barSelectionFramesShownWithHigherZOrder||i.worldViewSelectionCacheMap)&&e.selectAll("."+Tt).each((function(e){!a.options.barSelectionFramesShownWithHigherZOrder||!t&&a._isTimeDataItemVisible(e)||a._removeSelectionFrameOfTimeDataItem(e),i.worldViewSelectionCacheMap&&delete i.worldViewSelectionCacheMap["T"+e.id]}))},_expandOrCollapseRow:function(e,t,a,i){"use strict";this._doExpandOrCollapseRow(e,{interactively:t,withoutUpdate:a,concernsLeaves:i,additionalFlagsForInvalidateRows:{barsChangedFlag:!0},beforeStateChangeFunc:this._handleBeforeExpandOrCollapseRow,afterStateChangeFunc:this._handleAfterExpandOrCollapseRow})},_handleBeforeExpandOrCollapseRow:function(e,t){"use strict";var a=this;if(!(t?e.areLeavesCollapsed:e.isCollapsed)&&a.options.virtualized){var i=function(e,n){["leafRowDataItems","childRowDataItems"].forEach((function(o,s){if(!n||!!t==!s){var l=s?wt.BarsOfCollapsedChildRows:wt.Bars,c=s?function(e){return a._getCollapsedDisplayedElementsForRowDataItem(e)}:a._getCurrentlyDisplayedElementsInRow;c.call(a,e)&l&&Array.isArray(e[o])&&e[o].forEach((function(e){e&&!e.isHidden&&(e.foregroundRowElem||(!a.options.automaticCalculationOfSubRowIndexesOfBarsInRow&&a._invalidRowDataItemIDsForSubRowIndexesMap[e.id]&&a.calculateInvalidSubRowIndexesOfBarsInRows(),a._createRow(e,void 0,R.BeforeRowCollapse)),i(e),e.isLeaf||r.select(e.foregroundRowElem).selectAll(Dt).attr("visibility","hidden"))}))}}))};i(e,a.options.leafBarsVisibleOnParentRows)}if(t?e.areLeavesCollapsed:e.isCollapsed){var n=function(e){["leafRowDataItems","childRowDataItems"].forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){Array.isArray(e.item.timeItems)&&e.item.timeItems.forEach((function(e){for(var t=[a._getDataItem(e,a._timeDataItemsMap)],i=0;i<t.length;i++){var r=t[i];r&&(r.elem&&(r.actuallyVisibleInCollapsedRow=!0),Array.isArray(r.item.childTimeItems)&&r.item.childTimeItems.forEach((function(e){t.push(a._getDataItem(e,a._timeDataItemsMap))})))}})),n(e)}))}))};(t?a.options.leafBarsVisibleOnParentRows&&a._getCurrentlyDisplayedElementsInRow(e)&wt.Bars:a._getCollapsedDisplayedElementsForRowDataItem(e)&wt.BarsOfCollapsedChildRows)&&n(e)}},_handleAfterExpandOrCollapseRow:function(e,t){"use strict";var a=this;if(a.options.automaticCalculationOfSubRowIndexesOfBarsInRow)a._calculateSubRowIndexesOfBarsInRow(e,!0);else if(!(e.isCollapsed||t&&e.areLeavesCollapsed)){var i=function(e){a._invalidRowDataItemIDsForSubRowIndexesMap[e.id]=!0,e.isLeaf||["leafRowDataItems","childRowDataItems"].forEach((function(a,r){r&&t||!Array.isArray(e[a])||e[a].forEach((function(e){e&&i(e)}))}))};i(e)}},_getOrCreateClipPathForRow:function(e,t){"use strict";var a=this,i=[at,a._uniqueID,"_",e,"_",t].join(""),r=a._defsD3.select("#"+i);return r.size()||(r=a._defsD3.append("clipPath").attr("id",i)).append("rect").attr("width",a.options.isForExport?1e7:1e5).attr("y",e).attr("height",t-e),i},_localeChanged:function(){"use strict";try{this._updateDateLineGrids(),this._super()}catch(e){this._handleException(e,"onLocaleChanged")}},_formatDate:function(e){"use strict";var t,a=this;return c.applyTimeZone(a.options.timeZone,(function(){var i=c.dateToMomentIfNecessary(e),n=function(n){var o=n.date+" "+n.time;if(t=c.isMomentJSCurrentlyUsed?(r.timeFormat?r.utcFormat:r.time.format.utc)(o)(c.toDisplayDate(i)):(r.timeFormat?r.timeFormat:r.time.format)(o)(i),a.options.formatDateFunc){var s={ganttWidget:a,date:e,text:t};a.options.formatDateFunc.call(a,s),t=s.text}};a.options.locale instanceof u?a.options.locale.applyDateFormat((function(){n(a.options.locale.params())})):n(h.locale())})),t},_textReplacements:function(e,t){"use strict";return this._super(e,t).replace("{{#Date}}",this._formatDate(e.now))},_detachEventListenersFromBars:function(e){"use strict";var t=this,a=t.options.detachEventListenersExFunc?[]:void 0;e.size()&&(e.each((function(){m.off(this,t._EVENT_NAMESPACE),a&&a.push(this)})),t.options.detachEventListenersExFunc&&t.options.detachEventListenersExFunc.call(t,t._extendCallbackArgs({isForeground:!0,elems:a,elemType:yt.Bar})),t.options.detachEventListenersFunc&&e.each((function(e){e&&t.options.detachEventListenersFunc.call(t,t._extendCallbackArgs({isForeground:!0,item:e.item,elem:this,elemType:yt.Bar}))})))},_detachTimeDataItem:function(e,t,a){"use strict";var i=this;e.elem&&(t||(t=r.select(e.elem)),e.version===t.property(i._ITEM_VERSION_PROPERTY)&&(i._detachEventListenersFromBars(t),e.elem=void 0,delete e.unlimitedVisibility,delete e.isHiddenByLimits,delete e.highlighted,a&&(delete e.oldX,delete e.oldEndX,delete e.oldY,delete e.oldRowY,delete e.oldRowAtTheTop,e.selectedFrameElem&&i._removeSelectionFrameOfTimeDataItem(e)),t.datum(null)))},_createXCoordinateLimiter:function(){this._xCoordinateLimiter=new s(this.options.minimumLinearCoordinateExtent,this.options.maximumLinearCoordinateExtent,this.options.linearCoordinateReserve)},_saveXStretchCenterCoordinate:function(e){this._savedXStretchCenterCoordinate=e},_updateXCoordinateLimiterTransform:function(){if(!this._xCoordinateLimiter)return!1;var e=this._savedXStretchCenterCoordinate;return this._savedXStretchCenterCoordinate=void 0,this._xCoordinateLimiter.updateTransformIfNecessary({viewExtent:this._layoutColumns[N.TimeArea].innerViewExtent(),viewScrollOffset:this._timeAxis.timeAreaViewScrollOffset(),chartExtent:this._timeAxis.actualTimeAreaWidth(),chartStretchCenterCoordinate:e})},convertXToLimitedX:function(e){return v.assertNumber(e,"nGanttWidget.convertXToLimitedX",0),this._xCoordinateLimiter?this._xCoordinateLimiter.transform(e):e},convertLimitedXToX:function(e){return v.assertNumber(e,"nGanttWidget.convertLimitedXToX",0),this._xCoordinateLimiter?this._xCoordinateLimiter.reverseTransform(e):e},_limitX:function(e){return this._xCoordinateLimiter?this._xCoordinateLimiter.limit(e):e},_isXOutsideLimits:function(e){return this._xCoordinateLimiter?this._xCoordinateLimiter.isCoordOutsideLimits(e):0},getCurrentLowerXLimit:function(){return this._xCoordinateLimiter?this._xCoordinateLimiter.getCurrentLowerLimit():this._timeAxis.convertDateToX(this._timeAxis.actualStart())},getCurrentUpperXLimit:function(){return this._xCoordinateLimiter?this._xCoordinateLimiter.getCurrentUpperLimit():this._timeAxis.convertDateToX(this._timeAxis.actualEnd())},_PE_CurrentOffsetCorrection:function(){this._currentOffsetCorrection={x:qt+(this.options.offsetCorrection&&+this.options.offsetCorrection.x||0),y:Qt+(this.options.offsetCorrection&&+this.options.offsetCorrection.y||0)}},_updateCursorHighlighters:function(e){"use strict";var t=this;if(t._currentCursorDateLineVisible){var a=t._pointToSVGRelative(t._svgRootD3.node(),e.pageX,e.pageY),i=t._timeAxis.convertXToDate(a.x-t._layoutColumns[N.Table].innerViewExtent()-t._actualSplitterWidth()+t._timeAxis.timeAreaViewScrollOffset(),!1,!0),r=a.y-t._actualTitleHeight(P.top)+18+16/t.options.visualZoomFactor,n=t._actualInnerBodyViewHeightsSumWithSeparator();r>n&&(r=n),t._positionDateLine(t._cursorDateLineD3,i,{y:r,text:t._formatDate(i)}),t._cursorDateLineD3.style("visibility",null)}else t._cursorDateLineD3.style("visibility","hidden");if(t.options.verticalMousePositionHighlightingEnabled&&"hidden"===t._verticalDragAreaD3.style("visibility")){var o=t._findRowDataItemAtY(e.pageY);t._positionCursorRow(o),t._cursorRowD3.style("visibility",null)}else t._cursorRowD3.style("visibility","hidden")},_makeCursorHighlightersInvisible:function(){"use strict";this._cursorDateLineD3.style("visibility","hidden"),this._cursorRowD3.style("visibility","hidden")},_PE_ActualTableViewWidth:function(){return this.actualTableViewWidth()},_PE_TableViewWidth:function(){return this._determineCurrentTableViewWidthMaximum()},_PE_ActualTableViewWidth_222:function(){return this.actualTableViewWidth()},_actualScrollableWidth:function(e){"use strict";return e===N.TimeArea?this._timeAxis.actualTimeAreaWidth():this._super(e)},_actualSplitterWidth:function(){return this._layoutColumns[N.Splitter].outerViewExtent()},_createLayoutGrid:function(){"use strict";this._super(),this._layoutGrid&&this._layoutStacks&&this._layoutStacks[W.Columns]&&(this._layoutStacks[W.Columns].appendStripes([N.TimeArea,N.Splitter]),this._layoutColumns[N.Splitter].extent(this.options.isForExport?this.options.splitterWidth:0),this._layoutColumns[N.Splitter].innerViewExtent(this.options.splitterWidth),this._layoutColumns[N.Splitter].outerViewExtent(this.options.splitterWidth))},_layoutStackUpdateRows:function(e,t,a){"use strict";var n=this;if(this._super(e,t,a),a.innerViewExtent!==t.innerViewExtent){var o=this._actualScaledMainHeight(),s=this._actualInnerBodyViewHeightsSumWithSeparator();this._verticalSplitterWidget?.option("height",o),this._additionalVerticalSplitterDivD3?.style("top",(o-this._actualScrollBarWidth())*this.options.visualZoomFactor+"px"),this._updateTimescaleDependentStripesOrDateLines(),[this._backgroundDateLinesD3,this._foregroundDateLinesD3].forEach((function(e){e.selectAll("."+Ae).each((function(){var e=r.select(this);e.classed(T.CLASS)?i(e.node()).nSplitterWidget("option",{height:Math.max(s+1,0)}):e.select("line").attr("y2",Math.max(s,0))}))})),[this._backgroundDateAreasD3,this._foregroundDateAreasD3].forEach((function(e){e.selectAll("."+Ie).each((function(){n._positionDateArea(r.select(this))}))})),this._dateLineGridsD3.selectAll("."+Ae+" line").attr("y2",s+1)}},_layoutStripeUpdateColumn:function(e,t,a){"use strict";switch(this._super(e,t,a),e.getStripeID()){case N.Splitter:if(a.start!==t.start){if(this._tableTitleSplitterLineD3s)for(var i=0;i<=1;i++)this._titleVisible(i)&&this._tableTitleSplitterLineD3s[i]&&this._tableTitleSplitterLineD3s[i].attr("x1",a.start).attr("x2",a.start);if(this._tableBodySplitterLineD3s)for(var r=0;r<=1;r++)this._tableBodySplitterLineD3s[r]&&this._tableBodySplitterLineD3s[r].attr("x1",a.start).attr("x2",a.start)}break;case N.TimeArea:if(a.start!==t.start){var n="translate("+(this._actualLayoutColumnLeft(N.TimeArea)+Jt)+")";for(i=0;i<=1;i++)this._titleVisible(i)&&this._timescaleD3s[i]&&this._timescaleD3s[i].attr("transform",n);this._linkHotRegionsContainerD3.attr("transform",n),this._linksContainerD3.attr("transform",n),this._rowDateLinesContainerD3s.forEach((function(e){e.attr("transform",n)})),this._backgroundBodyD3s.slice().concat(this._foregroundBodyD3s).forEach((function(e){e.selectAll("."+ut).attr("transform",n)})),this._updateD3sXY()}a.innerViewExtent!==t.innerViewExtent&&this._timeAxis.timeAreaViewWidth(Math.max(0,a.innerViewExtent))}},_layoutStripeUpdateRow:function(e,t,a){"use strict";var i=this;if(this._super(e,t,a),a.start!==t.start){var r=function(e){i._titleVisible(e)&&i._tableTitleSplitterLineD3s&&i._tableTitleSplitterLineD3s[e]&&i._tableTitleSplitterLineD3s[e].attr("y1",i._actualTitleAreaTop(e)).attr("y2",i._actualTitleAreaBottom(e))},n=function(e){i._tableBodySplitterLineD3s&&i._tableBodySplitterLineD3s[e]&&i._tableBodySplitterLineD3s[e].attr("y1",i._actualBodyViewTop(e)).attr("y2",i._actualOuterBodyViewBottom(e))};switch(e.getStripeID()){case k.TopTitle:r(P.top);break;case k.BodyAtTheTop:n(k.BodyAtTheTop);break;case k.MainBody:n(k.MainBody);break;case k.BottomTitle:r(P.bottom)}}if(a.innerViewExtent!==t.innerViewExtent){var o=function(e){if(i._titleVisible(e)){var t=i._actualTitleHeight(e);i._timescaleWidgets[e]&&i._timescaleWidgets[e].option("height",t),i._tableTitleSplitterLineD3s&&i._tableTitleSplitterLineD3s[e]&&i._tableTitleSplitterLineD3s[e].attr("y2",i._actualTitleAreaBottom(e))}},s=function(e){i._tableBodySplitterLineD3s&&i._tableBodySplitterLineD3s[e]&&i._tableBodySplitterLineD3s[e].attr("y2",i._actualOuterBodyViewBottom(e))};switch(e.getStripeID()){case k.TopTitle:o(P.top),this._updateD3sXY();break;case k.BodyAtTheTop:s(k.BodyAtTheTop);break;case k.MainBody:s(k.MainBody);break;case k.BottomTitle:o(P.bottom)}}},_updateD3sXY:function(){"use strict";var e=this,t=this._actualTitleHeight(P.top),a=this._actualLayoutColumnLeft(N.TimeArea)+Jt,i="translate("+(a+(-ea||Gt))+","+t+")",r="translate("+(a+(Jt||zt))+","+t+")";this._alternatingTimeStripesScrollParentD3.attr("transform",r),this._timescaleRibbonDateLinesScrollParentD3.attr("transform","translate("+(a+$t)+","+t+")"),this._verticalDragAreaParentD3&&this._verticalDragAreaParentD3.attr("transform",r),this._horizontalDragAreaParentD3&&this._horizontalDragAreaParentD3.attr("transform",r),this._dateLineGridsParentD3.attr("transform","translate("+(a+$t)+","+t+")"),e._barSelectionFramesParentsD3&&ne.forEach((function(t){e._barSelectionFramesParentsD3[t].attr("transform","translate("+(a+$t)+","+e._actualBodyViewTop(t)+")")})),this._backgroundWatermarkParentD3.attr("transform",r),this._backgroundDateLinesParentD3.attr("transform",i),this._foregroundDateLinesParentD3.attr("transform",i),this._backgroundDateAreasParentD3.attr("transform",r),this._foregroundDateAreasParentD3.attr("transform",r)},_createAndPositionDivOverlays:function(){"use strict";var e=this;this._super(),this._overlayAreas[N.TimeArea]=[];for(var t=0;t<=1;t++)this._overlayAreas[N.TimeArea][t]=new _({layoutRow:{},layoutColumn:{}},{forX:!!t,forY:!0},e._actualScrollBarWidth.bind(e)),this._overlayAreas[N.TimeArea][t]._createAndPositionDivOverlays(this._divScaleJQ,dt[t],mt[t],this.NXXXXX.IOS_SCROLL_BAR_CLASS,t,(function(t){try{if(t){var a=this.scrollLeft();e._layoutColumns[N.TimeArea].cachedScrollStart()-a<1&&e._layoutColumns[N.TimeArea].cachedScrollStart()-a>-.1&&(a=e._layoutColumns[N.TimeArea].cachedScrollStart())}var i=[];i[N.TimeArea]=t?a*e._layoutColumns[N.TimeArea].scrollFactorExceeding():void 0;var r=[];r[t]=this.scrollTop(),e._scrollOffsetsChanged(i,r)}catch(t){e._handleException(t,"onScroll")}}),(function(t){e._setActiveHorizontalBodyAreaIndex(t)}));for(var a=0;a<=1;a++)if(this._titleVisible(a)){var i=a+2;this._overlayAreas[N.TimeArea][i]=new _({layoutRow:{},layoutColumn:{}},{forX:!1,forY:!1}),this._overlayAreas[N.TimeArea][i]._createAndPositionDivOverlays(this._divScaleJQ,gt[a],_t[a],this.NXXXXX.IOS_SCROLL_BAR_CLASS,i,void 0)}this._overlayAreas[N.Table][k.BodyAtTheTop].setScrollBarExistence({forY:!1}),this._overlayAreas[N.Table][k.MainBody].setScrollBarExistence({forY:!1}),this._titleVisible(P.bottom)&&this._overlayAreas[N.TimeArea][k.MainBody].setScrollBarExistence({forX:!1})},_createAndAppendSVGRootDefs:function(){"use strict";this._super(),this._widthClipPathRectD3s[N.TimeArea]=this._defsD3.append("clipPath").attr("id",this.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID).append("rect"),this._defsD3.append("pattern").attr("id","ngantt-graying-pattern").attr("patternUnits","userSpaceOnUse").attr("width",2).attr("height",2).append("line").attr("x2",2).attr("y2",2).attr("opacity",1).attr("stroke","white").attr("stroke-width",1)},_appendTitle:function(e){"use strict";this._super(e),this._tableTitleD3s[e]&&(this._timescaleD3s||(this._timescaleD3s=[]),this._timescaleD3s[e]=this._titleD3s[e].append("g").attr("class","ngantt-timescale"),this._timescaleD3s[e].attr("clip-path","url(#"+this.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")"),this.options.isForExport&&(this._tableTitleSplitterLineD3s||(this._tableTitleSplitterLineD3s=[]),this._tableTitleSplitterLineD3s[e]||(this._tableTitleSplitterLineD3s[e]=this._svgRootD3.append("line").attr("class","ngantt-table-title-splitter-line"))))},_appendBackground:function(){"use strict";var e=this;this._super(),i(this._backgroundBodyScrollParentD3.node()).data(d.HANDLER_FUNCTION_PROPERTY+ft+e._uniqueID,(function(t){try{e._checkBarSelectionRectangleEvents(t,this)}catch(t){e._handleException(t,"onEventDispatch_background")}})),this._registerGestureEventsOnTimeAreaBackground(this._backgroundBodyRectD3s[k.BodyAtTheTop]),this._registerGestureEventsOnTimeAreaBackground(this._backgroundBodyRectD3s[k.MainBody]),this._registerGestureEventsOnTimeAreaBackground(this._backgroundBodyD3s[k.BodyAtTheTop]),this._registerGestureEventsOnTimeAreaBackground(this._backgroundBodyD3s[k.MainBody]),this._initializeTimescaleDependentStripesOrDateLines(0);var t="url(#"+this.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")";this.options.isForExport||(this._verticalDragAreaParentD3=this._svgRootD3.append("g").attr("class","ngantt-vertical-drag-area-parent").attr("clip-path",t),this._horizontalDragAreaParentD3=this._svgRootD3.append("g").attr("class","ngantt-horizontal-drag-area-parent").attr("clip-path","url(#"+_e+this._uniqueID+")")),this._backgroundWatermarkParentD3=this._svgRootD3.append("g").attr("class","ngantt-background-watermark-parent").style("opacity",this.options.watermarkOpacity),this._dateLineGridsParentD3=this._svgRootD3.append("g").attr("class","ngantt-date-line-grids-parent").attr("clip-path",t),this._dateLineGridsD3=this._dateLineGridsParentD3.append("g").attr("class","ngantt-date-line-grids"),this._backgroundDateAreasParentD3=this._svgRootD3.append("g").attr("class","ngantt-background-date-areas").attr("clip-path",t),this._backgroundDateAreasD3=this._backgroundDateAreasParentD3.append("g"),this._backgroundDateLinesParentD3=this._svgRootD3.append("g").attr("class","ngantt-background-date-lines").attr("clip-path",t),this._backgroundDateLinesD3=this._backgroundDateLinesParentD3.append("g")},_appendForeground:function(){"use strict";var e=this;this._super();var t="url(#"+this.NXXXXX.WIDTH_CLIPPATH_ID[N.TimeArea]+this._uniqueID+")";this._linkHotRegionsContainerD3=this._foregroundBodyParentD3s[k.MainBody].append("g").attr("clip-path",t),this._linkHotRegionsD3=this._linkHotRegionsContainerD3.append("g").attr("class","ngantt-link-hot-regions"),this._linksContainerD3=this._foregroundBodyParentD3s[k.MainBody].append("g").attr("clip-path",t),this._selectedLinksD3=this._linksContainerD3.append("g"),this._linksD3=this._linksContainerD3.append("g").attr("class","ngantt-links"),this._rowDateLinesContainerD3s=[],this._rowDateLinesD3s=[];for(var a=0;a<=1;a++)this._rowDateLinesContainerD3s[a]=this._foregroundBodyParentD3s[a].append("g").attr("clip-path",t),this._rowDateLinesD3s[a]=this._rowDateLinesContainerD3s[a].append("g").attr("class","ngantt-row-date-lines");if(this._highlightedBodyParentD3s=[],this._highlightedBodyD3s=[],this._highlightedBodyScrollParentD3=function(t,a,i,r,n,o){for(var s=e._svgRootD3.append("g").attr("class",i).attr("clip-path","url(#"+_e+e._uniqueID+")"),l=0;l<=1;l++){var c=t[l]=s.append("g").attr("class",r[l]);o&&!e.options.isForExport&&c.attr("clip-path","url(#"+e.NXXXXX.BODY_PARENT_CLIPPATH_ID[l]+e._uniqueID+")"),a[l]=c.append("g").attr("class",n[l])}return s}(this._highlightedBodyParentD3s,this._highlightedBodyD3s,"ngantt-hlt-body-scroll-parent",He,Pe,!0),this._foregroundDateAreasParentD3=this._svgRootD3.append("g").attr("class","ngantt-foreground-date-areas").attr("clip-path",t),this._foregroundDateAreasD3=this._foregroundDateAreasParentD3.append("g"),this._foregroundDateLinesParentD3=this._svgRootD3.insert("g",`.${this.NXXXXX.PHANTOMS_BODY_SCROLL_PARENT_CLASS}`).attr("class","ngantt-foreground-date-lines").attr("clip-path",t),this._foregroundDateLinesD3=this._foregroundDateLinesParentD3.append("g"),!this.options.isForExport){this._barSelectionFramesParentsD3=[],this._barSelectionFramesD3=[];for(a=0;a<=1;a++)this._barSelectionFramesParentsD3[a]=this._svgRootD3.append("g").attr("class",this.NXXXXX.BAR_SELECTION_FRAMES_PARENT_CLASS[a]).attr("clip-path","url(#"+this.NXXXXX.BODY_PARENT_CLIPPATH_ID[a]+this._uniqueID+")"),this._barSelectionFramesD3[a]=this._barSelectionFramesParentsD3[a].append("g").attr("class","ngantt-bar-selection-frames");this._recordingSymbolD3=this._svgRootD3.append("g").attr("class","ngantt-recording-symbol").attr("visibility",this.options.recordingSymbolVisible?null:"hidden"),this._recordingSymbolD3.append("path").attr("transform","translate(4,4) scale(1.25)").attr("d","m16,0c8.83704,0 16,7.16299 16,16c0,8.83697 -7.16296,16 -16,16c-8.83698,0 -16,-7.16303 -16,-16c0,-8.83701 7.16302,-16 16,-16z"),this._recordingSymbolD3.append("text").attr("x",24.40045).attr("y",32.62427).attr("transform","matrix(0.7510551022804536,0,0,0.7407494025528649,5.890325738570294,5.413760407394605)").text("Rec")}if(this.options.isForExport){this._tableBodySplitterLineD3s||(this._tableBodySplitterLineD3s=[]);for(a=0;a<=1;a++)this._tableBodySplitterLineD3s[a]||(this._tableBodySplitterLineD3s[a]=this._svgRootD3.append("line").attr("class","ngantt-table-body-splitter-line"))}},_appendIOSScrollBars:function(){"use strict";this._super();for(var e=0;e<=1;e++)this._overlayAreas[N.TimeArea][e].appendIOSScrollBars(this._divScaleJQ)},_setInvalidTimeAreaMarking:function(e,t){"use strict";var a=this;a._timeAreaIsCurrentlyInvalid=e;let i=a._svgRootD3.select(`.${Ue}`);if(e){if(!i.size()){let e=(a._PE_ActualTableViewWidth()+a.options.splitterWidth)*a.options.visualZoomFactor,t=a.options.titleHeight*a.options.visualZoomFactor,i=a._actualScrollBarWidth()*a.options.visualZoomFactor;a._svgRootD3.append("rect").attr("class",Ue).attr("transform",`scale(${1/a.options.visualZoomFactor})`).attr("x",e).attr("y",t).attr("width",Math.max(0,a._elementWidth-e-i)).attr("height",Math.max(0,a._elementHeight-t-i)).attr("fill",`url(#${a.NXXXXX.ASYNC_WAIT_PATTERN_ID}${a._uniqueID})`).attr("shape-rendering","geometricPrecision");let r=a._svgRootD3.select(`.${ht}`),n=r.size()?+r.attr("transform").match(/translate\(-?(\d+.?\d*)\)/)?.[1]??0:0;a._invalidTimeAreaScrollOffsetOffset=a.convertLimitedXToX(n)-n}a._svgRootD3.selectAll(`.${ht}`).attr("transform",`translate(${-(a._timeAxis.timeAreaViewScrollOffset()-a._invalidTimeAreaScrollOffsetOffset*t)})scale(${t} 1)`)}else delete a._invalidTimeAreaScrollOffsetOffset,i.remove(),a._svgRootD3.selectAll(`.${ht}`).attr("transform",`translate(${-a._timeAxis.timeAreaViewScrollOffset()})`),a._dateLinesChanged(!0)},_hideInvisiblesForPrinting:function(e,t){"use strict";switch(this._super(e,t),e.printingMode){case 0:break;case 1:case 2:this._hideInvisiblesForPrintingAtLast(e,t,Dt),this._hideInvisiblesForPrintingAtLast(e,t,"."+tt)}},_calcRepeatedWidthForPrinting:function(){return this._layoutColumns[N.Table].extent()+this._layoutColumns[N.Splitter].extent()},_calcWidthDifference:function(e){"use strict";return this._calcInnerTimeAreaViewWidth(e)-this._layoutColumns[N.TimeArea].innerViewExtent()},_specifyNewViewWidth:function(e){"use strict";var t=[];return t[N.Table]=this.actualTableViewWidth(),t[N.TimeArea]=this._calcTimeAreaViewWidth(e),t},_shouldHeightChange:function(e,t){"use strict";return e||Math.abs(t[k.MainBody])>=1||Math.abs(t[k.BodyAtTheTop])>=1},_shouldWidthChange:function(e,t){"use strict";return Math.abs(t)>=1},_calcTimeAreaViewWidth:function(e){"use strict";return Math.max(0,e-this.actualTableViewWidth()-this._actualSplitterWidth())},_calcInnerTimeAreaViewWidth:function(e){"use strict";var t=this._calcTimeAreaViewWidth(e)-this._actualScrollBarWidth();return t<0&&(t=0),t},_doResizeOverlaysHeightWithAnimation:function(e){"use strict";this._super(e),this._overlayAreas&&(this._resizeBodyViewsOverlaysHeight(e,this._overlayAreas[N.TimeArea]),this._titleVisible(P.bottom)&&this._overlayAreas[N.TimeArea][k.BottomTitle]._setViewTopHeightWithAnimation(e,this._actualTitleAreaTop(P.bottom),this._actualTitleHeight(P.bottom)+this._actualTitleAreaScrollBarWidth(P.bottom)))},_PE_DoResizeHeight_222:function(e){"use strict";var t=this;if(t._super(e),t._barSelectionFramesParentsD3){var a=this._actualLayoutColumnLeft(N.TimeArea)+Jt;e(t._barSelectionFramesParentsD3[k.MainBody].attr("transform","translate("+a+","+t._actualBodyViewTop(k.MainBody)+")"))}},_getHorViewScrollOffset:function(e){"use strict";return e===N.TimeArea?this._timeAxis.timeAreaViewScrollOffset():this._super(e)},_getScrollOffsets:function(e,t){"use strict";return{horScrollOffset:this._getHorViewScrollOffset(e),verScrollOffset:this._layoutRows[t].scrollStart()}},_additionalVirtualizationUpdate:function(e){"use strict";e===C.OptionChanged||e===C.ScrolledVertically?this._createAndUpdateAllLinks(R.LinkItemsChanged):this._createAndUpdateAllLinks(R.Other),this._super()},_getParentAtLast:function(e){"use strict";var t=this,a=t._super(e);return a||t._getDataItem(e,t._timeDataItemsMap,t._unusedTimeDataItemsMap)?.parentTimeDataItem?.item},_PE_DoInvalidateRow_111:function(e){"use strict";for(;e=e.parentRowDataItem;)this._doCalculateSummaryTimeItemsInRow(e,!1,!0)},_PE_virt106:function(e,t){"use strict";e.oldSummariesExistent=e.summariesExistent,e.summariesExistent=void 0,t.barsChangedFlag&&this._updateRowDateLines(e),this.options.linksVisible&&this.options.linkItems&&this.options.linkItems.length&&!t.timeItemsWithLinksSet&&(t.timeItemsWithLinksSet={}),t.barsChangedFlag=!0},_PE_virt107:function(e,t,a){"use strict";var i=this;if(a.barsChangedFlag){var r={};Array.isArray(e.timeDataItems)&&(e.timeDataItems.forEach((function(e){r[e.id]=!0})),e.timeDataItems&&(e.timeDataItems.length=0)),e.summariesExistent=!1,Array.isArray(t.timeItems)&&t.timeItems.forEach((function(t){var n=i._createTimeDataItemAndChildrenRecursively(t,e,r);n&&i._getActualBarType(n)&It.Summary&&(e.summariesExistent=!0),a.timeItemsWithLinksSet&&(n&&n.linkCounter&&(a.timeItemsWithLinksSet[n.id]=!0),Array.isArray(t.childTimeItems)&&t.childTimeItems.forEach((function(e){var t=i._getDataItem(e,i._timeDataItemsMap);t&&t.linkCounter&&(a.timeItemsWithLinksSet[t.id]=!0)})))})),Object.keys(r).forEach((function(e){var t=i._timeDataItemsMap.get(e);t&&(delete t.parentTimeDataItem,delete t.rowDataItem,i.options.autoDisposeOfUnusedItems||i._unusedTimeDataItemsMap.set(t.id,t),i._timeDataItemsMap.delete(t.id),t.selected&&i._selectedTimeDataItemsMap.delete(t.id),delete t.selected)}))}else{if(Array.isArray(t.timeItems))for(var n=0;n<t.timeItems.length;n++){var o=i._getDataItem(t.timeItems[n],i._timeDataItemsMap);if(o&&i._getActualBarType(o)&It.Summary){e.summariesExistent=!0;break}}a.timeItemsWithLinksSet&&Array.isArray(t.timeItems)&&t.timeItems.forEach((function(e){var t=i._getDataItem(e,i._timeDataItemsMap);t&&t.linkCounter&&(a.timeItemsWithLinksSet[t.id]=!0),Array.isArray(e.childTimeItems)&&e.childTimeItems.forEach((function(e){var t=i._getDataItem(e,i._timeDataItemsMap);t&&t.linkCounter&&(a.timeItemsWithLinksSet[t.id]=!0)}))}))}e.summariesExistent&&((a.barsChangedFlag||a.childRowsChangedFlag)&&i._doCalculateSummaryTimeItemsInRow(e,!1,!1),e.oldSummariesExistent||(a.barsChangedFlag=!0)),a.barsChangedFlag&&!i._invalidationOfSubRowIndexesOfBarsInRowsDeactivated&&(i.options.automaticCalculationOfSubRowIndexesOfBarsInRow?i._calculateSubRowIndexesOfBarsInRow(e):i._invalidRowDataItemIDsForSubRowIndexesMap[e.id]=!0),i._updateOfRowsNeeded=!0},_PE_GetFrameRectD3:function(e){"use strict";var t=this,a=t._super(e);if(!a){var i=t._getDataItem(e,t._timeDataItemsMap);if(i){var n=i.elem;if(n){var o=t._getBodyAreaIndex(i.rowDataItem.item),s=t.getItemBoundingRect(e);if(s){var l,c,m=-3+s.xOffset,d=-3+s.yOffset;return t.options.barSelectionFramesShownWithHigherZOrder?(m+=i.newX,d+=i.newY+i.rowDataItem.visibleRowDataItem.newY,l=t.convertXToLimitedX(m),c=t.convertXToLimitedX(m+s.width+6),a=t._barSelectionFramesD3[o].append("rect")):(l=m,c=m+s.width+6,a=r.select(n).append("rect")),a.attr("x",l).attr("y",d).attr("rx",3).attr("ry",3).attr("width",c-l).attr("height",s.height+6).attr("class",t.NXXXXX.TEMP_MARKING_CLASS),t.options.itemHighlightingColor&&a.style("stroke",t.options.itemHighlightingColor),a}}}}return a},_PE_OnDragEvent_Interaction:function(){return Et.Move},_PE_SelectRowCancelled:function(){"use strict";return!(!this._selectedTimeDataItemsMap.size&&!this._selectedLinkDataItemsMap.size)},_PE_SelectRow_111:function(e){"use strict";e.oldSelectedTimeItems=Array.from(this._selectedTimeDataItemsMap.values()).map((e=>e.item))},_PE_SelectedRowItems_01:function(e){"use strict";var t=this;e.length&&(t.options.timeItemsHaveSameReferenceAsRowItems||t._changeTimeItemSelection([]),t._changeLinkItemSelection([]))},_PE_virt104:function(e){return this._getRowMainHeight(e)},_PE_CellWidth:function(e,t,a,i){return i},_PE_CreateTableRow_Classes:function(e,t){"use strict";var a=this._super(e,t);return this._enrichClass(e,a,{elemType:t,level:e.level})},_PE_LastColumnWidth:function(e,t){return t},_PE_TableRowWidth:function(){return Math.max(this.actualTableWidth(),this.actualTableViewWidth())},_determineXOffsetOfFirstFixedSucceedingTableColumn:function(){return this._layoutColumns[N.Table].innerViewExtent()-this._fixedTableColumnsWidthSucceeding},_PE_X2:function(){return Math.max(this.actualTableViewWidth(),this._actualScrollableWidth(N.Table))},_PE_TranslateWidth:function(){return this._layoutColumns[N.Table].innerViewExtent()-this._fixedTableColumnsWidthSucceeding},_PE_RecalculateTableWidth:function(e,t,a){"use strict";e!==t.length-1?this._setViewWidth(N.Table,this._tableViewWidthAtStartDrag):this._setViewWidth(N.Table,this._layoutColumns[N.Table].innerViewExtent()+a),this._tableViewChanged(!0,!0)},_PE_LocalActualTableWidth:function(){return this._layoutColumns[N.Table].innerViewExtent()},_doCreateRowContent:function(e,t,a,i,r,n){"use strict";this._super(e,t,a,i,r,n),n!==R.AncestorsNeeded&&this._createTimeAreaRow(e,t,a,r,n)},_PE_Unrealized:function(e,t,a){"use strict";e.virtualizationStatus===x.Unrealized&&(this._createTimeAreaRow(e,void 0,!0,t,a,!0),e.virtualizationStatus=x.Precalculated)},_detachRowContents:function(e,t){"use strict";var a=this;delete e.datum().zOrdersToBarLayersD3Maps,e.selectAll(Dt).each((function(e){a._detachTimeDataItem(e,r.select(this),t)}))},_verSBLayoutColumn:function(){return N.TimeArea},_PE_DefaultWidth:function(e){return e===N.Table?0:1/0},_innerClientXToLayoutColumn:function(e){"use strict";return e>=this._actualLayoutColumnLeft(N.TimeArea)&&e<this._actualInnerLayoutColumnRight(N.TimeArea)?N.TimeArea:this._super(e)},_PE_GetTableRowD3:function(e){return r.select(e.foregroundRowElem).select("."+this.NXXXXX.TABLE_ROW_CLASS)},_PE_SetTimeAreaViewScrollOffset:function(e,t){"use strict";this._timeAxis.timeAreaViewScrollOffset(e,t),this._layoutColumns[N.TimeArea].scrollStart(this._timeAxis.timeAreaViewScrollOffset())},_ignoreNextScrollEvents:function(e,t){"use strict";this._super(e,t),void 0!==t&&t!==N.TimeArea||(this._ignoreNextScrollEvents[N.TimeArea]=[e,e])},_doDetermineItemByPageCoordinates:function(e,t){"use strict";if(this._pointToSVGRelative(this._foregroundBodyD3s[k.MainBody].node(),e,t).x<this.actualTableViewWidth()+this.options.splitterWidth)return this._super(e,t);let a=document.elementFromPoint(e,t);if(a){if(a.parentNode.getAttribute("class")===it){let i=this._findRowDataItemAtY(t),n=r.select(a.parentNode).property(this._OBJECT_ID_PROPERTY),o=this._determineDateAreasForRowDataItem(i);if(Array.isArray(o)){let a=o.find((e=>e.id===n));return{sender:a,entryIndex:this._findDateAreaEntry(a,{pageX:e,pageY:t}),eventType:"tooltip",rowItem:i.item,elemType:yt.DateArea}}}if(a.getAttribute("class")===Ee)return null;let i=r.select(a).datum();if(i?.id&&i.item){if(this._rowDataItemsMap.get(i.id)===i)return{item:i.item,elemType:yt.Row};if(this._timeDataItemsMap.get(i.id)===i)return{item:i.item,elemType:yt.Bar};if(this._linkDataItemsMap.get(i.id)===i)return{item:i.item,elemType:yt.Link}}}},_getChartSizeForWorldView:function(){var e=this._super();return this._timeAxis&&(e.width+=this._timeAxis.actualTimeAreaWidth()),e.widthPx=2,e},_renderCompleteWorldView:function(){var e=this;if(e._super(),e._foregroundBodyD3s&&e._worldViewDivJQ){var t=e._worldViewDivJQ.nWorldViewCanvasWidget("instance"),a=e.actualTableWidth(),i=e._getChartSizeForWorldView(),n=function(n){if(Array.isArray(e.options.dateLines)){var o=e._timeAxis,s=o.actualStart(),l=o.actualEnd(),c=function(e){if(e&&"none"!==e)return e.split(/, /).map((function(e){return parseFloat(e)}))};e.options.dateLines.forEach((function(m){if(m.id&&!1!==m.inForeground===n){var d=r.select(e._dateLineIDsToSVGElementsMap[m.id]).select("line").node(),u=m.date;if(m.date&&m.date>=s&&m.date<l){var h=a+o.convertDateToX(u);t.drawLine(S.DateLines,{strokeStyle:window.getComputedStyle(d).stroke,lineDash:c(window.getComputedStyle(d).getPropertyValue("stroke-dasharray")),lineWidth:1},{x0:h,y0:e.options.titleHeight,y0Px:1,x1:h,y1:i.height,xPx:1,y1Px:i.heightPx})}}}))}};n(!1),t.drawLine(S.Content,{strokeStyle:"black",lineWidth:1},{x0:a,y0:0,x1:a,y1:i.height,y1Px:i.heightPx-1});var o=e._timescaleD3s[0].select(".ntimescale-ribbon-cell-rect:not(.ntimescale-ribbon-cell-weekend),.ntimescale-ribbon-cell-rect");if(o.size()&&t.fillRect(S.Content,{fillStyle:window.getComputedStyle(o.node()).fill},{left:a,leftPx:1,top:0,width:i.width-a,height:e.options.titleHeight}),t.drawLine(S.Content,{strokeStyle:"black",lineWidth:1},{x0:a,y0:e.options.titleHeight,x1:i.width,y1:e.options.titleHeight,x1Px:1}),e._actualBodyAreaSeparatorHeight()){var s=e.options.titleHeight+e._layoutRows[k.BodyAtTheTop].extent();t.drawLine(S.Content,{strokeStyle:"black",lineWidth:1},{x0:a,y0:s,x1:i.width,y1:s,xPx:i.widthPx,yPx:1})}n(!0),t.drawLine(S.Content,{strokeStyle:"black",lineWidth:1},{x0:i.width,y0:0,x1:i.width,y1:i.height,xPx:i.widthPx-1,y1Px:i.heightPx-1})}},_onViewRectMovedInWorldView:function(e){var t=this;t._super.apply(t,arguments);var a=[e.newLeftTop.x],i=[e.newLeftTop.y];e.viewRect.tableBase_colIndex&&(a[0]-=t._layoutColumns[0].extent()),e.viewRect.tableBase_rowIndex&&t._layoutRows[0].innerViewExtent()&&(i[0]-=t._layoutRows[0].extent()),t.scrollTo(a[e.viewRect.tableBase_colIndex],a[1-e.viewRect.tableBase_colIndex],i[1-e.viewRect.tableBase_rowIndex],i[e.viewRect.tableBase_rowIndex])},_clearAdditionalLayoutGridColumnsInWorldView:function(e,t,a,i,r){this._super.apply(this,arguments),e.clearRect(S.Selection,{left:a,leftPx:1,top:i,topPx:r,width:this._timeAxis.actualTimeAreaWidth(),height:t.totalHeight})},_renderCachedRowInWorldView:function(e,t){var a=this;if(a._super.apply(this,arguments),e.totalHeight){var i=a._worldViewDivJQ.nWorldViewCanvasWidget("instance");if(!t||t.indexOf("C")>=0){var r=a._getTopOfRowDataItemForWorldView(e);i.clearRect(S.Content,{left:a._tableWidth,leftPx:1,top:r.top,topPx:r.topPx,width:a._timeAxis.actualTimeAreaWidth(),height:e.totalHeight});var n=e.worldViewBarCacheMap;n&&Object.keys(n).forEach((function(e){var t=n[e];i[t.method].apply(i,t.args)}))}}}};i.widget("netronic.nGanttWidget",i.netronic.nTableBaseWidget,aa);var ia=i.netronic.nGanttWidget;ia.CALGRID_CLASS=ge,ia.WIDGET_CLASS="ngantt-widget",ia.NAMESPACE=ft,ia.ROW_HEIGHT_PROP_CLASS=ot,ia.BAR_WIDTH_DEPENDENT_PROP_CLASS=pe,ia.TREEVIEW_LINE_CLASS="ngantt-treeview-line",ia.BarInteractions=Et,ia.BarType=bt,ia.BarShape=At,ia.BarSnapTargets=xt,ia.ConstraintType=St,ia.DateLineGridRecurrence=vt,ia.DateLineLabelOrientation=Mt,ia.DisplayedElements=wt,ia.ElemType=yt,ia.HorizontalAlignment=Wt,ia.LinkType=Bt,ia._LinkTypeFlags={SourceStart:2,TargetEnd:1},ia.RowInteractions=E,ia.TableRowDefinitionType=ia.TableRowDefinitionTypes=Vt,ia.TimeAxisZoom=Ot,e.exports=ia},2254:(e,t,a)=>{var i=a(9280).nInternalDefines,r={LayoutRow:Object.assign({},i.LayoutRow),LayoutColumn:Object.assign({},i.LayoutColumn,{TimeArea:1,Splitter:2}),LayoutElements:Object.assign({},i.LayoutElements),TitleArea:Object.assign({},i.TitleArea)};e.exports=r},2691:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.PortDirections,o=r.RoutingType,s=function(e){if(!(this instanceof s))return new s(e);this.options=i.extend({},{sourcePortSectionExtent:5,targetPortSectionExtent:5,routingType:o.Curved,timeAxis:null,xCoordinateLimiter:null},e);var t=e.xCoordinateLimiter;this._transformXToLimitedX=t?function(e){return t.transform(e)}:function(e){return e}};i.extend(s.prototype,{determinePath:function(e){return(void 0!==e.routingType?e.routingType:this.options.routingType)===o.Orthogonal?this._determineOrthogonalPath(e):this._determineCurvedPath(e)},_determineCurvedPath:function(e){var t={x:e.source.x,y:e.source.y},a={x:e.target.x,y:e.target.y},i=function(e){return Math.floor(e.x)+","+Math.floor(e.y)},r=this._transformXToLimitedX;switch(e.source.portDirection){case n.Left:t.x+=this.options.sourcePortSectionExtent;break;case n.Right:t.x-=this.options.sourcePortSectionExtent;break;case n.Up:t.y-=this.options.sourcePortSectionExtent;break;case n.Down:t.y+=this.options.sourcePortSectionExtent}switch(e.target.portDirection){case n.Left:a.x-=this.options.targetPortSectionExtent;break;case n.Right:a.x+=this.options.targetPortSectionExtent;break;case n.Up:a.y-=this.options.targetPortSectionExtent;break;case n.Down:a.y+=this.options.targetPortSectionExtent}var o={},s={};switch(e.source.portDirection){case n.Left:case n.Right:o.x=r((t.x+a.x)/2),o.y=t.y;break;case n.Up:case n.Down:o.x=r(t.x),o.y=(t.y+a.y)/2}switch(e.target.portDirection){case n.Left:case n.Right:s.x=r((a.x+t.x)/2),s.y=a.y;break;case n.Up:case n.Down:s.x=r(a.x),s.y=(a.y+t.y)/2}return t.x=r(t.x),a.x=r(a.x),"M"+i(t)+"C"+i(o)+" "+i(s)+" "+i(a)},_determineOrthogonalPath:function(e){var t=this._transformXToLimitedX,a=this.options.timeAxis,i="",r=e.source,o={x:r.x,y:r.y},s=e.target,l={x:s.x,y:s.y};if(r.portDirection===n.Left?o.x-=this.options.sourcePortSectionExtent:r.portDirection===n.Right&&(o.x+=this.options.sourcePortSectionExtent),s.portDirection===n.Left?l.x-=this.options.targetPortSectionExtent:s.portDirection===n.Right&&(l.x+=this.options.targetPortSectionExtent),r.y===s.y&&r.portDirection===n.Up&&s.portDirection===n.Up){var c=Math.abs(r.x-s.x),m=this.options.sourcePortSectionExtent+this.options.targetPortSectionExtent;if(c<m){var d=(m-c)/2;r.y>s.x&&(d=-d),r.x-=d,s.x+=d}}var u=void 0;if(i+="M"+t(r.x)+","+r.y,r.y===s.y&&r.portDirection&(n.Left|n.Right)&&s.portDirection&(n.Left|n.Right)&&(u=r.y),void 0===u&&(r.y===s.y&&r.portDirection===n.Right&&s.portDirection===n.Left||r.portDirection===n.Right&&l.x>=o.x||r.portDirection===n.Left&&l.x<=o.x))if(a){var h=a.convertXToDate(Math.min(l.x,o.x)+1),p=a.convertXToDate(Math.max(l.x,o.x)-2);r.allocatedTimeSpans&&r.allocatedTimeSpans.isTimeSpanAllocated(h,p)||(u=r.y)}else u=r.y;if(void 0===u&&(s.portDirection===n.Right&&l.x<=o.x||s.portDirection===n.Left&&l.x>=o.x))if(a){h=this.options.timeAxis.convertXToDate(Math.min(l.x,o.x)+1),p=this.options.timeAxis.convertXToDate(Math.max(l.x,o.x)-2);s.allocatedTimeSpans&&s.allocatedTimeSpans.isTimeSpanAllocated(h,p)||(u=s.y)}else u=s.y;return void 0===u&&l.x>=o.x&&(r.portDirection===n.Down?u=r.yBelow:r.portDirection===n.Up&&(u=r.yAbove)),void 0===u&&(u=s.y>r.y?r.yBelow:r.yAbove),i+="H"+t(o.x),i+="V"+u,i+="H"+t(l.x),i+="V"+s.y,i+="H"+t(s.x)}}),s.PortDirections=n,s.RoutingType=o,e.exports=s},8791:(e,t,a)=>{var i=a(5066),r=i.NGANTT_BAR_RECT_CLASS,n=i.NGANTT_BAR_PATH_CAL_CLASS,o=i.NGANTT_BAR_RECT_CAL_CLASS,s=i.NGANTT_BAR_PATH_PATTERN_CLASS,l=i.NGANTT_BAR_OUTLINE_CLASS,c=i.NGANTT_BAR_PHANTOM_NONWORK_CLASS,m=i.NGANTT_BAR_WIDTH_DEPENDENT_PROP_CLASS,d=i.NGANTT_COMPOUND_BAR_BACKGROUND_CLASS,u=i.NGANTT_COMPOUND_BAR_FOREGROUND_CLASS,h=[r,n,m].join(" "),p=[r,o].join(" "),_=[r,s].join(" "),g=[r,l].join(" "),f=`rect.${r},path.${r}`,T=`path.${o}`,D=`rect.${s}`,v=`rect.${l}`,y=`path.${c}`,S=i.BarType,w=i.ElemType,I=i.TimeType,b=a(9579),A=function(){};Object.assign(A.prototype,{createBar:function(e){var t=e.barD3.classed(d),a=e.barD3.classed(u),i=!e.nwtColorVisible&&t||a,r=t||a,n={elemType:w.BarRectangle,shape:e.barShapeId};if(e.respectingCalendar?i||(e.barD3.append("rect").attr("class",e.enrichClassFunc(h,n)).attr("height",e.barHeight),e.barD3.append("path").attr("class",e.enrichClassFunc(p,n))):e.barD3.append("rect").attr("class",e.enrichClassFunc(h,n)).attr("height",e.barHeight),null==e.dataItem.item.fillPatternType||i||e.barD3.append("rect").attr("class",e.enrichClassFunc(_,n)).attr("height",e.barHeight).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${e.dataItem.item.fillPatternType})`),t||(b.createProgressBar(e),b.createPredictedEndBar(e)),r||b.separateBarShapeOutlinesEnabled&&!e.dataItem.parentTimeDataItem?.item.barShape){e.barD3.selectAll(f).style("stroke-width",0);var o=e.barD3.append("rect").attr("class",e.enrichClassFunc(g,n)).attr("height",e.barHeight);r||o.style("fill","transparent")}t||b.createConstraintSymbols(e)},positionBar:function(e){var t=e.barHeight,a=e.barD3;if(a){var i=!e.calendar||e.calendar.determineTimeType(e.timeRange.start)===I.WorkingTime,r=e.convertXToLimitedX,n=a.classed(d),o=a.classed(u),s=!e.nwtColorVisible&&n||o,l=n||o,c=t.toString(),m=e.pointerX.toString(),h=e.width.toString(),p=Math.max(1,e.width),_=e.calendar,g=e.dataItem,f=!!g.item.start,S=e.timeRange.end.getTime();if(!s){if(_){for(var w=e.timeAxis,A=`M0,${i?c:"0"}`,E=e.timeRange.start,R=r(e.timeAxis.convertDateToX(E)),C=0;null!==(E=_.findStartOfNextTimeTypeChange(E))&&E.getTime()<S;){i=!i;var x=r(w.convertDateToX(E))-R;C=x,A=`${A}H${x}V${i?c:"0"}`}if(C||!i){A=`${A}${i?"":`H${h}V${c}`}H0V0`}else A="";a.select(T).attr("d",A)}null!=g.item.fillPatternType&&a.select(D).attr("width",f?p:0)}if((l||b.separateBarShapeOutlinesEnabled&&!g.parentTimeDataItem?.item.barShape)&&a.select(v).attr("width",f?p:0),e.draggingLeftSide||e.draggingRightSide){var B="";e.openOnLeftSide?B=`M${m},${c}H0M${m},${c}V0M${m},0H0`:e.openOnRightSide&&(B=`M${h},0H${m}M${m},0V${c}M${h},${c}H${m}`),a.select(y).attr("d",B)}n||(b.positionProgressBar(e),b.positionConstraintSymbols(e),b.positionPredictedEndBar(e))}if(e.worldViewVisible){let a=e.worldViewBarWidth;e.worldViewPathData=[{x:0,y:0},{x:a,y:0},{x:a,y:t},{x:0,y:t},{x:0,y:0}]}},checkForBarType:function(e){return e===S.StartEnd||e===S.StartDuration||e===S.EndDuration}}),e.exports=A},670:(e,t,a)=>{var i=a(5066),r=i.NGANTT_BAR_RECT_CLASS,n=i.NGANTT_BAR_PATH_CAL_CLASS,o=i.NGANTT_BAR_RECT_CAL_CLASS,s=i.NGANTT_BAR_PATH_PATTERN_CLASS,l=i.NGANTT_BAR_OUTLINE_CLASS,c=i.NGANTT_BAR_PHANTOM_NONWORK_CLASS,m=i.NGANTT_COMPOUND_BAR_BACKGROUND_CLASS,d=i.NGANTT_COMPOUND_BAR_FOREGROUND_CLASS,u=[r,n].join(" "),h=[r,o].join(" "),p=[r,s].join(" "),_=[r,l].join(" "),g=`path.${r}`,f=`path.${o}`,T=`path.${n}`,D=`path.${s}`,v=`path.${l}`,y=`path.${c}`,S=i.BarType,w=i.ElemType,I=i.TimeType,b=a(9579),A=function(){};Object.assign(A.prototype,{createBar:function(e){var t,a=e.barD3,i=a.classed(m),r=a.classed(d),n=!e.nwtColorVisible&&i,o=n||r,s=i||r,l={elemType:w.BarRectangle,shape:e.barShapeId};(e.respectingCalendar?o||(a.append("path").attr("class",e.enrichClassFunc(u,l)),a.append("path").attr("class",e.enrichClassFunc(h,l))):a.append("path").attr("class",e.enrichClassFunc(u,l)),null==e.dataItem.item.fillPatternType||o||a.append("path").attr("class",e.enrichClassFunc(p,l)).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${e.dataItem.item.fillPatternType})`),n||(b.createProgressBar(e),b.createPredictedEndBar(e)),s||b.separateBarShapeOutlinesEnabled&&!e.dataItem.parentTimeDataItem?.item.barShape)&&(a.selectAll(g).style("stroke-width",0),(t=a.append("path")).attr("class",e.enrichClassFunc(_,l)),s||t.style("fill","transparent"));i||b.createConstraintSymbols(e)},positionBar:function(e){var t=e.barHeight;if(e.barD3){var a,i,r=e.calendar,n=e.pointerX,o=e.barCornerWidth,s=e.dataItem,l=!!s.item.start,c=e.timeAxis,u=e.convertXToLimitedX,h=e.timeRange.start,p=r?.determineTimeType(h)===I.WorkingTime??!0,_=u(c.convertDateToX(h)),g=e.timeRange.end.getTime(),S=l&&s.parentTimeDataItem,w=e.considerPhantomStart&&S?.phantomDataItem,A=w?w.start:l&&s.parentTimeDataItem?.item.start,E=A?Math.min(u(c.convertDateToX(A))-_,o):0,R=(e.draggingLeftSide?Math.min(n,E):E)+o,C=Math.max(R,0),x=Math.max(0,e.width),B=e.barD3.classed(m),L=e.barD3.classed(d),O=!e.nwtColorVisible&&B||L,M=B||L,V=t.toString(),F=n.toString();if(x){if(i=`M0,${V}V${C}`,O||(a=p?`M0,${V}`:`M0,${V}V${C}`),x<C)i=`${i}L${x},${C-x}`;else{i=`${i}${C?`L${C},0`:""}H${x}`}if(i=`${i}V${V}H0`,!O){if(r){for(var k=0,N=h;null!==(N=r.findStartOfNextTimeTypeChange(N))&&N.getTime()<g;){p=!p;var W=u(c.convertDateToX(N))-_;a=p?`${a=k<R?W<=R?`${a}L${W},${R-W}`:`${a}L${R},0H${W}`:`${a}H${W}`}V${V}`:W<R?`${a}H${W}V${R-W}`:`${a}H${W}V0`,k=W}!k&&p?a="":p||(x<C?a=`${a}L${x},${C-x}`:(k<C&&(a=`${a}L${C},0`),a=`${a}H${x}`),a=`${a}V${V}`)}e.barD3.select(T).attr("d",i),e.barD3.select(f).attr("d",r&&a?`${a}H0`:"")}}else O||(e.barD3.select(T).attr("d",`M0,${V}V0`),e.barD3.select(f).attr("d",""));if((M||b.separateBarShapeOutlinesEnabled&&!s.parentTimeDataItem?.item.barShape)&&e.barD3.select(v).attr("d",l?i??`M0,${V}V0`:""),null==s.item.fillPatternType||O||e.barD3.select(D).attr("d",l?i:""),e.draggingLeftSide||e.draggingRightSide){var P="";e.openOnLeftSide?(P=`M${F},${V}H0M${F},${V}V${o}`,P=R>0?`${P}L0,${R}`:`${P}L${R},0H0`):e.openOnRightSide&&(P=`M${x},`,x<R?(P+=Math.max(R-x,0),P=e.pointerX<R?`${P}L${F},${R-n}`:`${P}L${R},0H${F}`):P=`${P}0H${F}`,P=`${P}M${F},0V${V}M${x},${V}H${F}`),e.barD3.select(y).attr("d",P)}B||(b.positionProgressBar(e),b.positionConstraintSymbols(e),b.positionPredictedEndBar(e))}if(e.worldViewVisible){let a=e.worldViewBarWidth;e.worldViewPathData=[{x:0,y:0},{x:a,y:0},{x:a,y:t},{x:0,y:t},{x:0,y:0}]}},checkForBarType:function(e){return e===S.StartEnd||e===S.StartDuration||e===S.EndDuration}}),e.exports=A},9579:(e,t,a)=>{var i=a(5066),r=i.NGANTT_CONSTRAINT_LINE_CLASS,n=i.NGANTT_CONSTRAINT_SYMBOL_CLASS,o="ngantt-predicted-end-bar",s="ngantt-progress-bar",l="ngantt-progress-bar-background",c="ngantt-progress-nonworking-bar",m=i.BarShape,d=i.ElemType,u=i.TimeType,h=i.ConstraintType,p={isTextClippingAllowed:function(e){switch(e){case m.Diamond:case m.ArrowLeft:case m.ArrowRight:return!1;default:return!0}},createProgressBar:function(e){var t=e.dataItem.item;t.progressBackgroundVisible&&e.barD3.append("rect").attr("class",l).attr("height",e.ganttWidget.options.progressBarHeight).attr("y",e.barHeight-e.ganttWidget.options.progressBarHeight),t.progress&&(e.respectingCalendar?(e.barD3.append("rect").attr("class",c).attr("height",e.ganttWidget.options.progressBarHeight).attr("y",e.barHeight-e.ganttWidget.options.progressBarHeight),e.barD3.append("path").attr("class",s)):e.barD3.append("rect").attr("class",s).attr("height",e.ganttWidget.options.progressBarHeight).attr("y",e.barHeight-e.ganttWidget.options.progressBarHeight))},positionProgressBar:function(e){var t=e.dataItem.item;if(t){if(t.progressBackgroundVisible){var a=e.convertXToLimitedX,i=e.barD3.select("."+l);if(!i.empty()){var r=a(e.timeAxis.convertDateToX(e.timeRange.end))-(d=a(e.timeAxis.convertDateToX(e.timeRange.start)));i.attr("width",r)}}if(t.progress){a=e.convertXToLimitedX;var n=e.barD3.select("."+s);if(!n.empty()){var o=e.calculateProgressFunc.call(this);if(o){var m=a(e.timeAxis.convertDateToX(o)),d=a(e.timeAxis.convertDateToX(e.timeRange.start)),h=Math.max(0,m-d);if(e.calendar){var p="",_=e.timeRange.start,g=0;if(e.calendar.determineTimeType(_)!==u.WorkingTime&&(_=e.calendar.findStartOfNextTimeTypeChange(_))&&(g=a(e.timeAxis.convertDateToX(_))-d),_&&_.getTime()<o.getTime()){for(;;){(!(_=e.calendar.findStartOfNextTimeTypeChange(_))||_.getTime()>o.getTime())&&(_=o);var f=Math.max(a(e.timeAxis.convertDateToX(_))-d,0);if(p+="M"+g+","+(e.barHeight-e.ganttWidget.options.progressBarHeight)+"H"+f+"V"+e.barHeight+"H"+g+"Z",!(_=e.calendar.findStartOfNextTimeTypeChange(_))||_.getTime()>=o.getTime())break;g=a(e.timeAxis.convertDateToX(_))-d}n.attr("d",p)}}n.attr("width",h),e.barD3.select("."+c).attr("width",h)}}}}},createPredictedEndBar:function(e){e.dataItem.item.predictedEnd&&e.barD3.append("rect").attr("class",o).attr("height",e.ganttWidget.options.predictedEndBarHeight).attr("y",e.barHeight-e.ganttWidget.options.predictedEndBarHeight)},positionPredictedEndBar:function(e){var t=e.dataItem.item;if(t&&t.predictedEnd){var a=e.convertXToLimitedX,i=e.barD3.select("."+o);if(!i.empty()){var r=a(e.timeAxis.convertDateToX(t.predictedEnd)),n=a(e.timeAxis.convertDateToX(e.timeRange.start)),s=a(e.timeAxis.convertDateToX(e.timeRange.end)),l=s-r,c=l<0?s-n:r-n;i.attr("width",Math.abs(l)).attr("x",c)}}},createConstraintSymbols:function(e){var t=e.dataItem.item;if(t.constraints){if(e.rowDataItem.isHidden)return;t.constraints.forEach((function(t,a){e.barD3.insert("line",":first-child").attr("class",e.enrichClassFunc(r+" "+r+a,{elemType:d.ConstraintDateLine,constraintDateIndex:a})).attr("y1",-1).attr("y2",-1),e.barD3.insert("path",":first-child").attr("class",e.enrichClassFunc(n+" "+n+a,{elemType:d.ConstraintDateSymbol,constraintDateIndex:a})),(null==e.dataItem.outerStart||e.dataItem.outerStart>t.date)&&(e.dataItem.outerStart=t.date),(null==e.dataItem.outerEnd||e.dataItem.outerEnd<t.date)&&(e.dataItem.outerEnd=t.date)}))}else e.dataItem.outerStart=e.dataItem.outerEnd=void 0},positionConstraintSymbols:function(e){var t=e.dataItem.item;if(t.constraints){var a=e.convertXToLimitedX,i=a(e.timeAxis.convertDateToX(e.timeRange.start)),o=a(e.timeAxis.convertDateToX(e.timeRange.end));t.constraints.forEach((function(t,s){var l=e.barD3.select("."+n+s);if(!l.empty()){var c=e.timeAxis.convertDateToX(t.date),m=a(c),d=e.barD3.select("."+r+s);m<i?d.attr("visibility",null).attr("x1",m-i).attr("x2",0):m>o?d.attr("visibility",null).attr("x1",m-i).attr("x2",o-i):d.attr("visibility","hidden");var u,p=e.ganttWidget.options.constraintSymbolHeight,_=e.ganttWidget.options.detailedConstraintSymbolsEnabled,g=["M",(m-i).toString(),",-1l",(p/2).toString(),",-",p.toString(),"h-",p.toString(),"Z"].join(""),f=t.date.getTime();switch(t.type){case h.StartNoEarlierThan:u=e.timeRange.start.getTime()<f,_&&(g=["M",(m-i).toString(),",0v-14h1l6,4l-6,4v6Z"].join(""));break;case h.EndNoEarlierThan:u=e.timeRange.end.getTime()<f,_&&(g=["M",(m-i).toString(),",0v-14h7v7h-6v6Z"].join(""));break;case h.StartNoLaterThan:u=e.timeRange.start.getTime()>f,_&&(g=["M",(m-i).toString(),",0v-14h-1l-6,4l6,4v6Z"].join(""));break;case h.EndNoLaterThan:u=e.timeRange.end.getTime()>f,_&&(g=["M",(m-i).toString(),",0v-14h-7v7h6v6Z"].join(""));break;case h.MustStartOn:u=e.timeRange.start.getTime()!==f,_&&(g=["M",(m-i).toString(),",0v-6l",(p/2).toString(),",-",p.toString(),"h-",(p+1).toString(),"l",(p/2).toString(),",",p.toString(),"v6Z"].join(""));break;case h.MustEndOn:u=e.timeRange.end.getTime()!==f,_&&(g=["M",(m-i).toString(),",0v-7h3v-7h-7v7h3v7Z"].join(""))}l.attr("d",g),t.color&&l.style("fill",t.color),e.ganttWidget.options.constraintViolationsVisible&&u&&l.style("fill","#E01818")}}))}}};e.exports=p},9316:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o=r.NGANTT_BAR_OUTLINE_CLASS,s=r.NGANTT_BAR_PATH_PATTERN_CLASS,l="ngantt-summary-bar-path",c=r.NGANTT_BAR_TEXT_CLASS,m=r.NGANTT_COMPOUND_BAR_BACKGROUND_CLASS,d=[n,l,o].join(" "),u=[n,s].join(" "),h="."+l,p="path."+s,_="."+c+", ."+c+" tspan",g=r.BarType,f=r.ElemType,T=a(9579),D=function(){};i.extend(D.prototype,{createBar:function(e){var t=e.barD3,a={elemType:f.BarRectangle,shape:e.barShapeId};t.append("path").attr("class",e.enrichClassFunc(d,a)),t.classed(m)||T.createConstraintSymbols(e);let i=e.dataItem.item.fillPatternType;null!=i&&t.append("path").attr("class",e.enrichClassFunc(u,a)).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${i})`)},positionBar:function(e){var t=e.barHeight,a=t/2,i=e.barD3;if(i){var r=e.width,n=e.dataItem.item,o=!!n.start,s=`M0,0V${t}L${Math.min(a,r)},${a}H${Math.max(r-a,0)}L${r},${t}V0H0`;i.select(h).attr("d",o?s:""),i.selectAll(_).attr("x",8).attr("y",t),i.classed(m)||T.positionConstraintSymbols(e),null!=n.fillPatternType&&i.select(p).attr("d",o?s:"")}if(e.worldViewVisible){let i=e.worldViewBarWidth;e.worldViewPathData=[{x:0,y:t},{x:Math.min(a,i),y:a},{x:Math.max(i-a,0),y:a},{x:i,y:t},{x:i,y:0},{x:0,y:0},{x:0,y:t}]}},checkForBarType:function(e){return e===g.StartEnd||e===g.StartDuration||e===g.EndDuration}}),e.exports=D},4349:(e,t,a)=>{var i=a(5549),r=a(3571).nDateHelper,n=a(5066).TimeUnit,o=a(3429);let s=86400;const l=[1,60,3600,s,604800,2629746,7889238,31556952],c=l.map((e=>1e3*e));var m=function(){if(!(this instanceof m))return new m;this._start=new Date,this._end=new Date(this._start.getTime()+864e5),this._startEndExternallySet=!1,this._baseTimeUnit=n.Seconds,this._baseTimeUnitWidth=1,this._actualTimeAreaWidth=0,this._timeAreaViewWidth=0,this._timeAreaViewScrollOffset=0,this._actualStart=null,this._actualEnd=null,this._actualStartPlusOneSecond=null,this._actualBaseTimeUnitWidth=1,this._currentlyVisibleStart=null,this._currentlyVisibleEnd=null,this._collapseCalendar=null,this._isCachingEvents=!1,this._eventArgsCached=null,this._eventIsPending=!1,this._lastDate=null,this._lastDuration=0,this._visualZoomFactor=1};i.extend(m.prototype,{cacheEvents:function(){this._isCachingEvents=!0},triggerCachedEvents:function(){this._isCachingEvents=!1,this._eventArgsCached&&(this._trigger(this._eventArgsCached),this._eventArgsCached=null)},anythingChangedCallback:function(e){return void 0!==e&&(this._eventFunc=e),this._eventFunc},_anyTimePropertyChanged:function(){var t=this._collapseCalendar;this._timeRangeHasWorkingTime=this._end>this._start&&o.hasWorkingTime(t,this._end,this._start),this._timeRangeHasWorkingTime||(t=null),this._baseTimeUnitInMilliseconds=1e3*e.exports.timeUnitToSeconds(this._baseTimeUnit);var a=this._actualBaseTimeUnitWidth,i=this._actualStart,r=this._actualEnd,n=this._actualTimeAreaWidth;this._actualStart=this._start,this._timeRangeHasWorkingTime||a===this._actualBaseTimeUnitWidth&&this._start.getTime()==i?this._actualStartPlusOneSecond=null:this._actualStartPlusOneSecond=new Date(this._actualStart.getTime()+1e3),this._actualEnd=this._end;var s,l=(this._timeRangeHasWorkingTime?o.calculateWorkingTime(t,this._end,this._start):1e3)/this._baseTimeUnitInMilliseconds;l<1&&(l=1,null!==(s=o.addWorkingTime(t,this._actualStart,l*this._baseTimeUnitInMilliseconds))&&(this._actualEnd=s));(this._actualBaseTimeUnitWidth=this._baseTimeUnitWidth,this._actualTimeAreaWidth=Math.ceil(l*this._baseTimeUnitWidth-1e-4),this._actualTimeAreaWidth<100)&&(this._actualTimeAreaWidth=100,0!==this._baseTimeUnitWidth&&null!==(s=o.addWorkingTime(t,this._actualStart,this._actualTimeAreaWidth/this._baseTimeUnitWidth*this._baseTimeUnitInMilliseconds))&&(this._actualEnd=s));(this._actualTimeAreaWidth<this._timeAreaViewWidth||!this._timeRangeHasWorkingTime&&this._collapseCalendar)&&(this._actualBaseTimeUnitWidth=this._timeAreaViewWidth/l,this._actualTimeAreaWidth=this._timeAreaViewWidth);var c=this.convertDateToX(this._actualEnd);c<this._timeAreaViewScrollOffset+this._timeAreaViewWidth-1&&(this._timeAreaViewScrollOffset=c-this._timeAreaViewWidth+1);var m=!1;if((this._actualBaseTimeUnitWidth!==a||this._actualStart!=i||this._actualEnd!=r||this._actualTimeAreaWidth!=n)&&(m=!0),this._currentlyVisibleStart=this.convertXToDate(this._timeAreaViewScrollOffset),this._currentlyVisibleEnd=this.convertXToDate(this._timeAreaViewScrollOffset+this._timeAreaViewWidth-1),m){delete this._fittedTimeAreaViewStart,delete this._fittedTimeAreaViewEnd;var d={sender:this};this._isCachingEvents?this._eventArgsCached||(this._eventArgsCached=d):this._trigger(d)}},_trigger:function(e){if(!this._eventIsPending&&this._eventFunc){this._eventFunc(e)}},convertDateToX:function(e,t,a){var i,r,n=a?null:this._collapseCalendar;n&&this._lastDate&&this._lastDate<e?(i=this._lastDate,r=this._lastDuration):(i=this._actualStart,r=0);var s=this._timeRangeHasWorkingTime?o.calculateWorkingTime(n,e,i):e>this._actualStart?this._baseTimeUnitInMilliseconds:0;if(null!==s){s+=r;var l=Math.floor(s/c[this._baseTimeUnit]*this._actualBaseTimeUnitWidth+.1);return!1===t&&(l<0?l=0:l>=this._actualTimeAreaWidth&&(l=this._actualTimeAreaWidth-1)),a||(this._lastDate=e,this._lastDuration=s),l}return null},setFittedTimeAreaViewStartAndEnd:function(e,t){this._fittedTimeAreaViewStart=new Date(e),this._fittedTimeAreaViewEnd=new Date(t)},convertXToDate:function(e,t,a){var i=this,n=i._timeRangeHasWorkingTime?i._collapseCalendar:null,s=o.addWorkingTime(n,i._actualStart,e*c[i._baseTimeUnit]/i._actualBaseTimeUnitWidth);if(a&&null!==s){var l=o.addWorkingTime(n,i._actualStart,(e+1)*c[i._baseTimeUnit]/i._actualBaseTimeUnitWidth);null!==l&&(l=new Date(l.valueOf()-1),s=r.determineBestDateBetween(s,l))}if(null===s)return e>0?i.actualEnd():i._actualStart;if(s.setMilliseconds(0),!1===t){if(s<i._actualStart)return i._actualStart;if(s>i._actualEnd)return i._actualEnd}if(i._timeRangeHasWorkingTime||!i._collapseCalendar){var m,d="uncalculated";if(![i._fittedTimeAreaViewStart,i._fittedTimeAreaViewEnd,i._actualStart,i._actualEnd].every((function(t){return!(t&&s.getTime()<t.getTime()&&("uncalculated"==d&&(d=o.addWorkingTime(n,i._actualStart,(e+1)*c[i._baseTimeUnit]/i._actualBaseTimeUnitWidth)),!d||d.getTime()>t.getTime()))||(m=new Date(t),!1)})))return m}return s},hasCollapsedTimeAtX:function(e){if(!this._collapseCalendar)return!1;var t=this.convertXToDate(e,!0),a=this.convertXToDate(e+1,!0);return o.calculateWorkingTime(this._collapseCalendar,a,t)<a-t},start:function(){return 0===arguments.length?this._start:(this._start.getTime()!==arguments[0]?.getTime()&&(this._start=new Date(arguments[0]),this._anyTimePropertyChanged()),this)},end:function(){return 0===arguments.length?this._end:(this._end.getTime()!==arguments[0]?.getTime()&&(this._end=new Date(arguments[0]),this._anyTimePropertyChanged()),this)},startAndEnd:function(e,t){if(!(arguments.length<=1)){var a=new Date(this._currentlyVisibleStart);this.start(e),this.end(t),this._startEndExternallySet&&(a<e?this.timeAreaViewScrollOffset(Math.max(0,this.convertDateToX(e))):t<a?this.timeAreaViewScrollOffset(Math.max(0,this.convertDateToX(t)-this._timeAreaViewWidth+1)):this.timeAreaViewScrollOffset(Math.max(0,this.convertDateToX(a)))),this._startEndExternallySet=!0}},baseTimeUnit:function(){return 0===arguments.length?this._baseTimeUnit:(this._baseTimeUnit!=arguments[0]&&(this._baseTimeUnitWidth=this._baseTimeUnitWidth/e.exports.timeUnitToSeconds(this._baseTimeUnit)*e.exports.timeUnitToSeconds(arguments[0]),this._baseTimeUnit=arguments[0],this._anyTimePropertyChanged()),this)},baseTimeUnitWidth:function(){return 0===arguments.length?this._baseTimeUnitWidth:(this._baseTimeUnitWidth!==arguments[0]&&(this._baseTimeUnitWidth=arguments[0],this._anyTimePropertyChanged()),this)},setResolution:function(t,a){this.baseTimeUnitWidth(a/e.exports.timeUnitToSeconds(t)*e.exports.timeUnitToSeconds(this._baseTimeUnit))},getResolution:function(t){return this._baseTimeUnitWidth/e.exports.timeUnitToSeconds(this._baseTimeUnit)*e.exports.timeUnitToSeconds(t)},timeAreaViewWidth:function(){if(0===arguments.length)return this._timeAreaViewWidth;if(this._timeAreaViewWidth!==arguments[0]){this._timeAreaViewWidth=arguments[0];var e=this._isCachingEvents;e||(this._isCachingEvents=!0),this._anyTimePropertyChanged();var t=this._actualTimeAreaWidth-this._timeAreaViewWidth;this._timeAreaViewScrollOffset>t&&(this._timeAreaViewScrollOffset=t),this._eventArgsCached||(this._eventArgsCached={sender:this}),e||this.triggerCachedEvents()}return this},synchronizationNeeded:function(e){return this.start().getTime()!==e.start().getTime()||this.end().getTime()!==e.end().getTime()||this.baseTimeUnit()!==e.baseTimeUnit()||this.baseTimeUnitWidth()!==e.baseTimeUnitWidth()||this.collapseCalendar()!==e.collapseCalendar()||this.timeAreaViewScrollOffset()!==e.timeAreaViewScrollOffset()},synchronizeWith:function(e){if(this.synchronizationNeeded(e)){var t=this._isCachingEvents;t||this.cacheEvents(),this.start(e.start()),this.end(e.end()),this.baseTimeUnit(e.baseTimeUnit()),this.baseTimeUnitWidth(e.baseTimeUnitWidth()),this.collapseCalendar(e.collapseCalendar()),this.timeAreaViewScrollOffset(e.timeAreaViewScrollOffset()),t||this.triggerCachedEvents()}},timeAreaViewScrollOffset:function(){if(0===arguments.length)return Math.round(this._timeAreaViewScrollOffset);var e=arguments[0],t=Math.max(0,e),a=this._actualTimeAreaWidth-this._timeAreaViewWidth;if(t>a&&(t=a),this._timeAreaViewScrollOffset!==e&&(this._timeAreaViewScrollOffset=t,this._currentlyVisibleStart=this.convertXToDate(this._timeAreaViewScrollOffset),this._currentlyVisibleEnd=this.convertXToDate(this._timeAreaViewScrollOffset+this._timeAreaViewWidth-1),!arguments[1])){var i={sender:this};this._isCachingEvents?this._eventArgsCached||(this._eventArgsCached=i):this._trigger(i)}return this},rescale:function(e,t){var a=this._isCachingEvents;a||(this._isCachingEvents=!0);var i=this._timeAreaViewScrollOffset,r=this._actualBaseTimeUnitWidth;if(this._baseTimeUnitWidth=t,this._anyTimePropertyChanged(),(t=this._actualBaseTimeUnitWidth)!=r){var n=i*t/r+e*(t/r-1)/this.visualZoomFactor();n<0&&(n=0),this._timeAreaViewScrollOffset=n,this._anyTimePropertyChanged()}a||(this._eventArgsCached&&(this._eventArgsCached.centerCoordinateOnRescaling=i),this.triggerCachedEvents())},actualTimeAreaWidth:function(){return this._actualTimeAreaWidth},actualStart:function(){return this._actualStart},actualEnd:function(){return o.hasWorkingTime(this._collapseCalendar,this._actualEnd,this._actualStart)?this._actualEnd:this._actualStartPlusOneSecond},currentlyVisibleStart:function(){return this._currentlyVisibleStart},currentlyVisibleEnd:function(){return this._currentlyVisibleEnd},actualTimeRangeIncludesWorkingTime:function(){return this._timeRangeHasWorkingTime},isDateVisible:function(e){var t=e.valueOf();return this._actualStart.getTime()<=t&&t<this._actualEnd.getTime()},isDateNotVisible:function(e){var t=e.valueOf();return this._actualStart>t?-1:t>this._actualEnd?1:0},isDateBeforeStart:function(e){return this._actualStart>e.valueOf()},isDateAfterEnd:function(e){return this._actualEnd<e.valueOf()},actualBaseTimeUnitWidth:function(){return this._actualBaseTimeUnitWidth},actualWidthPerSecond:function(){return this._actualBaseTimeUnitWidth/e.exports.timeUnitToSeconds(this._baseTimeUnit)},collapseCalendar:function(){return 0===arguments.length?this._collapseCalendar:((this._collapseCalendar!==arguments[0]||arguments[1])&&(this._collapseCalendar=arguments[0],this._lastDate=null,this._lastDuration=0,this._anyTimePropertyChanged()),this)},addTimeUnit:function(e,t){return e.setTime(e.getTime()+c[t]),e},visualZoomFactor:function(){return 0===arguments.length?this._visualZoomFactor:(this._visualZoomFactor!==arguments[0]&&(this._visualZoomFactor=arguments[0]),this)}}),m.timeUnitToSeconds=function(e){return l[e]},m.TimeUnit=n,e.exports=m},7691:(e,t,a)=>{a(6699);var i=a(5549);a(8276);var r=a(9990),n=a(7337),o=a(3571),s=o.nDOMHelper.eventListenerHelper,l=a(5066).TimeUnit,c=".ntimescale",m="ntimescale-ribbon",d="ntimescale-ribbon-cell",u="ntimescale-ribbon-cell-rect",h="ntimescale-ribbon-cell-rect-hover",p="ntimescale-scroll-handle",_="ntimescale-scroll-handle-version2",g="ntimescale-scroll-handle-background",f="ntimescale-scroll-handle-background-hover",T="ntimescale-scroll-handle-content",D="ntimescale-scroll-handle-symbol",v="ntimescale-scroll-handle-left",y="ntimescale-scroll-handle-right",S="ntimescale-up-handle",w="ntimescale-up-handle-background",I="ntimescale-up-handle-background-hover",b="pinch",A="pan",E="singletap",R="press",C=o.nOSDetector.isIEWebBrowserControl||o.nOSDetector.isIE||o.nOSDetector.isEdge?0:-.5,x=a(3429),B=a(4349),L=a(718),O=L.RibbonType,M=i.extend({},O),V={};V[l.Seconds]=[1,5,10,15,30],V[l.Minutes]=[1,5,10,15,30],V[l.Hours]=[1,2,3,6,12];var F={};F[M.Seconds]=1,F[M.Seconds5]=5,F[M.Seconds10]=10,F[M.Seconds15]=15,F[M.Seconds30]=30,F[M.Minutes]=60,F[M.Minutes5]=300,F[M.Minutes10]=600,F[M.Minutes15]=900,F[M.Minutes30]=1800,F[M.Minutes30Small]=1800,F[M.Hours]=3600,F[M.Hours2]=7200,F[M.Hours3]=10800,F[M.Hours6]=21600,F[M.Hours12]=43200,F[M.Hours12Small]=43200,F[M.Days]=86400,F[M.Weeks]=604800,F[M.Months]=2592e3,F[M.Quarters]=7776e3,F[M.Years]=31536e3,F[M.RelSeconds]=1,F[M.RelSeconds5]=5,F[M.RelSeconds10]=10,F[M.RelSeconds15]=15,F[M.RelSeconds30]=30,F[M.RelSeconds30Small]=30,F[M.RelMinutes]=60,F[M.RelMinutes5]=300,F[M.RelMinutes10]=600,F[M.RelMinutes15]=900,F[M.RelMinutes30]=1800,F[M.RelMinutes30Small]=1800,F[M.RelHours]=3600,F[M.RelHours2]=7200,F[M.RelHours3]=10800,F[M.RelHours6]=21600,F[M.RelHours12]=43200,F[M.RelDays]=86400,F[M.RelWeeks]=604800,F[M.RelMonths]=2592e3,F[M.RelQuarters]=7776e3,F[M.RelYears]=31536e3;const k={[l.Seconds]:M.Seconds,[l.Minutes]:M.Minutes,[l.Hours]:M.Hours,[l.Days]:M.Days,[l.Weeks]:M.Weeks,[l.Months]:M.Months,[l.Quarters]:M.Quarters,[l.Years]:M.Years},N={[l.Seconds]:M.RelSeconds,[l.Minutes]:M.RelMinutes,[l.Hours]:M.RelHours,[l.Days]:M.RelDays,[l.Weeks]:M.RelWeeks,[l.Months]:M.RelMonths,[l.Quarters]:M.RelQuarters,[l.Years]:M.RelYears};i.widget("netronic.nTimescaleWidget",{options:{locale:null,timeZone:null,formattingByMoment:!1,timescaleElementForInput:null,timeAxis:null,baseTimeUnit:void 0,baseTimeUnitFactor:1,height:0,smartNavigationEnabled:!0,smartNavigationVersion:1,asynchronousInteractiveStretching:!1,rescalingByMouseWheelEnabled:!0,rescalingEnabled:!0,scrollingByButtonsEnabled:!0,ribbonsWideningFactor:1,relativeDateModeEnabled:!1,singleRibbonMode:!1,labelRibbonVisible:!1,reversedRibbonOrder:!1,invalidTimeAreaMarkingChangedFunc:null,contextMenuFunc:null},_create:function(){var e=this;this._ribbonTypesByTimescaleType=[],this._ribbonTypesByTimescaleType[M.Seconds]=[O.Days,O.Seconds],this._ribbonTypesByTimescaleType[M.Seconds5]=[O.Days,O.Seconds5],this._ribbonTypesByTimescaleType[M.Seconds10]=[O.Days,O.Seconds10],this._ribbonTypesByTimescaleType[M.Seconds15]=[O.Days,O.Seconds15],this._ribbonTypesByTimescaleType[M.Seconds30]=[O.Days,O.Seconds30],this._ribbonTypesByTimescaleType[M.Minutes]=[O.Days,O.Minutes],this._ribbonTypesByTimescaleType[M.Minutes5]=[O.Days,O.Minutes5],this._ribbonTypesByTimescaleType[M.Minutes10]=[O.Days,O.Minutes10],this._ribbonTypesByTimescaleType[M.Minutes15]=[O.Days,O.Minutes15],this._ribbonTypesByTimescaleType[M.Minutes30]=[O.Days,O.Minutes30],this._ribbonTypesByTimescaleType[M.Minutes30Small]=[O.Days,O.Minutes30Small],this._ribbonTypesByTimescaleType[M.Hours]=[O.Days,O.Hours],this._ribbonTypesByTimescaleType[M.Hours3]=[O.Days,O.Hours3],this._ribbonTypesByTimescaleType[M.Hours2]=[O.Days,O.Hours2],this._ribbonTypesByTimescaleType[M.Hours6]=[O.Days,O.Hours6],this._ribbonTypesByTimescaleType[M.Hours12]=[O.Days,O.Hours12],this._ribbonTypesByTimescaleType[M.Hours12Small]=[O.Days,O.Hours12Small],this._ribbonTypesByTimescaleType[M.Days]=[O.Months,O.Weeks,O.Days],this._ribbonTypesByTimescaleType[M.Weeks]=[O.Months,O.Weeks],this._ribbonTypesByTimescaleType[M.Months]=[O.Years,O.Months],this._ribbonTypesByTimescaleType[M.Quarters]=[O.Years,O.Quarters],this._ribbonTypesByTimescaleType[M.Years]=[O.Years],this._ribbonTypesByTimescaleType[M.RelSeconds]=[O.RelMinutes,O.RelSeconds],this._ribbonTypesByTimescaleType[M.RelSeconds5]=[O.RelMinutes,O.RelSeconds5],this._ribbonTypesByTimescaleType[M.RelSeconds10]=[O.RelMinutes,O.RelSeconds10],this._ribbonTypesByTimescaleType[M.RelSeconds15]=[O.RelMinutes,O.RelSeconds15],this._ribbonTypesByTimescaleType[M.RelSeconds30]=[O.RelMinutes,O.RelSeconds30],this._ribbonTypesByTimescaleType[M.RelSeconds30Small]=[O.RelMinutes5,O.RelSeconds30],this._ribbonTypesByTimescaleType[M.RelMinutes]=[O.RelHours,O.RelMinutes],this._ribbonTypesByTimescaleType[M.RelMinutes5]=[O.RelHours,O.RelMinutes5],this._ribbonTypesByTimescaleType[M.RelMinutes10]=[O.RelHours,O.RelMinutes10],this._ribbonTypesByTimescaleType[M.RelMinutes15]=[O.RelHours,O.RelMinutes15],this._ribbonTypesByTimescaleType[M.RelMinutes30]=[O.RelHours,O.RelMinutes30],this._ribbonTypesByTimescaleType[M.RelMinutes30Small]=[O.RelHours2,O.RelMinutes30],this._ribbonTypesByTimescaleType[M.RelHours]=[O.RelDays,O.RelHours],this._ribbonTypesByTimescaleType[M.RelHours3]=[O.RelDays,O.RelHours3],this._ribbonTypesByTimescaleType[M.RelHours2]=[O.RelDays,O.RelHours2],this._ribbonTypesByTimescaleType[M.RelHours6]=[O.RelDays,O.RelHours6],this._ribbonTypesByTimescaleType[M.RelHours12]=[O.RelDays,O.RelHours12],this._ribbonTypesByTimescaleType[M.RelDays]=[O.RelWeeks,O.RelDays],this._ribbonTypesByTimescaleType[M.RelWeeks]=[O.RelMonths,O.RelWeeks],this._ribbonTypesByTimescaleType[M.RelMonths]=[O.RelQuarters,O.RelMonths],this._ribbonTypesByTimescaleType[M.RelQuarters]=[O.RelYears,O.RelQuarters],this._ribbonTypesByTimescaleType[M.RelYears]=[O.RelYears],this._ribbonTextFormatsByTimescaleType=[],this._ribbonTextFormatsAdapted=!1,this._timescaleD3ForRendering=r.select(this.element[0]),this.element.addClass("ntimescale"),this._currentTimescaleType=void 0,this._mostDetailedTimescaleType=e.options.relativeDateModeEnabled?M.RelSeconds:M.Seconds,this._leastDetailedTimescaleType=e.options.relativeDateModeEnabled?M.RelYears:M.Years,this._ignoreNextScrollEvent=!1,this._pinchStartUnitWidth=1,this._cachedCurrentTimescaleType=void 0,this._cachedTimeAxis=null,this._cachedTimeAxisActualStart=0,this._cachedTimeAxisActualEnd=0,this._cachedTimeAxisBaseTimeUnit=void 0,this._cachedTimeAxisActualBaseTimeUnitWidth=0,this._cachedCollapseCalendar=void 0,this._cachedWidth=0,this._cachedScrollLeft=-1,this._ribbons=[],this._timescaleD3ForRendering.data([this]),this._cachedCellRect=null,this._ignoreClick=!1,this._mouseIsInside=!1,this._mouseAndSmartNavigationEnabled=!0,this._id=o.nSubsequentIDGenerator.generate(),e.options.locale instanceof o.nLocale||(i(window).on("netronic_nLocales_localeChanged"+c+this._id,(function(){try{e._localeChanged()}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),i(window).on("netronic_nDateHelper_timeZoneChanged"+c+this._id,(function(){try{e._localeChanged()}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}}))),this._pointerEvents=["pointerdown","pointermove","pointerup","pointerover","pointerout","pointerenter","pointerleave","click"].map((e=>`${e}${c}${this._id}`)).join(" ")},_init:function(){"use strict";var e=this;this._initRibbonTextFormats(),this._limitMostDetailedTimescaleType();let t=e.options.timescaleElementForInput;if(t){i(t).addClass("ntimescale-overlay"),s.on(t,`pointerenter${c}${this._id}`,(function(t){try{return e._onMouseEnter(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on(t,`pointermove${c}${this._id}`,(function(t){try{return e._onPointerMove(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on(t,`pointerleave${c}${this._id}`,(function(t){try{return e._onMouseLeave(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on(t,`wheel${c}${this._id}`,(function(t){try{return e._onWheel(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})).on(t,`pointerdown${c}${this._id}`,(function(t){try{3===t.which&&e._onContextMenu(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}}));var a=new n.Manager(t);a.add(new n.Pinch({event:b})),a.on(b+"start",(function(t){try{e.onPinchStart(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),a.on(b,(function(t){try{e.onPinch(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),a.add(new n.Pan({event:A,direction:n.DIRECTION_HORIZONTAL})),a.on(A+"start",(function(t){try{e._onPanStart(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),a.on(A+"move",(function(t){try{e._onPan(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}})),a.on(A+"end",(function(t){try{e._onPanEnd(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}}));let r=function(t){try{e._onSingleTap(t)}catch(t){if(!e.options.errorFunc)throw t;e.options.errorFunc.call(e,t)}};a.add(new n.Tap({event:E})),a.on(E,r),a.add(new n.Press({event:R})),a.on(R+"up",(function(e){"mouse"===e.pointerType&&r(e)}))}e._mouseAndSmartNavigationEnabled=e.options.smartNavigationEnabled&&e.options.rescalingByMouseWheelEnabled,e._localeListenerFunc=function(){e._localeChanged()},e.options.locale instanceof o.nLocale&&e.options.locale.addListener(e._localeListenerFunc),e.options.reversedRibbonOrder&&e._ribbonTypesByTimescaleType.forEach((function(t,a){e._ribbonTypesByTimescaleType[a]=t.reverse()}))},_destroy:function(){s.off([window,this.options.timescaleElementForInput],`${c}${this._id}`),this.options.timescaleElementForInput=null,this.options.timeAxis=null,this.options.locale instanceof o.nLocale&&this.options.locale.removeListener(this._localeListenerFunc)},_setOption:function(e,t){var a=this,i=a.options[e];switch(a._super(e,t),e){case"locale":i&&i.removeListener(this._localeListenerFunc),t&&t.addListener(this._localeListenerFunc),this._localeChanged();break;case"timeZone":case"formattingByMoment":this._localeChanged();break;case"height":this._cachedTimeAxis=null,this.render();break;case"baseTimeUnit":case"baseTimeUnitFactor":if(i!==t){let e=a._mostDetailedTimescaleType;if(a._limitMostDetailedTimescaleType(),e!==a._mostDetailedTimescaleType){let e=a.options.timeAxis;a._rescale(null,e.actualBaseTimeUnitWidth())}}break;case"smartNavigationEnabled":this._mouseAndSmartNavigationEnabled=t&&this.options.rescalingByMouseWheelEnabled,this.render();break;case"singleRibbonMode":case"smartNavigationVersion":case"labelRibbonVisible":case"scrollingByButtonsEnabled":this.render();break;case"rescalingByMouseWheelEnabled":this._mouseAndSmartNavigationEnabled=t&&this.options.smartNavigationEnabled;break;case"rescalingEnabled":this.options.rescalingByMouseWheelEnabled=t,this.render();break;case"relativeDateModeEnabled":o.nDateHelper.relativeDateModeEnabled=t,this._limitMostDetailedTimescaleType(),this._leastDetailedTimescaleType=t?M.RelYears:M.Years,this.render();break;case"reversedRibbonOrder":t!==i&&(a._ribbonTypesByTimescaleType.forEach((function(e,t){a._ribbonTypesByTimescaleType[t]=e.reverse()})),this._localeChanged())}},_localeChanged:function(){"use strict";var e=this;e._ribbonTextFormatsAdapted=!1;var t=function(){e._initRibbonTextFormats(!0)};e.options.locale instanceof o.nLocale?e.options.locale.applyDateFormat(t):t(),e.render(!0)},_initRibbonTextFormats:function(){"use strict";var e=this;e._ribbonTextFormatsByTimescaleType[M.Seconds]=[["D"],["T"]],e._ribbonTextFormatsByTimescaleType[M.Seconds5]=[["D"],["T"]],e._ribbonTextFormatsByTimescaleType[M.Seconds10]=[["D"],["T"]],e._ribbonTextFormatsByTimescaleType[M.Seconds15]=[["D"],["T"]],e._ribbonTextFormatsByTimescaleType[M.Seconds30]=[["D"],["T"]],e._ribbonTextFormatsByTimescaleType[M.Minutes]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Minutes5]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Minutes10]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Minutes15]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Minutes30]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Minutes30Small]=[["D",[["%B","%b"]]],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours2]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours3]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours6]=[["D"],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours12]=[["D",[["%A","%a"],["%B","%b"]]],["t"]],e._ribbonTextFormatsByTimescaleType[M.Hours12Small]=[["D",[["%A,",""],["%A",""],["%B","%b"]]],["t"]],e._ribbonTextFormatsByTimescaleType[M.Days]=[["%B %Y"],["W"],["%d"]],e._ribbonTextFormatsByTimescaleType[M.Weeks]=[["%B %Y"],["W"]],e._ribbonTextFormatsByTimescaleType[M.Months]=[["%Y"],["%b"]],e._ribbonTextFormatsByTimescaleType[M.Quarters]=[["%Y"],["Q"]],e._ribbonTextFormatsByTimescaleType[M.Years]=[["%Y"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds5]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds10]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds15]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds30]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelSeconds30Small]=[["M : d : h : m"],["s"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes5]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes10]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes15]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes30]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelMinutes30Small]=[["M : d : h : m"],["m"]],e._ribbonTextFormatsByTimescaleType[M.RelHours]=[["M : d : h : m"],["h"]],e._ribbonTextFormatsByTimescaleType[M.RelHours2]=[["M : d : h : m"],["h"]],e._ribbonTextFormatsByTimescaleType[M.RelHours3]=[["M : d : h : m"],["h"]],e._ribbonTextFormatsByTimescaleType[M.RelHours6]=[["M : d : h : m"],["h"]],e._ribbonTextFormatsByTimescaleType[M.RelHours12]=[["M : d : h : m"],["h"]],e._ribbonTextFormatsByTimescaleType[M.RelDays]=[["M : d : h : m"],["d"]],e._ribbonTextFormatsByTimescaleType[M.RelWeeks]=[["M : d : h : m"],["d"]],e._ribbonTextFormatsByTimescaleType[M.RelMonths]=[["M : d : h : m"],["M"]],e._ribbonTextFormatsByTimescaleType[M.RelQuarters]=[["M : d : h : m"],["Q"]],e._ribbonTextFormatsByTimescaleType[M.RelYears]=[["M : d : h : m"],["Y"]],e.options.reversedRibbonOrder&&e._ribbonTextFormatsByTimescaleType.forEach((function(t,a){e._ribbonTextFormatsByTimescaleType[a]=t.reverse()}));var t=e.options.locale?e.options.locale.params():o.nLocales.locale();e._ribbonTextFormatsAdapted||(e._ribbonTextFormatsAdapted=!0,Object.keys(e._ribbonTextFormatsByTimescaleType).forEach((function(a){for(var i=0;i<e._ribbonTextFormatsByTimescaleType[a].length;i++){var r=e._ribbonTextFormatsByTimescaleType[a][i],n=r[0];-1!==n.indexOf("t")?n=n.replace("t",t.patterns.t):-1!==n.indexOf("T")?n=n.replace("T",t.patterns.T):-1!==n.indexOf("W")?n=n.replace("W",t.patterns.W):-1!==n.indexOf("D")?n=n.replace("D",t.patterns.D):-1!==n.indexOf("Q")&&(n=n.replace("Q",t.patterns.Q)),n=n.replace("'den '","%A' den '");for(var o=1;o<r.length;o++)for(var s=0;s<r[o].length;s++)n=n.replace(r[o][s][0],r[o][s][1]);e._ribbonTextFormatsByTimescaleType[a][i]=n}})));var a=e._minimumUnitWidths={},i=e.options.reversedRibbonOrder?0:1,r=function(t,r,n){a[t]=e._ribbonTextFormatsByTimescaleType[t][i].indexOf("%p")>=0?r:n};r(M.Seconds,70,64),r(M.Seconds5,70,64),r(M.Seconds10,70,64),r(M.Seconds15,70,64),r(M.Seconds30,70,64),r(M.Minutes,64,40),r(M.Minutes5,64,40),r(M.Minutes10,64,40),r(M.Minutes15,64,40),r(M.Minutes30,64,40),r(M.Minutes30Small,64,40),r(M.Hours,64,40),r(M.Hours2,64,40),r(M.Hours3,64,40),r(M.Hours6,64,40),r(M.Hours12,64,48),r(M.Hours12Small,56,40),a[M.Days]=24,a[M.Weeks]=48,a[M.Months]=64,a[M.Quarters]=32,a[M.Years]=100,a[M.RelSeconds]=30,a[M.RelSeconds5]=30,a[M.RelSeconds10]=30,a[M.RelSeconds15]=30,a[M.RelSeconds30]=30,a[M.RelSeconds30Small]=68,a[M.RelMinutes]=30,a[M.RelMinutes5]=30,a[M.RelMinutes10]=30,a[M.RelMinutes15]=30,a[M.RelMinutes30]=53,a[M.RelMinutes30Small]=53,a[M.RelHours]=30,a[M.RelHours2]=30,a[M.RelHours3]=30,a[M.RelHours6]=30,a[M.RelHours12]=53,a[M.RelDays]=30,a[M.RelWeeks]=30,a[M.RelMonths]=39,a[M.RelQuarters]=116,a[M.RelYears]=116},_limitMostDetailedTimescaleType:function(){"use strict";var e=this;if(e.options.timeAxis instanceof B){var t=e.options.baseTimeUnit??e.options.timeAxis.baseTimeUnit();e._mostDetailedTimescaleType=(this.options.relativeDateModeEnabled?N:k)[t];var a=e.options.baseTimeUnitFactor;if(a>1){var i=0;V[t]?.forEach(((e,t)=>{e<=a&&(i=t)})),e._mostDetailedTimescaleType+=i}}},_selectCellRectAt:function(e,t,a){"use strict";if(this.options.rescalingEnabled){var n,s=this;void 0!==s._panStartScrollOffset&&(a=!0);var l=s._timescaleD3ForRendering.selectAll("."+S);if(l.size()&&"hidden"!==l.attr("visibility")){var c=(n=l.node().getBoundingClientRect()).width/2,d=e-n.left-c,p=t-n.top;if(Math.sqrt(d*d+p*p)<=c)return r.select(s._cachedCellRect).classed(h,!1),s._cachedCellRect=null,s._timescaleD3ForRendering.select("."+w).classed(I,!0),s._cachedCellRect}var T=!1;if(s._timescaleD3ForRendering.selectAll("."+_).each((function(){n=this.getBoundingClientRect(),c=n.height/2,r.select(this).classed(y)?(d=e-n.left,p=t-n.top-c,Math.sqrt(d*d+p*p)<=c&&(r.select(s._cachedCellRect).classed(h,!1),s._cachedCellRect=null,s._timescaleD3ForRendering.select("."+y+" ."+g).classed(f,!0),T=!0)):(d=e-n.left-c,p=t-n.top-c,Math.sqrt(d*d+p*p)<=c&&(r.select(s._cachedCellRect).classed(h,!1),s._cachedCellRect=null,s._timescaleD3ForRendering.select("."+v+" ."+g).classed(f,!0),T=!0))})),T)return s._cachedCellRect;if(s._timescaleD3ForRendering.select("."+w).classed(I,!1),s._timescaleD3ForRendering.select("."+y+" ."+g).classed(f,!1),s._timescaleD3ForRendering.select("."+v+" ."+g).classed(f,!1),s._cachedCellRect){if(n=s._cachedCellRect.getBoundingClientRect(),!a&&n.left<=e&&e<n.right&&n.top<=t&&t<n.bottom)return s._cachedCellRect;r.select(s._cachedCellRect).classed(h,!1),s._cachedCellRect=null}return a||o.nDateHelper.applyTimeZone(s.options.timeZone,(function(){s._timescaleD3ForRendering.selectAll("."+u).each((function(){s._cachedCellRect||s._currentTimescaleType===s._mostDetailedTimescaleType&&0===i(this).closest("."+m).data("revIndex")||(n=this.getBoundingClientRect()).left<=e&&e<n.right&&n.top<=t&&t<n.bottom&&(n.width<s.options.timeAxis.timeAreaViewWidth()||s.options.timeAxis.convertDateToX(o.nDateHelper.toDate(this.nwaf_gantt_cell_data.originalDateOrMoment))!==s.options.timeAxis.timeAreaViewScrollOffset()||s.options.timeAxis.convertDateToX(o.nDateHelper.toDate(this.nwaf_gantt_cell_data.nextDateOrMoment))!==s.options.timeAxis.timeAreaViewScrollOffset()+s.options.timeAxis.timeAreaViewWidth())&&(s._mouseIsInside&&r.select(this).classed(h,!0),s._cachedCellRect=this)}))})),s._cachedCellRect}},_refreshRibbons:function(e){"use strict";var t=this,a=t.options.timeAxis;if(e||t._cachedCurrentTimescaleType!==t._currentTimescaleType||t._cachedTimeAxis!=a||t._cachedTimeAxisActualStart!=a.actualStart()||t._cachedTimeAxisActualEnd!=a.actualEnd()||t._cachedTimeAxisBaseTimeUnit!=a.baseTimeUnit()||t._cachedTimeAxisActualBaseTimeUnitWidth!=a.actualBaseTimeUnitWidth()||t._cachedWidth!=a.timeAreaViewWidth()||t._cachedScrollLeft!=a.timeAreaViewScrollOffset()||t._cachedCollapseCalendar!=a.collapseCalendar()){t._fillCache();var i=function(){o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){for(var e=0;e<t._ribbons.length;e++)t._ribbons[e].render(a)}))};t.options.locale instanceof o.nLocale?t.options.locale.applyDateFormat(i):i()}},getCurrentTypicalCellWidthOfMostDetailedRibbon:function(){"use strict";var e=this;if(e._ribbons)return o.nDateHelper.applyTimeZone(e.options.timeZone,(function(){var t=e._ribbons[e.options.reversedRibbonOrder?0:e._ribbons.length-1];if(t)return t._getCurrentTypicalCellWidth(e.options.timeAxis)}))},getDatesOfMostDetailedRibbon:function(){"use strict";var e=this;return o.nDateHelper.applyTimeZone(e.options.timeZone,(function(){if(e._ribbons){var t=e._ribbons[e.options.reversedRibbonOrder?0:e._ribbons.length-1];if(t)return t._getDates(e.options.timeAxis)}}))},getCellsOfMostDetailedRibbon:function(){"use strict";var e=this;if(e._ribbons){var t=e._ribbons[e.options.reversedRibbonOrder?0:e._ribbons.length-1];if(t)return t.cells()}},_fillCache:function(){"use strict";var e=this;e._cachedCurrentTimescaleType=e._currentTimescaleType,e._cachedTimeAxis=e.options.timeAxis,e._cachedTimeAxisActualStart=e.options.timeAxis.actualStart(),e._cachedTimeAxisActualEnd=e.options.timeAxis.actualEnd(),e._cachedTimeAxisBaseTimeUnit=e.options.timeAxis.baseTimeUnit(),e._cachedTimeAxisActualBaseTimeUnitWidth=e.options.timeAxis.actualBaseTimeUnitWidth(),e._cachedWidth=e.options.timeAxis.timeAreaViewWidth(),e._cachedScrollLeft=e.options.timeAxis.timeAreaViewScrollOffset(),e._cachedCollapseCalendar=e.options.timeAxis.collapseCalendar()},_renderRibbons:function(e){"use strict";for(var t=this,a=t._leastDetailedTimescaleType,i=t.options.timeAxis.actualWidthPerSecond(),r=t._leastDetailedTimescaleType;r>=t._mostDetailedTimescaleType;r--){if(!(i*F[r]>=t._minimumUnitWidths[r]*t.options.ribbonsWideningFactor))break;a=r}a!==t._currentTimescaleType||e?o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){t._currentTimescaleType=a;var e=t._ribbonTypesByTimescaleType[t._currentTimescaleType].slice(),i=t._ribbonTextFormatsByTimescaleType[t._currentTimescaleType].slice();t.options.singleRibbonMode&&(e=[e.pop()],i=[i.pop()]);var r=function(){t._ribbons.length=0;for(var a=0;a<e.length;a++)t._ribbons[a]=new L(t.options.timeAxis,e[a],i[a])};t.options.locale instanceof o.nLocale?t.options.locale.applyDateFormat(r):r(),t._fillCache()})):t._refreshRibbons(e)},_onMouseEnter:function(e){"use strict";this._mouseAndSmartNavigationEnabled&&(this._mouseIsInside=!0,this.options.smartNavigationVersion<2&&this._timescaleD3ForRendering.selectAll("."+p).transition().attr("transform","translate("+this.options.timeAxis.timeAreaViewWidth()+")"),this._selectCellRectAt(e.clientX,e.clientY,!!e.buttons))},_onPointerMove:function(e){"use strict";var t=this;if(t._mouseAndSmartNavigationEnabled){if(clearTimeout(this._smartNavigationTimer),e.buttons)return;this._ignoreClick=!1,t.options.smartNavigationVersion<2&&this._timescaleD3ForRendering.selectAll("."+p).transition().attr("transform","translate("+this.options.timeAxis.timeAreaViewWidth()+")"),this._smartNavigationTimer=setTimeout((function(){t._selectCellRectAt(e.clientX,e.clientY,!!e.buttons)}),50)}},_onMouseLeave:function(){"use strict";this._mouseAndSmartNavigationEnabled&&(this._mouseIsInside=!1,clearTimeout(this._smartNavigationTimer),this.options.smartNavigationVersion<2&&this._timescaleD3ForRendering.selectAll("."+p).transition().attr("transform","translate("+(this.options.timeAxis.timeAreaViewWidth()+11+3)+")"),this._cachedCellRect&&(r.select(this._cachedCellRect).classed(h,!1),this._cachedCellRect=null),this._timescaleD3ForRendering.select("."+w).classed(I,!1),this._timescaleD3ForRendering.select("."+y+" ."+g).classed(f,!1),this._timescaleD3ForRendering.select("."+v+" ."+g).classed(f,!1))},_onContextMenu:function(e){"use strict";var t=this;if(t.options.contextMenuFunc){var a={};o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){t._timescaleD3ForRendering.selectAll("."+u).each((function(){var t=this.getBoundingClientRect();if(t.left<=e.clientX&&e.clientX<t.right&&t.top<=e.clientY&&e.clientY<t.bottom)return a.startDate=o.nDateHelper.toDate(this.nwaf_gantt_cell_data.originalDateOrMoment),void(a.endDate=o.nDateHelper.toDate(this.nwaf_gantt_cell_data.nextDateOrMoment))}))})),t.options.contextMenuFunc(e,a)}},_onWheel:function(e){"use strict";if(!e.ctrlKey&&!e.altKey&&!e.metaKey)if(e.preventDefault(),e.shiftKey);else if(this.options.rescalingByMouseWheelEnabled&&this.options.rescalingEnabled){var t=this.options.asynchronousInteractiveStretching?.5:1,a=this.options.timeAxis.actualBaseTimeUnitWidth(),i=(e.deltaX||e.deltaY)<0?a*(1+.25*t):a*(1-.2*t);return this._rescale(e.pageX,i),!1}},_rescale:function(e,t){"use strict";var a=this,i=a.options.timeAxis;null!=e?e-=a.options.timescaleElementForInput.getBoundingClientRect().left+document.body.scrollLeft:e=i.timeAreaViewScrollOffset();a.options.asynchronousInteractiveStretching&&i.cacheEvents();let r=i.baseTimeUnit(),n=a.options.baseTimeUnit??r;var o=a._minimumUnitWidths[a._mostDetailedTimescaleType]/a.options.baseTimeUnitFactor*a.options.ribbonsWideningFactor;n!==r&&(o*=B.timeUnitToSeconds(r)/B.timeUnitToSeconds(n)),t=Math.min(t,o);var s=i.actualBaseTimeUnitWidth();t>s&&1==a._ribbons[a.options.reversedRibbonOrder?0:a._ribbons.length-1]._cells.length||(i.rescale(e,t),a.render(),void 0!==a._timeAxisTriggerEventTimerID?clearTimeout(a._timeAxisTriggerEventTimerID):a.options.asynchronousInteractiveStretching&&(a._unitWidthBeforeInteractiveRescale=s),a.options.asynchronousInteractiveStretching?(a.options.invalidTimeAreaMarkingChangedFunc?.(!0,i.actualBaseTimeUnitWidth()/a._unitWidthBeforeInteractiveRescale),a._timeAxisTriggerEventTimerID=setTimeout((function(){delete a._timeAxisTriggerEventTimerID,delete a._unitWidthBeforeInteractiveRescale,a.options.invalidTimeAreaMarkingChangedFunc?.(!1),i.triggerCachedEvents()}),500)):delete a._timeAxisTriggerEventTimerID)},onPinchStart:function(){this._pinchStartUnitWidth=this.options.timeAxis.actualBaseTimeUnitWidth()},onPinch:function(e){var t=this._pinchStartUnitWidth*e.scale;this._rescale(e.center.x,t)},_onPanStart:function(){r.select(this.options.timescaleElementForInput).style("pointer-events","all"),o.nCursorHelper.setCursor(this.options.timescaleElementForInput,"ew-grabbing"),this._panStartScrollOffset=this.options.timeAxis.timeAreaViewScrollOffset()},_onPan:function(e){this.options.timeAxis.timeAreaViewScrollOffset(this._panStartScrollOffset-e.deltaX/this.options.timeAxis.visualZoomFactor())},_onPanEnd:function(e){r.select(this.options.timescaleElementForInput).style("pointer-events",null),o.nCursorHelper.setCursor(this.options.timescaleElementForInput,null),delete this._panStartScrollOffset;var t=i.extend({},e.srcEvent);t.buttons=0,this._onPointerMove(t)},_onSingleTap:function(e){"use strict";if(this._mouseAndSmartNavigationEnabled){if(this._ignoreClick)return void(this._ignoreClick=!1);var t=this;o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){var a=t._selectCellRectAt(e.center.x,e.center.y);t._cachedCellRect=null;var n=i(e.target).css("display");i(e.target).css("display","none");var s=document.elementFromPoint(e.srcEvent.clientX,e.srcEvent.clientY);if(i(e.target).css("display",n||""),s&&i(s).closest('[class~="'+S+'"]').length){var l=t.options.timeAxis.actualBaseTimeUnitWidth(),c=.5*l,m=t.options.timescaleElementForInput.getBoundingClientRect();r.select(t).transition().duration(500).tween("Up",(function(){var e=r.interpolate(l,c);return function(a){t._rescale(m.left+document.body.scrollLeft+t.options.timeAxis.timeAreaViewWidth()/2,e(a))}})),setTimeout((function(){t._selectCellRectAt(e.center.x,e.center.y,"touch"===e.pointerType)}),601)}else if(s&&i(s).closest('[class~="'+v+'"]').length){var d=t.options.timeAxis.timeAreaViewScrollOffset();if(t.options.smartNavigationVersion<2){var u=o.nDateHelper.toDate(t._ribbons[t.options.reversedRibbonOrder?t._ribbons.length-1:0]._cells[0].nextDateOrMoment);h=t.options.timeAxis.convertDateToX(u)}else h=d+t.options.timeAxis.timeAreaViewWidth();r.select(t).transition().duration(500).tween("ScrollLeft",(function(){var e=r.interpolateRound(d,h);return function(a){t.options.timeAxis.timeAreaViewScrollOffset(e(a))}}))[r.timeFormat?"on":"each"]("end",(function(){t.options.smartNavigationVersion<2&&t._timescaleD3ForRendering.selectAll("."+p).attr("transform","translate("+t.options.timeAxis.timeAreaViewWidth()+")")})),setTimeout((function(){t._selectCellRectAt(e.center.x,e.center.y,"touch"===e.pointerType)}),501)}else if(s&&i(s).closest('[class~="'+y+'"]').length){var h;d=t.options.timeAxis.timeAreaViewScrollOffset();if(t.options.smartNavigationVersion<2){u=o.nDateHelper.toDate(t._ribbons[t.options.reversedRibbonOrder?t._ribbons.length-1:0]._cells[0].previousDateOrMoment);h=t.options.timeAxis.convertDateToX(u)}else h=d-t.options.timeAxis.timeAreaViewWidth();r.select(t).transition().duration(500).tween("ScrollRight",(function(){var e=r.interpolateRound(d,h);return function(a){t.options.timeAxis.timeAreaViewScrollOffset(e(a))}}))[r.timeFormat?"on":"each"]("end",(function(){t.options.smartNavigationVersion<2&&t._timescaleD3ForRendering.selectAll("."+p).attr("transform","translate("+t.options.timeAxis.timeAreaViewWidth()+")")})),setTimeout((function(){t._selectCellRectAt(e.center.x,e.center.y,"touch"===e.pointerType)}),501)}else if(a){var _=t.options.timeAxis.actualBaseTimeUnitWidth(),g=o.nDateHelper.toDate(a.nwaf_gantt_cell_data.originalDateOrMoment);g.getTime()<t.options.timeAxis.start().getTime()&&g.setTime(t.options.timeAxis.start().getTime());var f=o.nDateHelper.toDate(a.nwaf_gantt_cell_data.nextDateOrMoment);f.getTime()>t.options.timeAxis.end().getTime()&&f.setTime(t.options.timeAxis.end().getTime());var T=x.calculateWorkingTime(t.options.timeAxis.collapseCalendar(),f,g)/1e3*t.options.timeAxis.actualWidthPerSecond(),D=t.options.timeAxis.timeAreaViewWidth()/T*_,w=t.options.timeAxis.convertDateToX(g)-t.options.timeAxis.timeAreaViewScrollOffset(),I=t.options.timeAxis.actualBaseTimeUnitWidth();m=t.options.timescaleElementForInput.getBoundingClientRect();t._rescale(m.left+document.body.scrollLeft,D);var b=t.options.timeAxis.actualBaseTimeUnitWidth();b!==I&&(b!==D?t.options.timeAxis.timeAreaViewScrollOffset(Math.max(0,t.options.timeAxis.convertDateToX(g)-w)):t.options.timeAxis.timeAreaViewScrollOffset(t.options.timeAxis.convertDateToX(g))),setTimeout((function(){t._selectCellRectAt(e.center.x,e.center.y,"touch"===e.pointerType),["mouse","pen"].includes(e.pointerType)&&t.options.smartNavigationVersion<2&&t._timescaleD3ForRendering.selectAll("."+p).transition().attr("transform","translate("+t.options.timeAxis.timeAreaViewWidth()+")")}),200)}}))}},render:function(e){var t=this,a=t.options.timeAxis.timeAreaViewWidth();if(a){var n=t.options.timeAxis.actualTimeAreaWidth(),s=t.options.timeAxis.timeAreaViewScrollOffset(),l=t.options.locale;l instanceof o.nLocale||(l=null);var c=l?l.applyDateFormat:function(e){return e()},h=l?l.params():o.nLocales.locale();t._renderRibbons(e),t._timescaleD3ForRendering.selectAll("g").remove(),t._timescaleD3ForRendering.selectAll("rect").remove();var f=0;t.options.labelRibbonVisible&&(f=10/t._ribbons.length,t._timescaleD3ForRendering.append("rect").attr("width",1e4).attr("height",t.options.height).attr("class",d));var I=t.options.height/t._ribbons.length-f,b=t._timescaleD3ForRendering.selectAll("g").data(t._ribbons).enter().append("g").attr("class",m).attr("transform",(function(e,a){return i(this).data("revIndex",t._ribbons.length-1-a),"translate(0, "+a*I+")"}));if(b.selectAll("g").data((function(e){return e.cells()})).enter().append("g").attr("class",(function(e){var a=r.select(this.parentNode).data()[0],i=e.dateOrMoment;return o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){var e=d+" ntimescale-ribbon-cell-"+a.getCellClassNameSuffix();if(a.type()<=O.Days){var t=o.nDateHelper.isMoment(i)?i.day():i.getDay();0!=t&&6!=t||(e+=" ntimescale-ribbon-cell-weekend")}return e}))})).each((function(e,i){var n=r.select(this),s=r.select(this.parentNode).data()[0],m=e.x;n.append("rect").attr("class",u).attr("width",e.width).attr("height",I).attr("x",m).each((function(e){this.nwaf_gantt_cell_data=e})),e.previousDateSkipped?(n.append("line").attr("class","ntimescale-ribbon-cell-nonworking-outer-tick").attr("x1",m+C).attr("y1",0).attr("x2",m+C).attr("y2",I),n.append("line").attr("class","ntimescale-ribbon-cell-nonworking-inner-tick").attr("x1",m+C).attr("y1",0).attr("x2",m+C).attr("y2",I)):n.append("line").attr("class","ntimescale-ribbon-cell-tick").attr("x1",m+C).attr("y1",t.options.relativeDateModeEnabled?t.options.reversedRibbonOrder?0:I/2+2:0).attr("x2",m+C).attr("y2",t.options.relativeDateModeEnabled&&t.options.reversedRibbonOrder?I/2-2:I);var d=e.width>=a;t.options.relativeDateModeEnabled&&0===i&&!d||n.append("text").attr("x",m).attr("y",t.options.relativeDateModeEnabled?t.options.reversedRibbonOrder?I/2+5:I/2-4:I/2).attr("dy",".3em").attr("dx",t.options.relativeDateModeEnabled?0:5).style("text-anchor",t.options.relativeDateModeEnabled?"middle":"start").text((function(){return o.nDateHelper.applyTimeZone(t.options.timeZone,(function(){var a=o.nDateHelper.isMoment(e.dateOrMoment);if(t.options.relativeDateModeEnabled){var i=o.nDateHelper.dateToRelativeDateTimeString(e.dateOrMoment),n=-1===s.textFormat().indexOf(":"),m="-"===i[0]?"-":" ",d=i.split(":");return s.textFormat().replace("M",d[0]+(n?"M":"")).replace("d",(n?m:"")+d[1]+(n?"d":"")).replace("h",(n?m:"")+d[2]+(n?"h":"")).replace("m",(n?m:"")+d[3]+(n?"m":"")).replace("s",(n?m:"")+d[4]+(n?"s":""))}if(s.type()===O.Quarters){var u=a?e.dateOrMoment.quarter():Math.floor(e.dateOrMoment.getMonth()/3)+1;return s.textFormat()+" "+u}if(s.type()===O.Weeks){var p,_=h.weekNumbering,g=o.nDateHelper.toDate(e.dateOrMoment),f=new Date(g.getFullYear(),0);if("USA"===_){var T=(7+f.getDay()-h.firstDay)%7;p=Math.floor(Math.floor((g.getTime()-6e4*g.getTimezoneOffset()-(f.getTime()-6e4*f.getTimezoneOffset()))/864e5+.001+T)/7)+1}else{var D=new Date(g.getFullYear(),0,4);if(T=(7+D.getDay()-h.firstDay)%7,p=Math.floor(Math.floor((g.getTime()-6e4*g.getTimezoneOffset()-(D.getTime()-6e4*D.getTimezoneOffset()))/864e5+.001+T)/7)+1,11===g.getMonth()&&g.getDate()>=29){var v=(7+new Date(g.getFullYear()+1,0,4).getDay()-h.firstDay)%7;v>3&&g.getDate()>=31-v%4&&(p=1)}else if(0===g.getMonth()&&g.getDate()<=3-T&&T<3){var y=new Date(g.getFullYear()-1,0,4),S=(7+y.getDay()-h.firstDay)%7;p=Math.floor(Math.floor((g.getTime()-6e4*g.getTimezoneOffset()-(y.getTime()-6e4*y.getTimezoneOffset()))/864e5+.001+S)/7)+1}}var w=r.format("02d")(p),I=s.textFormat().replace("%W",w).replace("%U",w);return c.call(l,(function(){return(r.timeFormat?r.timeFormat:r.time.format)(I)(g)}))}return a&&t.options.formattingByMoment?c.call(l,(function(){return e.dateOrMoment.format(s.textFormatForMomentJS())})):c.call(l,(function(){return s.textFormatForD3()(o.nDateHelper.toDisplayDate(e.dateOrMoment))}))}))}))})),this._mouseAndSmartNavigationEnabled){var A=r.select(r.timeFormat?b.nodes().pop():b[0][b[0].length-1]);if(t.options.smartNavigationVersion<2){var E=A.append("g").attr("class",p+" "+v+" "+o.nEventDispatcher.TAP_EVENT_CLASS_NAME).attr("transform","translate("+(a+11+3)+")");E.append("path").attr("d","M0,1h-4l-7,7v"+(t.options.height/2-16)+"l7,7h4L0,1").attr("transform","translate(0,"+(I-t.options.height)+")"),E.append("path").attr("class",T).attr("d","M0,0 V12 L6,6 L0,0").attr("transform","translate(-8, "+(I-3*t.options.height/4-6)+")")}else if(t.options.scrollingByButtonsEnabled){var R=14,x=-I*(t._ribbons.length-1)+R;(E=A.append("g").attr("class",p+" "+_+" "+v+" "+o.nEventDispatcher.TAP_EVENT_CLASS_NAME).attr("transform","translate("+(a-1)+","+(+x+1)+")").attr("visibility",s+1<=n-a?null:"hidden")).append("path").attr("transform","rotate(90)").attr("class",g).attr("d","M-"+R+",0 a1,1 0 0,0 "+2*R+",0"),E.append("path").attr("class",T+" "+D).attr("d","M12.970992,0L21.524992,0 11.658996,12.152008 8.5930022,15.931 8.6660002,16.020996 11.772003,19.846008 21.636,32 13.082,32 4.3889922,21.290009 4.3150023,21.200989 4.2769927,21.247009 0,15.977997 4.2769927,10.708008z").attr("transform","translate(-2, 6) scale(0.4) rotate(180)")}if(t.options.smartNavigationVersion<2)(E=A.append("g").attr("class",p+" "+y+" "+o.nEventDispatcher.TAP_EVENT_CLASS_NAME).attr("transform","translate("+(a+11+3)+")")).append("path").attr("d","M0,1h-4l-7,7v"+(t.options.height/2-16)+"l7,7h4L0,1").attr("transform","translate(0,"+(I-t.options.height/2)+")"),E.append("path").attr("class",T).attr("d","M0,6L6,12 V0 L0,6").attr("transform","translate(-9, "+(I-t.options.height/4-6)+")");else if(t.options.scrollingByButtonsEnabled){R=14,x=-I*(t._ribbons.length-1)+R;(E=A.append("g").attr("class",p+" "+_+" "+y+" "+o.nEventDispatcher.TAP_EVENT_CLASS_NAME).attr("transform","translate(1,"+(+x+1)+")").attr("visibility",s<1?"hidden":null)).append("path").attr("transform","rotate(-90)").attr("class",g).attr("d","M-"+R+",0 a1,1 0 0,0 "+2*R+",0"),E.append("path").attr("class",T+" "+D).attr("d","M12.970992,0L21.524992,0 11.658996,12.152008 8.5930022,15.931 8.6660002,16.020996 11.772003,19.846008 21.636,32 13.082,32 4.3889922,21.290009 4.3150023,21.200989 4.2769927,21.247009 0,15.977997 4.2769927,10.708008z").attr("transform","translate(2, -6) scale(0.4)")}if(t.options.smartNavigationVersion>1&&t.options.rescalingEnabled){var B=r.select(r.timeFormat?b.nodes()[0]:b[0][0]).append("g").attr("transform","translate("+a/2+")").attr("class",S+" "+o.nEventDispatcher.TAP_EVENT_CLASS_NAME).attr("visibility",s+1<=n-a||s>=1?null:"hidden");R=18;B.append("path").attr("transform","translate(0, 1)").attr("class",w).attr("d","M-"+R+",0 a1,1 0 0,0 "+2*R+",0"),B.append("path").attr("class","ntimescale-up-handle-symbol").attr("d","M16.261993,0L16.359985,0.065002445 16.454987,0 16.48999,0.15399169 32,11.294986 32,19.745 16.359985,8.5149861 0,19.745 0,11.294986 16.22699,0.15399169z").attr("transform","translate(-8, 3) scale(0.5)")}this._mouseIsInside&&t.options.smartNavigationVersion<2&&this._timescaleD3ForRendering.selectAll("."+p).attr("transform","translate("+this.options.timeAxis.timeAreaViewWidth()+")")}}return this},getMinimumUnitWidthForTimeUnit:function(e){return this._minimumUnitWidths[(this.options.relativeDateModeEnabled?N:k)[e]]}});var W=i.netronic.nTimescaleWidget;W.RibbonType=O,W.TimescaleType=M,e.exports=W},718:(e,t,a)=>{a(7658);var i=a(5549),r=a(9990),n=a(3571),o=a(3429),s={Seconds:0,Seconds5:1,Seconds10:2,Seconds15:3,Seconds30:4,Minutes:5,Minutes5:6,Minutes10:7,Minutes15:8,Minutes30:9,Minutes30Small:10,Hours:11,Hours2:12,Hours3:13,Hours6:14,Hours12:15,Hours12Small:16,Days:17,Weeks:18,Months:19,Quarters:20,Years:21,RelSeconds:22,RelSeconds5:23,RelSeconds10:24,RelSeconds15:25,RelSeconds30:26,RelSeconds30Small:27,RelMinutes:28,RelMinutes5:29,RelMinutes10:30,RelMinutes15:31,RelMinutes30:32,RelMinutes30Small:33,RelHours:34,RelHours2:35,RelHours3:36,RelHours6:37,RelHours12:38,RelDays:39,RelWeeks:40,RelMonths:41,RelQuarters:42,RelYears:43},l=function(e,t,a){"use strict";this._cells=[],this._type=t,this._relativeDateModeEnabled=t>=22&&t<=43,this._textFormat=a,n.nDateHelper.isMomentJSCurrentlyUsed?(this._textFormatForMomentJS=n.nDateHelper.d3TimeFormatToMomentFormat(a),this._textFormatForD3=(r.timeFormat?r.utcFormat:r.time.format.utc)(a)):this._textFormatForD3=(r.timeFormat?r.timeFormat:r.time.format)(a),this.render(e)},c={};c[s.Seconds]={cellClassNameSuffix:"second",modulus:1,unit:"s"},c[s.Seconds5]={cellClassNameSuffix:"second5",modulus:5,unit:"s"},c[s.Seconds10]={cellClassNameSuffix:"second10",modulus:10,unit:"s"},c[s.Seconds15]={cellClassNameSuffix:"second15",modulus:15,unit:"s"},c[s.Seconds30]={cellClassNameSuffix:"second30",modulus:30,unit:"s"},c[s.Minutes]={cellClassNameSuffix:"minute",modulus:1,unit:"m"},c[s.Minutes5]={cellClassNameSuffix:"minute5",modulus:5,unit:"m"},c[s.Minutes10]={cellClassNameSuffix:"minute10",modulus:10,unit:"m"},c[s.Minutes15]={cellClassNameSuffix:"minute15",modulus:15,unit:"m"},c[s.Minutes30]={cellClassNameSuffix:"minute30",modulus:30,unit:"m"},c[s.Minutes30Small]={cellClassNameSuffix:"minute30small",modulus:30,unit:"m"},c[s.Hours]={cellClassNameSuffix:"hour",modulus:1,unit:"h"},c[s.Hours2]={cellClassNameSuffix:"hour2",modulus:2,unit:"h"},c[s.Hours3]={cellClassNameSuffix:"hour3",modulus:3,unit:"h"},c[s.Hours6]={cellClassNameSuffix:"hour6",modulus:6,unit:"h"},c[s.Hours12]={cellClassNameSuffix:"hour12",modulus:12,unit:"h"},c[s.Hours12Small]={cellClassNameSuffix:"hour12small",modulus:12,unit:"h"},c[s.Days]={cellClassNameSuffix:"day",modulus:1,unit:"d"},c[s.Weeks]={cellClassNameSuffix:"week",modulus:1,unit:"w"},c[s.Months]={cellClassNameSuffix:"month",modulus:1,unit:"M"},c[s.Quarters]={cellClassNameSuffix:"quarter",modulus:1,unit:"Q"},c[s.Years]={cellClassNameSuffix:"year",modulus:1,unit:"y"},c[s.RelSeconds]={cellClassNameSuffix:"second",modulus:1,unit:"s"},c[s.RelSeconds5]={cellClassNameSuffix:"second5",modulus:5,unit:"s"},c[s.RelSeconds10]={cellClassNameSuffix:"second10",modulus:10,unit:"s"},c[s.RelSeconds15]={cellClassNameSuffix:"second15",modulus:15,unit:"s"},c[s.RelSeconds30]={cellClassNameSuffix:"second30",modulus:30,unit:"s"},c[s.RelMinutes]={cellClassNameSuffix:"minute",modulus:1,unit:"m"},c[s.RelMinutes5]={cellClassNameSuffix:"minute5",modulus:5,unit:"m"},c[s.RelMinutes10]={cellClassNameSuffix:"minute10",modulus:10,unit:"m"},c[s.RelMinutes15]={cellClassNameSuffix:"minute15",modulus:15,unit:"m"},c[s.RelMinutes30]={cellClassNameSuffix:"minute30",modulus:30,unit:"m"},c[s.RelHours]={cellClassNameSuffix:"hour",modulus:1,unit:"h"},c[s.RelHours2]={cellClassNameSuffix:"hour2",modulus:2,unit:"h"},c[s.RelHours3]={cellClassNameSuffix:"hour3",modulus:3,unit:"h"},c[s.RelHours6]={cellClassNameSuffix:"hour6",modulus:6,unit:"h"},c[s.RelHours12]={cellClassNameSuffix:"hour12",modulus:12,unit:"h"},c[s.RelDays]={cellClassNameSuffix:"day",modulus:1,unit:"d"},c[s.RelWeeks]={cellClassNameSuffix:"week",modulus:5,unit:"d"},c[s.RelMonths]={cellClassNameSuffix:"month",modulus:30,unit:"d"},c[s.RelQuarters]={cellClassNameSuffix:"quarter",modulus:90,unit:"d"},c[s.RelYears]={cellClassNameSuffix:"year",modulus:270,unit:"d"},i.extend(l.prototype,{normalizeDateOrMoment:function(e){"use strict";var t=c[this._type];return n.nDateHelper.normalizeDateOrMoment(e,t.unit,t.modulus,this._relativeDateModeEnabled)},_roundDateOrMoment:function(e){"use strict";var t=c[this._type];return n.nDateHelper.roundDateOrMoment(e,t.unit,this._relativeDateModeEnabled)},addTimeUnit:function(e){"use strict";var t=c[this._type];return n.nDateHelper.addToDateOrMoment(e,t.unit,t.modulus,this._relativeDateModeEnabled)},render:function(e){"use strict";var t,a,i=this,r=e.collapseCalendar()&&!e.actualTimeRangeIncludesWorkingTime(),l=Math.max(e.timeAreaViewScrollOffset(),0),m=0,d=e.timeAreaViewWidth()-1,u=n.nDateHelper.dateToMomentIfNecessary(e.convertXToDate(l)),h=n.nDateHelper.createDateOrMoment(u),p=n.nDateHelper.dateToMomentIfNecessary(e.convertXToDate(l+d)),_=n.nDateHelper.dateToMomentIfNecessary(e.convertXToDate(Math.max(0,l-1)));_=i._roundDateOrMoment(_),u=i.normalizeDateOrMoment(u),i._cells=[];for(var g=!0,f=!1,T=!1;u.valueOf()<=p.valueOf();){var D=i.addTimeUnit(u);D=i.normalizeDateOrMoment(D);var v=!1;if(i._type===s.Weeks&&"USA"===n.nLocales.locale().weekNumbering){var y=n.nDateHelper.isMomentJSCurrentlyUsed?u.year():u.getFullYear();(n.nDateHelper.isMomentJSCurrentlyUsed?D.year():D.getFullYear())>y&&(D=n.nDateHelper.roundDateOrMoment(D,"y"),v=!0)}if((t=e.convertDateToX(n.nDateHelper.toDate(D))-l)>d&&(t=d),a=u,t-m<=0)(g||0===t)&&(h=n.nDateHelper.createDateOrMoment(D)),g=!1,u=D,f=!0;else{g=!1;var S=r?u:o.addWorkingTime(e.collapseCalendar(),n.nDateHelper.toDate(u),0),w=S?n.nDateHelper.dateToMomentIfNecessary(S):u;f||(T?(i._type=s.Days,w=i._roundDateOrMoment(w),i._type=s.Weeks):w=i._roundDateOrMoment(w),w.valueOf()!==u.valueOf()&&(f=!0));var I={dateOrMoment:w,x:m,width:Math.max(t-m+1,0),originalDateOrMoment:a,nextDateOrMoment:D,previousDateOrMoment:_,previousDateSkipped:f,ribbonType:i._type,modulus:c[i._type].modulus};i._cells.push(I),_=u,u=D,m=t,f=!1,T=v}}i._cells.length&&!r&&(S=o.addWorkingTime(e.collapseCalendar(),n.nDateHelper.toDate(h),0),i._cells[0].dateOrMoment=S?n.nDateHelper.dateToMomentIfNecessary(S):h)},_getCurrentTypicalCellWidth:function(e){"use strict";var t=e.timeAreaViewScrollOffset(),a=this.normalizeDateOrMoment(n.nDateHelper.dateToMomentIfNecessary(e.convertXToDate(t)));return this.addTimeUnit(a).valueOf()-a.valueOf()},_getDates:function(e){"use strict";var t=this,a=e.timeAreaViewScrollOffset(),i=n.nDateHelper.dateToMomentIfNecessary(e.convertXToDate(a));i=t.normalizeDateOrMoment(i);for(var r=e.convertXToDate(a+e.timeAreaViewWidth()),o=[];i.valueOf()<r;)o.push(n.nDateHelper.toDate(i)),i=t.addTimeUnit(i),i=t.normalizeDateOrMoment(i);return o},type:function(){return this._type},textFormat:function(){return this._textFormat},textFormatForMomentJS:function(){return this._textFormatForMomentJS},textFormatForD3:function(){return this._textFormatForD3},cells:function(){"use strict";return this._cells},getCellClassNameSuffix:function(){return c[this._type].cellClassNameSuffix}}),l.RibbonType=s,e.exports=l},6477:(e,t,a)=>{var i=a(5549),r=a(5066),n=r.NGANTT_BAR_RECT_CLASS,o=r.NGANTT_BAR_RECT_CAL_CLASS,s=r.NGANTT_BAR_PATH_CAL_CLASS,l=r.NGANTT_BAR_OUTLINE_CLASS,c=r.NGANTT_BAR_PATH_PATTERN_CLASS,m=r.BarType,d=r.ElemType,u=r.TimeType,h=a(3429),p=a(9579),_=function(){};i.extend(_.prototype,{createBar:function(e){e.respectingCalendar?(e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+o,{elemType:d.BarRectangle,shape:e.barShapeId})),e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+s,{elemType:d.BarRectangle,shape:e.barShapeId})),p.separateBarShapeOutlinesEnabled&&(e.barD3.selectAll("path."+n).style("stroke-width",0),e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+l,{elemType:d.BarRectangle,shape:e.barShapeId})).style("fill","transparent"))):e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+s,{elemType:d.BarRectangle,shape:e.barShapeId})),null!=e.dataItem.item.fillPatternType&&e.barD3.append("path").attr("class",e.enrichClassFunc(n+" "+c,{elemType:d.BarRectangle,shape:e.barShapeId})).attr("mask",`url(#ngantt-pattern-mask${e.uniqueID}-${e.dataItem.item.fillPatternType})`)},positionBar:function(e){if(e.barD3){var t=!e.calendar||e.calendar.determineTimeType(e.timeRange.start)===u.WorkingTime,a=e.convertXToLimitedX;if(e.calendar){for(var i="M0,"+e.barHeight,r=i,n=h.calculateWorkingTime(e.calendar,e.timeRange.end,e.timeRange.start),m=e.timeRange.start;null!==(m=e.calendar.findStartOfNextTimeTypeChange(m))&&m.getTime()<e.timeRange.end.getTime();){t=!t;var d=Math.max(a(e.timeAxis.convertDateToX(m))-a(e.timeAxis.convertDateToX(e.timeRange.start))-1,0),_=(1-h.calculateWorkingTime(e.calendar,m,e.timeRange.start)/n)*e.barHeight;i=i+"L"+d+","+_,r=r+"L"+d+","+(t?e.barHeight:_)+"V"+(t?_:e.barHeight)}i+="L"+e.width+",0V"+e.barHeight+"H0",e.barD3.select("."+o).attr("d",i),e.barD3.select("."+s).attr("d",r+"L"+e.width+","+(t?"0":e.barHeight)+"V"+e.barHeight+"H0"),p.separateBarShapeOutlinesEnabled&&e.barD3.select("path."+l).attr("d",e.dataItem.item.start?i:"")}else e.barD3.select("."+s).attr("d","M0,"+e.barHeight+"L"+e.width+",0V"+e.barHeight+"H0");null!=e.dataItem.item.fillPatternType&&e.barD3.select("path."+c).attr("d",e.dataItem.item.start?i:"")}e.worldViewVisible&&(e.worldViewPathData=[{x:0,y:e.barHeight},{x:e.worldViewBarWidth,y:0},{x:e.worldViewBarWidth,y:e.barHeight},{x:0,y:e.barHeight}])},checkForBarType:function(e){return e===m.StartEnd}}),e.exports=_},4966:(e,t,a)=>{var i=a(5066);if(Object.keys(i).forEach((function(e){t[e]=i[e]})),t.nCalendar=a(5709),t.nCalendarHelper=a(3429),t.nTimeAxis=a(4349),t.nTimescaleWidget=a(7691),t.nTimescaleWidgetRibbon=a(718),t.nLinkRouter=a(2691),t.nBarDragging=a(5008),t.nGanttWidget=a(7142),t.nGanttSynchronizerWidget=a(2672),t.nShapeHelper=a(9579),t.nBarFactory=a(6599),t.nArrowBarShape=a(8404),t.nArrowLeftShape=a(5699),t.nArrowRightShape=a(5698),t.nDiamondShape=a(4430),t.nDownwardRampBarShape=a(445),t.nRectangleBarShape=a(8791),t.nRectangleWithLeftTopBevelBarShape=a(670),t.nSummaryBarShape=a(9316),t.nUpwardRampBarShape=a(6477),self){var r=self.netronic=self.netronic||{};Object.keys(t).forEach((function(e){r[e]=t[e]}))}},9662:(e,t,a)=>{var i=a(614),r=a(6330),n=TypeError;e.exports=function(e){if(i(e))return e;throw n(r(e)+" is not a function")}},6077:(e,t,a)=>{var i=a(614),r=String,n=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw n("Can't set "+r(e)+" as a prototype")}},1223:(e,t,a)=>{var i=a(5112),r=a(30),n=a(3070).f,o=i("unscopables"),s=Array.prototype;null==s[o]&&n(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},5787:(e,t,a)=>{var i=a(7976),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},9670:(e,t,a)=>{var i=a(111),r=String,n=TypeError;e.exports=function(e){if(i(e))return e;throw n(r(e)+" is not an object")}},1318:(e,t,a)=>{var i=a(5656),r=a(1400),n=a(6244),o=function(e){return function(t,a,o){var s,l=i(t),c=n(l),m=r(o,c);if(e&&a!=a){for(;c>m;)if((s=l[m++])!=s)return!0}else for(;c>m;m++)if((e||m in l)&&l[m]===a)return e||m||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},3658:(e,t,a)=>{"use strict";var i=a(9781),r=a(3157),n=TypeError,o=Object.getOwnPropertyDescriptor,s=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(r(e)&&!o(e,"length").writable)throw n("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:(e,t,a)=>{var i=a(1702),r=i({}.toString),n=i("".slice);e.exports=function(e){return n(r(e),8,-1)}},648:(e,t,a)=>{var i=a(1694),r=a(614),n=a(4326),o=a(5112)("toStringTag"),s=Object,l="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,a,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?a:l?n(t):"Object"==(i=n(t))&&r(t.callee)?"Arguments":i}},9920:(e,t,a)=>{var i=a(2597),r=a(3887),n=a(1236),o=a(3070);e.exports=function(e,t,a){for(var s=r(t),l=o.f,c=n.f,m=0;m<s.length;m++){var d=s[m];i(e,d)||a&&i(a,d)||l(e,d,c(t,d))}}},8880:(e,t,a)=>{var i=a(9781),r=a(3070),n=a(9114);e.exports=i?function(e,t,a){return r.f(e,t,n(1,a))}:function(e,t,a){return e[t]=a,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:(e,t,a)=>{var i=a(614),r=a(3070),n=a(6339),o=a(3072);e.exports=function(e,t,a,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(i(a)&&n(a,c,s),s.global)l?e[t]=a:o(t,a);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=a:r.f(e,t,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:(e,t,a)=>{var i=a(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(a){i[e]=t}return t}},5117:(e,t,a)=>{"use strict";var i=a(6330),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},9781:(e,t,a)=>{var i=a(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,a=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:a}},317:(e,t,a)=>{var i=a(7854),r=a(111),n=i.document,o=r(n)&&r(n.createElement);e.exports=function(e){return o?n.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:(e,t,a)=>{var i=a(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,a)=>{var i,r,n=a(7854),o=a(8113),s=n.process,l=n.Deno,c=s&&s.versions||l&&l.version,m=c&&c.v8;m&&(r=(i=m.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(e,t,a)=>{var i=a(1702),r=Error,n=i("".replace),o=String(r("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=n(e,s,"");return e}},2914:(e,t,a)=>{var i=a(7293),r=a(9114);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},2109:(e,t,a)=>{var i=a(7854),r=a(1236).f,n=a(8880),o=a(8052),s=a(3072),l=a(9920),c=a(4705);e.exports=function(e,t){var a,m,d,u,h,p=e.target,_=e.global,g=e.stat;if(a=_?i:g?i[p]||s(p,{}):(i[p]||{}).prototype)for(m in t){if(u=t[m],d=e.dontCallGetSet?(h=r(a,m))&&h.value:a[m],!c(_?m:p+(g?".":"#")+m,e.forced)&&void 0!==d){if(typeof u==typeof d)continue;l(u,d)}(e.sham||d&&d.sham)&&n(u,"sham",!0),o(a,m,u,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,a)=>{var i=a(4374),r=Function.prototype,n=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(n):function(){return o.apply(n,arguments)})},4374:(e,t,a)=>{var i=a(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,a)=>{var i=a(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:(e,t,a)=>{var i=a(9781),r=a(2597),n=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,s=r(n,"name"),l=s&&"something"===function(){}.name,c=s&&(!i||i&&o(n,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},1702:(e,t,a)=>{var i=a(4374),r=Function.prototype,n=r.call,o=i&&r.bind.bind(n,n);e.exports=i?o:function(e){return function(){return n.apply(e,arguments)}}},5005:(e,t,a)=>{var i=a(7854),r=a(614),n=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(i[e]):i[e]&&i[e][t]}},8173:(e,t,a)=>{var i=a(9662),r=a(8554);e.exports=function(e,t){var a=e[t];return r(a)?void 0:i(a)}},7854:(e,t,a)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof a.g&&a.g)||function(){return this}()||Function("return this")()},2597:(e,t,a)=>{var i=a(1702),r=a(7908),n=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(r(e),t)}},3501:e=>{e.exports={}},490:(e,t,a)=>{var i=a(5005);e.exports=i("document","documentElement")},4664:(e,t,a)=>{var i=a(9781),r=a(7293),n=a(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,a)=>{var i=a(1702),r=a(7293),n=a(4326),o=Object,s=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?s(e,""):o(e)}:o},9587:(e,t,a)=>{var i=a(614),r=a(111),n=a(7674);e.exports=function(e,t,a){var o,s;return n&&i(o=t.constructor)&&o!==a&&r(s=o.prototype)&&s!==a.prototype&&n(e,s),e}},2788:(e,t,a)=>{var i=a(1702),r=a(614),n=a(5465),o=i(Function.toString);r(n.inspectSource)||(n.inspectSource=function(e){return o(e)}),e.exports=n.inspectSource},8340:(e,t,a)=>{var i=a(111),r=a(8880);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},9909:(e,t,a)=>{var i,r,n,o=a(4811),s=a(7854),l=a(111),c=a(8880),m=a(2597),d=a(5465),u=a(6200),h=a(3501),p="Object already initialized",_=s.TypeError,g=s.WeakMap;if(o||d.state){var f=d.state||(d.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,i=function(e,t){if(f.has(e))throw _(p);return t.facade=e,f.set(e,t),t},r=function(e){return f.get(e)||{}},n=function(e){return f.has(e)}}else{var T=u("state");h[T]=!0,i=function(e,t){if(m(e,T))throw _(p);return t.facade=e,c(e,T,t),t},r=function(e){return m(e,T)?e[T]:{}},n=function(e){return m(e,T)}}e.exports={set:i,get:r,has:n,enforce:function(e){return n(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var a;if(!l(t)||(a=r(t)).type!==e)throw _("Incompatible receiver, "+e+" required");return a}}}},3157:(e,t,a)=>{var i=a(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},614:(e,t,a)=>{var i=a(4154),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},4705:(e,t,a)=>{var i=a(7293),r=a(614),n=/#|\.prototype\./,o=function(e,t){var a=l[s(e)];return a==m||a!=c&&(r(t)?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(n,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",m=o.POLYFILL="P";e.exports=o},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,a)=>{var i=a(614),r=a(4154),n=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===n}:function(e){return"object"==typeof e?null!==e:i(e)}},1913:e=>{e.exports=!1},2190:(e,t,a)=>{var i=a(5005),r=a(614),n=a(7976),o=a(3307),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&n(t.prototype,s(e))}},6244:(e,t,a)=>{var i=a(7466);e.exports=function(e){return i(e.length)}},6339:(e,t,a)=>{var i=a(7293),r=a(614),n=a(2597),o=a(9781),s=a(6530).CONFIGURABLE,l=a(2788),c=a(9909),m=c.enforce,d=c.get,u=Object.defineProperty,h=o&&!i((function(){return 8!==u((function(){}),"length",{value:8}).length})),p=String(String).split("String"),_=e.exports=function(e,t,a){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(t="get "+t),a&&a.setter&&(t="set "+t),(!n(e,"name")||s&&e.name!==t)&&(o?u(e,"name",{value:t,configurable:!0}):e.name=t),h&&a&&n(a,"arity")&&e.length!==a.arity&&u(e,"length",{value:a.arity});try{a&&n(a,"constructor")&&a.constructor?o&&u(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=m(e);return n(i,"source")||(i.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return r(this)&&d(this).source||l(this)}),"toString")},4758:e=>{var t=Math.ceil,a=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?a:t)(i)}},6277:(e,t,a)=>{var i=a(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},30:(e,t,a)=>{var i,r=a(9670),n=a(6048),o=a(748),s=a(3501),l=a(490),c=a(317),m=a(6200),d="prototype",u="script",h=m("IE_PROTO"),p=function(){},_=function(e){return"<"+u+">"+e+"</"+u+">"},g=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,a;f="undefined"!=typeof document?document.domain&&i?g(i):(t=c("iframe"),a="java"+u+":",t.style.display="none",l.appendChild(t),t.src=String(a),(e=t.contentWindow.document).open(),e.write(_("document.F=Object")),e.close(),e.F):g(i);for(var r=o.length;r--;)delete f[d][o[r]];return f()};s[h]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(p[d]=r(e),a=new p,p[d]=null,a[h]=e):a=f(),void 0===t?a:n.f(a,t)}},6048:(e,t,a)=>{var i=a(9781),r=a(3353),n=a(3070),o=a(9670),s=a(5656),l=a(1956);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);for(var a,i=s(t),r=l(t),c=r.length,m=0;c>m;)n.f(e,a=r[m++],i[a]);return e}},3070:(e,t,a)=>{var i=a(9781),r=a(4664),n=a(3353),o=a(9670),s=a(4948),l=TypeError,c=Object.defineProperty,m=Object.getOwnPropertyDescriptor,d="enumerable",u="configurable",h="writable";t.f=i?n?function(e,t,a){if(o(e),t=s(t),o(a),"function"==typeof e&&"prototype"===t&&"value"in a&&h in a&&!a[h]){var i=m(e,t);i&&i[h]&&(e[t]=a.value,a={configurable:u in a?a[u]:i[u],enumerable:d in a?a[d]:i[d],writable:!1})}return c(e,t,a)}:c:function(e,t,a){if(o(e),t=s(t),o(a),r)try{return c(e,t,a)}catch(e){}if("get"in a||"set"in a)throw l("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},1236:(e,t,a)=>{var i=a(9781),r=a(6916),n=a(5296),o=a(9114),s=a(5656),l=a(4948),c=a(2597),m=a(4664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),m)try{return d(e,t)}catch(e){}if(c(e,t))return o(!r(n.f,e,t),e[t])}},8006:(e,t,a)=>{var i=a(6324),r=a(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},7976:(e,t,a)=>{var i=a(1702);e.exports=i({}.isPrototypeOf)},6324:(e,t,a)=>{var i=a(1702),r=a(2597),n=a(5656),o=a(1318).indexOf,s=a(3501),l=i([].push);e.exports=function(e,t){var a,i=n(e),c=0,m=[];for(a in i)!r(s,a)&&r(i,a)&&l(m,a);for(;t.length>c;)r(i,a=t[c++])&&(~o(m,a)||l(m,a));return m}},1956:(e,t,a)=>{var i=a(6324),r=a(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:(e,t)=>{"use strict";var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!a.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:a},7674:(e,t,a)=>{var i=a(1702),r=a(9670),n=a(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(a,[]),t=a instanceof Array}catch(e){}return function(a,i){return r(a),n(i),t?e(a,i):a.__proto__=i,a}}():void 0)},2140:(e,t,a)=>{var i=a(6916),r=a(614),n=a(111),o=TypeError;e.exports=function(e,t){var a,s;if("string"===t&&r(a=e.toString)&&!n(s=i(a,e)))return s;if(r(a=e.valueOf)&&!n(s=i(a,e)))return s;if("string"!==t&&r(a=e.toString)&&!n(s=i(a,e)))return s;throw o("Can't convert object to primitive value")}},3887:(e,t,a)=>{var i=a(5005),r=a(1702),n=a(8006),o=a(5181),s=a(9670),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=n.f(s(e)),a=o.f;return a?l(t,a(e)):t}},2626:(e,t,a)=>{var i=a(3070).f;e.exports=function(e,t,a){a in e||i(e,a,{configurable:!0,get:function(){return t[a]},set:function(e){t[a]=e}})}},4488:(e,t,a)=>{var i=a(8554),r=TypeError;e.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},6200:(e,t,a)=>{var i=a(2309),r=a(9711),n=i("keys");e.exports=function(e){return n[e]||(n[e]=r(e))}},5465:(e,t,a)=>{var i=a(7854),r=a(3072),n="__core-js_shared__",o=i[n]||r(n,{});e.exports=o},2309:(e,t,a)=>{var i=a(1913),r=a(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,a)=>{var i=a(7392),r=a(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},1400:(e,t,a)=>{var i=a(9303),r=Math.max,n=Math.min;e.exports=function(e,t){var a=i(e);return a<0?r(a+t,0):n(a,t)}},5656:(e,t,a)=>{var i=a(8361),r=a(4488);e.exports=function(e){return i(r(e))}},9303:(e,t,a)=>{var i=a(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:(e,t,a)=>{var i=a(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:(e,t,a)=>{var i=a(4488),r=Object;e.exports=function(e){return r(i(e))}},7593:(e,t,a)=>{var i=a(6916),r=a(111),n=a(2190),o=a(8173),s=a(2140),l=a(5112),c=TypeError,m=l("toPrimitive");e.exports=function(e,t){if(!r(e)||n(e))return e;var a,l=o(e,m);if(l){if(void 0===t&&(t="default"),a=i(l,e,t),!r(a)||n(a))return a;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,a)=>{var i=a(7593),r=a(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:(e,t,a)=>{var i={};i[a(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:(e,t,a)=>{var i=a(648),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,a)=>{var i=a(1702),r=0,n=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+n,36)}},3307:(e,t,a)=>{var i=a(6293);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,a)=>{var i=a(9781),r=a(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,a)=>{var i=a(7854),r=a(614),n=i.WeakMap;e.exports=r(n)&&/native code/.test(String(n))},5112:(e,t,a)=>{var i=a(7854),r=a(2309),n=a(2597),o=a(9711),s=a(6293),l=a(3307),c=r("wks"),m=i.Symbol,d=m&&m.for,u=l?m:m&&m.withoutSetter||o;e.exports=function(e){if(!n(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&n(m,e)?c[e]=m[e]:c[e]=l&&d?d(t):u(t)}return c[e]}},9191:(e,t,a)=>{"use strict";var i=a(5005),r=a(2597),n=a(8880),o=a(7976),s=a(7674),l=a(9920),c=a(2626),m=a(9587),d=a(6277),u=a(8340),h=a(1060),p=a(2914),_=a(9781),g=a(1913);e.exports=function(e,t,a,f){var T="stackTraceLimit",D=f?2:1,v=e.split("."),y=v[v.length-1],S=i.apply(null,v);if(S){var w=S.prototype;if(!g&&r(w,"cause")&&delete w.cause,!a)return S;var I=i("Error"),b=t((function(e,t){var a=d(f?t:e,void 0),i=f?new S(e):new S;return void 0!==a&&n(i,"message",a),p&&n(i,"stack",h(i.stack,2)),this&&o(w,this)&&m(i,this,b),arguments.length>D&&u(i,arguments[D]),i}));if(b.prototype=w,"Error"!==y?s?s(b,I):l(b,I,{name:!0}):_&&T in S&&(c(b,S,T),c(b,S,"prepareStackTrace")),l(b,S),!g)try{w.name!==y&&n(w,"name",y),w.constructor=b}catch(e){}return b}}},6699:(e,t,a)=>{"use strict";var i=a(2109),r=a(1318).includes,n=a(7293),o=a(1223);i({target:"Array",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},7658:(e,t,a)=>{"use strict";var i=a(2109),r=a(7908),n=a(6244),o=a(3658),s=a(7207),l=a(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(e){var t=r(this),a=n(t),i=arguments.length;s(a+i);for(var l=0;l<i;l++)t[a]=arguments[l],a++;return o(t,a),a}})},541:(e,t,a)=>{"use strict";var i=a(2109),r=a(7908),n=a(6244),o=a(3658),s=a(5117),l=a(7207),c=1!==[].unshift(0),m=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:c||m},{unshift:function(e){var t=r(this),a=n(t),i=arguments.length;if(i){l(a+i);for(var c=a;c--;){var m=c+i;c in t?t[m]=t[c]:s(t,m)}for(var d=0;d<i;d++)t[d]=arguments[d]}return o(t,a+i)}})},1703:(e,t,a)=>{var i=a(2109),r=a(7854),n=a(2104),o=a(9191),s="WebAssembly",l=r[s],c=7!==Error("e",{cause:7}).cause,m=function(e,t){var a={};a[e]=o(e,t,c),i({global:!0,constructor:!0,arity:1,forced:c},a)},d=function(e,t){if(l&&l[e]){var a={};a[e]=o(s+"."+e,t,c),i({target:s,stat:!0,constructor:!0,arity:1,forced:c},a)}};m("Error",(function(e){return function(t){return n(e,this,arguments)}})),m("EvalError",(function(e){return function(t){return n(e,this,arguments)}})),m("RangeError",(function(e){return function(t){return n(e,this,arguments)}})),m("ReferenceError",(function(e){return function(t){return n(e,this,arguments)}})),m("SyntaxError",(function(e){return function(t){return n(e,this,arguments)}})),m("TypeError",(function(e){return function(t){return n(e,this,arguments)}})),m("URIError",(function(e){return function(t){return n(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return n(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return n(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return n(e,this,arguments)}}))},2801:(e,t,a)=>{"use strict";var i=a(2109),r=a(7854),n=a(5005),o=a(9114),s=a(3070).f,l=a(2597),c=a(5787),m=a(9587),d=a(6277),u=a(3678),h=a(1060),p=a(9781),_=a(1913),g="DOMException",f=n("Error"),T=n(g),D=function(){c(this,v);var e=arguments.length,t=d(e<1?void 0:arguments[0]),a=d(e<2?void 0:arguments[1],"Error"),i=new T(t,a),r=f(t);return r.name=g,s(i,"stack",o(1,h(r.stack,1))),m(i,this,D),i},v=D.prototype=T.prototype,y="stack"in f(g),S="stack"in new T(1,2),w=T&&p&&Object.getOwnPropertyDescriptor(r,g),I=!(!w||w.writable&&w.configurable),b=y&&!I&&!S;i({global:!0,constructor:!0,forced:_||b},{DOMException:b?D:T});var A=n(g),E=A.prototype;if(E.constructor!==A)for(var R in _||s(E,"constructor",o(1,A)),u)if(l(u,R)){var C=u[R],x=C.s;l(A,x)||s(A,x,o(6,C.c))}},9990:e=>{"use strict";e.exports=i},3571:e=>{"use strict";e.exports=t},9280:e=>{"use strict";e.exports=n},7337:e=>{"use strict";e.exports=r},5549:t=>{"use strict";t.exports=e},8276:e=>{"use strict";e.exports=a}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={exports:{}};return o[e](a,a.exports,l),a.exports}return l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l(4966)})()));
//# sourceMappingURL=nwaf-gantt.min.js.map
/*! (c) Copyright 2013-2023 NETRONIC Software GmbH. All rights reserved. Version 7.8.4 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nwaf_apptools"),require("nwaf_gantt"),require("nwaf_table"),require("jquery"),require("d3"),require("tinycolor2"),require("jquery-ui/ui/widget")):"function"==typeof define&&define.amd?define(["nwaf_apptools","nwaf_gantt","nwaf_table","jquery","d3","tinycolor2","jquery-ui/ui/widget"],t):"object"==typeof exports?exports.nwaf_rab=t(require("nwaf_apptools"),require("nwaf_gantt"),require("nwaf_table"),require("jquery"),require("d3"),require("tinycolor2"),require("jquery-ui/ui/widget")):e.nwaf_rab=t(e.nwaf_apptools,e.nwaf_gantt,e.nwaf_table,e.jQuery,e.d3,e.tinycolor,e.jQuery)}(globalThis,((e,t,i,a,n,o,r)=>(()=>{var s={4966:(e,t,i)=>{var a=i(6998);Object.keys(a).forEach((function(e){t[e]=a[e]})),t.rabAbout=i(7226),t.rabActivity=i(6074),t.rabActivityEntry=i(4500),t.rabActivityEntryTimeItem=i(5326),t.rabActivityFrameTimeItem=i(2454),t.rabActivityRowItem=i(6772),t.rabActivityTimeItem=i(5488),t.rabAllocation=i(6266),t.rabAllocationEntry=i(8270),t.rabAllocationEntryTimeItem=i(8327),t.rabAllocationRowItem=i(1218),t.rabAllocationTimeItem=i(4669),t.rabApplication=i(713),t.rabCalendar=i(8984),t.rabCalendarEntry=i(3531),t.rabCheckLogger=i(6975),t.rabChildItem=i(4219),t.rabColorCalculator=i(227),t.rabCurve=i(9577),t.rabCurvePointEntry=i(7702),t.rabEntity=i(5473),t.rabEntityRowItem=i(3046),t.rabGanttView=i(3567),t.rabGroup=i(2623),t.rabGroupingLevelDefinition=i(4743),t.rabGroupingItemDescriptor=i(1651),t.rabGroupRowItem=i(8579),t.rabHierarchySupplementaryDefinition=i(6265),t.rabHierarchyLevelSupplementaryDefinition=i(5229),t.rabItem=i(1008),t.rabLink=i(621),t.rabLinkItem=i(1397),t.rabModel=i(8233),t.rabOptionsCollector=i(219),t.rabParentItemDescriptor=i(2423),t.rabPeriodHighlighter=i(4436),t.rabPeriodHighlighterEntry=i(290),t.rabPropertyFactory=i(3328),t.rabRelationshipItemDescriptor=i(9472),t.rabResource=i(9315),t.rabResourceRowItem=i(6506),t.rabRootRowItem=i(4935),t.rabRowItem=i(7428),t.rabTimeItem=i(7546),t.rabVersionInfos=i(9921),t.rabView=i(4555),t.rabViewModel=i(8588),t.rabWidget=i(620),t.rabWidgetApplication=i(5901),t.rabWidgetGanttView=i(661),t.rabWidgetModel=i(3092),t.rabWidgetOptionsCollector=i(9197),t.rabWidgetView=i(9976),t.rabWrapper=i(1207),t.vswApplication=i(5393);var n=i(136);if(t.vswDefines=n,t.vsWidget=i(1880),t.rabCalendarGrid=t.rabPeriodHighlighter,t.rabCalendarGridEntry=t.rabPeriodHighlighterEntry,self){var o=self.netronic=self.netronic||{},r=o.nResourcePlanningAppBase={};Object.keys(t).forEach((function(e){r[e]=t[e]}));var s=o.nVSW={};Object.keys(n).forEach((function(e){s[e]=n[e]}))}},7226:e=>{e.exports={hd:'<div class="nrab-about-container1"><div class="nrab-about-container2">   <br />   <div class="nrab-about-center nrab-about-logo"></div><br />   <span class="nrab-about-title nrab-about-center">%name%</span>   <span class="nrab-about-version nrab-about-center">Version %version%   </span><br />   <span class="nrab-about-center">Copyright (c) %copyrightYear% NETRONIC Software GmbH</span><br />   <hr />   <span class="nrab-about-center">License %license% for %licensee%</span>   <span class="nrab-about-center">Expires %expire%</span><br />   <hr />   <span class="nrab-about-center">Based on NETRONIC Web Application Framework, Version %nwafVersion%</span>   <span class="nrab-about-center">Copyright (c) %nwafYear% NETRONIC Software GmbH</span><br />   <hr />%appNameAndVersion%   <span class="nrab-about-center">UserAgent: %userAgent%</span><br />   <hr />   Licenses of incorporated software libraries:<br /><br />   %lt%</div>',lt:'<n>Simple JavaScript Inheritance</n><t>/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org\n * MIT Licensed. */</t><n>CSS-Element-Queries 1.2.0</n><t>Copyright (c) 2013 Marc J. Schmidt\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</t><n>FileSaver 2.0.5</n><t>The MIT License\n\nCopyright © 2016 [Eli Grey][1].\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n[1]: http://eligrey.com</t><n>core-js 3.23.1</n><t>Copyright (c) 2014-2022 Denis Pushkarev\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</t><n>polyfill-library 4.5.0</n><t>The MIT License (MIT)\n\nCopyright (c) 2016 Financial Times\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n</t>'}},6248:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(1207),r={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0},_modificationClassificationByProperty:{Color:1,NonworkingTimeColor:1,PatternColor:1}},s={};n.nClassFactory.extendClass(s,"rabActOrAllocEntry",o,r);var l=s.rabActOrAllocEntry,c=l.prototype;c.defineProperty("Start",{get:function(){return this._data.Start}}),c.defineProperty("End",{get:function(){return this._data.End}}),c.defineProperty("Color",{get:function(){return this._getPropertyAsColorString(this._data.Color??this._data.PM_Color)}}),c.defineProperty("Height",{get:function(){return this._getPropertyAsNumber(this._data.Height??this._data.PM_Height)}}),c.defineProperty("NonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.NonworkingTimeColor??this._data.PM_NonworkingTimeColor)}}),c.defineProperty("PatternColor",{get:function(){return this._getPropertyAsColorString(this._data.PatternColor??this._data.PM_PatternColor)}}),c.defineProperty("PatternType",{get:function(){return this._getPropertyAsNumber(this._data.PatternType??this._data.PM_PatternType)}}),c.defineProperty("RelativeTopOffset",{get:function(){return this._getPropertyAsNumber(this._data.RelativeTopOffset??this._data.PM_RelativeTopOffset)}}),e.exports=l},1049:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nOSDetector,r=i(5674).BarInteractions,s=i(7546),l="rabActOrAllocEntryTimeItemBase",c={construct:function(e,t,i,a,n,o){"use strict";this._super(e,t,i,a,n,void 0,o),this.respectingCalendar=!0,this.selectable=!0},updateFromReference:function(e){"use strict";this._super(e);var t=this.data(),i=t.getHierarchyParent(),a=i.model();this.start=a.dateTimeValueToDate(t.Start),this.end=a.dateTimeValueToDate(t.End),this.hidden="twice"!==(this.rab_parentItem||this._bridgedParentItem)?.zOrder,this.hidden||(this.barInteractions=this._determineBarInteractions(a,i),this.fillPatternType=o.isIE?void 0:t.PatternType,this.barHeight=t.Height??i.BarHeight,this.barTopOffset=t.RelativeTopOffset??0,null!=i.BarTopOffset&&(this.barTopOffset+=i.BarTopOffset),this._updateBarShape(i.BarShape))},getParentItemPropName:function(){return this||this._super(),"rab_parentItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"rabvm_childTimeItems"},postUpdateSelf:function(){"use strict";if(this.getParentItem())if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data().getHierarchyParent();e&&!e.rab_modificationClassification&&this._super()}else this._super()},_determineBarInteractions:function(){return r.None},_updateBarShape:function(e){this.barShape=e}},d={};n.extendClass(d,l,s,c),e.exports=d[l]},6074:(e,t,i)=>{var a=i(3571),n=i(5674).BarInteractions,o=i(6998),r=o._ActivityBarDragModes_AllSupportedFlags,s=o.RAB_ACTIVITY_ENTRIES_PROP_NAME,l=o.TextWrapMode,c=o._activityBarShapesMap,d=i(2623),u={store:function(e){"use strict";if(this._super(e),e){var t=e.CurveCollapseState??e.PM_CurveCollapseState;t>=0&&(this.rab_cachedCurveCollapseState=t),(t=e.AllocationRowsCollapseState??e.PM_AllocationRowsCollapseState)>=0&&(this.rab_cachedAllocationRowsCollapseState=t)}},_modificationClassificationByProperty:{Editable:2,Entries:-1,AllocationRowsCollapseState:function(e){var t=e.AllocationRowsCollapseState??e.PM_AllocationRowsCollapseState;return this.rab_cachedAllocationRowsCollapseState===t?2:0},BackgroundColor:1,BackgroundNonworkingTimeColor:1,BarPatternColor:1,BarSelectable:2,BarTooltipTemplateID:2,BaselineBorderColor:1,BaselineColor:1,BaselineNonworkingTimeColor:1,BorderColor:1,BorderDashArray:1,BorderWidth:1,CalendarGridColor:0,Color:1,CurveCollapseState:function(e){var t=e.CurveCollapseState??e.PM_CurveCollapseState;return this.rab_cachedCurveCollapseState===t?2:0},DueDateColor:1,DueDateSymbolWidth:1,EarliestDragStart:2,LatestDragEnd:2,LeftBarSymbolHeight:1,LeftBarSymbolID:1,LeftBarSymbolWidth:1,NonworkingTimeColor:1,PredictedEndColor:1,ProgressBackgroundColor:1,ProgressColor:1,ProgressNonworkingTimeColor:1,ReleaseDateColor:1,ReleaseDateSymbolWidth:1,RightBarSymbolHeight:1,SnapTargetsForEnd:2,SnapTargetsForStart:2,Status1Color:1,Status1Visible:1,Status2Color:1,Status2Visible:1,Status3Color:1,Status3Visible:1,Status4Color:1,Status4Visible:1,TextColor:1,TopLeftBarSymblID:1,TopRightBarSymblID:1},_getDefaultObjectPropName:function(){return"defaultValuesForActivityProperties"},_getAllocationRowsCollapseState:function(e){return e>=0||(e=this.rab_cachedAllocationRowsCollapseState),"number"==typeof e?e:void 0}},p={};a.nClassFactory.extendClass(p,"rabActivity",d,u);var h=p.rabActivity,g=h.prototype;g.defineProperty("BackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.BackgroundColor??this._data.PM_BackgroundColor)}}),g.defineProperty("BackgroundNonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.BackgroundNonworkingTimeColor??this._data.PM_BackgroundNonworkingTimeColor)}}),g.defineProperty("BarText",{get:function(){return this._data.BarText||this._data.Name}}),g.defineProperty("BaselineEnd",{get:function(){return this._data.BaselineEnd}}),g.defineProperty("BaselineStart",{get:function(){return this._data.BaselineStart}}),g.defineProperty("DueDate",{get:function(){return this._data.DueDate}}),g.defineProperty("EarliestEnd",{get:function(){return this._data.EarliestEnd}}),g.defineProperty("EarliestStart",{get:function(){return this._data.EarliestStart}}),g.defineProperty("Editable",{get:function(){var e=this._data.Editable;return"boolean"==typeof e?e:void 0}},void 0,!0),g.defineProperty("End",{get:function(){return this._data.End}}),g.defineProperty("EndNotLaterThan",{get:function(){return this._data.EndNotLaterThan}}),g.defineProperty("Entries",{get:function(){return this.getChildrenArray(s)}},void 0,[]),h.prototype.areEntriesExistent=function(){return Array.isArray(this._data.Entries)&&this._data.Entries.length},g.defineProperty("LatestEnd",{get:function(){return this._data.LatestEnd}}),g.defineProperty("LatestStart",{get:function(){return this._data.LatestStart}}),g.defineProperty("MustEndOn",{get:function(){return this._data.MustEndOn}}),g.defineProperty("MustStartOn",{get:function(){return this._data.MustStartOn}}),g.defineProperty("LinkSourceDate",{get:function(){return this._data.LinkSourceDate}}),g.defineProperty("LinkTargetDate",{get:function(){return this._data.LinkTargetDate}}),g.defineProperty("AllocationRowsCollapseState",{get:function(){return this._getAllocationRowsCollapseState(this._data.AllocationRowsCollapseState??this._data.PM_AllocationRowsCollapseState)}},void 0,-1),g.defineProperty("AllocationRowsCollapsible",{get:function(){var e=this._data.AllocationRowsCollapsible??this._data.PM_AllocationRowsCollapsible;return null==e?void 0:!!e}}),g.defineProperty("AllowedBarDragModes",{get:function(){var e=this._getPropertyAsNumber(this._data.AllowedBarDragModes??this._data.PM_AllowedBarDragModes);return e&&(e&=r),e}}),g.defineProperty("BarHeight",{get:function(){return this._getPropertyAsNumber(this._data.BarHeight??this._data.PM_BarHeight)}}),g.defineProperty("BarOpacity",{get:function(){return this._getPropertyAsNumber(this._data.BarOpacity??this._data.PM_BarOpacity)}}),g.defineProperty("BarPatternColor",{get:function(){return this._getPropertyAsColorString(this._data.BarPatternColor??this._data.PM_BarPatternColor)}}),g.defineProperty("BarPatternType",{get:function(){return this._getPropertyAsNumber(this._data.BarPatternType??this._data.PM_BarPatternType)}}),g.defineProperty("BarSelectable",{get:function(){var e=this._data.BarSelectable??this._data.PM_BarSelectable;return null==e?void 0:!!e}}),g.defineProperty("BarShape",{get:function(){var e=this._getPropertyAsNumber(this._data.BarShape??this._data.PM_BarShape);return null==e?void 0:c[e]}}),g.defineProperty("BarShapeSymbolID",{get:function(){return this._data.BarShapeSymbolID??this._data.PM_BarShapeSymbolID}}),g.defineProperty("BarShapeSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarShapeSymbolWidth??this._data.PM_BarShapeSymbolWidth)}}),g.defineProperty("BarTextPrefixSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarTextPrefixSymbolHeight??this._data.PM_BarTextPrefixSymbolHeight)}}),g.defineProperty("BarTextPrefixSymbolID",{get:function(){return this._data.BarTextPrefixSymbolID??this._data.PM_BarTextPrefixSymbolID}}),g.defineProperty("BarTextPrefixSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarTextPrefixSymbolWidth??this._data.PM_BarTextPrefixSymbolWidth)}}),g.defineProperty("BarTextWrapMode",{get:function(){return this._getPropertyAsNumber(this._data.BarTextWrapMode??this._data.PM_BarTextWrapMode)}},void 0,l.None),g.defineProperty("BarTooltipTemplateID",{get:function(){return this._data.BarTooltipTemplateID??this._data.PM_BarTooltipTemplateID}}),g.defineProperty("BaselineBorderColor",{get:function(){return this._getPropertyAsColorString(this._data.BaselineBorderColor??this._data.PM_BaselineBorderColor)}}),g.defineProperty("BaselineColor",{get:function(){return this._getPropertyAsColorString(this._data.BaselineColor??this._data.PM_BaselineColor)}}),g.defineProperty("BaselineNonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.BaselineNonworkingTimeColor??this._data.PM_BaselineNonworkingTimeColor)}}),g.defineProperty("BorderColor",{get:function(){return this._getPropertyAsColorString(this._data.BorderColor??this._data.PM_BorderColor)}}),g.defineProperty("BorderDashArray",{get:function(){return(this._data.BorderDashArray??this._data.PM_BorderDashArray)?.toString()??void 0}}),g.defineProperty("BorderWidth",{get:function(){return this._getPropertyAsNumber(this._data.BorderWidth??this._data.PM_BorderWidth)}},void 0,null),g.defineProperty("CalendarGridColor",{get:function(){return this._getPropertyAsColorString(this._data.CalendarGridColor??this._data.PM_CalendarGridColor)}}),g.defineProperty("CollapsedRowDesign",{get:function(){return this._getPropertyAsNumber(this._data.CollapsedRowDesign??this._data.PM_CollapsedRowDesign)}}),g.defineProperty("Color",{get:function(){return this._getPropertyAsColorString(this._data.Color??this._data.PM_Color)}}),g.defineProperty("CurveCollapseState",{get:function(){var e=this.rab_cachedCurveCollapseState;return e>=0||(e=this._data.CurveCollapseState??this._data.PM_CurveCollapseState),"number"==typeof e?e:void 0}},void 0,-1),g.defineProperty("DueDateAllowedDragModes",{get:function(){var e=this._getPropertyAsNumber(this._data.DueDateAllowedDragModes??this._data.PM_DueDateAllowedDragModes);return e&&e&n.DragHor}}),g.defineProperty("DueDateColor",{get:function(){return this._getPropertyAsColorString(this._data.DueDateColor??this._data.PM_DueDateColor)}}),g.defineProperty("DueDateSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.DueDateSymbolHeight??this._data.PM_DueDateSymbolHeight)}}),g.defineProperty("DueDateSymbolID",{get:function(){return this._data.DueDateSymbolID??this._data.PM_DueDateSymbolID}}),g.defineProperty("DueDateSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.DueDateSymbolWidth??this._data.PM_DueDateSymbolWidth)}}),g.defineProperty("EarliestDragStart",{get:function(){return this._data.EarliestDragStart??this._data.PM_EarliestDragStart}}),g.defineProperty("EarliestEndColor",{get:function(){return this._getPropertyAsColorString(this._data.EarliestEndColor??this._data.PM_EarliestEndColor)}}),g.defineProperty("EarliestStartColor",{get:function(){return this._getPropertyAsColorString(this._data.EarliestStartColor??this._data.PM_EarliestStartColor)}}),g.defineProperty("ExpandedRowDesign",{get:function(){return this._getPropertyAsNumber(this._data.ExpandedRowDesign??this._data.PM_ExpandedRowDesign)}}),g.defineProperty("HasAllocationRows",{get:function(){var e=this._data.HasAllocationRows??this._data.PM_HasAllocationRows;return"boolean"==typeof e?e:void 0}}),g.defineProperty("LatestDragEnd",{get:function(){return this._data.LatestDragEnd??this._data.PM_LatestDragEnd}}),g.defineProperty("LatestEndColor",{get:function(){return this._getPropertyAsColorString(this._data.LatestEndColor??this._data.PM_LatestEndColor)}}),g.defineProperty("LatestStartColor",{get:function(){return this._getPropertyAsColorString(this._data.LatestStartColor??this._data.PM_LatestStartColor)}}),g.defineProperty("LeftBarSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.LeftBarSymbolHeight??this._data.PM_LeftBarSymbolHeight)}}),g.defineProperty("LeftBarSymbolID",{get:function(){return this._data.LeftBarSymbolID??this._data.PM_LeftBarSymbolID}}),g.defineProperty("LeftBarSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.LeftBarSymbolWidth??this._data.PM_LeftBarSymbolWidth)}}),g.defineProperty("MaximumRowHeight",{get:function(){var e=this._data.MaximumRowHeight??this._data.PM_MaximumRowHeight;return e>0?e:void 0}}),g.defineProperty("MaximumSubRowHeightInTimeArea",{get:function(){var e=this._data.MaximumSubRowHeightInTimeArea??this._data.PM_MaximumSubRowHeightInTimeArea;return e>0?e:void 0}}),g.defineProperty("MustEndOnColor",{get:function(){return this._getPropertyAsColorString(this._data.MustEndOnColor??this._data.PM_MustEndOnColor)}}),g.defineProperty("MustStartOnColor",{get:function(){return this._getPropertyAsColorString(this._data.MustStartOnColor??this._data.PM_MustStartOnColor)}}),g.defineProperty("NonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.NonworkingTimeColor??this._data.PM_NonworkingTimeColor)}}),g.defineProperty("PeriodHighlighterID",{get:function(){var e=(this._data.PeriodHighlighterID??this._data.PM_PeriodHighlighterID)?.toString();return e||(e=(this._data.CalendarGridID??this._data.PM_CalendarGridID)?.toString()),e}}),g.defineProperty("PredictedEndColor",{get:function(){return this._getPropertyAsColorString(this._data.PredictedEndColor??this._data.PM_PredictedEndColor)}}),g.defineProperty("ProgressBackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressBackgroundColor??this._data.PM_ProgressBackgroundColor)}}),g.defineProperty("ProgressColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressColor??this._data.PM_ProgressColor)}}),g.defineProperty("ProgressNonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressNonworkingTimeColor??this._data.PM_ProgressNonworkingTimeColor)}}),g.defineProperty("ReleaseDateAllowedDragModes",{get:function(){var e=this._getPropertyAsNumber(this._data.ReleaseDateAllowedDragModes??this._data.PM_ReleaseDateAllowedDragModes);return e&&e&n.DragHor}}),g.defineProperty("ReleaseDateColor",{get:function(){return this._getPropertyAsColorString(this._data.ReleaseDateColor??this._data.PM_ReleaseDateColor)}}),g.defineProperty("ReleaseDateSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.ReleaseDateSymbolHeight??this._data.PM_ReleaseDateSymbolHeight)}}),g.defineProperty("ReleaseDateSymbolID",{get:function(){return this._data.ReleaseDateSymbolID??this._data.PM_ReleaseDateSymbolID}}),g.defineProperty("ReleaseDateSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.ReleaseDateSymbolWidth??this._data.PM_ReleaseDateSymbolWidth)}}),g.defineProperty("RightBarSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.RightBarSymbolHeight??this._data.PM_RightBarSymbolHeight)}}),g.defineProperty("RightBarSymbolID",{get:function(){return this._data.RightBarSymbolID??this._data.PM_RightBarSymbolID}}),g.defineProperty("RightBarSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.RightBarSymbolWidth??this._data.PM_RightBarSymbolWidth)}}),g.defineProperty("SnapTargetsForEnd",{get:function(){var e=this._data.SnapTargetsForEnd??this._data.PM_SnapTargetsForEnd;return 0===e?0:+e||void 0}}),g.defineProperty("SnapTargetsForStart",{get:function(){var e=this._data.SnapTargetsForStart??this._data.PM_SnapTargetsForStart;return 0===e?0:+e||void 0}}),g.defineProperty("Status1Color",{get:function(){return this._getPropertyAsColorString(this._data.Status1Color??this._data.PM_Status1Color)}}),g.defineProperty("Status1Visible",{get:function(){var e=this._data.Status1Visible??this._data.PM_Status1Visible;return null==e?void 0:!!e}}),g.defineProperty("Status2Color",{get:function(){return this._getPropertyAsColorString(this._data.Status2Color??this._data.PM_Status2Color)}}),g.defineProperty("Status2Visible",{get:function(){var e=this._data.Status2Visible??this._data.PM_Status2Visible;return null==e?void 0:!!e}}),g.defineProperty("Status3Color",{get:function(){return this._getPropertyAsColorString(this._data.Status3Color??this._data.PM_Status3Color)}}),g.defineProperty("Status3Visible",{get:function(){var e=this._data.Status3Visible??this._data.PM_Status3Visible;return null==e?void 0:!!e}}),g.defineProperty("Status4Color",{get:function(){return this._getPropertyAsColorString(this._data.Status4Color??this._data.PM_Status4Color)}}),g.defineProperty("Status4Visible",{get:function(){var e=this._data.Status4Visible??this._data.PM_Status4Visible;return null==e?void 0:!!e}}),g.defineProperty("StatusFrameColor",{get:function(){return this._getPropertyAsColorString(this._data.StatusFrameColor??this._data.PM_StatusFrameColor)}}),g.defineProperty("StatusFrameVisible",{get:function(){var e=this._data.StatusFrameVisible??this._data.PM_StatusFrameVisible;return null==e?void 0:!!e}},void 0,!1),g.defineProperty("TextColor",{get:function(){return this._getPropertyAsColorString(this._data.TextColor??this._data.PM_TextColor)}}),g.defineProperty("TopLeftBarSymbolID",{get:function(){return this._data.TopLeftBarSymbolID??this._data.PM_TopLeftBarSymbolID}}),g.defineProperty("TopRightBarSymbolID",{get:function(){return this._data.TopRightBarSymbolID??this._data.PM_TopRightBarSymbolID}}),g.defineProperty("ViewArea",{get:function(){return this._getPropertyAsNumber(this._data.ViewArea??this._data.PM_ViewArea)}}),g.defineProperty("PredictedEnd",{get:function(){return this._data.PredictedEnd}}),g.defineProperty("Progress",{get:function(){var e=this._data.Progress;return"number"==typeof e?e:void 0}},void 0,0),g.defineProperty("ReleaseDate",{get:function(){return this._data.ReleaseDate}}),g.defineProperty("Start",{get:function(){return this._data.Start}}),g.defineProperty("StartNotEarlierThan",{get:function(){return this._data.StartNotEarlierThan}}),e.exports=p.rabActivity},4500:(e,t,i)=>{var a=i(3571),n=i(6248),o={};a.nClassFactory.extendClass(o,"rabActivityEntry",n,{construct:function(e,t,i,a){"use strict";this._super(e,t,i,a)},_getDefaultObjectPropName:function(){return"defaultValuesForActivityEntryProperties"}});var r=o.rabActivityEntry;e.exports=r},5326:(e,t,i)=>{var a=i(3571).nClassFactory,n=i(6998),o=n.ItemType,r=n._activityBarShapesMap,s=i(1049),l=(i(4500),"rabActivityEntryTimeItem"),c={construct:function(e,t,i,a,n){"use strict";this._super(o.ActivityEntry,e,t,i,a,n),this.markable=!1},_updateBarShape:function(e){this._super(e??r[this.getAPIOption("defaultActivityBarShape")])}},d={};a.extendClass(d,l,s,c),e.exports=d[l]},2454:(e,t,i)=>{var a=i(3571),n=i(5674),o=i(6998).ItemType,r=n.BarInteractions,s=i(7546),l=(i(6074),{construct:function(e,t,i,a,n){"use strict";this.__ignoreUpdateFromReference=!0,this._cachedTimeItem?(this._cachedTimeItem.construct(o.Activity,e,t,i,this,null),delete this._cachedTimeItem._dbgIsDisposed,delete this._cachedTimeItem):t._createItem(e,o.Activity,this,i),this._super(o.ActivityFrame,e,t,i,a,void 0,n),delete this.__ignoreUpdateFromReference},dispose:function(e){"use strict";this._cachedTimeItem=this.childTimeItems?.[0],this._cachedTimeItem?.dispose(e),this._super(e),delete this.childTimeItems},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t=this._super(e),i=!e||!1!==e.considerReleaseDate,a=!e||!1!==e.considerDueDate;void 0===this.__ignoreUpdateFromReference&&this.childTimeItems&&this.childTimeItems[0]&&this.childTimeItems[0].updateFromReference(e);var n=this.data(),s=n.model();return this._viewModel._updateTimeItem(this,o.ActivityBaseline,this._viewType,s.dateTimeValueToDate(n.BaselineStart)&&s.dateTimeValueToDate(n.BaselineEnd),(function(e){e.updateFromReference()})),this._viewModel._updateTimeItem(this,o.ActivityReleaseDate,this._viewType,i&&s.dateTimeValueToDate(n.ReleaseDate),(function(e){e.updateFromReference()})),this._viewModel._updateTimeItem(this,o.ActivityDueDate,this._viewType,a&&s.dateTimeValueToDate(n.DueDate),(function(e){e.updateFromReference()})),this.barInteractions=r.None,this.selectable=n.BarSelectable,t}}),c={};a.nClassFactory.extendClass(c,"rabActivityFrameTimeItem",s,l),e.exports=c.rabActivityFrameTimeItem},6772:(e,t,i)=>{var a=i(3571),n=i(6998).ItemType,o=i(8579),r=(i(6074),"rabActivityRowItem"),s={construct:function(e,t,i,a,o){"use strict";this.__ignoreUpdateFromReference=!0,this._cachedTimeItem?(this._cachedTimeItem.construct(e,t,i,this,null),delete this._cachedTimeItem._dbgIsDisposed,delete this._cachedTimeItem):t._createItem(e,n.ActivityFrame,this,i),this._super(n.ActivityRow,e,t,i,a,void 0,o),delete this.__ignoreUpdateFromReference;var r=i.CurveCollapseState;this.rab_curvePanesVisible=r>=0?!r:void 0},isResourceRelevant:function(){return!0},dispose:function(e){"use strict";this._cachedTimeItem=this.timeItems&&this.timeItems[0]?this.timeItems[0]:void 0,this._cachedTimeItem&&this._cachedTimeItem.dispose(e),this._super(e)},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),this._super())},getWrapperHasChildrenPropName:function(e){return"leafRowItems"===e?"HasAllocationRows":this._super(e)},updateFromReference:function(e){"use strict";var t=this._super(e);void 0===this.__ignoreUpdateFromReference&&this.timeItems?.[0]?.updateFromReference(e);var i,a=this.data(),n=a.model();(this.leavesCollapsible=a.AllocationRowsCollapsible,a.isPseudo()||(this.rowInteractions=a.AllowedRowDragModes),this.collapsedDisplayedElements=a.CollapsedRowDesign,this.expandedDisplayedElements=a.ExpandedRowDesign,a.AllocationRowsCollapseState>=0&&(this.leavesInitiallyCollapsed=!!a.AllocationRowsCollapseState),this.minimumHeight=a.MinimumRowHeight,this.maximumHeight=a.MaximumRowHeight,this.maximumSubRowHeight=a.MaximumSubRowHeightInTimeArea,this.getAPIOption("activityCalendarsEnabled"))?(i=e&&e.ignoreCalendar?n._defaultNonWorkingTimeCalendar:n.calendarByID(a.CalendarID),this.calendar=i?i.nCalendar:void 0):delete this.calendar;for(var o=this;null==o.data().PeriodHighlighterID&&(o=o.getHierarchyParent()););var r=o&&n.periodHighlighterByID(o.data().PeriodHighlighterID);return this.dateAreas=r&&r.dateAreaDefinitions,t}},l={};a.nClassFactory.extendClass(l,r,o,s);var c=l[r];e.exports=c},5488:(e,t,i)=>{i(6699),i(7658);var a=i(3571),n=a.nClassFactory,o=a.nOSDetector,r=i(5674),s=r.BarInteractions,l=r.BarShape,c=r.BarType,d=r.ConstraintType,u=i(6998),p=u.ItemType,h=u._activityBarShapesMap,g=i(7546),m=(i(6074),i(3567)),f={construct:function(e,t,i,a,n,o){"use strict";switch(this.rab_propNames={},e){case p.Activity:this.rab_propNames.Start="Start",this.rab_propNames.End="End",this.rab_propNames.AllowedDragModes="AllowedBarDragModes",this.rab_propNames.EarliestDragStart="EarliestDragStart",this.rab_propNames.EarliestEndColor="EarliestEndColor",this.rab_propNames.EarliestStartColor="EarliestStartColor",this.rab_propNames.LatestDragEnd="LatestDragEnd",this.rab_propNames.LatestEndColor="LatestEndColor",this.rab_propNames.LatestStartColor="LatestStartColor",this.barType=c.StartEnd,this.respectingCalendar=!0;break;case p.ActivityBaseline:this.rab_propNames.Start="BaselineStart",this.rab_propNames.End="BaselineEnd",this.barType=c.StartEnd,this.barShape=l.Rectangle,this.respectingCalendar=!0,this.markable=!1,this.selectable=!1;break;case p.ActivityDueDate:this.rab_propNames.Start="DueDate",this.rab_propNames.AllowedDragModes="DueDateAllowedDragModes",this.rab_propNames.SymbolID="DueDateSymbolID",this.rab_propNames.SymbolHeight="DueDateSymbolHeight",this.barType=c.SingleRespectedByOptimization,this.zOrder=1,this.selectable=!1;break;case p.ActivityReleaseDate:this.rab_propNames.Start="ReleaseDate",this.rab_propNames.AllowedDragModes="ReleaseDateAllowedDragModes",this.rab_propNames.SymbolID="ReleaseDateSymbolID",this.rab_propNames.SymbolHeight="ReleaseDateSymbolHeight",this.barType=c.SingleRespectedByOptimization,this.zOrder=1,this.selectable=!1}this.rab_subItemType=e,this._super(e,t,i,a,n,void 0,o),e!==p.ActivityDueDate&&e!==p.ActivityReleaseDate||(this.rab_itemType=p.Activity)},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t=this,i=this._super(e),a=this.data(),n=a.model();switch(this.barInteractions=s.None,this.marked=a.StatusFrameVisible,this.opacity=a.BarOpacity,this.rab_propNames?.Start&&(this.start=n.dateTimeValueToDate(a[this.rab_propNames.Start])),this.rab_propNames?.End&&(this.end=n.dateTimeValueToDate(a[this.rab_propNames.End])),this.rab_subItemType){case p.Activity:if(this.selectable=a.BarSelectable,n.isActivityEditable(a)&&(this.barInteractions=a.AllowedBarDragModes),delete this.leftCaptionOffset,a.BarTextPrefixSymbolID){var r=a.BarTextPrefixSymbolWidth;0===r||r||(r=m.prototype._barSymbolExtent),r=+r,!isNaN(r)&&isFinite(r)&&r>0&&(this.leftCaptionOffset=r)}this.snapTargetsForStart=a.SnapTargetsForStart,this.snapTargetsForEnd=a.SnapTargetsForEnd,this.progress=+a.Progress||0,null!=a.ProgressBackgroundColor&&""!==a.ProgressBackgroundColor||null!=this.getAPIOption("defaultActivityProgressBackgroundColor")&&""!==this.getAPIOption("defaultActivityProgressBackgroundColor")?this.progressBackgroundVisible=!0:this.progressBackgroundVisible=!1,this.predictedEnd=n.dateTimeValueToDate(a.PredictedEnd),this.constraints?this.constraints.length=0:this.constraints=[];var u=this.getAPIOption("detailedActivityConstraintSymbolsEnabled"),g=this.getAPIOption("defaultActivityConstraintSymbolColor");this.rab_barShape=a.BarShape??h[this.getAPIOption("defaultActivityBarShape")],this.fillPatternType=o.isIE?void 0:a.BarPatternType,this.rab_barShape===l.Diamond||"rabSymbol"===this.rab_barShape?this.barType=c.Single:this.barType=c.StartEnd;var f=this.barShape;this.barShape="rabSymbol"===this.rab_barShape?l.Diamond:this.rab_barShape;var _=this.barHeight;this.barShape===l.Summary?this.barHeight=16:this.barHeight=a.BarHeight,this.linkSourceDate=n.dateTimeValueToDate(a.LinkSourceDate),this.linkTargetDate=n.dateTimeValueToDate(a.LinkTargetDate);var b=a.areEntriesExistent();this.rabvm_areChildTimeItemsVisible=this.barType!==c.Single&&b,this.rabvm_childTimeItems?.length?this.rabvm_childTimeItems.forEach((e=>{if(Object.values(p).includes(e.rab_itemType)){var i=e.start;i&&(!t.start||i<t.start)&&(t.start=new Date(i));var a=e.end;a&&(!t.end||a>t.end)&&(t.end=new Date(a))}})):b&&a.Entries.forEach((e=>{var i=n.dateTimeValueToDate(e.Start);i&&(!t.start||i<t.start)&&(t.start=i);var a=n.dateTimeValueToDate(e.End);a&&(!t.end||a>t.end)&&(t.end=a)}));var v=this.zOrder;this.zOrder=this.rabvm_areChildTimeItemsVisible&&[l.Rectangle,l.RectangleWithLeftTopBevel].includes(this.barShape)?"twice":0,[["EarliestStart",d.StartNoEarlierThan],["LatestStart",d.StartNoLaterThan],["MustStartOn",d.MustStartOn],["EarliestEnd",d.EndNoEarlierThan],["LatestEnd",d.EndNoLaterThan],["MustEndOn",d.MustEndOn]].forEach((e=>{let t=n.dateTimeValueToDate(a[e[0]]);t&&this.constraints.push({type:u?e[1]:void 0,date:t,color:a[`${e[0]}Color`]||g})})),this.barShape===f&&this.zOrder===v&&this.barHeight===_||!this.childTimeItems||this.childTimeItems.forEach((e=>{e.updateFromReference()}));break;case p.ActivityBaseline:this.getAPIOption("activityBaselineBarsVisible")||(delete this.start,delete this.end),this.barTopOffset=a.BarHeight+2||this.getAPIOption("defaultActivityBarHeight")+2,this.barHeight=3;break;case p.ActivityDueDate:case p.ActivityReleaseDate:t.barInteractions=n.isActivityEditable(a)?a[this.rab_propNames.AllowedDragModes]??s.None:s.None,null!=a[t.rab_propNames.SymbolID]?(t.barShape=l.Custom,t.barHeight=a[this.rab_propNames.SymbolHeight]||void 0):(t.barShape=l.Diamond,t.barHeight=a.BarHeight??void 0),t.markable=t.barInteractions!==s.None}return i},getParentItemPropName:function(){return this||this._super(),"rab_parentItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"childTimeItems"}},_={};n.extendClass(_,"rabActivityTimeItem",g,f);var b=_.rabActivityTimeItem;Object.defineProperty(b.prototype,"childTimeItems",{get:function(){return this.rabvm_areChildTimeItemsVisible?this.rabvm_childTimeItems:void 0}}),e.exports=b},6266:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(6998),r=o._AllocationBarDragModes_AllSupportedFlags,s=o.RAB_ALLOCATION_ENTRIES_PROP_NAME,l=o.AllocationBarDesign,c=o.TextWrapMode,d=i(1207),u={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0},_modificationClassificationByProperty:{Entries:-1,BackgroundColor:1,BackgroundNonworkingTimeColor:1,BarSelectable:2,BarTooltipTemplateID:2,BorderColor:1,BorderDashArray:1,BorderWidth:1,Color:1,EarliestDragStart:2,EndIsSnapTarget:2,LatestDragEnd:2,LeftBarSymbolHeight:1,LeftBarSymbolID:1,LeftBarSymbolWidth:1,NonworkingTimeColor:1,PredictedEndColor:1,ProgressColor:1,ProgressNonworkingTimeColor:1,ProgressBackgroundColor:1,RightBarSymbolHeight:1,RowSelectable:2,RowSymbolIDs:-1,RowTooltipTemplateID:2,SnapTargetsForStart:2,SnapTargetsForEnd:2,StartIsSnapTarget:2,Status1Color:1,Status1Visible:1,Status2Color:1,Status2Visible:1,Status3Color:1,Status3Visible:1,Status4Color:1,Status4Visible:1,TableColor:1,TextColor:1,TopLeftBarSymbolID:1,TopRightBarSymbolID:1,SuitableActivityIDs:2,SuitableResourceIDs:2},_getDefaultObjectPropName:function(){return"defaultValuesForAllocationProperties"}},p={};n.nClassFactory.extendClass(p,"rabAllocation",d,u);var h=p.rabAllocation,g=h.prototype;g.defineProperty("BarText",{get:function(){return this._data.BarText||this._data.Name}}),g.defineProperty("Entries",{get:function(){return this.getChildrenArray(s)}},void 0,[]),h.prototype.areEntriesExistent=function(){return Array.isArray(this._data.Entries)&&this._data.Entries.length},g.defineProperty("EarliestEnd",{get:function(){return this._data.EarliestEnd}}),g.defineProperty("EarliestStart",{get:function(){return this._data.EarliestStart}}),g.defineProperty("LatestEnd",{get:function(){return this._data.LatestEnd}}),g.defineProperty("LatestStart",{get:function(){return this._data.LatestStart}}),g.defineProperty("MustEndOn",{get:function(){return this._data.MustEndOn}}),g.defineProperty("MustStartOn",{get:function(){return this._data.MustStartOn}}),g.defineProperty("Name",{get:function(){return this._data.BarText||this._data.Name}}),g.defineProperty("AllowedBarDragModes",{get:function(){var e=this._getPropertyAsNumber(this._data.AllowedBarDragModes??this._data.PM_AllowedBarDragModes);return e&&(e&=r),e}}),g.defineProperty("AllowedBarDragModesInActivitiesView",{get:function(){var e=this._getPropertyAsNumber(this._data.AllowedBarDragModesInActivitiesView??this._data.PM_AllowedBarDragModesInActivitiesView);return e&&(e&=r),e}}),g.defineProperty("BackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.BackgroundColor??this._data.PM_BackgroundColor)}}),g.defineProperty("BackgroundNonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.BackgroundNonworkingTimeColor??this._data.PM_BackgroundNonworkingTimeColor)}}),g.defineProperty("BarDesign",{get:function(){if(this.rab_mergeEntriesPropertyName)return this._data[this.rab_mergeEntriesPropertyName]?l.MergedEntries:l.Entries;var e=this._data.BarDesign??this._data.PM_BarDesign;return 0==e?0:+e||null}},void 0,null),g.defineProperty("BarSelectable",{get:function(){var e=this._data.BarSelectable??this._data.PM_BarSelectable;return null==e?void 0:!!e}}),g.defineProperty("BarHeight",{get:function(){return this._getPropertyAsNumber(this._data.BarHeight??this._data.PM_BarHeight)}}),g.defineProperty("BarOpacity",{get:function(){var e=this._data.BarOpacity??this._data.PM_BarOpacity;return"number"==typeof e?e:void 0}}),g.defineProperty("BarShape",{get:function(){var e=this._getPropertyAsNumber(this._data.BarShape??this._data.PM_BarShape);return null==e?void 0:o._allocationBarShapesMap[e]}}),g.defineProperty("BarShapeSymbolID",{get:function(){return this._data.BarShapeSymbolID??this._data.PM_BarShapeSymbolID}}),g.defineProperty("BarShapeSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarShapeSymbolWidth??this._data.PM_BarShapeSymbolWidth)}}),g.defineProperty("BarTextPrefixSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarTextPrefixSymbolHeight??this._data.PM_BarTextPrefixSymbolHeight)}}),g.defineProperty("BarTextPrefixSymbolID",{get:function(){return this._data.BarTextPrefixSymbolID??this._data.PM_BarTextPrefixSymbolID}}),g.defineProperty("BarTextPrefixSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.BarTextPrefixSymbolWidth??this._data.PM_BarTextPrefixSymbolWidth)}}),g.defineProperty("BarTextWrapMode",{get:function(){return this._getPropertyAsNumber(this._data.BarTextWrapMode??this._data.PM_BarTextWrapMode)}},void 0,c.None),g.defineProperty("BarTooltipTemplateID",{get:function(){return this._data.BarTooltipTemplateID??this._data.PM_BarTooltipTemplateID}}),g.defineProperty("BarTopOffset",{get:function(){return this._getPropertyAsNumber(this._data.BarTopOffset??this._data.PM_BarTopOffset)}}),g.defineProperty("BorderColor",{get:function(){return this._getPropertyAsColorString(this._data.BorderColor??this._data.PM_BorderColor)}}),g.defineProperty("BorderDashArray",{get:function(){return(this._data.BorderDashArray??this._data.PM_BorderDashArray)?.toString()??void 0}}),g.defineProperty("BorderWidth",{get:function(){return this._getPropertyAsNumber(this._data.BorderWidth??this._data.PM_BorderWidth)}},void 0,null),g.defineProperty("Color",{get:function(){return this._getPropertyAsColorString(this._data.Color??this._data.PM_Color)}}),g.defineProperty("EarliestDragStart",{get:function(){return this._data.EarliestDragStart??this._data.PM_EarliestDragStart}}),g.defineProperty("EarliestEndColor",{get:function(){return this._getPropertyAsColorString(this._data.EarliestEndColor??this._data.PM_EarliestEndColor)}}),g.defineProperty("EarliestStartColor",{get:function(){return this._getPropertyAsColorString(this._data.EarliestStartColor??this._data.PM_EarliestStartColor)}}),g.defineProperty("EndIsSnapTarget",{get:function(){var e=this._data.EndIsSnapTarget??this._data.PM_EndIsSnapTarget;return null==e?void 0:!!e}},void 0,!0),g.defineProperty("LatestDragEnd",{get:function(){return this._data.LatestDragEnd??this._data.PM_LatestDragEnd}}),g.defineProperty("LatestEndColor",{get:function(){return this._getPropertyAsColorString(this._data.LatestEndColor??this._data.PM_LatestEndColor)}}),g.defineProperty("LatestStartColor",{get:function(){return this._getPropertyAsColorString(this._data.LatestStartColor??this._data.PM_LatestStartColor)}}),g.defineProperty("LeftBarSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.LeftBarSymbolHeight??this._data.PM_LeftBarSymbolHeight)}}),g.defineProperty("LeftBarSymbolID",{get:function(){return this._data.LeftBarSymbolID??this._data.PM_LeftBarSymbolID}}),g.defineProperty("LeftBarSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.LeftBarSymbolWidth??this._data.PM_LeftBarSymbolWidth)}}),g.defineProperty("LinkSourceDate",{get:function(){return this._data.LinkSourceDate}}),g.defineProperty("LinkTargetDate",{get:function(){return this._data.LinkTargetDate}}),g.defineProperty("MinimumRowHeight",{get:function(){return this._getPropertyAsNumber(this._data.MinimumRowHeight??this._data.PM_MinimumRowHeight)}}),g.defineProperty("MustEndOnColor",{get:function(){return this._getPropertyAsColorString(this._data.MustEndOnColor??this._data.PM_MustEndOnColor)}}),g.defineProperty("MustStartOnColor",{get:function(){return this._getPropertyAsColorString(this._data.MustStartOnColor??this._data.PM_MustStartOnColor)}}),g.defineProperty("NonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.NonworkingTimeColor??this._data.PM_NonworkingTimeColor)}}),g.defineProperty("PredictedEndColor",{get:function(){return this._getPropertyAsColorString(this._data.PredictedEndColor??this._data.PM_PredictedEndColor)}}),g.defineProperty("ProgressBackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressBackgroundColor??this._data.PM_ProgressBackgroundColor)}}),g.defineProperty("ProgressColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressColor??this._data.PM_ProgressColor)}}),g.defineProperty("ProgressNonworkingTimeColor",{get:function(){return this._getPropertyAsColorString(this._data.ProgressNonworkingTimeColor??this._data.PM_ProgressNonworkingTimeColor)}}),g.defineProperty("RightBarSymbolHeight",{get:function(){return this._getPropertyAsFiniteNumber(this._data.RightBarSymbolHeight??this._data.PM_RightBarSymbolHeight)}}),g.defineProperty("RightBarSymbolID",{get:function(){return this._data.RightBarSymbolID??this._data.PM_RightBarSymbolID}}),g.defineProperty("RightBarSymbolWidth",{get:function(){return this._getPropertyAsFiniteNumber(this._data.RightBarSymbolWidth??this._data.PM_RightBarSymbolWidth)}}),g.defineProperty("RowDesign",{get:function(){return this._getPropertyAsNumber(this._data.RowDesign??this._data.PM_RowDesign)}}),g.defineProperty("RowSelectable",{get:function(){var e=this._data.RowSelectable??this._data.PM_RowSelectable;return null==e?void 0:!!e}}),g.defineProperty("RowSymbolColumnBackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.RowSymbolColumnBackgroundColor??this._data.PM_RowSymbolColumnBackgroundColor)}}),g.defineProperty("RowSymbolIDs",{get:function(){let e=this._data.RowSymbolIDs??this._data.PM_RowSymbolIDs;return Array.isArray(e)?e:void 0}}),g.defineProperty("RowTooltipTemplateID",{get:function(){return this._data.RowTooltipTemplateID??this._data.PM_RowTooltipTemplateID}}),g.defineProperty("SnapTargetsForStart",{get:function(){var e=this._data.SnapTargetsForStart??this._data.PM_SnapTargetsForStart;return 0===e?void 0:+e||void 0}},void 0,0),g.defineProperty("SnapTargetsForEnd",{get:function(){var e=this._data.SnapTargetsForEnd??this._data.PM_SnapTargetsForEnd;return 0===e?void 0:+e||void 0}},void 0,0),g.defineProperty("SortCode",{get:function(){return this._data.SortCode??this._data.PM_SortCode}}),g.defineProperty("StartIsSnapTarget",{get:function(){var e=this._data.StartIsSnapTarget??this._data.PM_StartIsSnapTarget;return null==e?void 0:!!e}},void 0,!0),g.defineProperty("Status1Color",{get:function(){return this._getPropertyAsColorString(this._data.Status1Color??this._data.PM_Status1Color)}}),g.defineProperty("Status1Visible",{get:function(){var e=this._data.Status1Visible??this._data.PM_Status1Visible;return null==e?void 0:!!e}}),g.defineProperty("Status2Color",{get:function(){return this._getPropertyAsColorString(this._data.Status2Color??this._data.PM_Status2Color)}}),g.defineProperty("Status2Visible",{get:function(){var e=this._data.Status2Visible??this._data.PM_Status2Visible;return null==e?void 0:!!e}}),g.defineProperty("Status3Color",{get:function(){return this._getPropertyAsColorString(this._data.Status3Color??this._data.PM_Status3Color)}}),g.defineProperty("Status3Visible",{get:function(){var e=this._data.Status3Visible??this._data.PM_Status3Visible;return null==e?void 0:!!e}}),g.defineProperty("Status4Color",{get:function(){return this._getPropertyAsColorString(this._data.Status4Color??this._data.PM_Status4Color)}}),g.defineProperty("Status4Visible",{get:function(){var e=this._data.Status4Visible??this._data.PM_Status4Visible;return null==e?void 0:!!e}}),g.defineProperty("StatusFrameColor",{get:function(){return this._getPropertyAsColorString(this._data.StatusFrameColor??this._data.PM_StatusFrameColor)}}),g.defineProperty("StatusFrameVisible",{get:function(){var e=this._data.StatusFrameVisible??this._data.PM_StatusFrameVisible;return null==e?void 0:!!e}},void 0,!1),g.defineProperty("TableColor",{get:function(){return this._getPropertyAsColorString(this._data.TableColor??this._data.PM_TableColor)}}),g.defineProperty("TableRowDefinitionID",{get:function(){return this._data.TableRowDefinitionID??this._data.PM_TableRowDefinitionID}}),g.defineProperty("TableTextColor",{get:function(){return this._getPropertyAsColorString(this._data.TableTextColor??this._data.PM_TableTextColor)}}),g.defineProperty("TextColor",{get:function(){return this._getPropertyAsColorString(this._data.TextColor??this._data.PM_TextColor)}}),g.defineProperty("TopLeftBarSymbolID",{get:function(){return this._data.TopLeftBarSymbolID??this._data.PM_TopLeftBarSymbolID}}),g.defineProperty("TopRightBarSymbolID",{get:function(){return this._data.TopRightBarSymbolID??this._data.PM_TopRightBarSymbolID}}),g.defineProperty("PredictedEnd",{get:function(){return this._data.PredictedEnd}}),g.defineProperty("Progress",{get:function(){var e=this._data.Progress;return"number"==typeof e?e:void 0}}),g.defineProperty("SuitableActivityIDs",{get:function(){var e=this._data.SuitableActivityIDs;return Array.isArray(e)?e:void 0}}),g.defineProperty("SuitableResourceIDs",{get:function(){var e=this._data.SuitableResourceIDs;return Array.isArray(e)?e:void 0}}),g.defineProperty("TableText",{get:function(){return this._data.TableText||this._data.Name}}),e.exports=p.rabAllocation},8270:(e,t,i)=>{var a=i(3571),n=i(6248),o={};a.nClassFactory.extendClass(o,"rabAllocationEntry",n,{construct:function(e,t,i,a){"use strict";this._super(e,t,i,a)},_getDefaultObjectPropName:function(){return"defaultValuesForAllocationEntryProperties"}});var r=o.rabAllocationEntry;e.exports=r},8327:(e,t,i)=>{var a=i(3571).nClassFactory,n=i(6998),o=n.ItemType,r=n.ViewType,s=n._AllocationBarDesignFlags,l=n._allocationBarShapesMap,c=i(1049),d=(i(8270),"rabAllocationEntryTimeItem"),u={construct:function(e,t,i,a,n){"use strict";this._super(o.AllocationEntry,e,t,i,a,n)},_determineBarInteractions:function(e,t){return(this.rab_parentItem||this._bridgedParentItem).rab_allocationBarDesignFlags===s.Entries&&(this.markable=!0,e.isAllocationEditable(t))?this._viewType===r.Activities?t.AllowedBarDragModesInActivitiesView:t.AllowedBarDragModes:(this.markable=!1,this._super(e,t))},_updateBarShape:function(e){this._super(e??l[this.getAPIOption("defaultAllocationBarShape")])}},p={};a.extendClass(p,d,c,u),e.exports=p[d]},1218:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nPropertyComposer,r=i(5674).DisplayedElements,s=i(6998),l=s.ItemType,c=s.ViewType,d=i(7428),u=(i(6266),{construct:function(e,t,i,a,n){"use strict";this.__ignoreUpdateFromReference=!0,this._cachedTimeItem?(this._cachedTimeItem.construct(e,t,i,this,null),delete this._cachedTimeItem._dbgIsDisposed,delete this._cachedTimeItem):t._createItem(e,l.Allocation,this,i),this._super(l.AllocationRow,e,t,i,a,void 0,n),delete this.__ignoreUpdateFromReference,e===c.Resources&&(this.calendar="fromParentRow",this.dateAreas="fromParentRow")},dispose:function(e){"use strict";this._cachedTimeItem=this.timeItems?.[0],this._cachedTimeItem?.dispose(e),this._super(e)},isResourceRelevant:function(){return!0},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),this._super())},getChildItemsPropNameInParent:function(){return this||this._super(),"leafRowItems"},enrichObject:function(){"use strict";this.expandedDisplayedElements=r.Bars|r.CalendarGrid,this.initiallyCollapsed=!1,this.collapsible=!1},updateFromReference:function(e){"use strict";var t,i,a=this._super(e),n=this.data(),r=n.model();if(void 0===this.__ignoreUpdateFromReference&&this.timeItems?.[0]?.updateFromReference(e),this.tableRowDefinitionID=n.TableRowDefinitionID,null!=this.tableRowDefinitionID&&(this.tableRowDefinitionID=this.tableRowDefinitionID.toString()),this.selectable=n.RowSelectable,this.expandedDisplayedElements=n.RowDesign,this.collapsedDisplayedElements=this.expandedDisplayedElements,this.minimumHeight=n.MinimumRowHeight,this._viewType===c.Activities){var s,l=r.resourceByID(o.compose(n,["ResourceRole","ResourceID"]))||null;e&&e.ignoreCalendar?s=r._defaultNonWorkingTimeCalendar:l&&(s=r.calendarByResource(l)),this.calendar=s?s.nCalendar:void 0;var d=l?r.periodHighlighterByID(l.PeriodHighlighterID):void 0;this.dateAreas=d&&d.dateAreaDefinitions}switch(this._viewType){case c.Activities:var u=r.activityByID(o.compose(n,["ActivityRole","ActivityID"]))||null;u&&(t=r.getTopmostObject(u));break;case c.Resources:(l=r.resourceByID(o.compose(n,["ResourceRole","ResourceID"]))||null)&&(t=r.getTopmostObject(l))}return t&&void 0===(i=t.ViewArea)&&(i=t.HorizontalBodyViewArea),this.atTheTop=-1===i,this.rab_tableColor=n.TableColor,a},getPossiblyActivityDependentPropValues:function(e){var t,i=this.data(),a=function(a){return void 0===t&&(t=i.model().activityByID(o.compose(i,["ActivityRole","ActivityID"]))||null),t?t[a]:e},n=function(e){return i&&(i[e]??a(e))},r=function(e){var t={[i?.[e]??""]:!0};this.timeItems?.[0]?.rabvm_childTimeItems?.forEach((i=>{t[i[e]||"undefined"]=!0}));let n=Object.keys(t).join(",");return"undefined"!==n?n:a(e)};return{progress:this.progress,start:this.start?.getTime(),end:this.end?.getTime(),BorderColor:n("BorderColor"),BorderWidth:n("BorderWidth"),BorderDashArray:n("BorderDashArray"),Color:i&&r.call(this,"Color"),NonWorkingTimeColor:i&&r.call(this,"NonworkingTimeColor")}},getAllocationTimeItemForLinkRelationType:function(e){"use strict";if(Array.isArray(this.timeItems)&&this.timeItems.length>0)return this.timeItems[0].getAllocationTimeItemForLinkRelationType(e)}}),p={};n.extendClass(p,"rabAllocationRowItem",d,u),e.exports=p.rabAllocationRowItem},4669:(e,t,i)=>{i(6699),i(7658);var a=i(3571),n=a.nClassFactory,o=a.nPropertyComposer,r=i(5674),s=r.BarInteractions,l=r.BarShape,c=r.BarType,d=r.ConstraintType,u=i(6998),p=u.AllocationBarDesign,h=u.ItemType,g=u.ViewType,m=u._AllocationBarDesignFlags,f=u._allocationBarShapesMap,_=u._LinkTypeFlags,b=i(7546),v=(i(6266),i(3567)),y={construct:function(e,t,i,a,n){"use strict";this.rab_propNames={},this.rab_propNames.Start="Start",this.rab_propNames.End="End",this._super(h.Allocation,e,t,i,a,void 0,n),this.respectingCalendar=!0},postUpdateSelf:function(){"use strict";if(this.getAPIOption("updateOptimizationEnabled")){var e=this.data();e&&!e.rab_modificationClassification&&this._super()}else this._super()},updateFromReference:function(e){"use strict";var t=this,i=this._super(e),a=this.data(),n=a.model(),r=!this.getAPIOption("decouplingOfAllocationPropertiesFromActivities")&&void 0;if(this.barInteractions=s.None,n.isAllocationEditable(a)&&(this.barInteractions=this._viewType===g.Activities?a.AllowedBarDragModesInActivitiesView:a.AllowedBarDragModes),this.marked=a.StatusFrameVisible,delete this.leftCaptionOffset,a.BarTextPrefixSymbolID){var _=a.BarTextPrefixSymbolWidth;0===_||_||(_=v.prototype._barSymbolExtent),_=+_,!isNaN(_)&&isFinite(_)&&_>0&&(this.leftCaptionOffset=_)}this.snapTargetsForStart=a.SnapTargetsForStart,this.snapTargetsForEnd=a.SnapTargetsForEnd,this.startIsSnapTarget=a.StartIsSnapTarget,this.endIsSnapTarget=a.EndIsSnapTarget,this.progress=a.Progress,null==this.progress&&void 0===r&&(r=n.activityByID(o.compose(a,["ActivityRole","ActivityID"]))||!1)&&(this.progress=r.Progress),null!=a.ProgressBackgroundColor&&""!==a.ProgressBackgroundColor||null!=this.getAPIOption("defaultAllocationProgressBackgroundColor")&&""!==this.getAPIOption("defaultAllocationProgressBackgroundColor")?this.progressBackgroundVisible=!0:this.progressBackgroundVisible=!1,this.predictedEnd=n.dateTimeValueToDate(a.PredictedEnd),this.selectable=a.BarSelectable;let b=this.rab_barShape;this.rab_barShape=a.BarShape??f[this.getAPIOption("defaultAllocationBarShape")],this.barShape="rabSymbol"===this.rab_barShape?l.Diamond:this.rab_barShape,this.barType=this.rab_barShape===l.Diamond||"rabSymbol"===this.rab_barShape?c.Single:c.StartEnd,delete this.start,delete this.end;var y=this.barType===c.Single||this.rab_barShape===l.Summary?p.Allocation:a.BarDesign;null==y&&(y=this.getAPIOption("defaultAllocationBarDesign")),this.rab_allocationBarDesignFlags=u._convertAllocationBarDesignToFlags(y);var A=a.areEntriesExistent();this.barType===c.Single||A||(this.rab_allocationBarDesignFlags=m.StartEnd),t.rabvm_areChildTimeItemsVisible=this.barType!==c.Single&&this.rab_allocationBarDesignFlags&(m.StartEnd|m.Grouped|m.Merged),this.rabvm_childTimeItems?.length?this.rabvm_childTimeItems.forEach((e=>{if(Object.values(h).includes(e.rab_itemType)){var i=e.start;i&&(!t.start||i<t.start)&&(t.start=new Date(i));var a=e.end;a&&(!t.end||a>t.end)&&(t.end=new Date(a))}})):A&&a.Entries.forEach((e=>{var t=n.dateTimeValueToDate(e.Start);t&&(!this.start||t<this.start)&&(this.start=t);var i=n.dateTimeValueToDate(e.End);i&&(!this.end||i>this.end)&&(this.end=i)})),this.start||this.end||(void 0===r&&(r=n.activityByID(o.compose(a,["ActivityRole","ActivityID"]))||!1),r&&(this.start=n.dateTimeValueToDate(r.Start),this.end=n.dateTimeValueToDate(r.End)));var T=this.zOrder;this.start&&(this.end||this.barType===c.Single)?this.zOrder=this.rab_allocationBarDesignFlags&(m.Entries|m.Grouped)?"twice":1:(delete this.barShape,delete this.zOrder);var w=this.barHeight;this.barHeight=a.BarHeight,this.barTopOffset=a.BarTopOffset,this.barShape===b&&this.zOrder===T&&this.barHeight===w||!this.childTimeItems||this.childTimeItems.forEach((e=>{e.updateFromReference()})),this.constraints?this.constraints.length=0:this.constraints=[];var C=this.getAPIOption("detailedAllocationConstraintSymbolsEnabled"),I=this.getAPIOption("defaultAllocationConstraintSymbolColor");return[["EarliestStart",d.StartNoEarlierThan],["LatestStart",d.StartNoLaterThan],["MustStartOn",d.MustStartOn],["EarliestEnd",d.EndNoEarlierThan],["LatestEnd",d.EndNoLaterThan],["MustEndOn",d.MustEndOn]].forEach((e=>{let t=n.dateTimeValueToDate(a[e[0]]);t&&this.constraints.push({type:C?e[1]:void 0,date:t,color:a[`${e[0]}Color`]||I})})),this.linkSourceDate=n.dateTimeValueToDate(a.LinkSourceDate),this.linkTargetDate=n.dateTimeValueToDate(a.LinkTargetDate),this.opacity=a.BarOpacity,i},getAllocationTimeItemForLinkRelationType:function(e){"use strict";return this.rab_allocationBarDesignFlags===m.Entries&&Array.isArray(this.childTimeItems)&&this.childTimeItems.length>0?e&_.TargetEnd?this.childTimeItems[this.childTimeItems.length-1]:this.childTimeItems[0]:this}},A={};n.extendClass(A,"rabAllocationTimeItem",b,y);var T=A.rabAllocationTimeItem;Object.defineProperty(T.prototype,"childTimeItems",{get:function(){return this.rabvm_areChildTimeItemsVisible?this.rabvm_childTimeItems:void 0}}),e.exports=T},713:(e,t,i)=>{i(7658),i(6699),i(1703);var a=i(5549),n=i(9990),o=i(3571),r=o.nClass,s=o.nClassFactory,l=o.nDateHelper,c=o.nDefaultSeparator,d=o.nLocale,u=o.nLocales,p=o.nSubsequentIDGenerator,h=o.nTextLocalizer,g=o.nPrimaryKeyManager,m=i(5674),f=m.nCalendarHelper,_=m.TimeType,b=i(6998),v=b._GroupTableRowDefinitionID,y=b.DateLineCaptionPosition,A=b.HorizontallyScrollableViewArea,T=b.HorizontalScrollPosition,w=b.ItemType,C=b.ObjectType,I=b.RAB_ACTIVITIES_PROP_NAME,R=b.RAB_ALLOCATIONS_PROP_NAME,D=b.RAB_CALENDARS_PROP_NAME,S=b.RAB_CALENDAR_GRIDS_PROP_NAME,O=b.RAB_CURVES_PROP_NAME,P=b.RAB_ENTITIES_PROP_NAME,E=b.RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME,M=b.RAB_LINKS_PROP_NAME,V=b.RAB_PERIOD_HIGHLIGHTERS_PROP_NAME,B=b.RAB_RESOURCES_PROP_NAME,N=b.TimescaleInteractionModes,k=b.TimescaleNavigationMode,W=b.TimescaleNavigationModeToVersionMap,F=b.UpdateModes,L=b.VerticallyScrollableViewArea,x=b.VerticalScrollPosition,H=b.ViewType,j=b.VisualType,G=b.DateLineCaptionOrientation,U=b.PrimaryKeyInfos,z=b.RelationshipInfos,K=i(219),Y=i(8233),q=i(4555),X=i(8588),Q=i(3567),Z={ViewTitle_Activities:"Activities",ViewTitle_Resources:"Resources",ViewTitle_Entities:"Entities"},$={construct:function(e){"use strict";this._invariantDateTimeFormat=n.utcFormat?n.utcFormat("%Y-%m-%dT%H:%M:%SZ"):n.time.format.utc("%Y-%m-%dT%H:%M:%SZ"),this._invariantDateTimeFormatParse=n.utcParse?n.utcParse("%Y-%m-%dT%H:%M:%SZ"):n.time.format.utc("%Y-%m-%dT%H:%M:%SZ").parse,this._initOptions(e),this._optionsCollector=new this._options.optionsCollectorClass(this),h.registerAppID("RAB"),h.registerLocalization("RAB","",Z),h.registerLocalization("RAB","de",Z),this._title=this._options.title,this._model=new this._options.modelClass(this,this._options.modelOptions),this._view=new this._options.viewClass(this,this._model,this._options.viewOptions),this._viewInitialized=!1,this._withinFirstCodeSequence=!0,window.setTimeout((function(){this._withinFirstCodeSequence=!1}),0),this._clearCache(),this._symbolsMap={},this._dateLinesMap={},this._tooltipTemplatesMap={},this._tableRowDefinitionsMap={},this._nonWorkingTimeCalendarIsDirty=!1,this._locale=new d,this._viewType=H.Activities;var t=this.handleAPIOptionChanged.bind(this);["locale","language","weekNumbering","editable","firstDayOfWeek"].forEach((e=>this.setAPIOptionChangedCallback(e,1,t)))},destroy:function(){"use strict";void 0!==this._renderTimerID&&(window.clearTimeout(this._renderTimerID),delete this._renderTimerID),this._view?.destroy(),delete this._view,this._model?.destroy(),delete this._model,delete this._optionsCollector,delete this._symbolsMap,delete this._dateLinesMap,delete this._tooltipTemplatesMap,delete this._tableRowDefinitionsMap},init:function(){"use strict";this._model.init(null)},_handleWarning:function(){},setAPIOption:function(e,t,i){"use strict";this._optionsCollector.setOption(e,t,i)},getAPIOption:function(e){"use strict";return this._optionsCollector.getOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this._optionsCollector.setCallback(e,t,i)},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"locale":this._locale.locale(t);break;case"language":this._locale.language(t);break;case"weekNumbering":this._locale.weekNumbering(t);break;case"editable":this._view.setOption(e,t,i),this._removeAllDateLinesFromGanttViews(),this._initializeDateLinesForView();break;case"firstDayOfWeek":this._locale.firstDayOfWeek(t)}},handleAPIOptionPostprocessing:function(){"use strict";this._renderOnIdle()},_initOptions:function(e){"use strict";var t={appIDForTextLocalizer:"RAB",d3TimeFormatEnabled:!1,modelOptions:{},viewOptions:{},viewModelOptions:{},ganttViewOptions:{ganttWidget:{timescaleInteractionsEnabled:!0,timescaleInteractionMode:N.Default,automaticCalculationOfSubRowIndexesOfBarsInRow:!1,barSelectionFramesShownWithHigherZOrder:!0,timescaleSmartNavigationVersion:W[k.Latest]}},optionsCollectorClass:K,modelClass:Y,viewClass:q,viewModelClass:X,ganttViewClass:Q,boundHandleExceptionFunc:null,widget:null,fullScreenGanttViewElem:null,timeAxisResolutionUnit:null,timeAxisPixelsPerResolutionUnit:null};this._options=a.extend({},t,e),e.modelOptions&&(this._options.modelOptions=a.extend({},t.modelOptions,e.modelOptions)),e.viewModelOptions&&(this._options.viewModelOptions=a.extend({},t.viewModelOptions,e.viewModelOptions)),e.viewOptions&&(this._options.viewOptions=a.extend({},t.viewOptions,e.viewOptions)),e.ganttViewOptions&&(this._options.ganttViewOptions=a.extend({},t.ganttViewOptions,e.ganttViewOptions),e.ganttViewOptions.ganttWidget&&(this._options.ganttViewOptions.ganttWidget=a.extend({},t.ganttViewOptions.ganttWidget,e.ganttViewOptions.ganttWidget))),e.boundHandleExceptionFunc||(this._options.boundHandleExceptionFunc=function(e){throw e})},options:function(){return a.extend({},this._options)},getOption:function(e){return this._options[e]},optionsCollector:function(){"use strict";return this._optionsCollector},model:function(){"use strict";return this._model},view:function(){"use strict";return this._view},title:function(){"use strict";return this._title},locale:function(){return this._locale},textByIndex:function(e){"use strict";return h.localize(this._options.appIDForTextLocalizer,e)},dateTimeStringToDate:function(e){"use strict";if(this.getAPIOption("relativeDateModeEnabled"))return l.relativeDateTimeStringToDate(e,this.getAPIOption("referenceDate"));if(this._options.d3TimeFormatEnabled){var t=this._invariantDateTimeFormatParse(e);return t&&t.getFullYear()<2e3&&t.setFullYear(t.getFullYear()+100),t}return new Date(e)},dateToDateTimeString:function(e){"use strict";return this._invariantDateTimeFormat(e)},localDateToDateTimeString:function(e){"use strict";var t=u.locale();return(n.timeFormat?n.timeFormat:n.time.format)(t.date+" "+t.patterns.T)(e)},localDateToDateString:function(e){"use strict";return(n.timeFormat?n.timeFormat:n.time.format)(u.locale().date)(e)},_getObjectDataForObjects:function(e){return e.map((e=>e.data()))},_addObject:function(e,t,i){"use strict";var a=this;if("object"==typeof e){var n=a.model()[i](e);return n&&a.view()&&a.view()[i](n),n}},supplementDifferentialObject:function(e,t){"use strict";let i=this.getAPIOption("resetValueForDifferentialUpdate");Object.keys(t).forEach((a=>{if("ID"!==a){let n=e[a];void 0===n?e[a]=t[a]:n===i&&delete e[a]}}))},_updateObject:function(e,t,i,a,n){"use strict";var o=this,r=o.model().getChildByData(t,e);if(!r&&a)o._addObject(e,t,a),r=o.model().getChildByData(t,e);else if(r){n&F.DifferentialValues&&o.supplementDifferentialObject(e,r.data()),o.getAPIOption("updateOptimizationEnabled")&&r.classifyModification(e,t,r.ID);var s=o.view();s&&s[i](r,"before"),o.model()[i](r,e),s&&s[i](r,"after")}return r},_removeObject:function(e,t,i,a){"use strict";var n=this,o=n.model().getChildByPrimaryKey(t,e);if(o){var r=n.view();r?r[i](e,a):n.model()[i](o)}},_dedupeAndSortObjects:function(e,t,i,a){"use strict";var n=this;let o=n.model();e=e.slice();let r=a&F.DifferentialValues,s=a&F.ImplicitAddObjects;if(i||!r){let a={},r=[];e.forEach((function(e,l){let c=e.ID,d=a[c];if(void 0!==d){let a=i||s&&!o.getChildByData(t,e);r.push(a?l:d),n._handleWarning(`Object with ID "${c}" is duplicate in array!`)}a[c]=l})),r.sort(((e,t)=>t-e)).forEach((t=>{e.splice(t,1)}))}return e},_addObjects:function(e,t,i){"use strict";var a=this,n=a._view?a._view.ganttViews()[0]:void 0,o=n?n.viewModel():void 0;n&&o.invalidateAllRowsIfEmpty(n);var r,s,l=!a._model.getChildrenArray(t).length;if(l&&o){let e;switch(t){case I:n.viewType()===H.Activities&&(e="compareRowItemsFunc");break;case R:e="compareAllocationRowItemsFunc";break;case P:n.isEntitiesTableVisible()&&(e="compareEntityRowItemsFunc");break;case B:n.viewType()===H.Resources&&(e="compareRowItemsFunc")}if(o.getOption(e)){void 0!==(r={[I]:w.ActivityRow,[R]:w.AllocationRow,[P]:w.Entity,[B]:w.Resource}[t])&&o.checkPlacementOfChildItemsSuppressed(!0,r)}}e=a._dedupeAndSortObjects(e,t,!0,0),l||(s={}),a._tryToAddOrUpdateObjectsConcerningCycles(e,t,s,(function(e,t){return a._addObject(e,t,i)})),n&&(a.determineVisibilityOfUpdatedObjectsInView(n,t,s,!0),void 0!==r?o.checkPlacementOfChildItemsSuppressed(!1,r):o.autoInvalidateRows(n,t===P?H._Entities:n.viewType()),n.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()),a._renderOnIdle()},_updateObjects:function(e,t,i,a){"use strict";var n=this,o=!n._model.getChildrenArray(t).length,r=n._view.ganttViews(),s=(a=a??n.getAPIOption("defaultUpdateMode"))&F.ImplicitAddObjects;s&&r.forEach((function(e){e.viewModel().invalidateAllRowsIfEmpty(e)})),e=n._dedupeAndSortObjects(e,t,!1,a);var l,c=s?"add"+i:void 0,d="update"+i;o||(l={}),n._tryToAddOrUpdateObjectsConcerningCycles(e,t,l,(function(e,t){return n._updateObject(e,t,d,c,a)})),n._viewInitialized&&r.forEach((function(e){n.determineVisibilityOfUpdatedObjectsInView(e,t,l,!0);let i=t===P,a=[D,V].includes(t);a&&e.ganttWidget().deactivateInvalidationOfSubRowIndexesOfBarsInRows(!0),e.viewModel().autoInvalidateRows(e,i?H._Entities:e.viewType()),a?e.ganttWidget().deactivateInvalidationOfSubRowIndexesOfBarsInRows(!1):i||e.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()})),n._renderOnIdle()},_tryToAddOrUpdateObjectsConcerningCycles:function(e,t,i,a){"use strict";var n=this;if(e?.length>0){let o=[];if(this._pendingObjects=o,e.forEach((function(e){var o=a.call(n,e,t);o&&i&&(i[o.ID]=!0)})),e.length===o.length){let e=U[t],i=z[t][0];throw o.forEach((function(t){let a=g.getPrimaryKeyByPrimaryKeyNames(t,e),o=g.getPrimaryKeyByRelationshipInfo(t,i);n._handleWarning(`Relationship primary key "${o}" at object with primary key "${a}" leads to cycle!`)})),new Error("Object relationships lead to one or more cycles!")}o.length>0&&n._tryToAddOrUpdateObjectsConcerningCycles(o,t,i,a)}},registerPendingObjectData:function(e){"use strict";this._pendingObjects&&this._pendingObjects.push(e)},_removeObjects:function(e,t,i,a){"use strict";var n,o=this,r=o._model,s=(n=void 0!==t?e.map((e=>"string"==typeof e?(t||"")+c+e:(e.Role||"")+c+e.ID)):e.map((e=>"string"==typeof e?e:e.ID))).length===r.getChildrenArray(i).length&&n.every((e=>!!r.getChildByPrimaryKey(i,e)));n.forEach((e=>{o._removeObject(e,i,a,s)})),o._viewInitialized&&o._view.ganttViews().forEach((function(e){e.viewModel().autoInvalidateRows(e,i===P?H._Entities:e.viewType()),e.ganttWidget().calculateInvalidSubRowIndexesOfBarsInRows()})),o._renderOnIdle()},_updateSelectedActivities:function(){"use strict";this._viewInitialized&&this._view.ganttViews().forEach((function(e){if(e.viewType()===H.Activities){var t=e.getSelectedObjectsAndType();t.itemType===w.Activity&&e.selectOrHighlightObjects(t.itemType,t.objects)}}))},_updateSelectedAllocations:function(){"use strict";this._viewInitialized&&this._view.ganttViews().forEach((function(e){if(e.viewType()===H.Resources){var t=e.getSelectedObjectsAndType();t.itemType===w.Allocation&&e.selectOrHighlightObjects(t.itemType,t.objects)}}))},addResources:function(e){"use strict";var t=this;t._addObjects(e,B,"addResource"),t._saveCalendarIDsOnAddedObjects(e,B),t._updateSelectedAllocations(),t._nonWorkingTimeCalendarIsDirty=!0},updateResources:function(e,t){"use strict";var i=this,a=i._saveSavedCalendarIDs(e,B);i._updateObjects(e,B,"Resource",t),i._updateSelectedAllocations(),i._checkSavedCalendarIDsOfUpdatedObjects(e,B,a)},removeResources:function(e){"use strict";this._removeObjects(e,"",B,"removeResource"),this._updateSelectedAllocations(),this._nonWorkingTimeCalendarIsDirty=!0},addCalendars:function(e){"use strict";this._addObjects(e,D,"addCalendar"),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},updateCalendars:function(e,t){"use strict";this._updateObjects(e,D,"Calendar",t),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},removeCalendars:function(e){"use strict";this._removeObjects(e,void 0,D,"removeCalendar"),this._nonWorkingTimeCalendarIsDirty=!0,this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar(e)},addCurves:function(e){"use strict";this._addObjects(e,O,"addCurve")},updateCurves:function(e,t){"use strict";this._updateObjects(e,O,"Curve",t)},removeCurves:function(e){"use strict";this._removeObjects(e,void 0,O,"removeCurve")},addActivities:function(e){"use strict";var t=this;t._addObjects(e,I,"addActivity"),t._saveCalendarIDsOnAddedObjects(e,I),t._updateSelectedActivities(),t._nonWorkingTimeCalendarIsDirty=!0},updateActivities:function(e,t){"use strict";var i=this,a=i._saveSavedCalendarIDs(e,I);i._updateObjects(e,I,"Activity",t),i._checkSavedCalendarIDsOfUpdatedObjects(e,I,a),i._updateSelectedActivities(),i._nonWorkingTimeCalendarIsDirty=!0},removeActivities:function(e){"use strict";this._removeObjects(e,"",I,"removeActivity"),this._updateSelectedActivities(),this._nonWorkingTimeCalendarIsDirty=!0},addAllocations:function(e){"use strict";this._addObjects(e,R,"addAllocation")},updateAllocations:function(e,t){"use strict";this._updateObjects(e,R,"Allocation",t)},removeAllocations:function(e){"use strict";this._removeObjects(e,"",R,"removeAllocation")},getAllocationsForActivity:function(e){"use strict";var t="string"==typeof e?e:e.ID,i="string"==typeof e?void 0:e.Role;return this._getObjectDataForObjects(this.model().getAllocationsForActivityOrResource(C.Activity,t,i))},getAllocationsForResource:function(e){"use strict";var t="string"==typeof e?e:e.ID,i="string"==typeof e?void 0:e.Role;return this._getObjectDataForObjects(this.model().getAllocationsForActivityOrResource(C.Resource,t,i))},addLinks:function(e){"use strict";this._addObjects(e,M,"addLink")},updateLinks:function(e,t){"use strict";this._updateObjects(e,M,"Link",t)},removeLinks:function(e){"use strict";this._removeObjects(e,"",M,"removeLink")},addEntities:function(e){"use strict";this._addObjects(e,P,"addEntity")},updateEntities:function(e,t){"use strict";this._updateObjects(e,P,"Entity",t)},removeEntities:function(e){"use strict";this._removeObjects(e,void 0,P,"removeEntity")},addHierarchySupplementaryDefinitions:function(e){"use strict";this._addObjects(e,E,"addHierarchySupplementaryDefinition")},updateHierarchySupplementaryDefinitions:function(e,t){"use strict";this._updateObjects(e,E,"HierarchySupplementaryDefinition",t)},removeHierarchySupplementaryDefinitions:function(e){"use strict";this._removeObjects(e,void 0,E,"removeHierarchySupplementaryDefinition")},removeAll:function(e){"use strict";var t=this;if(t.view())if(null!=e)switch(e){case C.Resource:this.removeResources(this.model().resources());break;case C.Calendar:var i=[];this.model().calendars().forEach((function(e){i.push({ID:e.ID})})),this.removeCalendars(i);break;case C.Activity:this.removeActivities(this.model().activities());break;case C.Allocation:this.removeAllocations(this.model().allocations());break;case C.Curve:this.removeCurves(this.model().curves());break;case C.Link:this.removeLinks(this.model().links());break;case C.Entity:this.removeEntities(this.model().entities());break;case C.PeriodHighlighter:this.removePeriodHighlighters(this.model().periodHighlighters());break;case C.Symbol:t._symbolsMap={},t._updateSymbolsInGanttView(),t._renderOnIdle();break;case C.DateLine:t._removeAllDateLinesFromGanttViews(),t._dateLinesMap={},t._renderOnIdle();break;case C.TooltipTemplate:t._tooltipTemplatesMap={};break;case C.TableRowDefinition:t._tableRowDefinitionsMap={},t._updateTableRowDefinitions(!0),t._renderOnIdle()}else t.view().removeAll(),t._symbolsMap={},t._updateSymbolsInGanttView(),t._tooltipTemplatesMap={},t._tableRowDefinitionsMap={},t._updateTableRowDefinitions(!0),t._removeAllDateLinesFromGanttViews(),t._dateLinesMap={},t._renderOnIdle()},addPseudoObject:function(e,t){"use strict";switch(t){case I:this._addObjects([e],t,"addActivity");break;case P:this._addObjects([e],t,"addEntity");break;case B:this._addObjects([e],t,"addResource")}},determineVisibilityOfObjects:function(e){"use strict";var t=this;t.view()&&(e?[e]:t.view().ganttViews()).forEach((function(e){t.determineVisibilityOfUpdatedObjectsInView(e,B,void 0,!1,!0),t.determineVisibilityOfUpdatedObjectsInView(e,I,void 0,!1,!0),t.determineVisibilityOfUpdatedObjectsInView(e,R,void 0,!1,!0),t.determineVisibilityOfUpdatedObjectsInView(e,P,void 0,!1,!0)}))},determineVisibilityOfUpdatedObjectsInView:function(e,t,i,a){"use strict";let n={[B]:w.Resource,[I]:w.ActivityRow,[R]:w.AllocationRow,[P]:w.Entity}[t];if(void 0!==n&&(e.viewModel().determineVisibilityOfRowsInView(e,i,n,t),a&&[w.ActivityRow,w.Resource].includes(n))){let t;i&&(t={},this.model().getAllocationsForActivitiesOrResources(n===w.ActivityRow?C.Activity:n,Object.keys(i)).forEach((e=>{t[e.ID]=!0}))),e.viewModel().determineVisibilityOfRowsInView(e,t,w.AllocationRow)}},addSymbols:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1;e.forEach((function(e){if(e){let a=e.ID?.toString()??"";a?t._symbolsMap[a]?t._handleWarning(`Primary key "${a}" not unique!`):(t._symbolsMap[a]=e,i=!0):t._handleWarning("Primary key empty!")}})),i&&t._updateSymbolsInGanttView()}t._renderOnIdle()},updateSymbols:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var a=(t=t??i.getAPIOption("defaultUpdateMode"))&F.ImplicitAddObjects,n=!1;e.forEach((function(e){if("object"==typeof e){let o=e.ID?.toString()??"";if(o){let r=i._symbolsMap[o];a||r?(r&&t&F.DifferentialValues&&i.supplementDifferentialObject(e,r),i._symbolsMap[o]=e,n=!0):i._handleWarning(`Object with primary key "${o}" not registered!`)}else i._handleWarning("Primary key empty!")}})),n&&i._updateSymbolsInGanttView()}i._renderOnIdle()},removeSymbols:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){if(null!=e){var i="string"==typeof e?e:e.ID;i?delete t._symbolsMap[i]:t._handleWarning("Primary key empty!")}})),t._updateSymbolsInGanttView()),t._renderOnIdle()},_updateSymbolsInGanttView:function(){"use strict";var e=this,t=e._viewInitialized&&e._view.ganttViews();t&&t[0].updateSymbols(e._symbolsMap)},symbolsMap:function(){"use strict";return this._symbolsMap},_getSymbolsData:function(){"use strict";var e=this,t=[];return Object.keys(this._symbolsMap).forEach((function(i){t.push(a.extend({},e._symbolsMap[i]))})),t},addTooltipTemplates:function(e){"use strict";var t=this;Array.isArray(e)&&e.forEach((function(e){if("object"==typeof e){let i=e.ID?.toString()??"";i?t._tooltipTemplatesMap[i]?t._handleWarning(`Primary key "${i}" not unique!`):t._tooltipTemplatesMap[i]=e:t._handleWarning("Primary key empty!")}}))},updateTooltipTemplates:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var a=(t=t??i.getAPIOption("defaultUpdateMode"))&F.ImplicitAddObjects;e.forEach((function(e){if("object"==typeof e){let n=e.ID?.toString()??"";if(n){let o=i._tooltipTemplatesMap[n];a||o?(o&&t&F.DifferentialValues&&i.supplementDifferentialObject(e,o),i._tooltipTemplatesMap[n]=e):i._handleWarning(`Object with primary key "${n}" not registered!`)}else i._handleWarning("Primary key empty!")}}))}},removeTooltipTemplates:function(e){"use strict";var t=this;Array.isArray(e)&&e.forEach((function(e){if(null!=e){var i="string"==typeof e?e:e.ID;i?delete t._tooltipTemplatesMap[i]:t._handleWarning("Primary key empty!")}}))},tooltipTemplatesMap:function(){"use strict";return this._tooltipTemplatesMap},_getTooltipTemplatesData:function(){"use strict";var e=this,t=[];return Object.keys(this._tooltipTemplatesMap).forEach((function(i){t.push(a.extend({},e._tooltipTemplatesMap[i]))})),t},addPeriodHighlighters:function(e){"use strict";this._addObjects(e,S,"addPeriodHighlighter")},updatePeriodHighlighters:function(e,t){"use strict";this._updateObjects(e,S,"PeriodHighlighter",t)},removePeriodHighlighters:function(e){"use strict";this._removeObjects(e,void 0,S,"removePeriodHighlighter")},addDateLines:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1,a=t._viewInitialized&&t._view.ganttViews();e.forEach((function(e){if(null!=e){let r=e.ID?.toString()??"";if(r)if(t._dateLinesMap[r])t._handleWarning(`Primary key "${r}" not unique!`);else{var n=p.generate(),o=t._createInternalDateLineObject(e,n);t._dateLinesMap[e.ID]=o,t._viewInitialized&&a.forEach((function(a){a.addDateLine(t._createInternalDateLineObject(e,n,a),!1),i=!0}))}else t._handleWarning("Primary key empty!")}})),i&&a.forEach((function(e){e.updateDateLinePresentations()}))}},updateDateLines:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var a=!1,n=(t=t??i.getAPIOption("defaultUpdateMode"))&F.ImplicitAddObjects,o=i._viewInitialized&&i._view.ganttViews();e.forEach((function(e){if("object"==typeof e){let u=e.ID?.toString()??"";if(u){var t=!!i._dateLinesMap[u];if(n||t){var r=i._dateLinesMap[e.ID],s=r?r.rab_ID:p.generate(),l=i._createInternalDateLineObject(e,s);if(i._dateLinesMap[u]=l,i._viewInitialized){var c=t?"updateDateLine":"addDateLine",d=!0;t&&(d=!Object.keys(l).every((function(e){var t=l[e],i=r[e];return i instanceof Date&&t instanceof Date?i.valueOf()===t.valueOf():i===t}))),d&&o.forEach((function(t){var n=i._createInternalDateLineObject(e,s,t);t[c](n,!1),a=!0}))}}else i._handleWarning(`Object with primary key "${u}" not registered!`)}else i._handleWarning("Primary key empty!")}})),a&&o.forEach((function(e){e.updateDateLinePresentations()}))}},removeDateLines:function(e){"use strict";var t=this;if(Array.isArray(e)){var i=!1,a=t._viewInitialized&&t._view.ganttViews();e.forEach((function(e){if(e){var n=("object"==typeof e?e.ID:e)?.toString()??"";if(n){var o=t._dateLinesMap[n];t._viewInitialized&&o&&a.forEach((function(e){e.removeDateLine(t._createInternalDateLineObject({},o.rab_ID,e).id,!1),i=!0})),delete t._dateLinesMap[n]}else t._handleWarning("Primary key empty!")}})),i&&a.forEach((function(e){e.updateDateLinePresentations()}))}},_initializeDateLinesForView:function(){"use strict";var e=this;let t=Object.keys(e._dateLinesMap);t.length&&e._view.ganttViews().forEach((function(i){t.forEach((function(t){var a=e._dateLinesMap[t],n=a.rab_data;i.addDateLine(e._createInternalDateLineObject(n,a.rab_ID,i),!1)})),i.updateDateLinePresentations()}))},_createInternalDateLineObject:function(e,t,i){"use strict";return{id:(i?"rab"+i.ganttWidget()._uniqueID+"_":"")+t,date:this._model.dateTimeValueToDate(e.PointInTime),label:e.Caption?e.Caption.toString():"",draggable:!!e.Draggable,labelOrientation:e.CaptionOrientation||G.Vertical,labelPosition:e.CaptionPosition||y.Left,rab_symbolID:e.SymbolID,rab_symbolHeight:e.SymbolHeight||12,rab_symbolWidth:e.SymbolWidth||12,rab_lineColor:e.Color,rab_labelColor:e.CaptionColor,rab_lineWidth:e.Width,rab_lineDashArray:e.DashArray,rab_data:e,rab_ID:t,rab_itemType:w.DateLine,inForeground:null==e.InFrontOfBars||e.InFrontOfBars}},_removeAllDateLinesFromGanttViews:function(){"use strict";var e=this,t=e.view();if(t){let i=Object.keys(e._dateLinesMap);i.length&&t.ganttViews().forEach((function(t){i.forEach((function(i){var a=e._dateLinesMap[i];t.removeDateLine("rab"+t.ganttWidget()._uniqueID+"_"+a.rab_ID,!1)})),t.updateDateLinePresentations()}))}},_getDateLinesData:function(){"use strict";var e=this,t=[];return Object.keys(this._dateLinesMap).forEach((function(i){t.push(a.extend({},e._dateLinesMap[i].rab_data))})),t},addTableRowDefinitions:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){if("object"==typeof e){let i=e.ID?.toString()??"";i?t._tableRowDefinitionsMap[i]?t._handleWarning(`Primary key "${i}" not unique!`):t._tableRowDefinitionsMap[i]=t._createInternalTableRowDefinition(e):t._handleWarning("Primary key empty!")}})),t._updateTableRowDefinitions(!0))},updateTableRowDefinitions:function(e,t){"use strict";var i=this;if(Array.isArray(e)){var a=(t=t??i.getAPIOption("defaultUpdateMode"))&F.ImplicitAddObjects,n=!1;e.forEach((function(e){if("object"==typeof e){let o=e.ID?.toString()??"";if(o){var t=i._tableRowDefinitionsMap[o];if(t||a){let a=i._createInternalTableRowDefinition(e);!t||i._isTableRowDefinitionModified(t,a)?(i._tableRowDefinitionsMap[o]=a,n=!0):t.rab_data=e}else i._handleWarning(`Object with primary key "${o}" not registered!`)}else i._handleWarning("Primary key empty!")}})),i._updateTableRowDefinitions(n)}},removeTableRowDefinitions:function(e){"use strict";var t=this;Array.isArray(e)&&(e.forEach((function(e){if(null!=e){var i=("object"==typeof e?e.ID:e)?.toString()??"";i?delete t._tableRowDefinitionsMap[i]:t._handleWarning("Primary key empty!")}})),t._updateTableRowDefinitions(!0))},_isTableRowDefinitionModified:function(e,t){"use strict";var i=e.cellDefinitions,a=t.cellDefinitions;if(!!i!=!!a)return!0;if(t.rab_backgroundColor!==e.rab_backgroundColor||t.rab_textColor!==e.rab_textColor||t.rab_titleBackgroundColor!==e.rab_titleBackgroundColor||t.rab_titleTextColor!==e.rab_titleTextColor||t.rab_symbolColumnBackgroundColor!==e.rab_symbolColumnBackgroundColor)return!0;if(i){if(i.length!==a.length)return!0;for(var n=i.length-1;n>=0;n--)if(!Object.keys(i[n]).every((function(e){var t=i[n][e],o=a[n][e];return["function","object"].indexOf(typeof t)>=0||t===o||t&&o&&t.valueOf()===o.valueOf()})))return!0}return!1},_createInternalTableRowDefinition:function(e){"use strict";var t=this,i={cellDefinitions:Array.isArray(e.CellDefinitions)?e.CellDefinitions.map((function(e){var i=+e.HorizontalAlignment,a=+e.HorizontalTitleAlignment,n={width:parseInt(e.Width),minimumWidth:parseInt(e.MinimumWidth),maximumWidth:parseInt(e.MaximumWidth),horizontalTextAlignment:isNaN(i)?void 0:i,horizontalTitleAlignment:isNaN(a)?void 0:a,titleText:e.TitleText||e.Title,wrapMode:parseInt(e.WrapMode),rab_textSource:e.TextSource,rab_symbolIDSource:e.SymbolIDSource,rab_sortSource:e.SortSource||e.TextSource,contentsFunc:function(){return t._tableRowDefinitionCellFillFunc.apply(t,arguments)},rab_backgroundColor:e.BackgroundColor,rab_backgroundColorSource:null!=e.BackgroundColorSource?e.BackgroundColorSource.toString():void 0,rab_textColor:e.TextColor,rab_textColorSource:e.TextColorSource?e.TextColorSource.toString():void 0};return isNaN(n.width)&&(n.width=200),isNaN(n.minimumWidth)&&delete n.minimumWidth,isNaN(n.maximumWidth)&&delete n.maximumWidth,null!=n.titleText&&(n.titleText=n.titleText.toString()),isNaN(n.wrapMode)&&(n.wrapMode=void 0),n.rab_sortSource=null!=n.rab_sortSource?n.rab_sortSource.toString():void 0,n.rab_symbolIDSource=null!=n.rab_symbolIDSource?n.rab_symbolIDSource.toString():void 0,n.rab_textSource=null!=n.rab_textSource?n.rab_textSource.toString():null==n.rab_symbolIDSource?"TableText":void 0,n})):null,contentsFunc:function(){return t._tableRowDefinitionRowFillFunc.apply(t,arguments)},rab_data:e,rab_backgroundColor:e.BackgroundColor,rab_textColor:e.TextColor,rab_titleBackgroundColor:e.TitleBackgroundColor,rab_titleTextColor:e.TitleTextColor,rab_symbolColumnBackgroundColor:e.SymbolColumnBackgroundColor};return i},_updateTableRowDefinitions:function(e){"use strict";var t=this;t._tableRowDefinitionsMap[v]||(t._tableRowDefinitionsMap[v]={cellDefinitions:[{rab_textSource:"TableText",contentsFunc:function(){return t._tableRowDefinitionCellFillFunc.apply(t,arguments)}}],contentsFunc:function(){return t._tableRowDefinitionRowFillFunc.apply(t,arguments)}});var i=t.view();i&&i.ganttViews().forEach((function(i){i.updateTableRowDefinitions(Object.keys(t._tableRowDefinitionsMap).length?t._tableRowDefinitionsMap:void 0,e)}))},_tableRowDefinitionCellFillFunc:function(e){"use strict";this.view().ganttViews()[0].__tableCellFillFunc(e)},_tableRowDefinitionRowFillFunc:function(e){"use strict";e.tableWidget?this.view().ganttViews()[0]._entitiesTableRowFillFunc(e):this.view().ganttViews()[0]._tableRowFillFunc(e)},tableRowDefinitionsMap:function(){"use strict";return this._tableRowDefinitionsMap},_getTableRowDefinitionsData:function(){"use strict";var e=this,t=[];return Object.keys(this._tableRowDefinitionsMap).forEach((function(i){i!==v&&t.push(a.extend({},e._tableRowDefinitionsMap[i].rab_data))})),t},calculateWorkingTime:function(e,t,i){"use strict";var a=this.model().calendarByID(e);if(!a&&e)throw new Error("Calendar not registered");return a&&(a=a.nCalendar),f.calculateWorkingTime(a,i,t)},addWorkingTime:function(e,t,i){"use strict";var a=this.model().calendarByID(e);if(!a&&e)throw new Error("Calendar not registered");if(a&&(a=a.nCalendar,(!i||"-0"===i)&&a.determineTimeType(t)===_.NonWorkingTime)){var n=a.findStartOfCurrentTimeTypeInterval(t);if(!n||n.valueOf()===t.valueOf())return new Date(t)}return f.addWorkingTime(a,t,i)},_updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar:function(e){"use strict";var t=this,i=t.model(),a=t.getAPIOption("defaultCalendarID"),n=!1;if(t._viewInitialized&&(!e||e.some((function(e){var t;if((t="string"==typeof e?i.calendarByID(e):e)&&t.ID===a)return!0})))){var o=t._view.ganttViews()[0],r=o.viewModel(),s=o.viewType(),l=function(e,t,i){var a=e.call(r,t,i);if(a&&(a.updateFromReference(),s===t))return r.registerRowItem(s,a,!0,!1),!0};if(i.getChildrenArray(B).forEach((function(e){e.CalendarID||(e.curvesChanged(),l(r.resourceItem,H.Resources,e)&&(n=!0))})),t.getAPIOption("activityCalendarsEnabled"))i.getChildrenArray(I).forEach((function(e){!e.CalendarID&&l(r.activityItem,H.Activities,e)&&(n=!0)}));var d=t.getAPIOption("allocationRowsVisibleInActivitiesView");i.getChildrenArray(R).forEach((function(e){if(e.ResourceID){var t=i.resourceByID((e.ResourceRole||"")+c+e.ResourceID);t&&!t.CalendarID&&(d&&l(r.allocationItem,H.Activities,e)&&(n=!0),l(r.allocationItem,H.Resources,e)&&(n=!0))}}))}return n&&r.autoInvalidateRows(o,s),n},_saveCalendarIDsOnAddedObjects:function(e,t){"use strict";var i=this;Array.isArray(e)&&e.forEach((function(e){var a=i._model.getChildByData(t,e);a&&(a.rab_savedCalendarID=a.CalendarID)}))},_saveSavedCalendarIDs:function(e,t){"use strict";var i=this,a=this._nonWorkingTimeCalendarIsDirty||this.getAPIOption("nonWorkingTimeVisible")?void 0:{};return a&&Array.isArray(e)&&e.forEach((function(e){var n=i._model.getChildByData(t,e);n&&(a[n.ID]=n.rab_savedCalendarID)})),a},_checkSavedCalendarIDsOfUpdatedObjects:function(e,t,i){"use strict";var a=this;Array.isArray(e)&&e.forEach((function(e){var n=a._model.getChildByData(t,e);if(n){var o=n.rab_savedCalendarID=n.CalendarID;i&&i[n.ID]!==o&&(a._nonWorkingTimeCalendarIsDirty=!0)}}))},serializeCollapseStates:function(e){"use strict";var t=this.view()?.ganttViews()[0];if(t){var i=-1===e?t.entitiesTableWidget():t.ganttWidget();if(i){var a=-1===e?t.viewModel().entitiesRowItemsRoot():t.viewModel().rowItemsRoot(e);if(a){var n=i.saveCollapseStates(a,(function(e){return e.ID}),-1===e?function(e,t){delete t.L}:function(e,t){e.rab_curvePanesVisible&&(t.c=!0)},!0);return JSON.stringify(n)}}}},deserializeCollapseStates:function(e,t){"use strict";if(t){var i=this.view()?.ganttViews()[0];if(i){var a=-1===e?i.entitiesTableWidget():i.ganttWidget();if(a){var n=-1===e?i.viewModel().entitiesRowItemsRoot():i.viewModel().rowItemsRoot(e);n&&a.restoreCollapseStates(JSON.parse(t),n,(function(e){return e.ID}),-1===e?void 0:function(t,a){a.c&&(i._expandOrCollapseCurvesInRowAtLast(t,!0,!1),e===i.viewType()&&i.invalidateRow(t))},!1)}}}},isRenderingNecessary:function(){return!!this._renderTimerID},setViewOptionIndirectly:function(e,t,i,a){"use strict";var n=this;i&&!n._viewInitialized?n._updateCache["viewType"===e?0:e.match(/ableViewWidth$/)?2:1].push({key:e,value:t}):n.view()&&n.view().setOption(e,t),a&&n._renderOnIdle()},_renderOnIdle:function(){"use strict";var e=this;void 0===e._renderTimerID&&(e._renderTimerID=setTimeout((function(){e._renderTimerID=void 0,e.render()}),1))},render:function(){"use strict";var e=this;this._nonWorkingTimeCalendarIsDirty&&(this._viewInitialized&&!this.getAPIOption("nonWorkingTimeVisible")&&this._view.ganttViews()[0].hideNonWorkingTime(!0),this._nonWorkingTimeCalendarIsDirty=!1);var t=!e._viewInitialized;t&&(this._viewInitialized=!0,this._model._handleSettings(),this._view.init()),e._updateCache[1].forEach((function(t){t.key&&e._view.setOption(t.key,t.value)})),e._updateCache[2].forEach((function(t){e._view.setOption(t.key,t.value)})),e._clearCache(),t&&(this._updateSymbolsInGanttView(),this._view.initForViewType(e._viewType),this._initializeDateLinesForView()),e._view.preRender(),void 0!==e._renderTimerID&&(clearTimeout(e._renderTimerID),e._renderTimerID=void 0),e._view.render()},measuredRenderingTime:function(){},_clearCache:function(){"use strict";this._updateCache=[[],[],[]]},scrollToObjectData:function(e,t,i,a){"use strict";var n=this;return n.isRenderingNecessary()&&n.render(),n.view()?.scrollToObjectData(e,t,i,null==a||!!a)},scrollViewAreaHorizontally:function(e,t){"use strict";var i=this;i.isRenderingNecessary()&&i.render();var a=i.view()?.ganttViews()[0];if(a){var n=t===T.Left?0:Number.MAX_VALUE;if(e===A.EntitiesTable){var o=a.entitiesTableWidget();o&&o.scrollTo(n)}else{var r,s,l=a.ganttWidget();switch(e){case A.Table:s=n;break;case A.TimeArea:r=n}l.scrollTo(s,r,void 0,void 0)}}},scrollViewAreaVertically:function(e,t){"use strict";var i=this;i.isRenderingNecessary()&&i.render();var a=i.view()?.ganttViews()[0];if(a){var n=t===x.Top?0:Number.MAX_VALUE;if(e===L.EntitiesTable){var o=a.entitiesTableWidget();o&&o.scrollTo(void 0,n)}else{var r,s,l=a.ganttWidget();switch(e){case L.Main:r=n;break;case L.Top:s=n}l.scrollTo(void 0,void 0,r,s)}}},scrollToDate:function(e,t){"use strict";var i=this;return i.isRenderingNecessary()&&i.render(),i.view()?.ganttViews()[0]?.ganttWidget().scrollTimeAreaViewToDate(e,!t,!1,t)},selectOrHighlightObjects:function(e,t,i,a){"use strict";var n=this,o=[],r=e;switch(n.getViewType()){case H.Resources:switch(e){case C.Resource:case C.Allocation:case C.Entity:case C.Link:break;default:r=void 0}break;case H.Loads:switch(e){case C.Resource:case C.Entity:break;default:r=void 0}break;case H.Activities:switch(e){case C.Activity:case C.Entity:case C.Link:break;case C.Allocation:if(n.getAPIOption("allocationRowsVisibleInActivitiesView"))break;default:r=void 0}break;default:r=void 0}i===j.Row&&(e===w.Activity?r=w.ActivityRow:e===w.Allocation&&(r=w.AllocationRow)),null!=r&&Array.isArray(t)&&t.forEach((function(e){if("string"==typeof e){var t=e.split(c);e=t.length>1?n.model().objectByID(r,t[1],t[0]):n.model().objectByID(r,t[0])}else e=n.model().objectByID(r,e.ID,e.Role);e&&o.push(e)})),this.view()?.selectOrHighlightObjects(r,o,a)},getSelectedDataObjectsAndType:function(){"use strict";var e,t=this.view();if(t){var i=t.getSelectedObjectsAndType();e={objectType:t.ganttViews()[0].getObjectTypeFromItem({rab_itemType:i.itemType}),objects:i.objects.map((function(e){return e.data()}))}}return void 0!==e.objectType&&(e.visualType=e.objectType===C.Allocation&&i.itemType!==w.AllocationRow||e.objectType===C.Activity&&i.itemType!==w.ActivityRow?j.Bar:j.Row),e},fitTimeAreaIntoView:function(e,t){"use strict";var i=this;return i.isRenderingNecessary()&&i.render(),i.view()?.ganttViews()[0].fitTimeAreaIntoView(e,t,i._withinFirstCodeSequence)},setTimeResolutionForView:function(e,t,i){"use strict";var a=this;return a.isRenderingNecessary()&&a.render(),a.view()?.ganttViews()[0].setTimeResolutionForView(e,t,i,a._withinFirstCodeSequence)},saveAsPDF:function(e,t){"use strict";return this.view().ganttViews()[0].saveAsPDF(e,t)},cancelSaveAsPDF:function(){"use strict";return this.view().ganttViews()[0].cancelSaveAsPDF()},_getSupportedPageFormatsForPrinting:function(){"use strict";return this.view().ganttViews()[0].getSupportedPageFormatsForPrinting()}},J={};s.extendClass(J,"rabApplication",r,$),e.exports=J.rabApplication},8984:(e,t,i)=>{var a=i(3571),n=i(5674),o=i(6998).RAB_CALENDAR_ENTRIES_PROP_NAME,r=n.TimeType,s=i(1207),l={postAddToParent:function(){"use strict";this._super(),this.compile()},postUpdateSelf:function(){"use strict";this._super(),this.compile()},compile:function(){"use strict";var e=this,t=new n.nCalendar(r.NonWorkingTime);this.Entries?.forEach((function(i){var a=e._model.dateTimeValueToDate(i.Start),n=e._model.dateTimeValueToDate(i.End);a&&n&&t.allocateTimeSpan(a,n,i.TimeType)})),this.nCalendar=t}},c={};a.nClassFactory.extendClass(c,"rabCalendar",s,l);var d=c.rabCalendar;Object.defineProperty(d.prototype,"Entries",{get:function(){return this.getChildrenArray(o)}}),e.exports=c.rabCalendar},3531:(e,t,i)=>{var a=i(3571),n=i(1207),o={};a.nClassFactory.extendClass(o,"rabCalendarEntry",n,{construct:function(e,t,i,a){"use strict";this._super(e,t,i,a)}});var r=o.rabCalendarEntry;Object.defineProperty(r.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(r.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(r.prototype,"TimeType",{get:function(){return null==this._data.TimeType?1:+this._data.TimeType||2}}),e.exports=r},6975:()=>{},4219:(e,t,i)=>{i(7658);var a=i(3571).nClassFactory,n=i(1008),o="rabChildItem",r={construct:function(e,t,i,a,n,o,r){"use strict";this._bridgedParentItem=n,this._super(e,t,i,a,r),this.attachToParentItem(n,o)},dispose:function(e){"use strict";this.detachFromParentItem(),this._super(e)},_createChild:function(e,t,i,a){"use strict";var n,o;if(!a){n=t;var r=this.isBridgeEnabled()&&this._bridgedParentItem?this._bridgedParentItem:this;o=t.handleParentItem?t.handleParentItem(r,e,i):r}return this._createChildAtLast(this._viewType,this._viewModel,e,o,n)},_createChildAtLast:function(e,t,i,a,n){return new(n.getClassConstructor())(e,t,i,a,n)},attachToParentItem:function(e,t){"use strict";if(e)return this.isBridgeEnabled()?void 0:e.attachChildItem(this,t)},detachFromParentItem:function(){"use strict";var e=this.getParentItem();if(e)return e.detachChildItem(this)},attachChildItem:function(e,t){"use strict";if(e)if(this.isBridgeEnabled()){if(this._bridgedParentItem)return this._bridgedParentItem.attachChildItem(e,t)}else{var i=e.getChildItemsPropNameInParent(),a=this[i];if(a||(a=this._registerProperty(i,[])),a.indexOf(e)<0){var n=e.getParentItem();return n&&n!==this&&e.detachFromParentItem(),t>=0&&t<a.length?a.splice(t,0,e):a.push(e),e.setParentItem(this),this.childItemAttached(e),this}}},detachChildItem:function(e){"use strict";var t=this[e.getChildItemsPropNameInParent()];if(t){var i=t.indexOf(e);if(i>=0)return t.splice(i,1),e.setParentItem(void 0),this.childItemDetached(e),this}},getParentItem:function(){return this[this.getParentItemPropName()]},setParentItem:function(e){"use strict";var t=this.getParentItemPropName(),i="childTimeItems"!==this.getChildItemsPropNameInParent(),a=!i||"rab_rowItem"===t;i&&this[t]&&this._viewModel.registerRowItem(this._viewType,this[t],a,!a),this[t]=e,e?this.setHierarchyLevel(e.getHierarchyLevel()+1):this.setHierarchyLevel(void 0),i&&e&&this._viewModel.registerRowItem(this._viewType,e,a,!a)},getHierarchyLevel:function(){return this.__hierarchyLevel||0},setHierarchyLevel:function(e){this.__hierarchyLevel=e},getParentItemPropName:function(){},getChildItemsPropNameInParent:function(){},getSimilarChildItems:function(){"use strict";var e=this.getChildItemsPropNameInParent();if(e)return this[e]},childItemAttached:function(e){"use strict";this._descriptor&&this._descriptor.childItemAttached(this,e)},childItemDetached:function(e){"use strict";this._descriptor&&this._descriptor.childItemDetached(this,e)},addOrRemoveChildWithParentSearch:function(e,t,i){"use strict";var a=this,n=this._descriptor;if(n)if(n.getSubDescriptor(t))switch(e){case 1:return a.addChild(t,i);case 2:var o=i.getHierarchyParent();null!=o&&o.removeChild(i)}else{var r=n.getSubDescriptorsArray();r&&r.length>0&&r.forEach((function(n){var o=n.getPropertyName();if(o)if(n.getSubDescriptor(t))switch(e){case 1:var r=a._getHierarchyParentPrimaryKey(i);if(null!=r){var s=a.getChildByPrimaryKey(o,r);if(s){if(Array.isArray(s)){var l=[];return s.forEach((function(e){var a=e.addChild(t,i);l.push(a)})),l}return s.addChild(t,i)}}break;case 2:var c=i.getHierarchyParent();null!=c&&c.removeChild(i)}else{var d=a.getChildrenArray(o);if(d)switch(e){case 1:return l=[],d.forEach((function(a){var n=a.addOrRemoveChildWithParentSearch(e,t,i);l.push(n)})),l;case 2:d.forEach((function(a){a.addOrRemoveChildWithParentSearch(e,t,i)}))}}}))}},reassignParentItem:function(e){"use strict";var t=this.getParentItem();return e!==t&&(t.detachChildItem(this),e.attachChildItem(this),!0)},recalculateParentItemForGrouping:function(){},redetectParentItem:function(e,t){"use strict";var i=this._descriptor;if(i)return i.handleParentItem?i.handleParentItem(e,t):e},getNonPseudoParentItem:function(){"use strict";var e=this.getParentItem();return e&&!0===e.isPseudo()?e.getNonPseudoParentItem():e}},s={};a.extendClass(s,o,n,r),e.exports=s[o]},227:(e,t,i)=>{var a=i(7422),n={},o={calculateBarColors:function(e,t){"use strict";var i=e+""+(t=t||"#F0F0F0"),o=n[i];if(o)return o;var r={workingTimeColor:e,nonworkingTimeColor:"#000000",borderColor:"#ff0000",textColor:"#000000"},s=a(e),l=s.toHsl(),c=l.l,d=l.s,u=d/2*100;s=s.desaturate(u);var p=(a(t).toHsl().l-c)/2*100;return r.nonworkingTimeColor=s.lighten(p).toString(),r.borderColor=a(e).desaturate(10).darken(c<.5?-10:10).toString(),r.workingTimeColorLightness=c,r.workingTimeColorSaturation=d,n[i]=r,r},calculateBlackOrWhiteTextColor:function(e){"use strict";var t=a(e);return.2126*Math.pow(t.toRgb().r/255,2.2)+.7152*Math.pow(t.toRgb().g/255,2.2)+.0722*Math.pow(t.toRgb().b/255,2.2)<.38?"white":"black"}};e.exports=o},9577:(e,t,i)=>{i(7658);var a=i(5549),n=i(3571),o=i(6998),r=o.RAB_CURVE_POINT_ENTRIES_PROP_NAME,s=o.CurveType,l=o.roundPreservingPrecision,c=i(1207),d={construct:function(e,t,i,a){"use strict";this._super(e,t,i,a),this.rab_lastCompileTime=0},updateSelf:function(e){"use strict";this._super(e),this.rab_lastCompileTime=0},compile:function(e){"use strict";var t=this;if(t.isDirty()&&(t.rab_lastCompileTime=0),!t.rab_lastCompileTime||e!==t.rab_compiledCurveCalendar){switch(t.Type){case s.PointCurve:t._compilePoints(),t.__determineMinMaxFromLoadEntries(t.rab_highestCurveData.values(),!1);break;case s.IntervalCurve:case s.AllocationCurve:break;case s.CurveStack:case s.CurveList:t._compileCurveCollection(e)}t.rab_compiledCurveCalendar=e,t.rab_lastCompileTime=Date.now()}},_isCollection:function(e){return e===s.CurveStack||e===s.CurveList},isDirty:function(){"use strict";var e=this;if(!this.rab_lastCompileTime)return!0;if(this._isCollection(this.Type)&&Array.isArray(this.CurveIDs)){var t=function(i){return!i.rab_lastCompileTime||!i.CurveIDs.every((function(a){var n=e._model.curveByID(a);return!n||(e._isCollection(n.Type)?!t(n):n.rab_lastCompileTime&&n.rab_lastCompileTime<=i.rab_lastCompileTime)}))};return t(this)}return!1},__determineMinMaxFromLoadEntries:function(e,t){var i=this;t||(i.rab_minValue=i.ScaleMinimumValue,i.rab_maxValue=i.ScaleMaximumValue),e.forEach((function(e){isFinite(e.value)&&(i.rab_minValue>e.value&&(i.rab_minValue=e.value),i.rab_maxValue<e.value&&(i.rab_maxValue=e.value))})),t||isFinite(i.rab_maxValue)||(i.rab_minValue=0,i.rab_maxValue=1)},_compilePoints:function(){"use strict";var e=this,t=n.nSortedDatesWithValuesList.ModificationType,i=new n.nSortedDatesWithValuesList({start:new Date(0),value:0},(function(e,i,a,n){if(e===t.InsertAtStartOfInterval)return{start:i,value:n};if(e===t.InsertAtEndOfInterval)return{start:i,value:0};if(e===t.ModifyInterval)a.value=n;else if(e===t.SplitAtEndOfInterval)return{start:i,value:a.value}})),a=n.nSortedDatesWithValuesList.DateInfinity;e.CurvePointEntries&&e.CurvePointEntries.forEach((function(t){if(t.PointInTime){var n=e._model.dateTimeValueToDate(t.PointInTime);n&&i.allocateTimeSpan(n,a,t.Value)}})),(i=e._simplifySortedDatesWithValuesList(i)).rab_interpolationType=e.InterpolationType,i.rab_curveID=e.ID,i.rab_curveType=e.Type,e.rab_compiledCurveData=i,e.rab_highestCurveData=i},_simplifySortedDatesWithValuesList:function(e){"use strict";var t,i,a=new n.nSortedDatesWithValuesList(0);return e.forEach((function(e,n,o){i&&i.value===o.value&&n||(i&&a.allocateTimeSpan(i.start,t,i.value),i=o),t=n})),a.convertValues((function(e,t){return{start:e,value:t}})),a},_determineDatesAndEntriesOfHighestCurve:function(){"use strict";return this.rab_highestCurveData},_compileCurveCollection:function(e,t,i){"use strict";var a=this,o=[],r=a.Type;if(Array.isArray(a.CurveIDs)&&a.CurveIDs.forEach((function(i){var l=a._model.curveByID(i);if(l){if(r===s.CurveStack&&l.Type===s.CurveList)return;if(l.Type===s.CurveStack)t=l._compileCurveCollection(e,t,r===s.CurveStack);else if(l.Type===s.CurveList)l._compileCurveCollection(e);else{l.compile(e);var c=l.rab_highestCurveData;c&&(t&&r===s.CurveStack&&((c=new n.nSortedDatesWithValuesList(c)).convertValues((function(e,t){return{start:e,value:t.value}})),a._addBiasToCurve(c,t),(c=a._simplifySortedDatesWithValuesList(c)).rab_interpolationType=l.InterpolationType,c.rab_curveID=l.ID,c.rab_curveType=l.Type),o.push(c),t=c)}Array.prototype.push.apply(o,l.rab_compiledCurveData)}})),!i){if(a.rab_minValue=a.ScaleMinimumValue,a.rab_maxValue=a.ScaleMaximumValue,r===s.CurveStack){if(o.length){o.reverse();var l=o[0].values();l&&a.__determineMinMaxFromLoadEntries(l,!0)}}else Array.isArray(a.CurveIDs)&&a.CurveIDs.forEach((function(e){var t=a._model.curveByID(e);t&&(a._isCollection(t.Type)?(a.rab_minValue>t.rab_minValue&&(a.rab_minValue=t.rab_minValue),a.rab_maxValue<t.rab_maxValue&&(a.rab_maxValue=t.rab_maxValue)):a.__determineMinMaxFromLoadEntries(t.rab_compiledCurveData.values(),!0))}));isFinite(a.rab_maxValue)||(a.rab_minValue=0,a.rab_maxValue=1)}return a.rab_compiledCurveData=o.length?o:void 0,a.rab_highestCurveData=t,t},_addBiasToCurve:function(e,t){"use strict";var i=n.nSortedDatesWithValuesList.ModificationType;e.setHandleInsertionFunction((function(e,t,n,o){if(e===i.InsertAtStartOfInterval){var r={start:t,value:n?l(n.value+o.value,n.value,o.value):o.value};return r}if(e===i.InsertAtEndOfInterval)return{start:t,value:l(n.value-o.value,n.value,o.value)};if(e===i.ModifyInterval)n.value=l(n.value+o.value,n.value,o.value);else if(e===i.SplitAtEndOfInterval)return(r=a.extend({},n)).start=t,r})),t.forEach((function(t,i,a){e.allocateTimeSpan(t,i,a)}))},_compileIntervalCurve:function(){},_compileAllocationCurve:function(){}},u={};n.nClassFactory.extendClass(u,"rabCurve",c,d);var p=u.rabCurve;Object.defineProperty(p.prototype,"Type",{get:function(){return+this._data.Type||0}}),Object.defineProperty(p.prototype,"CurvePointEntries",{get:function(){return this.getChildrenArray(r)}}),Object.defineProperty(p.prototype,"CurveIDs",{get:function(){return this._data.CurveIDs}}),Object.defineProperty(p.prototype,"FillColor",{get:function(){return this._data.FillColor??this._data.PM_FillColor}}),Object.defineProperty(p.prototype,"StrokeColor",{get:function(){return this._data.StrokeColor??this._data.PM_StrokeColor}}),Object.defineProperty(p.prototype,"StrokeDashArray",{get:function(){return this._data.StrokeDashArray??this._data.PM_StrokeDashArray}}),Object.defineProperty(p.prototype,"OverloadColor",{get:function(){return this._data.OverloadColor??this._data.PM_OverloadColor}}),Object.defineProperty(p.prototype,"InterpolationType",{get:function(){return this._data.InterpolationType??this._data.PM_InterpolationType??0}}),Object.defineProperty(p.prototype,"ScaleMaximumValue",{get:function(){var e=this._data.ScaleMaximumValue;return isNaN(e)?Number.NEGATIVE_INFINITY:e}}),Object.defineProperty(p.prototype,"ScaleMinimumValue",{get:function(){var e=this._data.ScaleMinimumValue;return isNaN(e)?1/0:e}}),e.exports=p},7702:(e,t,i)=>{var a=i(3571),n=i(1207),o={};a.nClassFactory.extendClass(o,"rabCurvePointEntry",n,{construct:function(e,t,i,a){"use strict";this._super(e,t,i,a)}});var r=o.rabCurvePointEntry;Object.defineProperty(r.prototype,"PointInTime",{get:function(){return this._data.PointInTime}}),Object.defineProperty(r.prototype,"Value",{get:function(){var e=+this._data.Value;return isNaN(e)?null:e}}),e.exports=r},6998:(e,t,i)=>{var a=i(3571).nDefaultSeparator,n=i(5674),o=n.BarShape,r=n.TimeUnit,s=i(9280).PatternType,l={RAB_ROOT_PROP_NAME:"Root",RAB_RESOURCES_PROP_NAME:"Resources",RAB_CALENDARS_PROP_NAME:"Calendars",RAB_CALENDAR_ENTRIES_PROP_NAME:"Entries",RAB_ACTIVITIES_PROP_NAME:"Activities",RAB_ACTIVITY_ENTRIES_PROP_NAME:"Entries",RAB_ALLOCATIONS_PROP_NAME:"Allocations",RAB_ALLOCATION_ENTRIES_PROP_NAME:"Entries",RAB_CURVE_POINT_ENTRIES_PROP_NAME:"CurvePointEntries",RAB_CURVE_INTERVAL_ENTRIES_PROP_NAME:"CurveIntervalEntries",RAB_CURVES_PROP_NAME:"Curves",RAB_LINKS_PROP_NAME:"Links",RAB_ENTITIES_PROP_NAME:"Entities",RAB_CALENDAR_GRIDS_PROP_NAME:"PeriodHighlighters",RAB_CALENDAR_GRID_ENTRIES_PROP_NAME:"Entries",RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME:"HierarchySupplementaryDefinitions",RAB_HIERARCHY_LEVEL_SUPPLEMENTARY_DEFINITIONS_PROP_NAME:"HierarchyLevelSupplementaryDefinitions",RAB_GROUPING_LEVEL_DEFINITIONS_PROP_NAME:"GroupingLevelDefinitions",PrimaryKeyInfos:{},RelationshipInfos:{},ViewRelationshipInfos:{},ViewType:{_Minimum:-1,_Entities:-1,Activities:0,Resources:1,Loads:2,_Maximum:2},ViewCount:3,CustomItemTypeMinimum:1e3,CustomItemTypeMaximum:1019,ItemType:{TimeArea:-2,Timescale:-1,Root:0,Activity:1,ActivityEntry:1.5,Allocation:2,AllocationEntry:3,AllocationRow:4,Resource:5,Link:6,Curve:7,ActivityRow:8,ActivityReleaseDate:9,ActivityDueDate:10,ActivityBaseline:11,ActivityFrame:12,Entity:13,PeriodHighlighter:14,PeriodHighlighterEntry:19,DateLine:16},TextIndexes:{ViewTitle_Activities:"ViewTitle_Activities",ViewTitle_Resources:"ViewTitle_Resources",ViewTitle_Entities:"ViewTitle_Entities"},TableType:{Gantt:0,Entities:1},TimescaleNavigationMode:{Latest:0,LegacyVersion1:1},TimescaleNavigationModeToVersionMap:{0:2,1:1},DateLineGridModes:{None:0,Auto:1,Weekly:2,Daily:4},RowDesigns:{None:0,Bars:1,Optimized:2,BarsInHiddenDescendantRows:4,CalendarGrid:8},_AllocationBarDesignFlags:{None:0,Entries:1,StartEnd:2,Grouped:4,Merged:8},_LinkTypeFlags:{SourceStart:2,TargetEnd:1},AllocationBarDesign:{Allocation:0,Entries:1,AllocationAndEntries:2,MergedEntries:3,GroupedEntries:4},UpdateModes:{UpdateOnly:0,Default:0,ImplicitAddObjects:1,DifferentialValues:2},ActivityBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},AllocationBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},RowDragModes:{None:0,DragVertically:8,DragOutside:32,DragOnSameLevelOnly:64},VisualType:{Background:-1,Bar:0,Row:1,Curve:2,Link:3,PeriodHighlighter:4,CalendarGrid:4,DateLine:5,Timescale:6},VisualSubtype:{ActivityDueDateSymbol:1,ActivityReleaseDateSymbol:2},TableCellType:{Text:1,ImageList:4},ActivityBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3,Symbol:4},AllocationBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3,Symbol:4},DateLineCaptionPosition:{Left:1,Center:2,Right:4,TopLeft:9,TopCenter:10,TopRight:12},DateLineCaptionOrientation:{Horizontal:1,Vertical:2},_activityBarShapesMap:{0:o.RectangleWithLeftTopBevel,1:o.Summary,2:o.Diamond,3:o.Rectangle,4:"rabSymbol"},_allocationBarShapesMap:{0:o.RectangleWithLeftTopBevel,1:o.Summary,2:o.Diamond,3:o.Rectangle,4:"rabSymbol"},LinkMarker:{None:0,FilledArrow:1},LinkRoutingType:{Curved:1,Orthogonal:2},ProgressBarWidthCalculationMode:{ConsiderWorkingTimesOnly:0,ConsiderWorkingAndNonworkingTimes:1},TextWrapMode:{None:0,Line:1,Word:2},CurveType:{PointCurve:0,CurveStack:3,CurveList:4},CurveInterpolationType:{StepAfter:0,Linear:1},PaneIndex:{LoadCurve:0,InventoryCurve:1,Bars:2},SelectionBehavior:{Framing:0,Highlighting:1},TargetPositions:{None:0,Left:1,HCenter:2,Right:4,Top:8,VCenter:16,Bottom:32},WorldViewPosition:{Left:1,Right:2,Top:3,Bottom:4},SelectionChangedReason:{Click:0,BackgroundClick:1,ContextMenu:2,DragStart:3},HorizontallyScrollableViewArea:{Table:0,TimeArea:1,EntitiesTable:2},VerticallyScrollableViewArea:{Top:-1,Main:0,EntitiesTable:2},HorizontalScrollPosition:{Left:1,Right:2},VerticalScrollPosition:{Top:1,Bottom:2},PatternType:s,TreeVisualizationMode:{ColoredIndentation:0,TreeViewLines:1},BarSortMode:{StartAndEnd:0,ByCompareObjects:1,ByCompareObjectsOnSameStart:2},TimescaleInteractionModes:{None:0,ScrollingByButtons:1,Rescaling:2,Default:3},TimeUnit:{Seconds:0,Minutes:1,Hours:2,Days:3,Weeks:4,Months:5,Quarters:6,Years:7},_GroupTableRowDefinitionID:a+a,RowSortMode:{None:0,Ascending:1,Descending:2},roundPreservingPrecision:function(e,t,i){let a=Math.max(t.toString().match(/\.\d*/)?.[0].length||1,i.toString().match(/\.\d*/)?.[0].length||1)-1;return parseFloat(e.toFixed(a))}};l._ActivityBarDragModes_AllSupportedFlags=Object.values(l.ActivityBarDragModes).reduce(((e,t)=>e|t)),l._AllocationBarDragModes_AllSupportedFlags=Object.values(l.AllocationBarDragModes).reduce(((e,t)=>e|t)),l._RowDragModes_AllSupportedFlags=Object.values(l.RowDragModes).reduce(((e,t)=>e|t)),l.PrimaryKeyInfos[l.RAB_RESOURCES_PROP_NAME]=["Role","ID"],l.PrimaryKeyInfos[l.RAB_CALENDARS_PROP_NAME]="ID",l.PrimaryKeyInfos[l.RAB_ACTIVITIES_PROP_NAME]=["Role","ID"],l.PrimaryKeyInfos[l.RAB_ALLOCATIONS_PROP_NAME]=["Role","ID"],l.PrimaryKeyInfos[l.RAB_CURVES_PROP_NAME]="ID",l.PrimaryKeyInfos[l.RAB_LINKS_PROP_NAME]=["Role","ID"],l.PrimaryKeyInfos[l.RAB_ENTITIES_PROP_NAME]="ID",l.PrimaryKeyInfos[l.RAB_CALENDAR_GRIDS_PROP_NAME]="ID",l.PrimaryKeyInfos[l.RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME]="ID",l.HierarchicalObjectTypeListNames=[l.RAB_RESOURCES_PROP_NAME,l.RAB_ACTIVITIES_PROP_NAME,l.RAB_ENTITIES_PROP_NAME],l.ViewRelationshipInfos[l.RAB_RESOURCES_PROP_NAME]=[{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_RESOURCES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_RESOURCES_PROP_NAME]=[{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_RESOURCES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]},{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_CALENDARS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"CalendarID",essential:!0,empty:null}]},{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_CALENDAR_GRIDS_PROP_NAME,autoPropertyGenerationDisabled:!0,primaryKeyInfos:[{primaryKeyName:"PeriodHighlighterID",compatiblePrimaryKeyName:"PM_PeriodHighlighterID",essential:!0,empty:null}]},{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_CURVES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"CapacityCurveID",essential:!0,empty:null}]},{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_CURVES_PROP_NAME,autoPropertyGenerationDisabled:!0,primaryKeyInfos:[{primaryKeyName:"InventoryCurveID",essential:!0,empty:null}]},{comingFrom:l.RAB_RESOURCES_PROP_NAME,relatedTo:l.RAB_CURVES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"LoadCurveID",essential:!0,empty:null}]}],l.ViewRelationshipInfos[l.RAB_ACTIVITIES_PROP_NAME]=[{comingFrom:l.RAB_ACTIVITIES_PROP_NAME,relatedTo:l.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_ACTIVITIES_PROP_NAME]=[{comingFrom:l.RAB_ACTIVITIES_PROP_NAME,relatedTo:l.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentRole",essential:!1,empty:null},{primaryKeyName:"ParentID",essential:!0,empty:null}]},{comingFrom:l.RAB_ACTIVITIES_PROP_NAME,relatedTo:l.RAB_CALENDARS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"CalendarID",essential:!0,empty:null}]},{comingFrom:l.RAB_ACTIVITIES_PROP_NAME,relatedTo:l.RAB_CALENDAR_GRIDS_PROP_NAME,autoPropertyGenerationDisabled:!0,primaryKeyInfos:[{primaryKeyName:"PeriodHighlighterID",compatiblePrimaryKeyName:"PM_PeriodHighlighterID",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_ALLOCATIONS_PROP_NAME]=[{comingFrom:l.RAB_ALLOCATIONS_PROP_NAME,relatedTo:l.RAB_RESOURCES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ResourceRole",essential:!1,empty:null},{primaryKeyName:"ResourceID",essential:!0,empty:null}]},{comingFrom:l.RAB_ALLOCATIONS_PROP_NAME,relatedTo:l.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ActivityRole",essential:!1,empty:null},{primaryKeyName:"ActivityID",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_LINKS_PROP_NAME]=[{comingFrom:l.RAB_LINKS_PROP_NAME,relatedTo:l.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"SourceActivityRole",essential:!1,empty:null},{primaryKeyName:"SourceActivityID",essential:!0,empty:null}]},{comingFrom:l.RAB_LINKS_PROP_NAME,relatedTo:l.RAB_ACTIVITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"TargetActivityRole",essential:!1,empty:null},{primaryKeyName:"TargetActivityID",essential:!0,empty:null}]},{comingFrom:l.RAB_LINKS_PROP_NAME,relatedTo:l.RAB_ALLOCATIONS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"SourceAllocationRole",essential:!1,empty:null},{primaryKeyName:"SourceAllocationID",essential:!0,empty:null}]},{comingFrom:l.RAB_LINKS_PROP_NAME,relatedTo:l.RAB_ALLOCATIONS_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"TargetAllocationRole",essential:!1,empty:null},{primaryKeyName:"TargetAllocationID",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_CURVES_PROP_NAME]=[{comingFrom:l.RAB_CURVES_PROP_NAME,relatedTo:l.RAB_CURVES_PROP_NAME,autoPropertyGenerationDisabled:!0,isMultiRelationship:!0,primaryKeyInfos:[{primaryKeyName:"CurveIDs",essential:!0,empty:null}]}],l.RelationshipInfos[l.RAB_ENTITIES_PROP_NAME]=[{comingFrom:l.RAB_ENTITIES_PROP_NAME,relatedTo:l.RAB_ENTITIES_PROP_NAME,primaryKeyInfos:[{primaryKeyName:"ParentID",essential:!0,empty:null}]}];var c=l.ItemType;l.ObjectType={TimeArea:c.TimeArea,Timescale:c.Timescale,Activity:c.Activity,Allocation:c.Allocation,AllocationEntry:c.AllocationEntry,Resource:c.Resource,Link:c.Link,Curve:c.Curve,Entity:c.Entity,CalendarGrid:c.PeriodHighlighter,PeriodHighlighter:c.PeriodHighlighter,Symbol:15,DateLine:c.DateLine,TooltipTemplate:17,TableRowDefinition:18,TableRowDefinitions:18,Calendar:20,HierarchySupplementaryDefinition:21};var d=l.AllocationBarDesign,u=l._AllocationBarDesignFlags,p={};p[d.Allocation]=u.StartEnd,p[d.Entries]=u.Entries,p[d.AllocationAndEntries]=u.StartEnd|u.Entries,p[d.MergedEntries]=u.Merged,p[d.GroupedEntries]=u.Entries|u.Grouped,l._convertAllocationBarDesignToFlags=function(e){return p[e]},l.ActivityBarShapes=l.ActivityBarShape,l.RAB_CLASS_PREFIX="nrab-",l.RAB_NAMESPACE_SUFFIX=".nrab",l.RAB_CURVE_CONTAINER_CLASS=l.RAB_CLASS_PREFIX+"curves",l._rabTimeUnitToTimeUnit={second:r.Seconds,seconds:r.Seconds,minute:r.Minutes,minutes:r.Minutes,hour:r.Hours,hours:r.Hours,day:r.Days,days:r.Days,week:r.Weeks,weeks:r.Weeks,month:r.Months,months:r.Months,quarter:r.Quarters,quarters:r.Quarters,year:r.Years,years:r.Years,[r.Seconds]:r.Seconds,[r.Minutes]:r.Minutes,[r.Hours]:r.Hours,[r.Days]:r.Days,[r.Weeks]:r.Weeks,[r.Months]:r.Months,[r.Quarters]:r.Quarters,[r.Years]:r.Years},e.exports=l},5473:(e,t,i)=>{var a=i(3571),n=i(2623),o={};a.nClassFactory.extendClass(o,"rabEntity",n,{_modificationClassificationByProperty:{Duration:2},_getDefaultObjectPropName:function(){return"defaultValuesForEntityProperties"}});var r=o.rabEntity,s=r.prototype;s.defineProperty("Duration",{get:function(){return this._getPropertyAsNumber(this._data.Duration)}}),s.defineProperty("SuitableActivityIDs",{get:function(){var e=this._data.SuitableActivityIDs;return Array.isArray(e)?e:void 0}}),s.defineProperty("SuitableResourceIDs",{get:function(){var e=this._data.SuitableResourceIDs;return e&&Array.isArray(e)?e:void 0}}),e.exports=r},3046:(e,t,i)=>{var a=i(3571),n=i(6998).ItemType,o=i(8579),r=(i(5473),{construct:function(e,t,i,a,o){"use strict";this._super(n.Entity,e,t,i,a,void 0,o)},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this.rab_heightPropertyHasChanged&&(this._viewModel.registerRowItem(this._viewType,this,!0),delete this.rab_heightPropertyHasChanged),this._super())},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data();i.isPseudo()||(this.rowInteractions=i.AllowedRowDragModes),this.duration=i.Duration;var a=this.minimumHeight;return this.minimumHeight=i.MinimumRowHeight,this.rab_heightPropertyHasChanged=this.rab_heightPropertyHasChanged||a!==this.minimumHeight,t}}),s={};a.nClassFactory.extendClass(s,"rabEntityRowItem",o,r);var l=s.rabEntityRowItem;e.exports=l},3567:(e,t,i)=>{i(7658),i(541),i(6699);var a=i(5549),n=i(9990),o=i(3571),r=o.nD3MigrationHelper.transform,s=o.nClass,l=o.nClassFactory,c=o.nDateHelper,d=o.nDebugHelper,u=o.nDefaultSeparator,p=o.nDOMHelper.eventListenerHelper,h=o.nEventDispatcher,g=o.nFileSaver,m=o.nImageHelper,f=o.nLocales,_=o.nOSDetector,b=o.nOverlayArea,v=o.nPopup,y=o.nPropertyComposer,A=o.nScrollBarWidthDetector,T=o.nSplitterWidget,w=o.nStringHelper,C=o.nSubsequentIDGenerator,I=o.nTooltipWidget,R=i(9280).RowInteractions,D=i(5674),S=D.ElemType,O=D.BarInteractions,P=D.BarType,E=D.DateLineGridRecurrence,M=D.HorizontalAlignment,V=D.LinkType,B=D.nCalendarHelper,N=D.nGanttWidget,k=D.nTimeAxis,W=D.TableRowDefinitionType,F=D.TimeType,L=D.TimeUnit,x=i(9315),H=i(5473),j=i(7428),G=i(7546),U=i(1397),z=i(227),K=i(6998),Y=K.BarSortMode,q=K.CurveType,X=K.CurveInterpolationType,Q=K.ViewType,Z=K.ViewCount,$=K.ItemType,J=K.ObjectType,ee=K.TextIndexes,te=K.TableType,ie=K._AllocationBarDesignFlags,ae=K.TableCellType,ne=K.TextWrapMode,oe=K.PaneIndex,re=K.SelectionBehavior,se=K.TargetPositions,le=K._rabTimeUnitToTimeUnit,ce=K._activityBarShapesMap,de=K._allocationBarShapesMap,ue=K.roundPreservingPrecision,pe=K.RAB_RESOURCES_PROP_NAME,he=K.RAB_ACTIVITIES_PROP_NAME,ge=K.RAB_CLASS_PREFIX,me=ge+"activities-view",fe=ge+"activity-baseline",_e=ge+"activity-due-date",be=ge+"activity-release-date",ve=ge+"bar-symbol",ye=ge+"prefix-bar-symbol",Ae=ge+"capacity-curve-area",Te=ge+"capacity-curve-line",we=ge+"container",Ce=ge+"current-date-area",Ie="rab-currentDateArea",Re=ge+"current-date-line",De="rab-currentDateLine",Se=ge+"curve-axis",Oe=ge+"curve-button",Pe=K.RAB_CURVE_CONTAINER_CLASS,Ee=ge+"curves-parent",Me=ge+"curve-line-hot-region",Ve=ge+"curve-pane-splitter",Be=ge+"curve-pane-splitter-rect",Ne=ge+"daily-dlg",ke=ge+"due-date-symbol",We=ge+"earliest-drag-date-area",Fe=We,Le=ge+"entities-table",xe=ge+"entities-splitter",He=ge+"gc-level",je=ge+"inventory-curve-area",Ge=ge+"inventory-curve-container-rect",Ue=ge+"inventory-x-axis",ze=ge+"latest-drag-date-area",Ke=ze,Ye=ge+"left-bar-symbol",qe=ge+"load-curve-area",Xe=ge+"load-curve-container-rect",Qe=ge+"load-hor-line",Ze=ge+"load-x-axis",$e=ge+"loads-view",Je=ge+"overload-curve-area",et=ge+"overload-mask",tt=ge+"overload-pattern",it=ge+"release-date-symbol",at=ge+"release-due-date-line",nt=ge+"resources-view",ot=ge+"right-bar-symbol",rt=ge+"row-base-level",st=ge+"row-level",lt=ge+"status-1",ct=ge+"status-2",dt=ge+"status-3",ut=ge+"status-4",pt=ge+"status-indicator",ht=ge+"text-background-filter",gt="."+ge+"tooltip",mt=ge+"tooltip-pos-anchor",ft=ge+"top-left-bar-symbol",_t=ge+"top-right-bar-symbol",bt=ge+"vertical-splitter",vt=ge+"weekly-dlg",yt=ge+"work-date-line",At="rabview_workDateLine",Tt=ge+"x-axis",wt=_.isIEWebBrowserControl?0:_.isIE||_.isEdge?.5:-.5,Ct=.5,It=[{start:new Date(0),value:0}],Rt="rab_tscf",Dt={A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},St={_barSymbolExtent:12,construct:function(e,t,i,r,s){"use strict";var l=this;this._app=e,this._view=t,this._viewModel=i,this._initOptions(s),s=l._options,this._divJQ=a(r).addClass(we);var c=a("<div></div>").attr("tabindex",-1).appendTo(this._divJQ);this._ganttWidget=null,this._entitiesTableWidget=null,this._curvePaneSplitterWidgetDivD3=n.select(this._divJQ[0]).append("svg"),this._curvePaneSplitterWidget=null,this._viewType=void 0,this._nonWorkingTimeCalendar=void 0,this._weekendCalendar=void 0,this._verticalScrollOffsetByViewType=new Array(Z),this._topVerticalScrollOffsetByViewType=new Array(Z),this._visibleStartRowItemByViewType=new Array(Z),this._viewOffsetForCurrentDateCurrentlyObserved=!1,this._viewOffsetForCurrentDateCurrentlyNotObservedTimer=void 0,this._currentSymbolIDsMap={},this._defaultLinkType=V.EndStart,this._tableDefinitionActivities={titleText:null!=l.getAPIOption("titleText")?l.getAPIOption("titleText"):l._app.textByIndex(ee.ViewTitle_Activities),rowDefinitionIDWithColumnTitles:l.getAPIOption("tableRowDefinitionIDForTitleInActivitiesView"),baseLevel:{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},titleText:l._app.textByIndex(ee.ViewTitle_Activities),horizontalTextAlignment:M.Left},{className:"",width:50,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},titleText:"",horizontalTextAlignment:M.Left}]},groupingLevels:[{contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},className:ge+"level0",cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left}]},{contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},className:ge+"level1",cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left}]}]},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,this.getAPIOption("symbolColumnVisible"),this.getAPIOption("symbolColumnWidth")),this._tableDefinitionActivitiesBaseLevel=l._tableDefinitionActivities.baseLevel,this._tableDefinitionResources={fixedColumnsSucceeding:{cellDefinitions:[{className:"",width:20,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},titleText:"",clippingEnabled:!1}]},titleText:null!=l.getAPIOption("titleText")?l.getAPIOption("titleText"):l._app.textByIndex(ee.ViewTitle_Resources),rowDefinitionIDWithColumnTitles:l.getAPIOption("tableRowDefinitionIDForTitleInResourcesView"),baseLevel:{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},titleText:l._app.textByIndex(ee.ViewTitle_Resources),horizontalTextAlignment:M.Left},{className:"",width:50,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},titleText:"",horizontalTextAlignment:M.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return l._tableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:300,contentsFunc:function(){return l._tableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left}]}]},this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,this.getAPIOption("symbolColumnVisible"),this.getAPIOption("symbolColumnWidth")),this._tableDefinitionResourcesBaseLevel=l._tableDefinitionResources.baseLevel,l._tableDefinitionLoads=a.extend(!0,{},l._tableDefinitionResources),l._tableDefinitionLoadsBaseLevel=l._tableDefinitionLoads.baseLevel,l._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=l.getAPIOption("tableRowDefinitionIDForTitleInLoadsView"),this._tableDefinitionEntities={titleText:null!=l.getAPIOption("entitiesTitleText")?l.getAPIOption("entitiesTitleText"):l._app.textByIndex(ee.ViewTitle_Entities),rowDefinitionIDWithColumnTitles:l.getAPIOption("tableRowDefinitionIDForTitleInEntitiesTable"),baseLevel:{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:50,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left},{className:"",width:200,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return l._entitiesTableRowFillFunc.apply(l,arguments)},cellDefinitions:[{className:"",width:250,contentsFunc:function(){return l._entitiesTableCellFillFunc.apply(l,arguments)},horizontalTextAlignment:M.Left}]}]},l._addOrRemoveSymbolColumnInTableDefinition(l._tableDefinitionEntities,l.getAPIOption("entitiesTableSymbolColumnVisible"),l.getAPIOption("entitiesTableSymbolColumnWidth")),l._tableDefinitionEntitiesBaseLevel=l._tableDefinitionEntities.baseLevel,l.updateTableRowDefinitions(l.app().tableRowDefinitionsMap(),!1),l.getAPIOption("clickCallbackTriggeringOnRowInTimeArea")?l._curveTapEventClassNames=h.TAP_EVENT_CLASS_NAME+" "+h.DOUBLE_TAP_EVENT_CLASS_NAME:l._curveTapEventClassNames=h.QUICK_TAP_EVENT_CLASS_NAME;let d=i.model();var u={updateSuspended:!0,locale:this.app().locale(),timeZone:this.getAPIOption("timeZone"),relativeDateModeEnabled:this.getAPIOption("relativeDateModeEnabled"),dateLineGridColor:this.getAPIOption("dateLineGridColor"),dateLineGridDashArray:this.getAPIOption("dateLineGridDashArray"),dateLineGridWidth:this.getAPIOption("dateLineGridWidth"),dateLineGrids:[{timeType:E.Weekly,className:vt}],treeLinesVisible:l.getAPIOption("treeVisualizationMode"),defaultBarType:P.StartEnd,barSortModeForOptimizedDisplayedElements:l.getAPIOption("compareObjects")?l.getAPIOption("barSortModeForOptimizedRowDesign"):Y.StartAndEnd,barDragAreaExtent:4,editable:l.getAPIOption("editable"),timeItemsEditableInCollapsedRows:!0,timeItemsSelectable:!0,linkItemsSelectable:!0,rowItemsSelectable:!0,separateBarShapeOutlinesEnabled:!0,differentiationBetweenEmptyArrayAndUndefined:!0,contextMenuEventOnRowItemInTimeArea:l.getAPIOption("contextMenuCallbackOnRowInTimeArea"),tapEventOnRowItemInTimeArea:l.getAPIOption("clickCallbackTriggeringOnRowInTimeArea"),preventDefaultOnContextMenuEvents:l.getAPIOption("preventDefaultOnContextMenuEvents"),constraintSymbolsInMargin:!0,titleHeight:l.getAPIOption("tableTitleAndTimescaleHeight"),topRowMargin:l.getAPIOption("topRowMarginInTimeArea"),bottomRowMargin:l.getAPIOption("bottomRowMarginInTimeArea"),subRowDistance:l.getAPIOption("subRowDistanceInTimeArea"),cellContentTopOffset:l.getAPIOption("tableCellContentTopOffset"),automaticDraggingOfSelectedTimeItems:l.getAPIOption("multipleBarDraggingEnabled"),worldViewSelectionColor:l.getAPIOption("selectionColor")||"#FFA000",timeItemsSelectableByRectangle:l.getAPIOption("multipleSelectionEnabled"),itemHighlightingColor:l.getAPIOption("objectHighlightingColor"),itemHighlightFlashingEnabled:l.getAPIOption("objectHighlightFlashingEnabled"),asynchronousInteractiveTimeAreaStretching:l.getAPIOption("asynchronousInteractiveTimeAreaStretching"),asynchronousRendering:l.getAPIOption("asynchronousRendering"),scrollOffsetsChangedFuncTimeDelay:l.getAPIOption("scrollOffsetsChangedCallbackTimeDelay"),groupCellsWithHorizontalSeparationLine:l.getAPIOption("groupCellsWithHorizontalSeparationLine"),enrichClassFunc:function(){return l._enrichClassFunc.apply(l,arguments)},timeAreaRowFillFunc:function(){return l._timeAreaRowFillFunc.apply(l,arguments)},timeAreaRowUpdateFunc:function(){return l._timeAreaRowUpdateFunc.apply(l,arguments)},rowExpandedOrCollapsedFunc:function(){return l._rowExpandedOrCollapsedFunc.apply(l,arguments)},rowExpandOrCollapseFunc:function(){return l._rowExpandOrCollapseFunc.apply(l,arguments)},createBarFunc:function(){return l._processCreateBarFunc.apply(l,arguments)},positionBarFunc:function(){return l._processPositionBarFunc.apply(l,arguments)},positionLinkFunc:function(){return l._positionLinkFunc.apply(l,arguments)},dragStartFunc:function(){return l._dragStartFunc.apply(l,arguments)},dragEndFunc:function(){return l._dragEndFunc.apply(l,arguments)},draggedFunc:function(){return l._draggedFunc.apply(l,arguments)},droppedFunc:function(){return l._droppedFunc.apply(l,arguments)},onEventFunc:function(){return l._onEventFunc.apply(l,arguments)},convertFunc:function(){return l._convertFunc.apply(l,arguments)},formatDateFunc:function(){return l._formatDateFunc.apply(l,arguments)},canSelectTimeItemFunc:function(){return l._canSelectTimeItemFunc.apply(l,arguments)},selectTimeItemFunc:function(){return l._selectTimeItemFunc.apply(l,arguments)},canSelectRowItemFunc:function(){return l._canSelectRowItemFunc.apply(l,arguments)},selectRowItemFunc:function(){return l._selectRowItemFunc.apply(l,arguments)},detachEventListenersExFunc:function(){return l._detachEventListenersExFunc.apply(l,arguments)},determineTableRowDefinitionFunc:function(){return l._determineTableRowDefinitionFunc.apply(l,arguments)},checkPossibleInteractionsFunc:function(){return l._checkPossibleInteractionsFunc.apply(l,arguments)},checkVisualZoomFactorFunc:function(){return l._checkVisualZoomFactorFunc.apply(l,arguments)},timeAreaViewParametersChangedFunc:function(){return l._timeAreaViewParametersChangedFunc.apply(l,arguments)},verticalScrollOffsetChangedFunc:function(){return l._verticalScrollOffsetChangedFunc.apply(l,arguments)},canSelectLinkItemFunc:function(){return l._canSelectLinkItemFunc.apply(l,arguments)},selectLinkItemFunc:function(){return l._selectLinkItemFunc.apply(l,arguments)},curvePaneChangedFunc:function(){return l._curvePaneChangedFunc.apply(l,arguments)},keyDownFunc:function(){return l._keyDownFunc.apply(l,arguments)},tableColumnWidthChangedFunc:function(){return l._tableColumnWidthChangedFunc.apply(l,arguments)},errorFunc:function(e){l._app.getOption("boundHandleExceptionFunc")(e.error),e.rethrow=!1},handleWarningFunc:d.getOption("handleWarningFunc")?.bind(d),measuredRenderingTimeFunc:l._app.measuredRenderingTime?.bind(l._app)};s&&s.ganttWidget&&a.extend(u,s.ganttWidget),l._ganttWidget=c.nGanttWidget(u).nGanttWidget("instance"),l.getAPIOption("loggingEnabled")&&n.select(l._ganttWidget.element[0]).select(".ngantt-recording-symbol").attr("visibility",null),c.on("nganttwidgetsplitterchanged",(function(t,i){try{if(i.isDropped)if(l.getAPIOption("tableViewWidthsSynchronized"))l.setAPIOption("tableViewWidthInActivitiesView",i.newValue),l.setAPIOption("tableViewWidthInResourcesView",i.newValue),l.setAPIOption("tableViewWidthInLoadsView",i.newValue);else switch(l._viewType){case Q.Activities:l.setAPIOption("tableViewWidthInActivitiesView",i.newValue);break;case Q.Resources:l.setAPIOption("tableViewWidthInResourcesView",i.newValue);break;case Q.Loads:l.setAPIOption("tableViewWidthInLoadsView",i.newValue)}}catch(t){e.getOption("boundHandleExceptionFunc")(t)}}));var p={classes:Ve,orientation:o.nSplitterWidget.Orientation.Horizontal,startDrag:function(){},changed:function(e,t){var i={rowItem:t.args.rowItem,paneIndex:t.args.paneIndex,newHeight:t.newValue};l._curvePaneResizedFunc(i)},dragged:function(){},endDrag:function(){}};this._curvePaneSplitterWidget=a(l._curvePaneSplitterWidgetDivD3.node()).nSplitterWidget(p).nSplitterWidget("instance"),this._curvePaneSplitterWidget.element.attr("visibility","hidden"),this._colorStyleD3={},["calendarGridColor","timescaleBackgroundColor","timescaleWeekendBackgroundColor","timescaleTextColor","timescaleTickColor","timescaleHighlightingColor","timeAreaBackgroundColor","tableTitleBackgroundColor","tableTitleTextColor","tableTitleColumnSeparatorColor","tableTitleHighlightingColor","selectionColor","splitterHighlightingColor","suitableActivityOverlayColor","unsuitableActivityOverlayColor","suitableResourceOverlayColor","unsuitableResourceOverlayColor","treeViewLineColor","treeViewLineDashArray","entitiesTableTreeViewLineColor","entitiesTableTreeViewLineDashArray"].forEach((function(e){l._setColorByOptionValue(e)})),this._showHideEntitiesTable(),this._resizeWidgets(),this._resizeSensor=new o.nResizeSensor(this._divJQ[0],(function(){l._resizeWidgets()})),this._statusIndicatorWidth=8,this._barSymbolExtent=St._barSymbolExtent,this._tableSymbolExtent=16;var g=l.handleAPIOptionChanged.bind(l);["cursorDateLineVisible","entitiesTableVisibleInActivitiesView","entitiesTableVisibleInResourcesView","entitiesTitleText","entitiesTableSymbolColumnWidth","curvePanesCollapsibleInResourcesView","entitiesTableSymbolColumnVisible","entitiesTableSymbolColumnTitleBackgroundColor","entitiesTableSymbolColumnTitleSymbolIDs","entitiesTableSymbolColumnTitleVisible","patternShownOnOverloadCurves","symbolColumnTitleBackgroundColor","symbolColumnTitleSymbolIDs","symbolColumnTitleVisible","symbolColumnVisible","symbolColumnWidth","timeZone","titleText","treeVisualizationMode","entitiesTableTreeVisualizationMode","workDateLineCaption","calendarGridColor","defaultInventoryCurvePaneColor","defaultLoadCurvePaneColor","entitiesTableTitleBackgroundColor","entitiesTableTitleColumnSeparatorColor","entitiesTableTitleHighlightingColor","entitiesTableTitleTextColor","pastBackgroundFillColor","pastBackgroundLineColor","objectHighlightingColor","selectionColor","splitterHighlightingColor","suitableActivityOverlayColor","suitableResourceOverlayColor","tableTitleBackgroundColor","tableTitleColumnSeparatorColor","tableTitleHighlightingColor","tableTitleTextColor","timeAreaBackgroundColor","timescaleBackgroundColor","timescaleHighlightingColor","timescaleTextColor","timescaleTickColor","timescaleWeekendBackgroundColor","unsuitableActivityOverlayColor","unsuitableResourceOverlayColor","symbolColumnBackgroundColor","entitiesTableSymbolColumnBackgroundColor","treeViewLineColor","treeViewLineDashArray","entitiesTableTreeViewLineColor","entitiesTableTreeViewLineDashArray","defaultActivityCollapsedRowDesign","defaultActivityExpandedRowDesign","defaultAllocationRowDesign","defaultResourceCollapsedRowDesign","defaultResourceExpandedRowDesign","defaultAllocationSnapTargetsForStart","defaultAllocationSnapTargetsForEnd","defaultActivitySnapTargetsForStart","defaultActivitySnapTargetsForEnd","defaultAllocationAllowedBarDragModes","forcedAllocationAllowedBarDragModes","defaultAllocationAllowedBarDragModesInActivitiesView","forcedAllocationAllowedBarDragModesInActivitiesView","defaultActivityAllowedBarDragModes","forcedActivityAllowedBarDragModes","defaultActivityAllowedRowDragModes","forcedActivityAllowedRowDragModes","defaultResourceAllowedRowDragModes","forcedResourceAllowedRowDragModes","defaultEntityAllowedRowDragModes","forcedEntityAllowedRowDragModes","defaultAllocationBarSelectable","defaultActivityBarSelectable","defaultActivityRowSelectable","defaultResourceRowSelectable","defaultEntityRowSelectable","defaultLinkSelectable","defaultActivityRowCollapsible","defaultActivityAllocationRowsCollapsible","defaultResourceRowCollapsible","defaultResourceAllocationRowsCollapsible","defaultEntityRowCollapsible","releaseDueDateConnectionsVisible","detailedActivityConstraintSymbolsEnabled","detailedAllocationConstraintSymbolsEnabled","contextMenuCallbackOnRowInTimeArea","clickCallbackTriggeringOnRowInTimeArea","preventDefaultOnContextMenuEvents","defaultResourceBarsPaneVisible","defaultResourceLoadCurvePaneVisible","defaultResourceInventoryCurvePaneVisible","higherCurvePanesOnExceededScaleMaximumValue","curvePanesResizable","linesShownInLoadCurvePanes","topBarSymbolsVisible","timescaleInteractionMode","ignoreCalendarOnAllocationBarInteractions","ignoreCalendarOnActivityBarInteractions","objectHighlightFlashingEnabled","worldViewVisible","multipleBarDraggingEnabled","tooltipDelay","animationDuration","defaultActivityBarShape","defaultAllocationBarShape","currentDate","workDate","start","end","startAndEnd","maximumTimeResolutionUnit","maximumTimeResolutionUnitFactor","timeStepUnit","timeStepUnitFactor","asynchronousInteractiveTimeAreaStretching","asynchronousRendering","topViewAreaVisibleInActivitiesView","topViewAreaVisibleInResourcesView","topViewAreaVisibleInLoadsView","mainViewAreaVisibleInActivitiesView","mainViewAreaVisibleInResourcesView","mainViewAreaVisibleInLoadsView","defaultLinkRoutingType","defaultLinkTargetMarker","progressBarHeight","progressBarWidthCalculationMode","maximumTopViewAreaHeightRatio","visualZoomFactor","tableViewWidthInActivitiesView","tableViewWidthInResourcesView","tableViewWidthInLoadsView","tableWidth","fixedTableColumnWidth","entitiesTableWidth","entitiesTableViewWidth","tableTitleAndTimescaleHeight","entitiesTableTitleHeight","defaultActivityBarHeight","defaultAllocationBarHeight","defaultActivityMinimumRowHeight","defaultAllocationMinimumRowHeight","defaultResourceMinimumRowHeight","defaultEntityMinimumRowHeight","minimumLoadCurvePaneHeight","defaultLoadCurvePaneHeight","maximumLoadCurvePaneHeight","minimumInventoryCurvePaneHeight","defaultInventoryCurvePaneHeight","maximumInventoryCurvePaneHeight","topRowMarginInTimeArea","bottomRowMarginInTimeArea","subRowDistanceInTimeArea","tableCellContentTopOffset","entitiesTableCellContentTopOffset","defaultResourceMaximumSubRowHeightInTimeArea","defaultResourceMaximumRowHeight","defaultActivityMaximumSubRowHeightInTimeArea","defaultActivityMaximumRowHeight","allocationBarTopOffsetAndHeightScaleFactor","activityBarTopOffsetAndHeightScaleFactor","barSortModeForOptimizedRowDesign","timescaleNavigationMode","timeAreaPanningMode","selectionBehavior","pastBackgroundLineWidth","pastBackgroundLineDashArray","worldViewPosition","worldViewExtent","maximumSnapDistance","defaultActivityTableRowDefinitionID","defaultAllocationTableRowDefinitionID","defaultResourceTableRowDefinitionID","defaultEntityTableRowDefinitionID","tableRowDefinitionIDForTitleInActivitiesView","tableRowDefinitionIDForTitleInResourcesView","tableRowDefinitionIDForTitleInLoadsView","tableRowDefinitionIDForTitleInEntitiesTable","watermarkSymbolID","watermarkOpacity","defaultValuesForActivityProperties","defaultValuesForActivityEntryProperties","defaultValuesForAllocationProperties","defaultValuesForAllocationEntryProperties","defaultValuesForEntityProperties","defaultValuesForLinkProperties","defaultValuesForResourceProperties","defaultActivityConstraintSymbolColor","defaultActivityProgressBackgroundColor","defaultAllocationBackgroundColor","defaultAllocationConstraintSymbolColor","defaultAllocationProgressBackgroundColor","scrollOffsetsChangedCallbackTimeDelay","allocationRowsVisibleInActivitiesView","allocationRowsVisibleInResourcesView","definedAllocationLinksVisibleInResourcesView","definedAllocationLinksVisibleInActivitiesView","defaultActivityStatusFrameColor","defaultAllocationStatusFrameColor","entitiesTableShownFullScreen","activityBaselineBarsVisible","colorOfFirstTableCellAppliedToGroupColoring","groupCellsWithHorizontalSeparationLine","dateLineGridColor","dateLineGridDashArray","dateLineGridWidth","dragDatesShownForSingleSelectedObject","collapseButtonVisibleOnRowsWithoutVisibleChildren","dateLineCaptionOptimizedPositioningEnabled","interactiveSwitchingOfSortOrderEnabled","sortingIndicatorVisible","rowSortModeNoneEnabledOnInteractiveSwitchingOfSortOrder","editable"].forEach((e=>this.setAPIOptionChangedCallback(e,1,g)))},destroy:function(){"use strict";this._tooltipWidget.display(null),this._resizeSensor.detach(),delete this._resizeSensor,Object.values(this._colorStyleD3).forEach((e=>{e.remove()})),delete this._colorStyleD3,this._ganttWidget.destroy(),this._entitiesTableWidget&&(this._entitiesTableWidget.element.off("ntablewidgetwidthchanged.rab"+this._entitiesTableWidget._uniqueID),this._entitiesTableWidget.element.remove(),this._entitiesSplitterWidget.element.remove(),delete this._entitiesTableWidget,delete this._entitiesSplitterWidget)},_handleException:function(e,t){"use strict";this._app.getOption("boundHandleExceptionFunc")(e,t)},_onFocusOut:function(e){"use strict";var t=this;t._ganttWidget.cancelInteraction(e.originalEvent),t._entitiesTableWidget&&t._entitiesTableWidget.cancelInteraction(e.originalEvent),t._tooltipWidget.display(null),v.isContextMenuActive()&&o.nPopup.closeContextMenu()},_getImageURLsForGanttWidget:function(e){"use strict";var t,i=this;return i._ganttWidget&&e&&Array.isArray(e)&&e.length&&(i._currentSymbolIDsMap.length||i.updateSymbols(i.app().symbolsMap()),t=[],e.forEach((e=>{t.push(`///rabSG_${i._ganttWidget._uniqueID}_${i._currentSymbolIDsMap[e]}`)}))),t},_getImageURLsForEntitiesTableWidget:function(e){"use strict";var t,i=this;return i._entitiesTableWidget&&e&&Array.isArray(e)&&e.length&&(i._currentSymbolIDsMap.length||i.updateSymbols(i.app().symbolsMap()),t=[],e.forEach((e=>{t.push(`///rabSE_${i._entitiesTableWidget._uniqueID}_${i._currentSymbolIDsMap[e]}`)}))),t},setAPIOption:function(e,t){"use strict";this.app().setAPIOption(e,t)},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this.app().setAPIOptionChangedCallback(e,t,i)},handleAPIOptionChanged:function(e,t,i){"use strict";var a=this;switch(e){case"defaultValuesForActivityProperties":case"defaultValuesForActivityEntryProperties":this.viewModel().handleAPIOptionChanged(e,t,i),this._viewType===Q.Activities&&(this.ganttWidget().invalidateAllRows(),this.update());break;case"defaultValuesForAllocationProperties":case"defaultValuesForAllocationEntryProperties":case"defaultValuesForLinkProperties":this.viewModel().handleAPIOptionChanged(e,t,i),this._viewType!==Q.Activities&&this._viewType!==Q.Resources||(this.ganttWidget().invalidateAllRows(),this.update());break;case"defaultValuesForEntityProperties":this.viewModel().handleAPIOptionChanged(e,t,i),this._entitiesTableWidget&&(this._entitiesTableWidget.invalidateAllRows(),this.update());break;case"defaultValuesForResourceProperties":this.viewModel().handleAPIOptionChanged(e,t,i),this._viewType===Q.Resources&&(this.ganttWidget().invalidateAllRows(),this.update());break;case"defaultActivityBarShape":case"defaultActivityConstraintSymbolColor":case"detailedActivityConstraintSymbolsEnabled":case"defaultActivityProgressBackgroundColor":this._viewType===Q.Activities&&(this.viewModel().handleAPIOptionChanged(e,t,i),this.ganttWidget().invalidateAllRows(),this.update());break;case"defaultAllocationBackgroundColor":case"defaultAllocationConstraintSymbolColor":case"detailedAllocationConstraintSymbolsEnabled":case"defaultAllocationProgressBackgroundColor":case"defaultAllocationBarShape":this._viewType===Q.Resources&&(this.viewModel().handleAPIOptionChanged(e,t,i),this.ganttWidget().invalidateAllRows(),this.update());break;case"allocationRowsVisibleInActivitiesView":var n=a.viewModel();if(n.isHierarchyInitialized(Q.Activities)){var o=n.model();t?(n.activityItems(Q.Activities).forEach((function(e){e.updateFromReference(),n.registerRowItem(Q.Activities,e,!1,!1)})),n._refreshLinksEnabled=!1,o.allocations().forEach((function(e){n.addAllocation(e,a,Q.Activities)}))):(n._refreshLinksEnabled=!1,o.allocations().forEach((function(e){n.removeAllocation(e,a,Q.Activities,!1,!0)})),n.activityItems(Q.Activities).forEach((function(e){e.updateFromReference(),n.registerRowItem(Q.Activities,e,!1,!1)}))),n.autoInvalidateRows(a,Q.Activities)}a._viewType===Q.Activities&&(a._setAllocationDefaultTableRowDefinition(a._viewType),a._ganttWidget.option("leafRowsVisible",t),n.isHierarchyInitialized(Q.Activities)&&(n._refreshLinksEnabled=!0,n.refreshLinks(a._viewType),a.update()));break;case"allocationRowsVisibleInResourcesView":a._viewType===Q.Resources&&(a._setAllocationDefaultTableRowDefinition(a._viewType),a._ganttWidget.option("leafRowsVisible",t));break;case"maximumTimeResolutionUnit":case"maximumTimeResolutionUnitFactor":case"timeStepUnit":case"timeStepUnitFactor":a.updateTimeStepUnitAndFactor();break;case"asynchronousInteractiveTimeAreaStretching":a._ganttWidget.option(e,t);break;case"editable":case"asynchronousRendering":a._ganttWidget.option(e,t),a._entitiesTableWidget?.option(e,t);break;case"definedAllocationLinksVisibleInActivitiesView":this._viewType===Q.Activities&&(this.viewModel().refreshLinks(Q.Activities),this.update());break;case"definedAllocationLinksVisibleInResourcesView":this._viewType===Q.Resources&&(this.viewModel().refreshLinks(Q.Resources),this.update());break;case"activityBaselineBarsVisible":this._viewType===Q.Activities?(this.viewModel().handleAPIOptionChanged(e,t,i),this.ganttWidget().invalidateAllRows(),this.update()):this.viewModel().isHierarchyInitialized(Q.Activities)&&this.viewModel().activityItems(Q.Activities).forEach((function(e){e.updateFromReference()}));break;case"ignoreCalendarOnActivityBarInteractions":this._viewType===Q.Activities&&this.ganttWidget().option("ignoreCalendarOnBarInteractions",t);break;case"ignoreCalendarOnAllocationBarInteractions":this._viewType===Q.Resources&&this.ganttWidget().option("ignoreCalendarOnBarInteractions",t);break;case"dateLineGridColor":this._ganttWidget.option("dateLineGridColor",t);break;case"dateLineGridDashArray":this._ganttWidget.option("dateLineGridDashArray",t);break;case"dateLineGridWidth":this._ganttWidget.option("dateLineGridWidth",t);break;case"colorOfFirstTableCellAppliedToGroupColoring":this.ganttWidget().invalidateAllRows(),this.update();break;case"groupCellsWithHorizontalSeparationLine":this._ganttWidget.option("groupCellsWithHorizontalSeparationLine",t),this._entitiesTableWidget?.option("groupCellsWithHorizontalSeparationLine",t);break;case"dateLineCaptionOptimizedPositioningEnabled":this._ganttWidget.option("dateLineCaptionOptimizedPositioningEnabled",t),a.updateDateLinePresentations();break;default:this.setOption(e,t)}},_initOptions:function(e){"use strict";var t={calendarGridVisible:!0,showCurveButtonInView:[Q.Activities,Q.Resources],curveScaleTicksMode:1,deselectItemsOnInteractionWithUnselectedItem:!0,maximumSnapDistance:8,worldViewBarCallbackEnabled:!1};this._options=a.extend({},t,e)},_setColorByOptionValue:function(e,t){"use strict";var i=this,o=i.getAPIOption(e),r=n.select(t??document.head),s=[];switch(e){case"calendarGridColor":s.push({selector:"."+a.netronic.nGanttWidget.CALGRID_CLASS,attribute:"fill"});break;case"treeViewLineColor":s.push({selector:"."+a.netronic.nGanttWidget.TREEVIEW_LINE_CLASS,attribute:"stroke"});break;case"treeViewLineDashArray":s.push({selector:"."+a.netronic.nGanttWidget.TREEVIEW_LINE_CLASS,attribute:"stroke-dasharray"});break;case"entitiesTableTreeViewLineColor":s.push({selector:"."+a.netronic.nTableWidget.TREEVIEW_LINE_CLASS,attribute:"stroke"});break;case"entitiesTableTreeViewLineDashArray":s.push({selector:"."+a.netronic.nTableWidget.TREEVIEW_LINE_CLASS,attribute:"stroke-dasharray"});break;case"timescaleBackgroundColor":s.push({selector:".ntimescale-ribbon-cell, .ntimescale-scroll-handle .ntimescale-scroll-handle-symbol, .ntimescale-up-handle .ntimescale-up-handle-symbol",attribute:"fill"},{selector:".ntimescale-ribbon-cell-nonworking-inner-tick",attribute:"stroke"});break;case"timescaleWeekendBackgroundColor":s.push({selector:".ntimescale-ribbon-cell.ntimescale-ribbon-cell-weekend",attribute:"fill"});break;case"timescaleTextColor":s.push({selector:".ntimescale-ribbon-cell text, .ntimescale-scroll-handle-background:not(.ntimescale-scroll-handle-background-hover), .ntimescale-up-handle-background:not(.ntimescale-up-handle-background-hover) ",attribute:"fill"});break;case"timescaleTickColor":s.push({selector:".ntimescale-ribbon-cell-tick",attribute:"stroke"},{selector:".ntimescale-ribbon-cell-nonworking-outer-tick",attribute:"stroke"});break;case"timescaleHighlightingColor":s.push({selector:".ntimescale-ribbon-cell-rect.ntimescale-ribbon-cell-rect-hover, .ntimescale-scroll-handle-background-hover, .ntimescale-up-handle-background-hover",attribute:"fill"});break;case"timeAreaBackgroundColor":s.push({selector:".ngantt-row-background-rect",attribute:"fill"});break;case"tableTitleBackgroundColor":var l=this.getAPIOption("symbolColumnTitleVisible")?".ngantt-scrollable-table-title .ngantt-table-title-rect, .ngantt-fixed-table-title-succeeding .ngantt-table-title-rect":".ngantt-table-title-rect";s.push({selector:l,attribute:"fill"});break;case"tableTitleTextColor":s.push({selector:"text.ngantt-fixed-table-title-text",attribute:"fill"},{selector:"text.ngantt-table-title-text",attribute:"fill"},{selector:"path.ngantt-table-title-sorting-indicator",attribute:"fill"});break;case"tableTitleColumnSeparatorColor":s.push({selector:".ngantt-table-column-splitter .nsplitter-rect",attribute:"fill"},{selector:".ngantt-table-title-column-separation-line",attribute:"stroke"});break;case"tableTitleHighlightingColor":s.push({selector:".ngantt-table-column-splitter .nsplitter-rect-phantom",attribute:"fill"});break;case"entitiesTableTitleBackgroundColor":l=this.getAPIOption("entitiesTableSymbolColumnTitleVisible")?".ntable-scrollable-title .ntable-title-rect, .ntable-fixed-title-succeeding .ntable-title-rect":".ntable-title-rect",s.push({selector:l,attribute:"fill"});break;case"entitiesTableTitleTextColor":s.push({selector:"text.ntable-fixed-title-text",attribute:"fill"},{selector:"text.ntable-title-text",attribute:"fill"},{selector:"text.ntable-title-sorting-indicator",attribute:"fill"});break;case"entitiesTableTitleColumnSeparatorColor":s.push({selector:".ntable-column-splitter .nsplitter-rect",attribute:"fill"},{selector:".ntable-title-column-separation-line",attribute:"stroke"});break;case"entitiesTableTitleHighlightingColor":s.push({selector:".ntable-column-splitter .nsplitter-rect-phantom",attribute:"fill"});break;case"defaultLoadCurvePaneColor":s.push({selector:".ngantt-timearea-row .nrab-load-curve-container-rect",attribute:"fill"});break;case"defaultInventoryCurvePaneColor":s.push({selector:".ngantt-timearea-row .nrab-inventory-curve-container-rect",attribute:"fill"});break;case"selectionColor":s.push({selector:".ngantt-selected-bar",attribute:"fill"},{selector:".ngantt-selected-link",attribute:"stroke"},{selector:".ngantt-table-row-selected-gradient-start, .ngantt-table-row-selected-gradient-end, .ntable-selected-gradient-start, .ntable-selected-gradient-end",attribute:"stop-color",noWidgetPrefix:!0}),this._ganttWidget.option("worldViewSelectionColor",o);break;case"splitterHighlightingColor":s.push({selector:".nsplitter-rect-phantom",attribute:"fill",noWidgetPrefix:!0});break;case"unsuitableActivityOverlayColor":s.push({viewTypePrefix:".nrab-activities-view",selector:".ngantt-covered-row:not(.ngantt-covered-and-highlighted-row)",attribute:"fill"});break;case"suitableActivityOverlayColor":s.push({viewTypePrefix:".nrab-activities-view",selector:".ngantt-covered-and-highlighted-row",attribute:"fill"});break;case"unsuitableResourceOverlayColor":s.push({viewTypePrefix:".nrab-resources-view",selector:".ngantt-covered-row:not(.ngantt-covered-and-highlighted-row)",attribute:"fill"});break;case"suitableResourceOverlayColor":s.push({viewTypePrefix:".nrab-resources-view",selector:".ngantt-covered-and-highlighted-row",attribute:"fill"});break;case"defaultActivityStatusFrameColor":i._viewType!==Q.Activities&&(o=null),s.push({selector:":not(ngantt-leaf) .ngantt-marked-bar",attribute:"stroke"});break;case"defaultAllocationStatusFrameColor":var c=i._viewType===Q.Activities?".ngantt-leaf ":"";s.push({selector:c+".ngantt-marked-bar",attribute:"stroke"})}if(function(e,t){if(!o&&i._colorStyleD3[e+"0"]){for(var a=0;a<t;a++){var n=e+a;i._colorStyleD3[n].remove(),delete i._colorStyleD3[n]}return!1}for(a=0;a<t;a++){n=e+a;i._colorStyleD3[n]||(i._colorStyleD3[n]=r.append("style"))}return!0}(e,s.length)){l="";var d="";e.indexOf("entitiesTable")<0?(o&&s.forEach((function(t,n){if(t.noWidgetPrefix)l=t.selector;else{var r=t.selector.split(","),s=[".",a.netronic.nGanttWidget.WIDGET_CLASS,"-",i._ganttWidget._uniqueID," "].join("");t.viewTypePrefix&&(s=t.viewTypePrefix+" "+s),l=s+r.join(","+s)}d=[t.attribute,": ",o,"; "].join(""),i._colorStyleD3[e+n].text([l,"{",d,"}"].join(""))})),"calendarGridColor"===e&&i._ganttWidget&&(i._ganttWidget.invalidateAllRows(),i._ganttWidget.update())):o&&i._entitiesTableWidget&&s.forEach((function(t,n){var r=t.selector.split(","),s=[".",a.netronic.nTableWidget.WIDGET_CLASS,"-",i._entitiesTableWidget._uniqueID," "].join("");l=s+r.join(","+s),d=[t.attribute,": ",o,"; "].join(""),i._colorStyleD3[e+n].text([l,"{",d,"}"].join(""))}))}},options:function(){"use strict";return a.extend({},this._options)},setOption:function(e,t,i){"use strict";var a=this,n=function(e,t){var i=!1;return e.forEach((e=>{e&&(e.symbolColumnTitleImageURLs=t,e.symbolColumnTitleVisible&&(i=!0))})),i};switch(e){case"viewType":this.selectViewType(t);break;case"start":this.setStart(t);break;case"end":this.setEnd(t);break;case"startAndEnd":this.setTimeRange(t[0],t[1]);break;case"calendarGridVisible":case"editable":case"timeZone":case"worldViewVisible":case"worldViewPosition":case"worldViewExtent":this._ganttWidget.option(e,t);break;case"tooltipDelay":this._tooltipWidget&&this._tooltipWidget.option("delay",t>=0?t:null);break;case"animationDuration":this._ganttWidget.option("transitionDuration",t),this._entitiesWidget&&this._entitiesWidget.option("transitionDuration",t>=0?t:null);break;case"visualZoomFactor":this._ganttWidget.option(e,t),this._entitiesTableWidget&&(this._entitiesTableWidget.option(e,t),this._resizeWidgets());break;case"maximumSnapDistance":this._ganttWidget.option("maximumSnapDistance",t);break;case"timeAreaPanningMode":this._ganttWidget.option("timeAreaPanningMode",t);break;case"cursorDateLineVisible":this._ganttWidget.option("horizontalMousePositionHighlightingEnabled",t);break;case"maximumTopViewAreaHeightRatio":this._ganttWidget.option("maximumTopBodyViewAreaHeightRatio",t);break;case"defaultLinkRoutingType":this._ganttWidget.option("linkRoutingType",t);break;case"progressBarHeight":case"progressBarWidthCalculationMode":case"defaultLinkTargetMarker":this._ganttWidget.option(e,t);break;case"allocationBarTopOffsetAndHeightScaleFactor":this._viewType===Q.Resources&&this._ganttWidget.option("barTopOffsetAndHeightScaleFactor",t),this._ganttWidget.option("leafBarTopOffsetAndHeightScaleFactor",t);break;case"activityBarTopOffsetAndHeightScaleFactor":this._viewType===Q.Activities&&this._ganttWidget.option("barTopOffsetAndHeightScaleFactor",t);break;case"preventDefaultOnContextMenuEvents":this._ganttWidget.option(e,t),this._entitiesTableWidget&&this._entitiesTableWidget.option(e,t);break;case"multipleBarDraggingEnabled":this._ganttWidget.option("automaticDraggingOfSelectedTimeItems",t);break;case"titleText":this._tableDefinitionActivities.titleText=t,this._tableDefinitionResources.titleText=t,this._tableDefinitionLoads.titleText=t,this._ganttWidget.updateTableTitle();break;case"treeVisualizationMode":this._ganttWidget.option("treeLinesVisible",!!t);break;case"entitiesTableTreeVisualizationMode":this._entitiesTableWidget&&this._entitiesTableWidget.option("treeLinesVisible",!!t);break;case"workDate":this.setWorkDate(t);break;case"workDateLineCaption":var o=a._ganttWidget.option("dateLines");Array.isArray(o)&&o.every((function(e){return e.id!==At+a._ganttWidget._uniqueID||(e.label=t,a.updateDateLine(e),!1)}));break;case"currentDate":this._updateCurrentDateArea(),this._viewOffsetForCurrentDateCurrentlyObserved&&this.scrollToCurrentDate();break;case"pastBackgroundFillColor":this._updateCurrentDateAreaPresentation();break;case"pastBackgroundLineColor":case"pastBackgroundLineWidth":case"pastBackgroundLineDashArray":this._updateCurrentDateLinePresentation();break;case"entitiesTableVisibleInActivitiesView":case"entitiesTableVisibleInResourcesView":this._showHideEntitiesTable();break;case"entitiesTitleText":if(this._tableDefinitionEntities.titleText=t,this._entitiesTableWidget){var r=this._entitiesTableWidget.option("tableDefinition");r&&(r.titleText=this._tableDefinitionEntities.titleText,this._entitiesTableWidget.updateTitle())}break;case"tableTitleAndTimescaleHeight":this._ganttWidget.option("titleHeight",t);break;case"entitiesTableTitleHeight":this._entitiesTableWidget&&this._entitiesTableWidget.option("titleHeight",t);break;case"tableWidth":this._setTableWidth();break;case"tableViewWidthInActivitiesView":this._viewType===Q.Activities&&this._ganttWidget.modifyTableViewWidth(t);break;case"tableViewWidthInResourcesView":this._viewType===Q.Resources&&this._ganttWidget.modifyTableViewWidth(t);break;case"tableViewWidthInLoadsView":this._viewType===Q.Loads&&this._ganttWidget.modifyTableViewWidth(t);break;case"fixedTableColumnWidth":this.setFixedTableColumnWidth(t);break;case"entitiesTableWidth":this._options.entitiesTableWidget||(this._options.entitiesTableWidget={}),this._setEntitiesTableWidthOptions();break;case"entitiesTableViewWidth":this.isEntitiesTableVisible()&&this._resizeWidgets(!0);break;case"entitiesTableTitleBackgroundColor":this._entitiesTableWidget&&this._tableDefinitionEntities&&!this._tableDefinitionEntities.symbolColumnTitleVisible&&(this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=t||"#646464",this._entitiesTableWidget.updateTableTitle()),this._setColorByOptionValue(e);break;case"tableTitleBackgroundColor":[this._tableDefinitionActivities,this._tableDefinitionResources,this._tableDefinitionLoads].forEach((e=>{e&&!e.symbolColumnTitleVisible&&(e.symbolColumnTitleBackgroundColor=t||"#646464")})),this._ganttWidget.updateTableTitle(),this._setColorByOptionValue(e);break;case"selectionColor":case"calendarGridColor":case"timescaleBackgroundColor":case"timescaleWeekendBackgroundColor":case"timescaleTextColor":case"timescaleTickColor":case"timescaleHighlightingColor":case"timeAreaBackgroundColor":case"tableTitleTextColor":case"tableTitleColumnSeparatorColor":case"tableTitleHighlightingColor":case"entitiesTableTitleTextColor":case"entitiesTableTitleColumnSeparatorColor":case"entitiesTableTitleHighlightingColor":case"defaultLoadCurvePaneColor":case"defaultInventoryCurvePaneColor":case"splitterHighlightingColor":case"suitableActivityOverlayColor":case"suitableResourceOverlayColor":case"unsuitableActivityOverlayColor":case"unsuitableResourceOverlayColor":case"defaultActivityStatusFrameColor":case"defaultAllocationStatusFrameColor":case"treeViewLineColor":case"treeViewLineDashArray":case"entitiesTableTreeViewLineColor":case"entitiesTableTreeViewLineDashArray":this._setColorByOptionValue(e);break;case"defaultActivityTableRowDefinitionID":var s=this._tableDefinitionActivities.rowDefinitionsMap;this._tableDefinitionActivities.baseLevel=t&&s?.[t]||this._tableDefinitionActivitiesBaseLevel,this._viewType===Q.Activities&&this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities);break;case"defaultAllocationTableRowDefinitionID":this._viewType!==Q.Activities&&this._viewType!==Q.Resources||this._setAllocationDefaultTableRowDefinition(this._viewType);break;case"defaultResourceTableRowDefinitionID":s=this._tableDefinitionResources.rowDefinitionsMap;this._tableDefinitionResources.baseLevel=t&&s?.[t]||this._tableDefinitionResourcesBaseLevel,s=this._tableDefinitionLoads.rowDefinitionsMap,this._tableDefinitionLoads.baseLevel=t&&s?.[t]||this._tableDefinitionLoadsBaseLevel,this._viewType===Q.Resources?this._ganttWidget.option("tableDefinition",this._tableDefinitionResources):this._viewType===Q.Loads&&this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"defaultEntityTableRowDefinitionID":s=this._tableDefinitionEntities.rowDefinitionsMap;this._tableDefinitionEntities.baseLevel=t&&s?.[t]||this._tableDefinitionEntitiesBaseLevel,this._entitiesTableWidget&&(this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._resizeWidgets());break;case"tableRowDefinitionIDForTitleInActivitiesView":this._tableDefinitionActivities.rowDefinitionIDWithColumnTitles=t,this._viewType===Q.Activities&&this._ganttWidget.updateTableTitle();break;case"tableRowDefinitionIDForTitleInResourcesView":this._tableDefinitionResources.rowDefinitionIDWithColumnTitles=t,this._viewType===Q.Resources&&this._ganttWidget.updateTableTitle(),this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles===i&&(this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=t,this._viewType===Q.Loads&&this._ganttWidget.updateTableTitle());break;case"tableRowDefinitionIDForTitleInLoadsView":this._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=t||this._tableDefinitionResources.rowDefinitionIDWithColumnTitles,this._viewType===Q.Loads&&this._ganttWidget.updateTableTitle();break;case"tableRowDefinitionIDForTitleInEntitiesTable":this._tableDefinitionEntities.rowDefinitionIDWithColumnTitles=t,this._entitiesTableWidget&&this._entitiesTableWidget.updateTitle();break;case"defaultActivityCollapsedRowDesign":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowCollapsedDisplayedElements",t);break;case"defaultActivityExpandedRowDesign":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowExpandedDisplayedElements",t);break;case"defaultAllocationRowDesign":this._viewType!==Q.Activities&&this._viewType!==Q.Resources||this._ganttWidget.option("defaultLeafRowDisplayedElements",t);break;case"defaultResourceCollapsedRowDesign":this._viewType===Q.Resources&&this._ganttWidget.option("defaultRowCollapsedDisplayedElements",t);break;case"defaultResourceExpandedRowDesign":this._viewType===Q.Resources&&this._ganttWidget.option("defaultRowExpandedDisplayedElements",t);break;case"defaultAllocationSnapTargetsForStart":this._viewType===Q.Resources?this._ganttWidget.option("defaultBarSnapTargetsForStart",t):this._viewType===Q.Activities&&this._ganttWidget.option("defaultLeafBarSnapTargetsForStart",t);break;case"defaultAllocationSnapTargetsForEnd":this._viewType===Q.Resources?this._ganttWidget.option("defaultBarSnapTargetsForEnd",t):this._viewType===Q.Activities&&this._ganttWidget.option("defaultLeafBarSnapTargetsForEnd",t);break;case"defaultActivitySnapTargetsForStart":this._viewType===Q.Activities&&this._ganttWidget.option("defaultBarSnapTargetsForStart",t);break;case"defaultActivitySnapTargetsForEnd":this._viewType===Q.Activities&&this._ganttWidget.option("defaultBarSnapTargetsForEnd",t);break;case"defaultAllocationAllowedBarDragModes":case"forcedAllocationAllowedBarDragModes":this._viewType===Q.Resources&&(this._ganttWidget.option("d"===e.charAt(0)?"defaultBarInteractions":"forcedBarInteractions",t),this._ganttWidget.option("d"===e.charAt(0)?"defaultLeafBarInteractions":"forcedLeafBarInteractions",t));break;case"defaultAllocationAllowedBarDragModesInActivitiesView":case"forcedAllocationAllowedBarDragModesInActivitiesView":this._viewType===Q.Activities&&this._ganttWidget.option("d"===e.charAt(0)?"defaultLeafBarInteractions":"forcedLeafBarInteractions",t);break;case"defaultActivityAllowedBarDragModes":case"forcedActivityAllowedBarDragModes":this._viewType===Q.Activities&&this._ganttWidget.option("d"===e.charAt(0)?"defaultBarInteractions":"forcedBarInteractions",t);break;case"defaultActivityAllowedRowDragModes":case"forcedActivityAllowedRowDragModes":this._viewType===Q.Activities&&(this._ganttWidget.option("d"===e.charAt(0)?"defaultRowInteractions":"forcedRowInteractions",t),this._ganttWidget.invalidateAllRows(),this.update());break;case"defaultResourceAllowedRowDragModes":case"forcedResourceAllowedRowDragModes":this._viewType!==Q.Resources&&this._viewType!==Q.Loads||(this._ganttWidget.option("d"===e.charAt(0)?"defaultRowInteractions":"forcedRowInteractions",t),this._ganttWidget.invalidateAllRows(),this.update());break;case"defaultEntityAllowedRowDragModes":case"forcedEntityAllowedRowDragModes":if(this._entitiesTableWidget){let i=a.getAPIOption("entitiesTableShownFullScreen")?~R.MoveOutside:-1;this._entitiesTableWidget.option("d"===e.charAt(0)?"defaultRowInteractions":"forcedRowInteractions",t&i)}break;case"defaultAllocationBarSelectable":this._ganttWidget.option("defaultLeafTimeItemSelectable",t);break;case"defaultAllocationRowSelectable":this._viewType!==Q.Activities&&this._viewType!==Q.Resources||this._ganttWidget.option("defaultLeafRowItemSelectable",t);break;case"defaultActivityBarSelectable":this._viewType===Q.Activities&&this._ganttWidget.option("defaultTimeItemSelectable",t);break;case"defaultActivityRowSelectable":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowItemSelectable",t);break;case"defaultLinkSelectable":this._ganttWidget.option("defaultLinkItemSelectable",t);break;case"defaultResourceRowSelectable":this._viewType===Q.Resources&&this._ganttWidget.option("defaultRowItemSelectable",t);break;case"defaultEntityRowSelectable":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowItemSelectable",t);break;case"defaultActivityRowCollapsible":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowItemCollapsible",t);break;case"defaultActivityAllocationRowsCollapsible":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowItemLeavesCollapsible",t);break;case"defaultResourceRowCollapsible":this._viewType===Q.Resources&&this._ganttWidget.option("defaultRowItemCollapsible",t);break;case"defaultResourceAllocationRowsCollapsible":this._viewType===Q.Resources&&this._ganttWidget.option("defaultRowItemLeavesCollapsible",t);break;case"defaultEntityRowCollapsible":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowItemCollapsible",t);break;case"defaultActivityBarShape":this._viewType===Q.Activities&&this._ganttWidget.option("defaultBarShape",ce[t]);break;case"defaultAllocationBarShape":this._viewType===Q.Resources?this._ganttWidget.option("defaultBarShape",de[t]):this._viewType===Q.Activities&&this._ganttWidget.option("defaultLeafBarShape",de[t]);break;case"defaultActivityBarHeight":a._viewType===Q.Activities&&(a._viewModel.activityItems(Q.Activities).forEach((function(e){if(e.timeItems){var t=e.timeItems[0];if(t&&t.rab_itemType===$.ActivityFrame){var i=a._viewModel._findItemOfTypeInArray(t.childTimeItems,$.ActivityBaseline);i&&i.updateFromReference()}}})),a._ganttWidget.option("barHeight",t));break;case"defaultAllocationBarHeight":this._viewType===Q.Resources?(this._ganttWidget.option("barHeight",t),this._ganttWidget.option("defaultLeafBarHeight",t)):this._viewType===Q.Activities&&this._ganttWidget.option("defaultLeafBarHeight",t);break;case"defaultActivityMinimumRowHeight":this._viewType===Q.Activities&&this._ganttWidget.option("defaultRowMainHeight",t);break;case"defaultAllocationMinimumRowHeight":this._viewType!==Q.Activities&&this._viewType!==Q.Resources||this._ganttWidget.option("defaultLeafRowMainHeight",t);break;case"defaultActivityMaximumSubRowHeightInTimeArea":this._viewType===Q.Activities&&this._ganttWidget.option("defaultMaximumSubRowHeight",t);break;case"defaultActivityMaximumRowHeight":this._viewType===Q.Activities&&this._ganttWidget.option("defaultMaximumRowHeight",t);break;case"defaultResourceMinimumRowHeight":this._viewType!==Q.Activities&&this._ganttWidget.option("defaultRowMainHeight",t);break;case"defaultResourceMaximumSubRowHeightInTimeArea":this._viewType!==Q.Activities&&this._ganttWidget.option("defaultMaximumSubRowHeight",t);break;case"defaultResourceMaximumRowHeight":this._viewType!==Q.Activities&&this._ganttWidget.option("defaultMaximumRowHeight",t);break;case"defaultEntityMinimumRowHeight":this._entitiesTableWidget&&this._entitiesTableWidget.option("defaultRowMainHeight",t);break;case"symbolColumnBackgroundColor":[this._tableDefinitionActivities,this._tableDefinitionResources,this._tableDefinitionLoads].forEach((e=>{e&&e.symbolColumnTitleVisible&&(e.symbolColumnTitleBackgroundColor=a.getAPIOption("symbolColumnTitleBackgroundColor")||t||"white")})),this._ganttWidget.updateTableTitle();case"patternShownOnOverloadCurves":case"releaseDueDateConnectionsVisible":case"linesShownInLoadCurvePanes":this._ganttWidget.invalidateAllRows(),this.update();break;case"entitiesTableSymbolColumnBackgroundColor":this._entitiesTableWidget&&(this._tableDefinitionEntities&&this._tableDefinitionEntities.symbolColumnTitleVisible&&(this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=a.getAPIOption("entitiesTableSymbolColumnTitleBackgroundColor")||t||"white",this._entitiesTableWidget.updateTableTitle()),this._entitiesTableWidget.invalidateAllRows(),this.update());break;case"curvePanesResizable":this._options.curveScaleTicksMode=t?2:1,this._ganttWidget.invalidateAllRows(),this.update();break;case"symbolColumnTitleBackgroundColor":var l=!1;[this._tableDefinitionActivities,this._tableDefinitionResources,this._tableDefinitionLoads].forEach((e=>{e&&e.symbolColumnTitleVisible&&(e.symbolColumnTitleBackgroundColor=t||a.getAPIOption("symbolColumnBackgroundColor")||"white",l=!0)})),l&&this._ganttWidget.updateTableTitle();break;case"symbolColumnTitleVisible":[this._tableDefinitionActivities,this._tableDefinitionResources,this._tableDefinitionLoads].forEach((e=>{e&&(e.symbolColumnTitleVisible=t,e.symbolColumnTitleBackgroundColor=t?this.getAPIOption("symbolColumnTitleBackgroundColor")||a.getAPIOption("symbolColumnBackgroundColor")||"white":this.getAPIOption("tableTitleBackgroundColor")||"#646464")})),this._ganttWidget.updateTableTitle();break;case"symbolColumnTitleSymbolIDs":JSON.stringify(i)!==JSON.stringify(t)&&n([this._tableDefinitionActivities,this._tableDefinitionResources,this._tableDefinitionLoads],this._getImageURLsForGanttWidget(t))&&this._ganttWidget.updateTableTitle();break;case"symbolColumnVisible":this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,t,this.getAPIOption("symbolColumnWidth"))&&this._viewType===Q.Activities&&this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,t,this.getAPIOption("symbolColumnWidth"))&&this._viewType===Q.Resources&&this._ganttWidget.option("tableDefinition",this._tableDefinitionResources),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionLoads,t,this.getAPIOption("symbolColumnWidth"))&&this._viewType===Q.Loads&&this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"symbolColumnWidth":t=Math.max(t,22),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionActivities,this.getAPIOption("symbolColumnVisible"),t)&&this._viewType===Q.Activities&&this._ganttWidget.option("tableDefinition",this._tableDefinitionActivities),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionResources,this.getAPIOption("symbolColumnVisible"),t)&&this._viewType===Q.Resources&&this._ganttWidget.option("tableDefinition",this._tableDefinitionResources),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionLoads,this.getAPIOption("symbolColumnVisible"),t)&&this._viewType===Q.Loads&&this._ganttWidget.option("tableDefinition",this._tableDefinitionLoads);break;case"entitiesTableSymbolColumnVisible":this._entitiesTableWidget&&this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,t,this.getAPIOption("entitiesTableSymbolColumnWidth"))&&(this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._setEntitiesTableWidthOptions());break;case"entitiesTableSymbolColumnWidth":this._entitiesTableWidget&&(null==t&&(t=22),t=Math.max(t,22),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("entitiesTableSymbolColumnVisible"),t)&&(this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._setEntitiesTableWidthOptions()));break;case"entitiesTableSymbolColumnTitleBackgroundColor":this._entitiesTableWidget&&this._tableDefinitionEntities&&this._tableDefinitionEntities.symbolColumnTitleVisible&&(this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=t||a.getAPIOption("entitiesTableSymbolColumnBackgroundColor")||"white",this._entitiesTableWidget.updateTableTitle());break;case"entitiesTableSymbolColumnTitleVisible":this._entitiesTableWidget&&this._tableDefinitionEntities&&(this._tableDefinitionEntities.symbolColumnTitleVisible=t,this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=t?this.getAPIOption("entitiesTableSymbolColumnTitleBackgroundColor")||a.getAPIOption("entitiesTableSymbolColumnBackgroundColor")||"white":this.getAPIOption("entitiesTableTitleBackgroundColor")||"#646464",this._entitiesTableWidget.updateTableTitle());break;case"entitiesTableSymbolColumnTitleSymbolIDs":this._entitiesTableWidget&&this._tableDefinitionEntities&&JSON.stringify(i)!==JSON.stringify(t)&&n([this._tableDefinitionEntities],this._getImageURLsForEntitiesTableWidget(t))&&this._entitiesTableWidget.updateTableTitle();break;case"topBarSymbolsVisible":this._ganttWidget.invalidateAllRows(!1,!0),this.update();break;case"topRowMarginInTimeArea":case"bottomRowMarginInTimeArea":case"subRowDistanceInTimeArea":this._ganttWidget.option(e.substring(0,e.length-10),t),this.updateAllRowHeights(a._viewType);break;case"contextMenuCallbackOnRowInTimeArea":this._ganttWidget.option("contextMenuEventOnRowItemInTimeArea",t);break;case"clickCallbackTriggeringOnRowInTimeArea":this._ganttWidget.option("tapEventOnRowItemInTimeArea",t),a._curveTapEventClassNames=t?h.TAP_EVENT_CLASS_NAME+" "+h.DOUBLE_TAP_EVENT_CLASS_NAME:h.QUICK_TAP_EVENT_CLASS_NAME,this._ganttWidget.invalidateAllRows(!1,!1),this.update();break;case"tableCellContentTopOffset":this._ganttWidget.option("cellContentTopOffset",t);break;case"entitiesTableCellContentTopOffset":this._entitiesTableWidget&&this._entitiesTableWidget.option("cellContentTopOffset",t);break;case"topViewAreaVisibleInActivitiesView":this._viewType===Q.Activities&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"topViewAreaVisibleInResourcesView":this._viewType===Q.Resources&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"topViewAreaVisibleInLoadsView":this._viewType===Q.Loads&&this._ganttWidget.option("topBodyViewAreaVisible",t);break;case"mainViewAreaVisibleInActivitiesView":this._viewType===Q.Activities&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"mainViewAreaVisibleInResourcesView":this._viewType===Q.Resources&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"mainViewAreaVisibleInLoadsView":this._viewType===Q.Loads&&this._ganttWidget.option("commonBodyViewAreaVisible",t);break;case"timescaleNavigationMode":this._ganttWidget.option("timescaleSmartNavigationVersion",K.TimescaleNavigationModeToVersionMap[t]);break;case"timescaleInteractionMode":this._ganttWidget.option("timescaleInteractionMode",t);break;case"selectionBehavior":var c={selectedItemsShownHighlighted:!!t,rowSelectionWithFrames:!t};t||(c.unselectedItemsShownCovered=!1),this._entitiesTableWidget&&this._entitiesTableWidget.option(c),c.barSelectionWithFrames=!t,this._ganttWidget.option(c);var d=this.getSelectedObjectsAndType();this.selectOrHighlightObjects(d.itemType,d.objects,0);break;case"minimumLoadCurvePaneHeight":case"defaultLoadCurvePaneHeight":case"maximumLoadCurvePaneHeight":case"minimumInventoryCurvePaneHeight":case"defaultInventoryCurvePaneHeight":case"maximumInventoryCurvePaneHeight":case"defaultResourceBarsPaneVisible":case"defaultResourceLoadCurvePaneVisible":case"defaultResourceInventoryCurvePaneVisible":case"higherCurvePanesOnExceededScaleMaximumValue":a.updateAllRowHeights(a._viewType),a._ganttWidget.invalidateAllRows(!1,"defaultResourceBarsPaneVisible"===e),a.update();break;case"detailedActivityConstraintSymbolsEnabled":this._viewType!==Q.Activities&&this._ganttWidget.option("detailedConstraintSymbolsEnabled",t);break;case"detailedAllocationConstraintSymbolsEnabled":this._viewType!==Q.Resources&&this._ganttWidget.option("detailedConstraintSymbolsEnabled",t);break;case"objectHighlightingColor":this._ganttWidget.option("itemHighlightingColor",t),this._entitiesTableWidget&&this._entitiesTableWidget.option("itemHighlightingColor",t);break;case"objectHighlightFlashingEnabled":this._ganttWidget.option("itemHighlightFlashingEnabled",!!t),this._entitiesTableWidget&&this._entitiesTableWidget.option("itemHighlightFlashingEnabled",!!t);break;case"scrollOffsetsChangedCallbackTimeDelay":this._ganttWidget.option("scrollOffsetsChangedFuncTimeDelay",t),this._entitiesTableWidget&&this._entitiesTableWidget.option("scrollOffsetsChangedFuncTimeDelay",t);break;case"watermarkSymbolID":a._currentSymbolIDsMap[t]?a._ganttWidget.option("watermarkURL",`///rabSG_${a._ganttWidget._uniqueID}_${a._currentSymbolIDsMap[t]}`):a._ganttWidget.option("watermarkURL",void 0);break;case"watermarkOpacity":a._ganttWidget.option("watermarkOpacity",t);break;case"entitiesTableShownFullScreen":if(this.isEntitiesTableVisible()&&this._resizeWidgets(!0),this._entitiesTableWidget){let e=t?~R.MoveOutside:-1;this._entitiesTableWidget.option("defaultRowInteractions",a.getAPIOption("defaultEntityAllowedRowDragModes")&e)}break;case"dragDatesShownForSingleSelectedObject":a._checkShowHideDragBoundaries();break;case"barSortModeForOptimizedRowDesign":a._ganttWidget.option("barSortModeForOptimizedDisplayedElements",a.getAPIOption("compareObjects")?t:Y.StartAndEnd);break;case"collapseButtonVisibleOnRowsWithoutVisibleChildren":this._ganttWidget.option(e,t),this._ganttWidget.invalidateAllRows(),this._entitiesTableWidget&&(this._entitiesTableWidget.option(e,t),this._entitiesTableWidget.invalidateAllRows()),this.update();break;case"interactiveSwitchingOfSortOrderEnabled":case"sortingIndicatorVisible":this._ganttWidget.option(e,t),this._entitiesTableWidget&&this._entitiesTableWidget.option(e,t)}},getOption:function(e){return this._options[e]},app:function(){return this._app},view:function(){return this._view},viewModel:function(){return this._viewModel},init:function(e){"use strict";var t=this,i=t._viewModel.model();t._tooltipWidget=t._divJQ.nTooltipWidget({classNames:["ngantt-bar","ngantt-compound-bar","ngantt-table-row","ngantt-link-hot-region","ntable-row",Pe]}).nTooltipWidget("instance"),t._tooltipWidget.option("delay",t.getAPIOption("tooltipDelay")),t._ganttWidget.option("linkItems",void 0),t.resetTimeAreaView(),t._ganttWidget.timeRange(i.actualStart(),i.actualEnd()),t._ganttWidget.addDateLine({className:yt,id:At+t._ganttWidget._uniqueID,date:i.dateTimeValueToDate(t.getAPIOption("workDate")),label:t.getAPIOption("workDateLineCaption"),draggable:!1}),t._updateCurrentDateArea(),t.updateTimeStepUnitAndFactor(),t.selectViewType(void 0===e?Q.Resources:e,!0)},_updateCurrentDateArea:function(){"use strict";var e,t=this,i=t._viewModel.model(),a=t._ganttWidget.option("dateAreas")||[],n=t._ganttWidget.option("dateLines")||[];for(e=0;e<a.length;e++)if(a[e].id===Ie+t._ganttWidget._uniqueID){t.getAPIOption("currentDate")?(a[e].start=i.dateTimeValueToDate(t.currentStart()),a[e].end=t.getAPIOption("currentDate")):(a.splice(e,1),e-=1);break}for(var o=0;o<n.length;o++)if(n[o].id===De+t._ganttWidget._uniqueID){if(!t.getAPIOption("currentDate")){n.splice(o,1);break}n[o].date=t.getAPIOption("currentDate")}t.getAPIOption("currentDate")&&e===a.length&&(n.push({className:Re,id:De+t._ganttWidget._uniqueID,date:t.getAPIOption("currentDate"),label:"",draggable:!1}),a.push({className:Ce,id:Ie+t._ganttWidget._uniqueID,start:i.dateTimeValueToDate(t.currentStart()),end:t.getAPIOption("currentDate"),inForeground:!1})),t._ganttWidget.option("dateLines",n.length?n:null),t.updateDateLinePresentations(),t._ganttWidget.option("dateAreas",a.length?a:null),t._updateCurrentDateAreaPresentation()},_updateCurrentDateLinePresentation:function(){"use strict";this.getAPIOption("currentDate")&&(n.select(this._ganttWidget.element[0]).select("."+Re+" line").style("stroke",this.getAPIOption("pastBackgroundLineColor")||null).style("stroke-width",this.getAPIOption("pastBackgroundLineWidth")||null).style("stroke-dasharray",this.getAPIOption("pastBackgroundLineDashArray")||null),this._ganttWidget.renderWorldView())},_updateCurrentDateAreaPresentation:function(){"use strict";this.getAPIOption("currentDate")&&n.select(this._ganttWidget.element[0]).select("."+Ce+" path").style("fill",this.getAPIOption("pastBackgroundFillColor")||null)},getVisibleStartRowItem:function(e){"use strict";return this._viewType===e&&(this._visibleStartRowItemByViewType[e]=this._ganttWidget.visibleStartRowItem()),this._visibleStartRowItemByViewType[e]},scrollToObject:function(e,t,i){"use strict";var a=this,n=a._viewModel._item(e.rab_itemType===$.Entity?Q._Entities:a._viewType,e);n&&a.scrollToItem(n,t,i)},scrollToItem:function(e,t,i){"use strict";var a=this,n=[];t&&(t&se.Left?n.push("left"):t&se.HCenter?n.push("hcenter"):t&se.Right&&n.push("right"),t&se.Top?n.push("top"):t&se.VCenter?n.push("vcenter"):t&se.Bottom&&n.push("bottom"));var o=n.length?n.join(","):void 0;switch(e.rab_itemType!==$.AllocationRow||a._viewType!==Q.Resources||a.getAPIOption("allocationRowsVisibleInResourcesView")||(e=e.timeItems[0]),e.rab_itemType){case $.Resource:case $.ActivityRow:case $.AllocationRow:a.scrollToRowItem(a._viewType,e,o);break;case $.Activity:case $.ActivityBaseline:case $.ActivityFrame:case $.Allocation:this._ganttWidget.scrollToItem(e,o,!0,!0,a.getAPIOption("scrollToObjectAnimationEnabled"));break;case $.Entity:a._entitiesTableWidget&&(a.scrollToRowItem(a._viewType,e,o),!1!==i&&(a._entitiesTableWidget.showMarkingTemporarily(e),a._ganttWidget.showMarkingTemporarily(null),i=!1));default:e=null}if(!1!==i){if(e&&(e.rab_itemType===$.Allocation||e.rab_itemType===$.Activity)&&!a._ganttWidget.getElementOfItem(e)){for(;e.rab_parentItem;)e=e.rab_parentItem;(e=e.rab_rowItem)&&e.rab_itemType!==$.AllocationRow&&e.rab_itemType!==$.ActivityRow&&(e=null)}a._ganttWidget.showMarkingTemporarily(e),a._entitiesTableWidget&&a._entitiesTableWidget.showMarkingTemporarily(null)}},scrollToRowItem:function(e,t,i){"use strict";var a=this,n=t.rab_itemType===$.Entity?a._entitiesTableWidget:a._ganttWidget;if(this._viewType===e){if(!n.getElementOfItem(t)){for(var o=[],r=t;r;)o.unshift(r),r=n.getParent(r);o.every((function(e){return!n.isRowCollapsed(e)||(n.expandRow(e),!n.getElementOfItem(t))}))}n.scrollToItem(t,i,!0,!0,a.getAPIOption("scrollToObjectAnimationEnabled"))}else this._verticalScrollOffsetByViewType[e]=void 0,this._topVerticalScrollOffsetByViewType[e]=void 0,this._visibleStartRowItemByViewType[e]=t},setStart:function(e){"use strict";return this.setTimeRange(e,this._ganttWidget.timeAxis().end())},setEnd:function(e){"use strict";if(this._ganttWidget&&e instanceof Date)return this._ganttWidget.timeRange(this._ganttWidget.timeAxis().start(),e),!0},setTimeRange:function(e,t){"use strict";if(this._ganttWidget&&e instanceof Date&&t instanceof Date)return this._ganttWidget.timeRange(e,t),this.getAPIOption("currentDate")&&this._updateCurrentDateArea(),!0},divElementJQ:function(){"use strict";return this._divJQ},currentStart:function(){"use strict";return this._ganttWidget?this._ganttWidget.timeAxis().actualStart():this._viewModel.model().actualStart()},currentEnd:function(){"use strict";return this._ganttWidget?this._ganttWidget.timeAxis().actualEnd():this._viewModel.model().actualEnd()},ganttWidget:function(){"use strict";return this._ganttWidget},entitiesTableWidget:function(){"use strict";return this._entitiesTableWidget},viewType:function(){"use strict";return this._viewType},updateTimeStepUnitAndFactor:function(){"use strict";var e=this;let t=e.getAPIOption("maximumTimeResolutionUnit"),i=e.getAPIOption("maximumTimeResolutionUnitFactor"),a=e.getAPIOption("timeStepUnit"),n=e.getAPIOption("timeStepUnitFactor");e._ganttWidget.option("timeResolutionUnit",le[t??a]??L.Seconds),e._ganttWidget.option("timeResolutionUnitsPerStep",(i??n??1)||1),e._ganttWidget.option("horizontalDraggingUnit",le[a??t]??L.Seconds),e._ganttWidget.option("horizontalDraggingUnitsPerStep",(n??i??1)||1)},update:function(e){"use strict";var t=this;let i=t._ganttWidget;if(null!=t._viewType&&t.getAPIOption("updateOptimizationEnabled")){var a=this._viewModel.model();t._entitiesTableWidget&&a.entities().forEach((function(e){if(1===e.rab_modificationClassification){var i=t._viewModel.entityItem(t._viewType,e);if(i){var a=t._entitiesTableWidget.getElementOfItem(i);a&&t._doTableRowFill({rowItem:i,rowElem:a},te.Entities,!0)}}delete e.rab_modificationClassification}));let e={};t._viewType===Q.Activities?a.activities().forEach((function(a){if(1===a.rab_modificationClassification){var n=t._viewModel.activityItem(t._viewType,a);if(n){var o=i.getElementOfItem(n);o&&(t._doTableRowFill({rowItem:n,rowElem:o},te.Gantt,!0),n.timeItems?.[0]?.childTimeItems.forEach((function(e){var a=i.getElementOfItem(e);if(a){var n,o=e.rab_itemType===$.Activity&&e.childTimeItems;o&&(n=i.getElementOfItem(e,!0)),t._updateBar({timeItem:e,elem:a,backgroundElem:n},!0),o&&e.childTimeItems.forEach((function(e){var a=e.data(),n=i.getElementOfItem(e);n&&t._updateBar({timeItem:e,elem:n},!0),delete a.rab_modificationClassification}))}}))),t.getAPIOption("worldViewVisible")&&(e[a.ID]=!0)}}delete a.rab_modificationClassification})):a.resources().forEach((function(a){if(1===a.rab_modificationClassification){var n=t._viewModel.resourceItem(t._viewType,a);if(n){var o=i.getElementOfItem(n);o&&t._doTableRowFill({rowItem:n,rowElem:o},te.Gantt,!0),t.getAPIOption("worldViewVisible")&&(e[a.ID]=!0)}}delete a.rab_modificationClassification})),(t._viewType===Q.Resources||t._viewType===Q.Activities&&t.getAPIOption("allocationRowsVisibleInActivitiesView"))&&a.allocations().forEach((function(a){var n=t._viewModel.allocationItem(t._viewType,a);if(n){var o=i.getElementOfItem(n);if(1===a.rab_modificationClassification){o&&t._doTableRowFill({rowItem:n,rowElem:o},te.Gantt,!0);var r=n.timeItems?.[0];if(r){var s=i.getElementOfItem(r);if(s){var l=i.getElementOfItem(r,!0);t._updateBar({timeItem:r,elem:s,backgroundElem:l},!0),r.childTimeItems?.forEach((function(e){var a=e.data(),n=i.getElementOfItem(e);n&&t._updateBar({timeItem:e,elem:n},!0),delete a.rab_modificationClassification}))}t.getAPIOption("worldViewVisible")&&(i.options.leafRowsVisible?i.isRowCollapsed(n)||i.refreshRowForWorldView(n):t._viewType===Q.Resources&&(e[a.ResourceID]=!0))}}}else a.Entries?.forEach((e=>{delete e.rab_modificationClassification}));delete a.rab_modificationClassification}));let n=t._viewType===Q.Activities?t._viewModel.activityItem:t._viewModel.resourceItem,o=t._viewType===Q.Activities?J.Activity:J.Resource,r={};Object.keys(e).forEach((e=>{let s=a.objectByID(o,e),l=n.call(t._viewModel,t._viewType,s);l=l&&i.getVisibleParent(l),l&&(r[l.data().ID]=l)})),Object.keys(r).forEach((e=>{let t=r[e];i.refreshRowForWorldView(t)}))}if(i){if(t._updateLinks(),e){var n=t.getSelectedObjectsAndType();void 0!==n.itemType&&(n.itemType!==J.Entity?i.option("updateSuspended",!0):t._entitiesTableWidget?.option("updateSuspended",!0),t.selectOrHighlightObjects(n.itemType,n.objects))}i.update(),e&&i.option("updateSuspended",!1),t._entitiesTableWidget&&(t._entitiesTableWidget.update(),e&&t._entitiesTableWidget.option("updateSuspended",!1))}},_setTableWidth:function(){"use strict";if(null!=this._viewType){var e=this.getAPIOption("tableWidth");if(null!=e){var t=this._viewType===Q.Resources?this._tableDefinitionResources:this._viewType===Q.Loads?this._tableDefinitionLoads:this._tableDefinitionActivities;t.fixedColumnsPreceding&&Array.isArray(t.fixedColumnsPreceding.cellDefinitions)&&t.fixedColumnsPreceding.cellDefinitions.forEach((function(t){e+=null==t.width?200:t.width})),t.fixedColumnsSucceeding&&Array.isArray(t.fixedColumnsSucceeding.cellDefinitions)&&t.fixedColumnsSucceeding.cellDefinitions.forEach((function(t){e+=null==t.width?200:t.width}))}this._ganttWidget.option("tableWidth",e)}},selectView:function(e,t,i){this.selectViewType(e,t,i)},selectViewType:function(e,t,i){"use strict";var a=this,n=a._viewType;if(n!==e||t){switch(e){case Q.Activities:this._ganttWidget.option("defaultRowInteractions",this.getAPIOption("defaultActivityAllowedRowDragModes"));break;case Q.Resources:case Q.Loads:this._ganttWidget.option("defaultRowInteractions",this.getAPIOption("defaultResourceAllowedRowDragModes"))}a._tooltipWidget.display(null),void 0!==a._viewType&&(a._verticalScrollOffsetByViewType[a._viewType]=a._ganttWidget.verticalScrollOffset(),a._topVerticalScrollOffsetByViewType[a._viewType]=a._ganttWidget.topVerticalScrollOffset(),a._visibleStartRowItemByViewType[a._viewType]=a._ganttWidget.visibleStartRowItem()),a._viewType!==e&&a._viewModel.clearRegisteredRowItems(a._viewType),a._viewType=e,a._viewModel.clearRegisteredRowItems(a._viewType),a._ganttWidget.option("updateSuspended",!0),a.updateAllRowHeights(e),void 0===n&&a._app.determineVisibilityOfObjects(this);var o=a._viewModel.rowItemsRoot(e);a._ganttWidget.option("rowItemsRoot",null),a._switchToViewType(e),a._setTableWidth(),a._view.handleViewTypeSwitch(a,e),a._ganttWidget.option("rowItemsRoot",o),a._ganttWidget.option("linksVisible",e!==Q.Loads),a._updateLinks(),a._showHideEntitiesTable(),a._ganttWidget.option("updateSuspended",!1),i||(void 0===a._verticalScrollOffsetByViewType[e]&&void 0===a._topVerticalScrollOffsetByViewType[e]&&a._visibleStartRowItemByViewType[e]?a._ganttWidget.scrollToItem(a._visibleStartRowItemByViewType[e],0):a._ganttWidget.scrollTo(void 0,void 0,a._verticalScrollOffsetByViewType[e]||0,a._topVerticalScrollOffsetByViewType[e]||0))}},suspendUpdate:function(e){"use strict";if(this._ganttWidget){var t=this._ganttWidget.option("updateSuspended");return e&&t||(this._ganttWidget.option("updateSuspended",e),this._entitiesTableWidget&&this._entitiesTableWidget.option("updateSuspended",e)),t}},_getCurrentDefaultRowMainHeight:function(){"use strict";var e=this.app().options();return e.ganttViewOptions&&e.ganttViewOptions.ganttWidget&&e.ganttViewOptions.ganttWidget.defaultRowMainHeight?e.ganttViewOptions.ganttWidget.defaultRowMainHeight:N.prototype.options.defaultRowMainHeight},_addOrRemoveSymbolColumnInTableDefinition:function(e,t,i){"use strict";return!t&&e.fixedColumnsPreceding?(delete e.fixedColumnsPreceding,!0):!!t&&(e.fixedColumnsPreceding={cellDefinitions:[{className:"",width:i,contentsFunc:this._tableCellFillFunc.bind(this),titleText:"",horizontalTextAlignment:M.Left,type:ae.ImageList}]},!0)},_switchToViewType:function(e){"use strict";var t=this;e===Q.Resources?(t._divJQ.addClass(nt).removeClass($e).removeClass(me),t._ganttWidget.option("tableDefinition",t._tableDefinitionResources),t._setAllocationDefaultTableRowDefinition(e),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInResourcesView")),t._ganttWidget.option("leafRowsVisible",t.getAPIOption("allocationRowsVisibleInResourcesView")),t._ganttWidget.option("leafBarsVisibleOnParentRows",!0),t._ganttWidget.option("barHeight",t.getAPIOption("defaultAllocationBarHeight")),t._ganttWidget.option("barTopOffsetAndHeightScaleFactor",t.getAPIOption("allocationBarTopOffsetAndHeightScaleFactor")),t._ganttWidget.option("leafBarTopOffsetAndHeightScaleFactor",t.getAPIOption("allocationBarTopOffsetAndHeightScaleFactor")),t._ganttWidget.option("defaultBarInteractions",t.getAPIOption("defaultAllocationAllowedBarDragModes")),t._ganttWidget.option("ignoreCalendarOnBarInteractions",t.getAPIOption("ignoreCalendarOnAllocationBarInteractions")),t._ganttWidget.option("defaultBarShape",de[t.getAPIOption("defaultAllocationBarShape")]),t._ganttWidget.option("defaultBarSnapTargetsForEnd",t.getAPIOption("defaultAllocationSnapTargetsForEnd")),t._ganttWidget.option("defaultBarSnapTargetsForStart",t.getAPIOption("defaultAllocationSnapTargetsForStart")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("defaultResourceMaximumRowHeight")),t._ganttWidget.option("defaultMaximumSubRowHeight",t.getAPIOption("defaultResourceMaximumSubRowHeightInTimeArea")),t._ganttWidget.option("defaultRowCollapsedDisplayedElements",t.getAPIOption("defaultResourceCollapsedRowDesign")),t._ganttWidget.option("defaultRowExpandedDisplayedElements",t.getAPIOption("defaultResourceExpandedRowDesign")),t._ganttWidget.option("defaultRowInteractions",t.getAPIOption("defaultResourceAllowedRowDragModes")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("defaultResourceRowCollapsible")),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("defaultResourceRowSelectable")),t._ganttWidget.option("defaultRowMainHeight",t.getAPIOption("defaultResourceMinimumRowHeight")),t._ganttWidget.option("defaultLeafBarHeight",t.getAPIOption("defaultAllocationBarHeight")),t._ganttWidget.option("defaultLeafBarInteractions",t.getAPIOption("defaultAllocationAllowedBarDragModes")),t._ganttWidget.option("forcedLeafBarInteractions",t.getAPIOption("forcedAllocationAllowedBarDragModes")),t._ganttWidget.option("defaultLeafBarShape",ce[t.getAPIOption("defaultAllocationBarShape")]),t._ganttWidget.option("defaultLeafBarSnapTargetsForEnd",t.getAPIOption("defaultAllocationSnapTargetsForEnd")),t._ganttWidget.option("defaultLeafBarSnapTargetsForStart",t.getAPIOption("defaultAllocationSnapTargetsForStart")),t._ganttWidget.option("defaultLeafTimeItemSelectable",t.getAPIOption("defaultAllocationBarSelectable")),t._ganttWidget.option("defaultLeafRowDisplayedElements",t.getAPIOption("defaultAllocationRowDesign")),t._ganttWidget.option("defaultLeafRowItemSelectable",t.getAPIOption("defaultAllocationRowSelectable")),t._ganttWidget.option("defaultRowItemLeavesCollapsible",t.getAPIOption("defaultResourceAllocationRowsCollapsible")),t._ganttWidget.option("defaultLeafRowMainHeight",t.getAPIOption("defaultAllocationMinimumRowHeight")),t._ganttWidget.option("detailedConstraintSymbolsEnabled",t.getAPIOption("detailedAllocationConstraintSymbolsEnabled")),t._ganttWidget.option("forcedBarInteractions",t.getAPIOption("forcedAllocationAllowedBarDragModes")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("topViewAreaVisibleInResourcesView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("mainViewAreaVisibleInResourcesView"))):e===Q.Loads?(t._divJQ.removeClass(nt).addClass($e).removeClass(me),t._ganttWidget.option("tableDefinition",t._tableDefinitionLoads),t._ganttWidget.option("defaultLeafTableRowDefinition",null),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInLoadsView")),t._ganttWidget.option("leafRowsVisible",!1),t._ganttWidget.option("leafBarsVisibleOnParentRows",!1),t._ganttWidget.option("defaultRowMainHeight",t._getCurrentDefaultRowMainHeight()),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("defaultResourceRowSelectable")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("defaultResourceRowCollapsible")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("topViewAreaVisibleInLoadsView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("mainViewAreaVisibleInLoadsView")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("defaultResourceMaximumRowHeight")),t._ganttWidget.option("defaultRowInteractions",t.getAPIOption("defaultResourceAllowedRowDragModes"))):e===Q.Activities&&(t._divJQ.removeClass(nt).removeClass($e).addClass(me),t._ganttWidget.option("tableDefinition",t._tableDefinitionActivities),t._setAllocationDefaultTableRowDefinition(e),t._ganttWidget.modifyTableViewWidth(this.getAPIOption("tableViewWidthInActivitiesView")),t._ganttWidget.option("leafRowsVisible",t.getAPIOption("allocationRowsVisibleInActivitiesView")),t._ganttWidget.option("leafBarsVisibleOnParentRows",!1),t._ganttWidget.option("barHeight",t.getAPIOption("defaultActivityBarHeight")),t._ganttWidget.option("barTopOffsetAndHeightScaleFactor",t.getAPIOption("activityBarTopOffsetAndHeightScaleFactor")),t._ganttWidget.option("leafBarTopOffsetAndHeightScaleFactor",t.getAPIOption("allocationBarTopOffsetAndHeightScaleFactor")),t._ganttWidget.option("defaultBarInteractions",t.getAPIOption("defaultActivityAllowedBarDragModes")),t._ganttWidget.option("ignoreCalendarOnBarInteractions",t.getAPIOption("ignoreCalendarOnActivityBarInteractions")),t._ganttWidget.option("defaultBarShape",ce[t.getAPIOption("defaultActivityBarShape")]),t._ganttWidget.option("defaultBarSnapTargetsForEnd",t.getAPIOption("defaultActivitySnapTargetsForEnd")),t._ganttWidget.option("defaultBarSnapTargetsForStart",t.getAPIOption("defaultActivitySnapTargetsForStart")),t._ganttWidget.option("defaultMaximumRowHeight",t.getAPIOption("defaultActivityMaximumRowHeight")),t._ganttWidget.option("defaultMaximumSubRowHeight",t.getAPIOption("defaultActivityMaximumSubRowHeightInTimeArea")),t._ganttWidget.option("defaultRowCollapsedDisplayedElements",t.getAPIOption("defaultActivityCollapsedRowDesign")),t._ganttWidget.option("defaultRowExpandedDisplayedElements",t.getAPIOption("defaultActivityExpandedRowDesign")),t._ganttWidget.option("defaultRowInteractions",t.getAPIOption("defaultActivityAllowedRowDragModes")),t._ganttWidget.option("defaultRowItemCollapsible",t.getAPIOption("defaultActivityRowCollapsible")),t._ganttWidget.option("defaultRowItemSelectable",t.getAPIOption("defaultActivityRowSelectable")),t._ganttWidget.option("defaultRowMainHeight",t.getAPIOption("defaultActivityMinimumRowHeight")),t._ganttWidget.option("defaultTimeItemSelectable",t.getAPIOption("defaultActivityBarSelectable")),t._ganttWidget.option("defaultLeafBarHeight",t.getAPIOption("defaultAllocationBarHeight")),t._ganttWidget.option("defaultLeafBarInteractions",t.getAPIOption("defaultAllocationAllowedBarDragModesInActivitiesView")),t._ganttWidget.option("forcedLeafBarInteractions",t.getAPIOption("forcedAllocationAllowedBarDragModes")),t._ganttWidget.option("defaultLeafBarShape",ce[t.getAPIOption("defaultAllocationBarShape")]),t._ganttWidget.option("defaultLeafBarSnapTargetsForEnd",t.getAPIOption("defaultAllocationSnapTargetsForEnd")),t._ganttWidget.option("defaultLeafBarSnapTargetsForStart",t.getAPIOption("defaultAllocationSnapTargetsForStart")),t._ganttWidget.option("defaultLeafTimeItemSelectable",t.getAPIOption("defaultAllocationBarSelectable")),t._ganttWidget.option("defaultLeafRowDisplayedElements",t.getAPIOption("defaultAllocationRowDesign")),t._ganttWidget.option("defaultLeafRowItemSelectable",t.getAPIOption("defaultAllocationRowSelectable")),t._ganttWidget.option("defaultRowItemLeavesCollapsible",t.getAPIOption("defaultActivityAllocationRowsCollapsible")),t._ganttWidget.option("defaultLeafRowMainHeight",t.getAPIOption("defaultAllocationMinimumRowHeight")),t._ganttWidget.option("detailedConstraintSymbolsEnabled",t.getAPIOption("detailedActivityConstraintSymbolsEnabled")),t._ganttWidget.option("forcedBarInteractions",t.getAPIOption("forcedActivityAllowedBarDragModes")),t._ganttWidget.option("topBodyViewAreaVisible",t.getAPIOption("topViewAreaVisibleInActivitiesView")),t._ganttWidget.option("commonBodyViewAreaVisible",t.getAPIOption("mainViewAreaVisibleInActivitiesView")))},_setAllocationDefaultTableRowDefinition:function(e){"use strict";var t=this;if(t._ganttWidget&&(e===Q.Activities&&t.getAPIOption("allocationRowsVisibleInActivitiesView")||e===Q.Resources&&t.getAPIOption("allocationRowsVisibleInResourcesView"))){var i=t.getAPIOption("defaultAllocationTableRowDefinitionID"),a=t._tableDefinitionActivities.rowDefinitionsMap,n=(i?a?.[i]:void 0)||t._tableDefinitionActivitiesBaseLevel;t._ganttWidget.option("defaultLeafTableRowDefinition",n)}},scrollToCurrentDate:function(){"use strict";var e=this;e.getAPIOption("currentDate")&&e._ganttWidget.scrollTimeAreaViewToDate(e.getAPIOption("currentDate")).then((function(){}))},resetTimeAreaView:function(){"use strict";this._app.getOption("timeAxisResolutionUnit")&&this._app.getOption("timeAxisPixelsPerResolutionUnit")&&(this._ganttWidget.timeAxis().baseTimeUnit(le[this._app.getOption("timeAxisResolutionUnit")]),this._ganttWidget.timeAxis().baseTimeUnitWidth(this._app.getOption("timeAxisPixelsPerResolutionUnit"))),this._ganttWidget.scrollTo(0,0,0,0)},collapseAllRowsAtLevel:function(e,t){"use strict";this.ganttWidget().collapseAllRowsAtLevel(e,t)},expandAllRowsAtLevel:function(e,t){"use strict";this.ganttWidget().expandAllRowsAtLevel(e,t)},collapseAllRowsAtLevelRange:function(e,t,i){"use strict";this.ganttWidget().collapseAllRowsAtLevelRange(e,t,i)},expandAllRowsAtLevelRange:function(e,t,i){"use strict";this.ganttWidget().expandAllRowsAtLevelRange(e,t,i)},enableVirtualization:function(e){"use strict";this._ganttWidget.option("virtualized",e)},showFullTime:function(){"use strict";this._ganttWidget.option("collapseCalendar",null)},hideNonWorkingTime:function(e){"use strict";this._nonWorkingTimeCalendar&&!e||(this._nonWorkingTimeCalendar=this._viewModel.model().calculateNonWorkingTimeCalendar()),this._ganttWidget.option("collapseCalendar",this._nonWorkingTimeCalendar)},hideWeekends:function(){"use strict";this._weekendCalendar||(this._weekendCalendar=B.createWeekendCalendar(this.currentStart(),this.currentEnd(),6,0)),this._ganttWidget.option("collapseCalendar",this._weekendCalendar)},fitTimeAreaIntoView:function(e,t,i){"use strict";return this._forceSizeChanged(),this._ganttWidget.fitTimeAreaIntoView(e,t,i)},setFixedTableColumnWidth:function(e){"use strict";this._tableDefinitionActivities.fixedColumnsSucceeding&&this._tableDefinitionActivities.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionActivities.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._tableDefinitionResources.fixedColumnsSucceeding&&this._tableDefinitionResources.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionResources.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._tableDefinitionLoads.fixedColumnsSucceeding&&this._tableDefinitionLoads.fixedColumnsSucceeding.cellDefinitions[0]&&(this._tableDefinitionLoads.fixedColumnsSucceeding.cellDefinitions[0].width=e);var t=this._ganttWidget.option("tableDefinition");t&&(t.fixedColumnsSucceeding&&t.fixedColumnsSucceeding.cellDefinitions[0]&&(t.fixedColumnsSucceeding.cellDefinitions[0].width=e),this._ganttWidget.option("tableDefinition",t))},setTimeResolutionForView:function(e,t,i,a){"use strict";var n=this;n._forceSizeChanged();var o,r=n._ganttWidget.timeAxis();if(i||(i=r.currentlyVisibleStart()),i){e=le[e?.toString().toLowerCase()]??L.Seconds,t>0||(t=1);var s=k.timeUnitToSeconds(e)*t,l=k.timeUnitToSeconds(n._ganttWidget.option("timeResolutionUnit"))*n._ganttWidget.option("timeResolutionUnitsPerStep"),c=64;[L.Weeks,L.Months,L.Quarters,L.Years].includes(e)&&(c=n._ganttWidget.timescaleWidget().getMinimumUnitWidthForTimeUnit(e)+1);var d=1e3*Math.max(s,l)*r.timeAreaViewWidth()/c;o=B.addWorkingTime(r.collapseCalendar(),i,d),r.actualEnd()<o&&(i=B.addWorkingTime(r.collapseCalendar(),r.actualEnd(),-d))}return n.fitTimeAreaIntoView(i,o,a)},setWorkDate:function(e){"use strict";var t=this;if(this._ganttWidget)if(e instanceof Date)this.handleMovedWorkDate(e);else{var i=t._ganttWidget.option("dateLines");Array.isArray(i)&&i.every((function(e){return e.id!==At+t._ganttWidget._uniqueID||(e.date=null,t.updateDateLine(e),!1)}))}},handleMovedWorkDate:function(e){"use strict";this._ganttWidget.moveDateLine(At+this._ganttWidget._uniqueID,e)},scrollToWorkDate:function(){"use strict";var e=this._viewModel.model().dateTimeValueToDate(this.getAPIOption("workDate"));e&&this._ganttWidget.scrollTimeAreaViewToDate(e)},getVisibleParent:function(e){"use strict";return this._ganttWidget.getVisibleParent(e)},invalidateRow:function(e,t,i){"use strict";var a=this;if(e.isResourceRelevant()&&a.updateRowHeight(e),i){var n=function(e){["childRowItems","leafRowItems"].forEach((function(t){var i=e[t];i&&i.forEach((function(e){e.isResourceRelevant()&&a.updateRowHeight(e),n(e)}))}))};n(e)}this._ganttWidget.invalidateRow(e,t,i)},_formatDateFunc:function(e){"use strict";if(this._viewModel.model().displayRelativeDates())e.text=c.dateToRelativeDateTimeString(e.date);else{var t=f.locale().date;switch(this.getAPIOption("timeStepUnit")){case"minute":case"hour":t+=" "+f.locale().timeAccurateToMinute;break;default:return}c.isMomentJSCurrentlyUsed?e.text=c.dateToMomentIfNecessary(e.date).format(c.d3TimeFormatToMomentFormat(t)):e.text=(n.timeFormat?n.timeFormat:n.time.format)(t)(e.date)}},isSavingAsPDF:function(){return this._isSavingAsPDF},saveAsPDF:function(e,t){"use strict";var n=this,o=self&&self.PDFDocument?self.PDFDocument:i.m.null,r=self&&self.SVGtoPDF?self.SVGtoPDF:i.m.null,s=self&&self.blobStream?self.blobStream:i.m.null;return new Promise(((i,l)=>{if(o&&r&&s&&!n._isSavingAsPDF){this._isSavingAsPDF=!0;var c=n._ganttWidget,u=c.element.parent(),p=a('<div class="ngantt-widget-'+c._uniqueID+'"></div>'),h=n._ganttWidget.actualTableWidth()+1+n._ganttWidget.timeAxis().actualTimeAreaWidth(),f=t&&t.bottomTimescaleVisible?n.getAPIOption("tableTitleAndTimescaleHeight"):0,_=n._ganttWidget.totalHeight()+f,b={printingMode:null!=t?.printingMode?+t.printingMode||0:1,cutMarksVisible:!!t?.cutMarksVisible,zoomFactorInPercent:null!=t?.zoomFactorInPercent&&+t.zoomFactorInPercent||0,horPageCountLimit:null!=t?.horPageCountLimit&&Math.floor(+t.horPageCountLimit)||1/0,verPageCountLimit:null!=t?.verPageCountLimit&&Math.floor(+t.verPageCountLimit)||1/0,pageOrientation:t?.pageOrientation||0,pageFormat:null!=t?.pageFormat?t.pageFormat.toString():"A4",topPageMargin:null!=t?.topPageMargin?Math.max(0,+t.topPageMargin)||0:10,bottomPageMargin:null!=t?.bottomPageMargin?Math.max(0,+t.bottomPageMargin)||0:10,leftPageMargin:null!=t?.leftPageMargin?Math.max(0,+t.leftPageMargin)||0:10,rightPageMargin:null!=t?.rightPageMargin?Math.max(0,+t.rightPageMargin)||0:10,topHTML:t?.topHTML,topText:t?.topText,bottomHTML:t?.bottomHTML,bottomText:t?.bottomText};n._currentSaveAsPDFOptions=b;var v,y,A=72/25.4,T=96/72;if(b.printingMode){var w=Dt[b.pageFormat.toUpperCase()];if(!w){var C=b.pageFormat.split("*");if(Array.isArray(C)&&2==C.length){var I=parseFloat(C[0]),R=parseFloat(C[1]);I&&R&&(w=[I*A,R*A])}}if(!w||w[0]<0||w[1]<0)return void l("Page size not calculable");var D=w[b.pageOrientation],S=w[1-b.pageOrientation];v=D*T,y=S*T}else v=h,y=_;var O={printingMode:b.printingMode||0,cutMarksVisible:!!b.cutMarksVisible,zoomFactorInPercent:b.zoomFactorInPercent,horPageCountLimit:b.horPageCountLimit,verPageCountLimit:b.verPageCountLimit,pageWidth:v,pageHeight:y,margins:{left:b.leftPageMargin*A*T,top:b.topPageMargin*A*T,right:b.rightPageMargin*A*T,bottom:b.bottomPageMargin*A*T},maxTableWidthInPercent:50,maxTitlesHeightInPercent:50,topText:b.topText,bottomText:b.bottomText};if(O.zoomFactorInPercent||b.horPageCountLimit!==1/0||b.verPageCountLimit!==1/0||(O.horPageCountLimit=O.verPageCountLimit=1),O.printingMode){if(O.pageWidth-O.margins.left-O.margins.right<=100)return void l("Inner page width too small");if(O.pageHeight-O.margins.top-O.margins.bottom<=100)return void l("Inner page height too small")}else O.printingMode=1,O.horPageCountLimit=1,O.verPageCountLimit=1,v=O.pageWidth+=O.margins.left+O.margins.right,y=O.pageHeight+=O.margins.top+O.margins.bottom,delete O.zoomFactorInPercent;var P=O.printingMode>0,E=v-O.margins.left-O.margins.right,M=y-O.margins.top-O.margins.bottom;2===O.printingMode?(p.width(E/2),p.height(M/2)):(p.width(h),p.height(_));var V=a.extend({},n._ganttWidget.options,{isForExport:!0,splitterWidth:1,rowItemsRoot:null,bottomTitleHeight:f,visualZoomFactor:1,worldViewVisible:!1});delete V.timeAreaViewParametersChangedFunc,V.tableDefinition=a.extend(!0,{},V.tableDefinition);var B=p.nGanttWidget(V).nGanttWidget("instance");B.timeAxis().baseTimeUnitWidth(c.timeAxis().actualBaseTimeUnitWidth()),B.forceSizeChanged(),n._ganttWidget=B;var N=n._getImageURLsForGanttWidget(n.getAPIOption("symbolColumnTitleSymbolIDs"));n._ganttWidget.options.tableDefinition.symbolColumnTitleImageURLs=N,n.updateSymbols(n.app().symbolsMap());var k=t&&t.watermarkSymbolID&&n._currentSymbolIDsMap[t.watermarkSymbolID];k&&n._ganttWidget.option("exportWatermarkURL",`///rabSG_${n._ganttWidget._uniqueID}_${k}`),B.timeRange(c.timeAxis().actualStart(),c.timeAxis().actualEnd());var W=c.determineRowItems();W.forEach((function(e){e.rab_temp_initiallyCollapsed=e.initiallyCollapsed,e.initiallyCollapsed=c.isRowCollapsed(e),e.rab_temp_leavesInitiallyCollapsed=e.leavesInitiallyCollapsed,e.leavesInitiallyCollapsed=c.areRowLeavesCollapsed(e)})),p.prependTo(u),B.option("dateLines",n._ganttWidget.option("dateLines"));var F=n._ganttWidget._uniqueID;n._ganttWidget._uniqueID=c._uniqueID,n.updateDateLinePresentations(F),n._ganttWidget._uniqueID=F,B.option("rowItemsRoot",c.options.rowItemsRoot);var L=n._viewModel.linkItems(n._viewType);L&&B.option("linkItems",L.slice());var x=P?Math.max(v,y):Math.max(h,_),H=Math.min(1e4/x,1);O.outerScaleFactor=H;var j=p.find(".ngantt-svg-outer-frame")[0],G=void 0,U=p.find(".ngantt-svg-root defs")[0];let d={},z=/{{@(.*(?=}}))}}/g;for(const e of[b.topHTML,b.bottomHTML])if(e)for(const t of e.matchAll(z)){let e=t[1],i=n._app.symbolsMap()[e];i&&i.URL&&(d["_"+e]=i.URL)}O.topHTML=b.topHTML?.replace(z,((e,t)=>d["_"+t]||"")),O.bottomHTML=b.bottomHTML?.replace(z,((e,t)=>d["_"+t]||"")),m.convertImagesToBase64(U).then((()=>B.updateExportWatermarks())).then((()=>{m.replaceUseTagsBySVGTags(p.find(".ngantt-svg-root")[0],/^#rabS/),W.forEach((function(e){void 0!==e.rab_temp_initiallyCollapsed?e.initiallyCollapsed=e.rab_temp_initiallyCollapsed:delete e.initiallyCollapsed,delete e.rab_temp_initiallyCollapsed,void 0!==e.rab_temp_leavesInitiallyCollapsed?e.leavesInitiallyCollapsed=e.rab_temp_leavesInitiallyCollapsed:delete e.leavesInitiallyCollapsed,delete e.rab_temp_leavesInitiallyCollapsed})),W.length=0;var a,d=B.preparePageForPrinting(O),u={};t?.author&&(u.Author=t.author),t?.title&&(u.Title=t.title),t?.subject&&(u.Subject=t.subject),t?.keywords&&(u.Keywords=t.keywords),G=new o({compress:!0,pdfVersion:"1.7",info:u,size:void 0,autoFirstPage:!1,ownerPassword:t?.ownerPassword,userPassword:t?.userPassword,permissions:{printing:null==t?.permissionToPrint?"highResolution":t.permissionToPrint,modifying:!!(t?.permissionToModify??1),copying:!!(t?.permissionToCopy??1),annotating:!!(t?.permissionToAnnotate??1),contentAccessibility:!!(t?.permissionToAccessContent??t?.permissionToCopyForContentAccessibility??1),documentAssembly:!!(t?.permissionToAssembleDocument??1)}});for(let e=1;e<=d.maxPageNumber;e++){var h=()=>{if(!n._cancelSaveAsPDF)return a&&(d=B.preparePageForPrinting(O,d)),n._preparePageForPrinting(d)??Promise.resolve()};if(a=a?a.then(h):h()){a=(a=a.then((()=>B.prepareFrameAreas(O,d)))).then((()=>new Promise((e=>{n._cancelSaveAsPDF||(G.addPage({size:[v*H*.75,y*H*.75]}),r(G,j,0,0,{useCSS:!0,width:d.pageWidth,height:d.pageHeight})),n._cancelSaveAsPDF?e():d.currentPageNumber<d.maxPageNumber?window.setTimeout(e,50):e()}))))}}var f=t=>{if(n._cancelSaveAsPDF||t)l(t||"Canceled");else{var a=G.pipe(new s);a.on("finish",(function(){var t=a.toBlob("application/pdf");if(!e){var n=new Date;n.setMilliseconds(0),n.setUTCMinutes(n.getUTCMinutes()-n.getTimezoneOffset()),e="VSW-SavedChart_"+n.toISOString().replace(".000Z","").replace(/:/g,"")+".pdf"}g.saveAs(t,e),i()}))}G.end(),n._ganttWidget=c,B.destroy(),p.remove(),delete n._isSavingAsPDF,delete n._cancelSaveAsPDF,delete n._currentSaveAsPDFOptions};a?a.then((()=>f()),(e=>f(e))):f()}))}else d.assert(!n._isSavingAsPDF,"saveAsPDF: Concurrent call active"),d.assert(o,"saveAsPDF: PDFKit library not loaded"),d.assert(r,"saveAsPDF: SVGtoPDFKit library not loaded"),d.assert(s,"saveAsPDF: BlobStream library not loaded")}))},_getCurrentSaveAsPDFOptions:function(){return this._currentSaveAsPDFOptions},_preparePageForPrinting:function(){},cancelSaveAsPDF:function(){"use strict";this._isSavingAsPDF&&(this._cancelSaveAsPDF=!0)},getSupportedPageFormatsForPrinting:function(){"use strict";return Object.keys(Dt)},addDateLine:function(e,t){"use strict";this._ganttWidget&&(this._ganttWidget.addDateLine(e),!1!==t&&this.updateDateLinePresentations())},updateDateLine:function(e,t){"use strict";if(this._ganttWidget){var i=this._ganttWidget.option("dateLines");i.every((function(t,a){return t.id!==e.id||(i[a]=e,!1)}))||(this._ganttWidget.option("dateLines",i),!1!==t&&this.updateDateLinePresentations())}},removeDateLine:function(e,t){"use strict";this._ganttWidget&&(this._ganttWidget.removeDateLine(e),!1!==t&&this.updateDateLinePresentations())},updateDateLinePresentations:function(e){"use strict";var t=this,i=t._ganttWidget.option("dateLines");if(i){var a="rab"+t._ganttWidget._uniqueID+"_";i.forEach((function(i){if(i.id.substring(0,a.length)===a){var o=n.select(t._ganttWidget.element[0]).select("#"+i.id);o.select("line").style("stroke",i.rab_lineColor||"black").style("stroke-width",i.rab_lineWidth||1).style("stroke-dasharray",i.rab_lineDashArray||null),o.select("text").style("fill",i.rab_labelColor||"black");var r=o.property("_ngantt_date-line-symbol-box");r&&r.setSymbol(`#rabSB_${e??t._ganttWidget._uniqueID}_${t._currentSymbolIDsMap[i.rab_symbolID]}`)}}))}t.getAPIOption("currentDate")?t._updateCurrentDateLinePresentation():t._ganttWidget.renderWorldView()},_determineCurveTooltipArgs:function(e,t){"use strict";var i,a,n,o,r=this._viewModel.resourceByItem(e);if(e.data().rab_loadCurveData)if(Array.isArray(r.rab_loadCurveData)){var s,l=this._viewModel.model().curveByID(r.LoadCurveID),c=l.Type,d=l.InterpolationType;a={},r.rab_loadCurveData.forEach((function(e){if(n=d===X.Linear?e.getValueAtDate(t.date,!0,!0):e.determinePreviousOrSameDateWithValue(t.date)){var o=d===X.Linear?n.interpolatedValue:n.value.value;s?c===q.CurveStack&&void 0!==o&&(a[s]=ue(a[s]-o,a[s],o)):i=o,a[e.rab_curveID]=o}s=e.rab_curveID}))}else(n=d===X.Linear?e.data().rab_loadCurveData.getValueAtDate(t.date,!0,!0):e.data().rab_loadCurveData.determinePreviousOrSameDateWithValue(t.date))&&(i=d===X.Linear?n.interpolatedValue:n.value.value);var u=e.data().rab_highestCapacityCurveData;u&&(n=u.determinePreviousOrSameDateWithValue(t.date))&&(o=n.value.value);var p={date:t.date,itemType:$.Curve,item:e,load:i,capacity:o};return a&&(p.singleLoads=a),p},_handleBeforeShowingTooltip:function(){},_showTooltip:function(e){"use strict";var t=this;if(!e.sender||!(e.ganttWidget||e.tableWidget||t._ganttWidget).isInInteraction()&&!t._curvePaneSplitterWidget.isCurrentlyDragged()){var i,a=t._showTooltipCounter=void 0!==t._showTooltipCounter?++t._showTooltipCounter:0,o=e.phantom,r=e.sender;if(r&&!t.getAPIOption("triggeringOfOnShowTooltipForEntriesInBarsEnabled"))if(r.rab_itemType===$.ActivityEntry||r.rab_itemType===$.AllocationEntry&&(!r.rab_parentItem||r.rab_parentItem.rab_allocationBarDesignFlags&ie.Grouped)){let e=t._tooltipWidget.currentData();if(e?.type===(r.rab_itemType===$.ActivityEntry?"activityEntry":"allocationEntry")&&e.item.rab_parentItem===r.rab_parentItem)return void--t._showTooltipCounter;if(e?.type===(r.rab_itemType===$.ActivityEntry?"activity":"allocation")&&e.item===r.rab_parentItem)return void--t._showTooltipCounter}else if(r.rab_itemType===$.ActivityEntry||r.rab_itemType===$.AllocationEntry&&r.rab_allocationBarDesignFlags&ie.Grouped){let e=t._tooltipWidget.currentData();if(e?.type===(r.rab_itemType===$.Activity?"activityEntry":"allocationEntry")&&e.item.rab_parentItem===r)return void--t._showTooltipCounter}if(r!==t._lastItemForOnShowTooltipTriggered||e.className===Pe||t._lastCellIndex!==e.cellIndex){if(t._lastItemForOnShowTooltipTriggered=r,t._lastCellIndex=e.cellIndex,r){if(r.rab_itemType===$.Activity||r.rab_itemType===$.Allocation){var s=this._ganttWidget.getParent(r);if(s){var l=r.rab_subItemType;(r=s).rab_subItemType=l}}var c,d,u,p=e.elem;if(e.itemType===$.Curve){var h=t._ganttWidget.eventPointToTimeArea(e.event);if(h){let n=t._tooltipWidget.currentData();n&&"curve-values"===n.type&&((c=t._tooltipWidget.option("delay"))&&(t._tooltipDelay=c),t._tooltipWidget.option("delay",0)),d=r.data().CurveTooltipTemplateID||t.getAPIOption("defaultResourceCurveTooltipTemplateID");var g=Object.assign(t._determineCurveTooltipArgs(r,h),{ganttWidget:t._ganttWidget,innerHTML:i,cancel:!1,elem:p,event:e.event,tooltipTemplateID:d,promise:null});t._handleBeforeShowingTooltip(g);let o=function(i){t._tooltipWidget.display({refElem:p,item:r,type:"curve-values",followCursorMode:!0,content:i,y:h.y},I.PositionType.BottomX,p,h.pageX,e.event)};!g.cancel&&g.innerHTML?o(g.innerHTML):t._tooltipWidget.display(null),g.promise&&"function"==typeof g.promise.then&&g.promise.then((function(e){a===t._showTooltipCounter&&o(e)}),(function(){t._tooltipWidget.display(null)}))}else t._tooltipWidget.display(null);return void window.setTimeout((function(){t._tooltipDelay&&(t._tooltipWidget.option("delay",t._tooltipDelay),delete t._tooltipDelay)}),1)}switch(r.rab_itemType){case $.Resource:u="resource",d=r.data().RowTooltipTemplateID||t.getAPIOption("defaultResourceRowTooltipTemplateID");break;case $.Entity:u="entity",d=r.data().RowTooltipTemplateID||t.getAPIOption("defaultEntityRowTooltipTemplateID");break;case $.AllocationRow:case $.ActivityRow:{let e=r.rab_itemType===$.AllocationRow?"llocation":"ctivity";u=`a${e}Row`,d=r.data().RowTooltipTemplateID||t.getAPIOption(`defaultA${e}RowTooltipTemplateID`);break}case $.Allocation:case $.Activity:case $.ActivityBaseline:case $.ActivityFrame:{let e=r.rab_itemType===$.Allocation?"llocation":"ctivity";u=`a${e}`,d=r.data().BarTooltipTemplateID||t.getAPIOption(`defaultA${e}BarTooltipTemplateID`);break}case $.AllocationEntry:case $.ActivityEntry:{let e=r.rab_itemType===$.AllocationEntry?"llocation":"ctivity";u=`a${e}Entry`,d=r.rab_parentItem.data().BarTooltipTemplateID||t.getAPIOption(`defaultA${e}BarTooltipTemplateID`);var m=t._tooltipWidget.currentData();m&&m.type===u&&m.item.rab_parentItem===r.rab_parentItem&&((c=t._tooltipWidget.option("delay"))&&(t._tooltipDelay=c),t._tooltipWidget.option("delay",0));break}case $.Link:u="link",d=r.data().TooltipTemplateID||t.getAPIOption("defaultLinkTooltipTemplateID");break;case $.PeriodHighlighterEntry:u="periodHighlighterEntry",d=r.entries?.[e.entryIndex].rab_tooltipTemplateID||t.getAPIOption("defaultPeriodHighlighterEntryTooltipTemplateID");break;case $.TimeArea:u="timeArea";break;case $.Timescale:u="timescale"}if(u&&(!o||!t.ganttWidget().option("dragDateLinesVisible"))){var f=n.select(p).select("."+mt).node();g={itemType:r.rab_itemType,subItemType:r.rab_subItemType,item:r,innerHTML:i,cancel:!1,elem:f||p,event:e.event,tooltipTemplateID:d,cellIndex:e.cellIndex,promise:null};r.rab_itemType===$.PeriodHighlighterEntry&&(g.rowItem=e.rowItem,g.entryIndex=e.entryIndex),t._handleBeforeShowingTooltip(g),t._tooltipDelay&&g.innerHTML===m.content&&(t._tooltipDuration=t._tooltipWidget.option("duration"),t._tooltipWidget.option("duration",0));let o=function(i,a){t._tooltipWidget.display({refElem:p,item:r,type:u,content:i,followCursorMode:["link","activityRow","allocationRow","resource","entity"].indexOf(u)>=0||"horizontal"},I.PositionType.BottomX,a,e.event?e.event.clientX:null,e.event),window.setTimeout((function(){t._tooltipDelay&&(t._tooltipWidget.option("delay",t._tooltipDelay),delete t._tooltipDelay,t._tooltipDuration&&(t._tooltipWidget.option("duration",t._tooltipDuration),delete t._tooltipDuration))}),1)};var _;if(!g.cancel&&g.innerHTML)"link"===u?_={getBoundingClientRect:function(){return{left:void 0,top:e.event.clientY,right:void 0,bottom:e.event.clientY,width:void 0,height:void 0}}}:["allocation","activity"].includes(u)&&"twice"===r.zOrder&&(_={getBoundingClientRect:function(){let e=t._ganttWidget.determineTimeItemExtent(r,!0),i=p.getBoundingClientRect();return{left:e.left+i.left,right:e.right+i.left,top:e.top+i.top,bottom:e.bottom+i.top}}}),!t.getAPIOption("triggeringOfOnShowTooltipForEntriesInBarsEnabled")&&u.endsWith("Entry")&&(u=u.replace(/Entry$/,"")),o(g.innerHTML,_||f||p);else t._tooltipWidget.display(null);return void(g.promise&&"function"==typeof g.promise.then&&g.promise.then((function(e){a===t._showTooltipCounter&&o(e,_||f||p)}),(function(){t._tooltipWidget.display(null)})))}}if(!o&&t.ganttWidget().option("dragDateLinesVisible")){g={itemType:void 0,item:null,cancel:!1,event:void 0};t._handleBeforeShowingTooltip(g),t._tooltipWidget.display(null)}}}},_handleBackgroundTap:function(){"use strict";this._deselectOtherItemsIfItemIsNotSelected(null,null,K.SelectionChangedReason.BackgroundClick),this._tooltipWidget.display(null)},_createLinkItem:function(e,t,i,a,n){"use strict";return new this._viewModel.option("linkItemClass")(e,this._viewModel,t,i,a,n)},_rowExpandOrCollapseFunc:function(e){"use strict";e.tableType=te.Gantt,this._handleRowExpandOrCollapseFunc(e)},_handleRowExpandOrCollapseFunc:function(){},_rowExpandedOrCollapsedFunc:function(e){"use strict";this.updateRowHeight(e.rowItem),e.tableType=te.Gantt,this._handleRowExpandedOrCollapsedFunc(e)},_handleRowExpandedOrCollapsedFunc:function(e){"use strict";this._viewType===Q.Loads?e.rowItem.data().rab_cachedCollapseStateInLoadsView=e.isCollapsed?1:0:(e.rowItem.data().rab_cachedCollapseState=e.isCollapsed?1:0,e.rowItem.rab_itemType!==$.Activity&&e.rowItem.rab_itemType!==$.Resource||(e.rowItem.data().rab_cachedAllocationRowsCollapseState=e.areLeavesCollapsed?1:0)),this._tooltipWidget.display(null)},_expandOrCollapseRowByCollapseState:function(e,t,i){"use strict";var a=this;e&&(i instanceof x?[Q.Resources,Q.Loads]:i instanceof H?[Q.Activities,Q.Resources]:[Q.Activities]).forEach((n=>{var o=n===Q.Loads?i.CollapseStateInLoadsView:i.CollapseState,r=n===Q.Loads||i instanceof H?void 0:i.AllocationRowsCollapseState;if(o>=0||r>=0){var s=t.call(a._viewModel,n,i);if(s){var l=void 0!==e.isRowHidden(s);o>=0&&(l?Array.isArray(s.childRowItems)&&(o?e.collapseRow(s):e.expandRow(s)):s.initiallyCollapsed=!!o),r>=0&&(l?Array.isArray(s.leafRowItems)&&(r?e.collapseRow(s,!0):e.expandRow(s,!0)):s.leavesInitiallyCollapsed=!!o)}}}))},_addAllocation:function(){},_updateAllocation:function(){},_removeAllocation:function(){},_addCalendar:function(){},_updateCalendar:function(){},_removeCalendar:function(){},_addCurve:function(){},_updateCurve:function(){},_removeCurve:function(){},_addResource:function(e){"use strict";var t=this;t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.resourceItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.resourceItem,Q.Resources,e)},_updateResource:function(e){"use strict";var t=this;t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.resourceItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.resourceItem,Q.Resources,e),t._viewType!==Q.Resources&&t._viewType!==Q.Loads||t._checkDescendantObjectsForClassification(e,t._viewModel.resourceItem(t._viewType,e))},_removeResource:function(){},_addActivity:function(e){"use strict";this._expandOrCollapseRowByCollapseState(this._ganttWidget,this._viewModel.activityItem,e),this._expandOrCollapseCurvesInRowByCollapseState(this._viewModel.activityItem,Q.Activities,e)},_updateActivity:function(e){"use strict";var t=this;t._expandOrCollapseRowByCollapseState(t._ganttWidget,t._viewModel.activityItem,e),t._expandOrCollapseCurvesInRowByCollapseState(t._viewModel.activityItem,Q.Activities,e),t._viewType===Q.Activities&&t._checkDescendantObjectsForClassification(e,t._viewModel.activityItem(t._viewType,e))},_checkDescendantObjectsForClassification:function(e,t){"use strict";if(t&&(t.childRowItems||t.leafRowItems)&&1===e.rab_modificationClassification){var i=function(e,t){e.forEach((function(e){var a=e.data();(void 0===a.rab_modificationClassification||a.rab_modificationClassification>1)&&(a.rab_modificationClassification=1),t||(e.childRowItems&&i(e.childRowItems),e.leafRowItems&&i(e.leafRowItems,t))}))};t.childRowItems&&i(t.childRowItems),t.leafRowItems&&i(t.leafRowItems,!0)}},_removeActivity:function(){},_updateLinks:function(){"use strict";var e=this,t=e._ganttWidget.options.linkItems,i=e._viewModel.linkItems(e._viewType);i&&(i=i.slice()),!t==!i&&(!i||i.length===t.length&&i.every((function(e,i){return e===t[i]&&!e._rab_isModified})))||e._ganttWidget.option("linkItems",i),[t,i].forEach((e=>{e&&e.forEach((function(e){delete e._rab_isModified}))}))},_addLink:function(){},_updateLink:function(){},_removeLink:function(){},_addEntity:function(e){"use strict";var t=this;t._expandOrCollapseRowByCollapseState(t._entitiesTableWidget,t._viewModel.entityItem,e)},_updateEntity:function(e){"use strict";var t=this;t._expandOrCollapseRowByCollapseState(t._entitiesTableWidget,t._viewModel.entityItem,e),t._viewType!==Q.Resources&&t._viewType!==Q.Activities||t._checkDescendantObjectsForClassification(e,t._viewModel.entityItem(t._viewType,e))},_removeEntity:function(){},_addPeriodHighlighter:function(){},_updatePeriodHighlighter:function(){},_removePeriodHighlighter:function(){},_addHierarchySupplementaryDefinition:function(){},_updateHierarchySupplementaryDefinition:function(){},_removeHierarchySupplementaryDefinition:function(){},_beforeRemoveAll:function(){"use strict";var e=this;e._tooltipWidget.display(null),e._ganttWidget.option("updateSuspended",!0),e._ganttWidget.option("rowItemsRoot",null),e._ganttWidget.disposeUnusedItems(),e._entitiesTableWidget&&(e._entitiesTableWidget.option("updateSuspended",!0),e._entitiesTableWidget.option("rowItemsRoot",null),e._entitiesTableWidget.disposeUnusedItems())},_afterRemoveAll:function(){},_composeObjectIDFromItemType:function(e,t){var i=[];switch(e){case $.Resource:case $.Allocation:case $.AllocationRow:case $.Activity:case $.ActivityRow:case $.Link:i.push(t.Role??"")}return i.push(t.ID),i.join(u)},_validateDraggedItems:function(e){"use strict";var t=this;if(!t._dragItemCache||!Object.keys(t._dragItemCache).length)return!0;var i=function(e){var i,a=e.rab_itemType,n=e,o=Object.keys(t._dragItemCache),r=o[o.map((function(e){return t._dragItemCache[e]})).indexOf(e)];if(r||(r=o[o.map((function(e){return t._consolidatedDragItemCache[e]})).indexOf(e)]),(e=t._consolidatedDragItemCache[r]).data())switch(a){case $.Entity:i=t.app().model().entityByID(r);break;case $.Resource:i=t.app().model().resourceByID(r);break;case $.Allocation:i=t.app().model().allocationByID(r);break;case $.Activity:case $.ActivityRow:i=t.app().model().activityByID(r)}var s=i&&t.viewModel()._item(a===$.Entity?Q._Entities:t._viewType,i);return s&&e.rab_itemType===$.Activity&&(s=n),s&&e.rab_itemType===$.Allocation&&(s=s.timeItems&&s.timeItems[0]),s};e.sender=i(e.sender);var a=!(!e.sender||!e.sender.data());return a&&(e.coupledItems?(e.coupledItems=e.coupledItems.map((function(e){return i(e)})).filter((function(e){return e})),a=!!e.coupledItems.length):e.startsAndEndsOfCoupledItems&&(a=e.startsAndEndsOfCoupledItems.some((function(e){return e.item=i(e.item),!(!e.item||!e.item.data())})))),a},_dragStartFunc:function(e){"use strict";var t=this,i=e.sender;t._tooltipWidget.display(null),t._dragItemCache={},t._consolidatedDragItemCache={},e.elemType!==S.Bar&&e.elemType!==S.Row&&e.elemType!==S.TableRow||(t._dragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i,t._consolidatedDragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i),e.coupledItems&&e.coupledItems.forEach((function(e){t._dragItemCache[t._composeObjectIDFromItemType(e.rab_itemType,e.data())]=i,t._consolidatedDragItemCache[t._composeObjectIDFromItemType(e.rab_itemType,e.data())]=e})),e.tableType=te.Gantt,t._doDragStartFunc(e),e.cancel||(e.elemType!==S.Bar&&e.elemType!==S.Row&&e.elemType!==S.TableRow||t._deselectOtherItemsIfItemIsNotSelected(e.sender,e.ganttWidget,K.SelectionChangedReason.DragStart),i&&(i.rab_itemType===$.Allocation&&t._handleStartSuitableTargetIDs(i.data(),e),1===Object.keys(t._dragItemCache).length&&(i.rab_itemType!==$.Allocation&&i.rab_subItemType!==$.Activity||t._showDragBoundaries(i.data()))))},_showDragBoundaries:function(e){"use strict";var t=this,i=t.ganttWidget().option("dateAreas")||[],a=e.model(),n=t.getAPIOption("dragDatesLimitingInteraction");if(t._hideDragBoundaries(i),e.EarliestDragStart){var o=a.dateTimeValueToDate(e.EarliestDragStart);if(o){var r=t.currentStart();o>r&&(t._dragEarliestDateArea={className:We,id:Fe,start:r,end:o,inForeground:n},i.push(t._dragEarliestDateArea))}}if(e.LatestDragEnd){var s=a.dateTimeValueToDate(e.LatestDragEnd);if(s){var l=t.currentEnd();s<l&&(t._dragLatestDateArea={className:ze,id:Ke,start:s,end:l,inForeground:n},i.push(t._dragLatestDateArea))}}t.ganttWidget().option("dateAreas",i)},_hideDragBoundaries:function(e){"use strict";var t=this,i=!!e;if(i||(e=t.ganttWidget().option("dateAreas")),e){let a=!1;["_dragEarliestDateArea","_dragLatestDateArea"].forEach((i=>{t[i]&&(e.splice(e.indexOf(t[i]),1),delete t[i],a=!0)})),!i&&a&&t.ganttWidget().option("dateAreas",e)}},_checkShowHideDragBoundaries:function(e){"use strict";var t=this;t.getAPIOption("dragDatesShownForSingleSelectedObject")&&!t._ganttWidget.isInInteraction()?(e||(e=t.ganttWidget().selectedTimeItems()),1===e.length?t._showDragBoundaries(e[0].data()):t._hideDragBoundaries()):t._hideDragBoundaries()},_handleStartSuitableTargetIDs:function(e,t){"use strict";var i,a,n,o=this;if(o._dragSuitableTargetIDsMap={},o._viewType===Q.Resources?(i="SuitableResourceIDs",a=pe,n="allocationRowsVisibleInResourcesView"):o._viewType===Q.Activities&&(i="SuitableActivityIDs",a=he,n="allocationRowsVisibleInActivitiesView"),i){var r=0,s=function(e,t){e[t]&&(e[t].forEach((function(e){(e=null!=e?e.toString():"")&&(o._dragSuitableTargetIDsMap[e]=(o._dragSuitableTargetIDsMap[e]||0)+1)})),r++)};s(e,i),t.coupledItems&&(t.coupledItems.forEach((e=>{s(e.data(),i)})),Object.keys(o._dragSuitableTargetIDsMap).forEach((function(e){o._dragSuitableTargetIDsMap[e]<r&&delete o._dragSuitableTargetIDsMap[e]})))}r||delete o._dragSuitableTargetIDsMap,r&&o._handleCovering(a,n,(function(e,t){e[t]=!0,e.leafRowItems?.forEach((e=>{e[t]=!0}))}))},_handleEndSuitableTargetIDs:function(){"use strict";var e,t,i=this;i._dragSuitableTargetIDsMap&&(i._viewType===Q.Resources?(e=pe,t="allocationRowsVisibleInResourcesView"):i._viewType===Q.Activities&&(e=he,t="allocationRowsVisibleInActivitiesView"),i._handleCovering(e,t,(function(e,t){delete e[t],e.leafRowItems?.forEach((e=>{delete e[t]}))})),delete i._dragSuitableTargetIDsMap)},_handleCovering:function(e,t,i){"use strict";var a=this;let n=a.ganttWidget();var o;a.app().model().getChildrenArray(e).forEach((function(e){var r=a._viewModel._item(a._viewType,e);if(r){let s=a._dragSuitableTargetIDsMap[e.ID]?"isCoveredAndHighlighted":"isCovered";i(r,s),n.getElementOfItem(r)&&(n.updateRowConcerningCoveredAttributes(r),r.leafRowItems&&a.getAPIOption(t)&&r.leafRowItems.forEach((e=>{n.updateRowConcerningCoveredAttributes(e)})),o=!0)}})),o&&a.update()},_doDragStartFunc:function(){},_dragEndFunc:function(e){"use strict";var t=this;t._validateDraggedItems(e)&&(e.tableType=te.Gantt,t._doDragEndFunc(e)),t._handleEndSuitableTargetIDs(),t._checkShowHideDragBoundaries(),delete t._dragItemCache,delete t._consolidatedDragItemCache},_doDragEndFunc:function(){},_draggedFunc:function(e){"use strict";e.tableType=te.Gantt,this._doDraggedFunc(e)},_doDraggedFunc:function(e){"use strict";var t=this;if(e.sender.rab_itemType!==$.Allocation&&e.sender.rab_itemType!==$.Entity||(e.newRowItemIsSuitableTarget=!(t._dragSuitableTargetIDsMap&&e.newRowItem&&!t._dragSuitableTargetIDsMap[e.newRowItem.data().ID])),t._validateDraggedItems(e)&&e.elemType===S.Bar&&t.getAPIOption("dragDatesLimitingInteraction")){var i=e.sender;if(i.rab_itemType===$.Allocation||i.rab_itemType===$.Activity){var a,n=i.data(),o=n.model(),r=!1;if(t._dragEarliestDateArea&&n.EarliestDragStart){var s=o.dateTimeValueToDate(n.EarliestDragStart);s&&e.start<s&&(a=B.calculateWorkingTime(e.actualCalendar,e.end,e.start),e.start=B.addWorkingTime(e.actualCalendar,s,0),e.interaction&O.DragHor&&(e.end=B.addWorkingTime(e.actualCalendar,s,a)),r=!0)}if(!r&&t._dragLatestDateArea&&n.LatestDragEnd){var l=o.dateTimeValueToDate(n.LatestDragEnd);l&&e.end>l&&(a=B.calculateWorkingTime(e.actualCalendar,e.end,e.start),e.end=B.addWorkingTime(e.actualCalendar,B.addWorkingTime(e.actualCalendar,l,-1),1),e.interaction&O.DragHor&&(e.start=B.addWorkingTime(e.actualCalendar,e.end,-a)))}}}},_droppedFunc:function(e){"use strict";e.tableType=te.Gantt,this._validateDraggedItems(e)&&this._doDroppedFunc(e)},_doDroppedFunc:function(){},_detachEventListenersExFunc:function(e){"use strict";e.elemType===S.Bar?n.selectAll(e.elems).on(gt,null):e.elemType===S.Row&&n.selectAll(e.elems).selectAll("."+Oe+",."+Pe).on(h.TARGET_EVENT_NAME,null).on(gt,null)},_checkPossibleInteractionsFunc:function(){},_checkVisualZoomFactorFunc:function(){},_timeAreaViewParametersChangedFunc:function(){},_curvePaneResizedFunc:function(){},_verticalScrollOffsetChangedFunc:function(){},_onEventFunc:function(e){"use strict";e.tableType=te.Gantt,this._doOnEventFunc(e)},_doOnEventFunc:function(e){"use strict";var t=e.item||e.sender||e.rowItem;if(t&&t.rab_itemType===$.PeriodHighlighterEntry&&(t=e.rowItem),!t||!t.data||t.data())switch(e.eventType){case"tooltip":this._showTooltip(e);break;case"tap":e.sender&&"TimeAreaBackground"!==e.sender?"TableTitleCell"===e.sender?this._handleTableTitleCellTap(e):"object"==typeof e.sender&&this._handleItemTap(e):this._handleBackgroundTap();break;case"doubletap":"object"==typeof e.sender&&this._handleItemDoubleTap(e);break;case"contextmenu":this._handleContextMenuEvent(e)}},_handleTableTitleCellTap:function(){},_handleItemTap:function(e){"use strict";var t=this;if("touch"===e.hammerEvent.pointerType){var i=e.sender,a=t._tooltipWidget.option("delay");t._tooltipWidget.option("delay",0);var n=e.tableType===te.Gantt,o=n?t._ganttWidget:t._entitiesTableWidget,r={sender:i,elem:o.getElementOfItem(i,2),event:e.event};r[n?"ganttWidget":"tableWidget"]=o,t._showTooltip(r),t._tooltipWidget.option("delay",a),t._tooltipWidget.option("lastTapEvent",e.hammerEvent),t._savedTapEventCallbackArgs=e}},_handleItemDoubleTap:function(){},_handleContextMenuEvent:function(e){"use strict";this._tooltipWidget.display(null),this._deselectOtherItemsIfItemIsNotSelected(e.sender,e.ganttWidget||e.tableWidget,K.SelectionChangedReason.ContextMenu),v.closeContextMenu()},_deselectOtherItemsIfItemIsNotSelected:function(e,t,i){"use strict";var a=this;if(a._ganttWidget.showMarkingTemporarily(null),a._entitiesTableWidget&&a._entitiesTableWidget.showMarkingTemporarily(null),a._options.deselectItemsOnInteractionWithUnselectedItem&&(!e||e instanceof G&&!t.isTimeItemSelected(e)||e instanceof j&&!t.isRowItemSelected(e)||e instanceof U&&!t.isLinkItemSelected(e))){var n=a._ganttWidget.selectedTimeItems();if(n.length){var o={ganttWidget:a._ganttWidget,timeItem:null,oldSelectedItems:n,oldSelectedRowItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};a._selectTimeItemFunc(o),o.cancel||a._ganttWidget.selectedTimeItems([])}else{if(a._entitiesTableWidget&&(n=a._entitiesTableWidget.selectedRowItems()).length){o={tableWidget:a._entitiesTableWidget,rowItem:null,oldSelectedItems:n,oldSelectedTimeItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};a._entitiesTableSelectRowItemFunc(o),o.cancel||a._entitiesTableWidget.selectedRowItems([])}if(!n.length)if((n=a._ganttWidget.selectedRowItems()).length){o={ganttWidget:a._ganttWidget,rowItem:null,oldSelectedItems:n,oldSelectedTimeItems:[],oldSelectedLinkItems:[],newSelectedItems:[],reason:i,reasonItem:e};a._selectRowItemFunc(o),o.cancel||a._ganttWidget.selectedRowItems([])}else if((n=a._ganttWidget.selectedLinkItems()).length){o={ganttWidget:a._ganttWidget,linkItem:null,oldSelectedItems:n,oldSelectedTimeItems:[],oldSelectedRowItems:[],newSelectedItems:[],reason:i,reasonItem:e};a._selectLinkItemFunc(o),o.cancel||a._ganttWidget.selectedLinkItems([])}}}},updateRowHeight:function(e,t,i){"use strict";delete e.totalHeight;var a=this,n=0;if(e.rab_hidden&&t!==Q.Loads)e.totalHeight=0,delete e.additionalHeight;else{var o=a._ganttWidget.determineActualRowMargins();void 0===t&&(t=a._viewType),!i&&a._calculateCurvesPaneHeight(e,t)&&(n+=(e.rab_loadCurvePaneHeight||0)+(e.rab_inventoryCurvePaneHeight||0)+2*o.bottom,e.rab_loadCurvePaneHeight&&e.rab_inventoryCurvePaneHeight&&(n+=2*o.bottom)),t===Q.Loads?(delete e.additionalHeight,e.rab_totalVisibleHeightInLoadsView=n,e.totalHeight=e.rab_hidden?0:e.isPseudo()?void 0:n):e.additionalHeight=n}},updateAllRowHeights:function(e){"use strict";var t,i=this;null!=e&&(t=i._viewModel.rowItemsRoot(e)),t&&i._ganttWidget.determineRowItems(!1,t).forEach((function(t){i.updateRowHeight(t,e)}))},_itemHasChildren:function(e){"use strict";var t=!1,i=e.rab_itemType===$.Activity;return(i||e.rab_itemType===$.Resource||e.rab_itemType===$.Entity)&&(null==(t=e.data().HasChildren)&&(t=e.childRowItems&&e.childRowItems.length),!t&&i&&(t=e.leafRowItems&&e.leafRowItems.length)),t},_enrichClassFunc:function(e){"use strict";e.tableType=te.Gantt,this._doEnrichClassFunc(e)},_doEnrichClassFunc:function(e){"use strict";var t=this,i=e.item;e.additionalClasses?e.additionalClasses+=" ":e.additionalClasses="",e.additionalClasses+=function(){var a="";if(e.elemType===S.Row?a=(t._itemHasChildren(i)?st+e.level:rt)+" ":e.elemType===S.GroupCell?a=He+e.level+" ":e.elemType===S.Bar?i.rab_itemType===$.ActivityBaseline?a=fe:i.rab_subItemType===$.ActivityReleaseDate?a=be:i.rab_subItemType===$.ActivityDueDate&&(a=_e):e.elemType===S.LeavesIndicator&&(a=He+e.level),a)return a.trim();if(e.elemType===S.TableCellText)return mt;if(e.elemType===S.BarRectangle){if(i.rab_itemType===$.ActivityBaseline)return fe;if(i.rab_subItemType===$.ActivityReleaseDate)return be;if(i.rab_subItemType===$.ActivityDueDate)return _e}}()||""},updateTableRowDefinitions:function(e,t){"use strict";var i=this;if(t||!i._tableDefinitionActivities.rowDefinitionsMap){i._tableDefinitionActivities.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,Q.Activities),i._tableDefinitionResources.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,Q.Resources),i._tableDefinitionLoads.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,Q.Loads),i._tableDefinitionEntities.rowDefinitionsMap=i._cloneTableRowDefinitionsMap(e,Q._Entities);var a=i.getAPIOption("defaultActivityTableRowDefinitionID");i._tableDefinitionActivities.baseLevel=a&&i._tableDefinitionActivities.rowDefinitionsMap?.[a]||i._tableDefinitionActivitiesBaseLevel,a=i.getAPIOption("defaultResourceTableRowDefinitionID"),i._tableDefinitionResources.baseLevel=a&&i._tableDefinitionResources.rowDefinitionsMap?.[a]||i._tableDefinitionResourcesBaseLevel,i._tableDefinitionLoads.baseLevel=a&&i._tableDefinitionLoads.rowDefinitionsMap?.[a]||i._tableDefinitionLoadsBaseLevel,a=i.getAPIOption("defaultEntityTableRowDefinitionID"),i._tableDefinitionEntities.baseLevel=a&&i._tableDefinitionEntities.rowDefinitionsMap?.[a]||i._tableDefinitionEntitiesBaseLevel,!1!==t&&i._setAllocationDefaultTableRowDefinition(i._viewType)}!1!==t&&(i._ganttWidget.option("tableDefinition",i._viewType===Q.Activities?i._tableDefinitionActivities:i._viewType===Q.Resources?i._tableDefinitionResources:i._tableDefinitionLoads),i._entitiesTableWidget&&i._entitiesTableWidget.option("tableDefinition",i._tableDefinitionEntities))},updateTableTitleSortingParams:function(e,t){"use strict";var i=this;switch(e){case $.Resource:i._tableDefinitionResources.rowSortPropertyName=t.rowSortPropertyName,i._tableDefinitionResources.rowSortMode=t.rowSortMode,i._tableDefinitionLoads.rowSortPropertyName=t.rowSortPropertyName,i._tableDefinitionLoads.rowSortMode=t.rowSortMode;break;case $.Activity:i._tableDefinitionActivities.rowSortPropertyName=t.rowSortPropertyName,i._tableDefinitionActivities.rowSortMode=t.rowSortMode;break;case $.Entity:i._tableDefinitionEntities.rowSortPropertyName=t.rowSortPropertyName,i._tableDefinitionEntities.rowSortMode=t.rowSortMode}},_cloneTableRowDefinitionsMap:function(e,t){"use strict";var i={};return e&&Object.keys(e).forEach((function(n){var o=e[n],r=a.extend({},o,{rab_viewType:t,rab_tableRowDefinition:o,contentsFunc:function(){return o.contentsFunc.apply(this,arguments)}});r.cellDefinitions=[],o.cellDefinitions&&o.cellDefinitions.forEach((function(e){r.cellDefinitions.push(a.extend({},e,{contentsFunc:function(e){return o.cellDefinitions[e.columnIndex].contentsFunc.apply(this,arguments)}}))})),i[n]=r})),i},_tableColumnWidthChangedFunc:function(e){e.sender.rab_tableRowDefinition.cellDefinitions[e.columnIndex].width=e.sender.cellDefinitions[e.columnIndex].width},_tableRowFillFunc:function(e){"use strict";this._doTableRowFill(e,te.Gantt)},_tableCellFillFunc:function(e){"use strict";var t=e.rowItem;e.rowDefinitionType!==W.GroupingLevel&&e.rowDefinitionType!==W.BaseLevel&&e.rowDefinitionType!==W.LeafDefault||(e.text=1===e.columnIndex?t.data().ID:t.data().TableText),this._doTableCellFillFunc(e)},_doTableCellFillFunc:function(e){"use strict";var t,i=this,a=e.rowItem;if(this._viewModel.resourceByItem(a)&&e.rowDefinitionType===W.FixedColumnsSucceeding){t=n.select(e.parentElem);var o={rowItem:a,cancel:!1};i._handleBeforeShowingCurvesPane(o),i._createCurveButtonAndScaleInRow(a,e.rowLevel,oe.LoadCurve,e.totalHeight,e.width,t),i._createCurveButtonAndScaleInRow(a,e.rowLevel,oe.InventoryCurve,e.totalHeight,e.width,t)}if(0===e.columnIndex&&e.cellType===ae.ImageList&&e.rowItem.data().RowSymbolIDs){e.imageURLs=[];let t=e.ganttWidget?`///rabSG_${e.ganttWidget._uniqueID}`:`///rabSE_${e.tableWidget._uniqueID}`;e.rowItem.data().RowSymbolIDs.forEach((function(a){e.imageURLs.push(`${t}_${i._currentSymbolIDsMap[a]}`)}))}e.symbolID&&i._currentSymbolIDsMap[e.symbolID]&&(e.symbolURL=`///rabSB_${(e.ganttWidget||e.tableWidget)._uniqueID}_${i._currentSymbolIDsMap[e.symbolID]}`);var r;e.rowDefinition&&e.rowDefinition.rab_tableRowDefinition&&(r=e.rowDefinition.rab_tableRowDefinition.rab_textColor);var s=e.tableCellTextColor||a.data().TableTextColor||r,l=e.rowDefinitionType!==W.FixedColumnsPreceding?e.tableCellBackgroundColor:function(){let e=a.data().RowSymbolColumnBackgroundColor;if(e)return e;let t=a.data().TableRowDefinitionID;if(!t){const e={[$.ActivityRow]:"Activity",[$.AllocationRow]:"Allocation",[$.Entity]:"Entity",[$.Resource]:"Resource"}[a.rab_itemType];e&&(t=i.getAPIOption(`default${e}TableRowDefinitionID`))}if(t){let a=i._app.tableRowDefinitionsMap()[t];if(a)return e=a.rab_symbolColumnBackgroundColor,null!=e?e.toString():void 0}}()||i.getAPIOption(e.tableWidget?"entitiesTableSymbolColumnBackgroundColor":"symbolColumnBackgroundColor");if((s||l)&&(e.finalizeFunc=function(){s&&n.select(e.cellElem).select(".ngantt-table-column-text").style("fill",s),l&&n.select(e.cellElem).select(e.tableWidget?".ntable-cell-background-rect":".ngantt-table-cell-background-rect").style("fill",l)}),s=s||"black",0===e.columnIndex&&(a.rab_TextColor=s),0===e.columnIndex&&e.rowDefinitionType!==W.FixedColumnsPreceding&&e.rowDefinitionType!==W.FixedColumnsSucceeding&&(n.select(e.rowElem).select(".ngantt-colexp-button .ngantt-plus,.ngantt-colexp-button .ngantt-minus").style("fill",s),n.select(e.rowElem).select(".ngantt-leaves-colexp-button .ngantt-plus,.ngantt-leaves-colexp-button .ngantt-minus").style("stroke",s)),t){t.select(Oe+"-tfcol").style("fill",s),t.select(Oe+"-tscol").style("stroke",s);var c=t.select(Oe+"-cscol");c.size()&&c.style("stroke",i._determineTableRowBackgroundColor(a,e.rowLevel))}a.rab_calculatedAllocationRowIndicatorColor&&n.select(e.rowElem).select(".ngantt-leaves-indicator").style("fill",a.rab_calculatedAllocationRowIndicatorColor)},_determineTableRowDefinitionFunc:function(e){"use strict";return e.tableType=te.Gantt,this._doDetermineTableRowDefinitionFunc(e)},_doDetermineTableRowDefinitionFunc:function(){},_detectContent:function(e,t){"use strict";if(null!=t){var i,a=e.data();if(null!=(i=t.match(/^[A-Z0-9_]/)&&t in a?a[t]:a.data()[t]))return i instanceof Date?this.app().localDateToDateTimeString(i):i.toString()}},detectSourcedContent:function(e,t,i,a){"use strict";var n=e.rowItem,o=e.columnIndex;e[t]=this._detectContent(n,i)||a,n.rab_sourced_contents[t]&&0!==o||(n.rab_sourced_contents[t]=[]),n.rab_sourced_contents[t][o]={propertyName:i,content:e[t]}},__tableCellFillFunc:function(e){"use strict";var t=this,i=e.rowItem,a=e.columnIndex,n=e.rowDefinition.cellDefinitions[a],o=function(n,o,r){e[n]=t._detectContent(i,o)||r,i.rab_sourced_contents[n]&&0!==a||(i.rab_sourced_contents[n]=[]),i.rab_sourced_contents[n][a]={propertyName:o,content:e[n]}};i.rab_sourced_contents&&0!=a||(i.rab_sourced_contents={}),o("text",n.rab_textSource,""),o("symbolID",n.rab_symbolIDSource,""),o("tableCellBackgroundColor",n.rab_backgroundColorSource,n.rab_backgroundColor),o("tableCellTextColor",n.rab_textColorSource,n.rab_textColor),e.ganttWidget?t._doTableCellFillFunc(e):t._doEntitiesTableCellFillFunc(e)},updateSymbols:function(e){"use strict";var t=this,i=n.select(t._ganttWidget.element[0]).select(".ngantt-svg-root defs"),o=t._entitiesTableWidget?n.select(t._entitiesTableWidget.element[0]).select(".ntable-svg-root defs"):void 0,r=!1,s=!1,l=a.extend({},t._currentSymbolIDsMap);if(t._currentSymbolIDsMap={},Object.keys(e).forEach((function(a){var n=e[a].URL,c=l[a]||C.generate();t._currentSymbolIDsMap[a]=c,delete l[a];var d=`rabSG_${t._ganttWidget._uniqueID}_${c}`,u=i.select("#"+d);u.size()||(u=i.append("image").attr("id",d).attr("width",t._tableSymbolExtent).attr("height",t._tableSymbolExtent),r=!0),u.attr("href")!==n&&(u.attr("href",n),r=!0),d=`rabSB_${t._ganttWidget._uniqueID}_${c}`;var p=i.select("#"+d);p.size()?u=p.select("image"):(u=(p=i.append("symbol").attr("id",d).attr("viewBox","0 0 "+t._barSymbolExtent+" "+t._barSymbolExtent).attr("preserveAspectRatio","none")).append("image").attr("width",t._barSymbolExtent).attr("height",t._barSymbolExtent),r=!0),u.attr("href")!==n&&(u.attr("href",n),r=!0),t._entitiesTableWidget&&(d=`rabSE_${t._entitiesTableWidget._uniqueID}_${c}`,(u=o.select("#"+d)).size()||(u=o.append("image").attr("id",d).attr("width",t._tableSymbolExtent).attr("height",t._tableSymbolExtent),s=!0),u.attr("href")!==n&&(u.attr("href",n),s=!0),d=`rabSB_${t._entitiesTableWidget._uniqueID}_${c}`,(p=o.select("#"+d)).size()?u=p.select("image"):(u=(p=o.append("symbol").attr("id",d).attr("viewBox","0 0 "+t._barSymbolExtent+" "+t._barSymbolExtent).attr("preserveAspectRatio","none")).append("image").attr("width",t._barSymbolExtent).attr("height",t._barSymbolExtent),s=!0),u.attr("href")!==n&&(u.attr("href",n),s=!0))})),Object.keys(l).forEach((function(e){var a=`rabSG_${t._ganttWidget._uniqueID}_${l[e]}`;i.select("#"+a).remove(),a=`rabSB_${t._ganttWidget._uniqueID}_${l[e]}`,i.select("#"+a).remove(),r=!0,o&&(a=`rabSE_${t._entitiesTableWidget._uniqueID}_${l[e]}`,o.select("#"+a).remove(),s=!0)})),r){if(null!=t._ganttWidget.option("rowItemsRoot")&&(t._ganttWidget.invalidateAllRows(),t.getAPIOption("symbolColumnVisible")&&t.getAPIOption("symbolColumnTitleVisible")&&t.getAPIOption("symbolColumnTitleSymbolIDs"))){let e=t._getImageURLsForGanttWidget(t.getAPIOption("symbolColumnTitleSymbolIDs"));t._tableDefinitionActivities&&(t._tableDefinitionActivities.symbolColumnTitleImageURLs=e),t._tableDefinitionResources&&(t._tableDefinitionResources.symbolColumnTitleImageURLs=e),t._tableDefinitionLoads&&(t._tableDefinitionLoads.symbolColumnTitleImageURLs=e),t._ganttWidget.option("tableDefinition",t._ganttWidget.option("tableDefinition"))}var c=t.getAPIOption("watermarkSymbolID");null!=c&&t._currentSymbolIDsMap[c]&&t._ganttWidget.option("watermarkURL",`///rabSG_${t._ganttWidget._uniqueID}_${t._currentSymbolIDsMap[c]}`)}if(s&&null!=t._entitiesTableWidget.option("rowItemsRoot")&&(t._entitiesTableWidget.invalidateAllRows(),t.getAPIOption("entitiesTableSymbolColumnVisible")&&t.getAPIOption("entitiesTableSymbolColumnTitleVisible")&&t.getAPIOption("entitiesTableSymbolColumnTitleSymbolIDs"))){let e=this._getImageURLsForEntitiesTableWidget(t.getAPIOption("entitiesTableSymbolColumnTitleSymbolIDs"));t._tableDefinitionEntities&&(t._tableDefinitionEntities.symbolColumnTitleImageURLs=e),t._entitiesTableWidget.option("tableDefinition",t._tableDefinitionEntities)}},_timeAreaRowFillFunc:function(e){"use strict";var t=n.select(e.parentElem);let i=e.rowItem,o=e.isForeground;if(!o){var r=(i.rab_itemType===$.AllocationRow?i.rab_parentRowItem:i).rab_calendarGridColor;t.select("."+a.netronic.nGanttWidget.CALGRID_CLASS).style("fill",r)}i.isPseudo()||(this._createCurvesPaneInRow(i,oe.LoadCurve,e.totalHeight,e.oldTotalHeight,e.width,t,o),this._createCurvesPaneInRow(i,oe.InventoryCurve,e.totalHeight,e.oldTotalHeight,e.width,t,o),o&&delete i.rab_curvePanesVisibleChanged)},_processCreateBarFunc:function(e){"use strict";var t=this;return t._options.worldViewBarCallbackEnabled||e.elem?t._createBarFunc(e):t._doCreateBarFunc(e)},_createBarFunc:function(e){return this._doCreateBarFunc(e)},_doCreateBarFunc:function(e){"use strict";var t=e.timeItem,i=t.data();if(t.rab_itemType===$.Allocation||t.rab_subItemType===$.Activity)i.BarTextWrapMode===ne.Line?e.caption={text:i.BarText,width:1e4,wrapMode:"n"}:e.caption=i.BarText,"rabSymbol"===t.rab_barShape&&n.select(e.elem).selectAll(".ngantt-diamond-path,.ngantt-bar-pattern").remove();else if(t.rab_itemType===$.AllocationEntry){var a=t.rab_parentItem;a.barShape||(i.BarTextWrapMode===ne.Line?e.caption={text:a.data().BarText,width:1e4,wrapMode:"n"}:e.caption=a.data().BarText)}this._updateBar(e)},_appendBarSymbolToBarElem:function(e,t,i,a){i.rab_barSymbolElems||(i.rab_barSymbolElems={});var n=Object.keys(i.rab_barSymbolElems).map((function(e){return+e}));n.push(a),n.sort((function(e,t){return e-t}));var o=n.indexOf(a),r=o<n.length-1?e.insert(t,(function(){return i.rab_barSymbolElems[n[o+1]]})):e.append(t);return i.rab_barSymbolElems[a]=r.node(),r},_updateBarSymbol:function(e,t,i,a,n,o,r,s){"use strict";var l,c,d,u,p=this,h=a+"SymbolID",g=r||p.getAPIOption("topBarSymbolsVisible")?i[h]:void 0;if(g&&((d=p._app.symbolsMap()[g])&&!w.notIsNullOrEmpty(d.URL)&&(d=void 0),d&&r>=1&&(0===(l=i[a+"SymbolWidth"])||l||(l=p._barSymbolExtent),l=+l,isNaN(l)||!isFinite(l)||l<=0?d=void 0:r<3?(0===(c=i[a+"SymbolHeight"])||c||(c=p._barSymbolExtent),c=+c,(isNaN(c)||!isFinite(c)||c<=0)&&(d=void 0)):c=t.barHeight)),o?(u=e.select("."+n),d?r&&(u=u.select("use")):(u.remove(),u=void 0)):u=void 0,!u?.size()&&(t.rab_barSymbolElems&&delete t.rab_barSymbolElems[s],d)){var m=u=p._appendBarSymbolToBarElem(e,r?"g":"use",t,s).attr("class",n);switch(r){case 0:u.attr("y",.66*-p._barSymbolExtent).attr("width",p._barSymbolExtent).attr("height",p._barSymbolExtent);break;case 1:m.classed("ngantt-bar-text",!0),u=m.append("use"),"BarTextPrefix"===a&&u.attr("x",2);break;case 2:u=m.append("use")}}if(u&&(u.attr("href",`#rabSB_${p._ganttWidget._uniqueID}_${p._currentSymbolIDsMap[g]}`),r>=1)){l!==+u.attr("data-nw")&&u.attr("width",l).attr("data-nw",l),2===r&&u.attr("transform","translate("+-l/2+")");var f="ReleaseDate"==a||"DueDate"==a?i.BarHeight:t.barHeight;null==f&&(f=p._ganttWidget.options.barHeight||0);var _=f+"-"+c;_!==u.attr("data-nh")&&u.attr("y",Math.floor((f-c)/2)).attr("height",c).attr("data-nh",_)}},__doCalculateBackgroundColorsForBar:function(e,t,i){let a=t.BackgroundColor??i.BackgroundColor,n=t.Color??i.Color;e&&!a&&(a=this.getAPIOption("defaultAllocationBackgroundColor")),"calculatedFromColor"===a&&(a=n?z.calculateBarColors(n,this.getAPIOption("calendarGridColor")).nonworkingTimeColor:null),e||null!=a||(a=n);let o=t.BackgroundNonworkingTimeColor??i.BackgroundNonworkingTimeColor,r=o??t.NonworkingTimeColor??i.NonworkingTimeColor;if(r){let e=1/0;"calculated"===r?e=a:"calculatedFromColor"===o&&(e=n),e!==1/0&&(r=e?z.calculateBarColors(e,this.getAPIOption("calendarGridColor")).nonworkingTimeColor:null)}return{backgroundColor:a,backgroundNonworkingTimeColor:r}},_updateBar:function(e,t){"use strict";var i=this,a=e.timeItem;if(!(a.rab_itemType>=K.CustomItemTypeMinimum&&a.rab_itemType<=K.CustomItemTypeMaximum)&&a.rab_itemType!==$.ActivityFrame){var o,r,s,l=i.app().model();a.rab_itemType===$.Allocation||a.rab_itemType===$.AllocationEntry?(r=a.data(),a.rab_itemType===$.AllocationEntry&&(r=r.getHierarchyParent()),i.getAPIOption("decouplingOfAllocationPropertiesFromActivities")||(o=l.activityByID(y.compose(r,["ActivityRole","ActivityID"])))):a.rab_itemType!==$.Activity&&a.rab_itemType!==$.ActivityBaseline&&a.rab_itemType!==$.ActivityEntry||(o=a.data(),a.rab_itemType===$.ActivityEntry&&(o=o.getHierarchyParent()),r={}),o||(o={}),a.rab_itemType===$.Activity||a.rab_itemType===$.Allocation?s=a.data():a.rab_itemType===$.AllocationEntry&&a.rab_parentItem.rab_allocationBarDesignFlags===ie.Entries?s=r:a.rab_itemType===$.ActivityEntry&&(s=o);var c=null,d=null,u={};if(a.rab_itemType===$.ActivityBaseline){let e=o.BaselineColor,t=o.BaselineNonworkingTimeColor;"calculated"===t&&(t=e&&z.calculateBarColors(e,i.getAPIOption("calendarGridColor")).nonworkingTimeColor),u.workingTimeColor=e,u.nonworkingTimeColor=t||e||null,u.borderColor=o.BaselineBorderColor||null}else if(a.rab_subItemType===$.ActivityReleaseDate)u.workingTimeColor=o.ReleaseDateColor,u.borderColor=null;else if(a.rab_subItemType===$.ActivityDueDate)u.workingTimeColor=o.DueDateColor,u.borderColor=null;else{if(a.rab_itemType!==$.Allocation&&a.rab_itemType!==$.Activity||"twice"!==a.zOrder){var p;if(a.rab_itemType===$.AllocationEntry||a.rab_itemType===$.ActivityEntry){var h=a.data();u.workingTimeColor=h.Color||r.Color||o.Color||null,!(p=h.NonworkingTimeColor)&&e.isPhantom&&(p=i.__doCalculateBackgroundColorsForBar(a.rab_itemType===$.AllocationEntry,r,o).backgroundNonworkingTimeColor),p||(p=r.NonworkingTimeColor||o.NonworkingTimeColor||null),void 0!==a.fillPatternType&&(u.fillPatternColor=h.PatternColor)}else u.workingTimeColor=r.Color||o.Color||null,p=r.NonworkingTimeColor||o.NonworkingTimeColor||null,a.rab_itemType===$.Activity&&void 0!==a.fillPatternType&&(u.fillPatternColor=o.BarPatternColor);"calculated"===p&&(p=u.workingTimeColor?z.calculateBarColors(u.workingTimeColor,i.getAPIOption("calendarGridColor")).nonworkingTimeColor:null),u.nonworkingTimeColor=p}else u.workingTimeColor="transparent";if(a.rab_itemType!==$.AllocationEntry&&a.rab_itemType!==$.ActivityEntry||!a.getParentItem().barShape){var g=r.BorderColor||o.BorderColor||void 0;"calculated"===g&&(g=z.calculateBarColors(a.rab_allocationBarDesignFlags&ie.Grouped?r.Color||o.Color:u.workingTimeColor,i.getAPIOption("calendarGridColor")).borderColor),u.borderColor=g,d=0!==(c=r.BorderWidth??o.BorderWidth??null)?r.BorderDashArray??o.BorderDashArray??null:null}else u.borderColor="transparent"}u.progressWorkingTimeColor=r.ProgressColor||o.ProgressColor||null;var m=r.ProgressNonworkingTimeColor||o.ProgressNonworkingTimeColor||null;"calculated"===m&&(m=u.progressWorkingTimeColor?z.calculateBarColors(u.progressWorkingTimeColor,i.getAPIOption("calendarGridColor")).nonworkingTimeColor:null),u.progressNonworkingTimeColor=m||u.progressWorkingTimeColor;var f=a.rab_itemType===$.Activity?i.getAPIOption("defaultActivityProgressBackgroundColor"):i.getAPIOption("defaultAllocationProgressBackgroundColor");if(u.progressBackgroundColor=r.ProgressBackgroundColor||o.ProgressBackgroundColor||f||null,e.worldViewFillColor=u.workingTimeColor||"#646464",e.worldViewBorderColor=u.borderColor,e.elem){var _,b=n.select(e.elem);if(u.workingTimeColor&&b.select(".ngantt-pcal,.ngantt-summary-bar-path,.ngantt-diamond-path,.ngantt-arrow-path").style("fill",u.workingTimeColor),(t||u.nonworkingTimeColor)&&b.select(".ngantt-rcal").style("fill",u.nonworkingTimeColor??null),b.select(".ngantt-bar-pattern").style("fill",u.fillPatternColor),t||u.borderColor||null!=c||null!=d){let i;a.rab_subItemType!==$.Activity||a.childTimeItems||(i=b.select(".ngantt-bar-rect.ngantt-outline"),i.size()&&b.select(".ngantt-rcal").style("stroke-width",0)),i?.size()||(i=b.selectAll(".ngantt-bar-rect,.ngantt-diamond-path,.ngantt-arrow-path")),i.style("stroke",u.borderColor).style("stroke-width",c).style("stroke-dasharray",d).style("stroke-linecap",d?"butt":null),e.backgroundElem&&(t||null!=c)&&n.select(e.backgroundElem).select(".ngantt-bar-rect.ngantt-outline").style("stroke-width",c)}if((t||u.progressBackgroundColor)&&b.select(".ngantt-progress-bar-background").style("fill",u.progressBackgroundColor),(t||u.progressWorkingTimeColor)&&b.select(".ngantt-progress-bar").style("fill",u.progressWorkingTimeColor),(t||u.progressNonworkingTimeColor)&&b.select(".ngantt-progress-nonworking-bar").style("fill",u.progressNonworkingTimeColor),(t||a.rab_subItemType===$.Activity||a.rab_itemType===$.Allocation)&&s&&b.select(".ngantt-predicted-end-bar").style("fill",s.PredictedEndColor),(t||a.rab_subItemType===$.Activity||a.rab_itemType===$.Allocation)&&s){var v=a.rab_subItemType===$.Activity?i.getAPIOption("defaultActivityStatusFrameColor"):i.getAPIOption("defaultAllocationStatusFrameColor"),A=s.StatusFrameColor||v||null;b.select(".ngantt-marked-bar").style("stroke",A).attr("visibility",s.StatusFrameVisible?null:"hidden")}if(a.rab_itemType===$.Activity||a.rab_itemType===$.Allocation){var T=r?.TextColor??o.TextColor;if("calculatedHighContrastFromColor"===T&&(T=z.calculateBlackOrWhiteTextColor(r.Color||o.Color||"#646464")),t||T){var w=function(){b.selectAll(".ngantt-bar-text").style("fill",T)};t?w():e.finalizeFunc=w}}if(e.backgroundElem){let{backgroundColor:s,backgroundNonworkingTimeColor:l}=i.__doCalculateBackgroundColorsForBar(a.rab_itemType===$.Allocation,r,o),c=n.select(e.backgroundElem);(t||s||l)&&(c.select(".ngantt-outline").style("fill",s||l?"transparent":null),c.select(".ngantt-pcal").style("fill",s??(l?"rgba(255,255,255,0.7)":null))),(t||l)&&c.select(".ngantt-rcal").style("fill",l??null)}if(s)if(a.rab_subItemType===$.ActivityReleaseDate&&i.getAPIOption("releaseDueDateConnectionsVisible")&&s.ReleaseDate&&s.DueDate&&b.append("path").attr("class",at),!t&&a.rab_barSymbolElems&&delete a.rab_barSymbolElems,"rabSymbol"===a.rab_barShape)i._updateBarSymbol(b,a,s,"BarShape",ve,t,2,0);else if(a.rab_subItemType===$.ActivityDueDate)i._updateBarSymbol(b,a,s,"DueDate",ke,t,2,0);else if(a.rab_subItemType===$.ActivityReleaseDate)i._updateBarSymbol(b,a,s,"ReleaseDate",it,t,2,0);else{i._updateBarSymbol(b,a,s,"LeftBar",Ye,t,1,0),i._updateBarSymbol(b,a,s,"RightBar",ot,t,1,1),i._updateBarSymbol(b,a,s,"BarTextPrefix",ye,t,1,10),i._updateBarSymbol(b,a,s,"TopLeftBar",ft,t,0,30),i._updateBarSymbol(b,a,s,"TopRightBar",_t,t,0,31);let n,o=t?s["rab_currentBarWidth"+i._viewType]:e.width,r=o<i._statusIndicatorWidth+2?o/2:i._statusIndicatorWidth;if(t&&(_=b.select("."+lt),s.Status1Visible&&s.Status1Color||(_.remove(),_=void 0)),_?.size()||(a.rab_barSymbolElems&&delete a.rab_barSymbolElems[20],s.Status1Visible&&s.Status1Color&&(_=i._appendBarSymbolToBarElem(b,"rect",a,20).attr("class",pt+" "+lt).attr("height",i._ganttWidget.options.barHeight-1-i._ganttWidget.options.progressBarHeight),null!=o&&_.attr("x",Math.max(0,o-r)).attr("width",r))),_&&_.style("stroke",u.borderColor||"gray").attr("fill",s.Status1Color||"white"),t?(_=b.select("."+ct),s.Status2Visible&&s.Status2Color||(_.remove(),_=void 0)):_=void 0,_?.size()||(a.rab_barSymbolElems&&delete a.rab_barSymbolElems[21],s.Status2Visible&&s.Status2Color&&(_=i._appendBarSymbolToBarElem(b,"rect",a,21).attr("class",pt+" "+ct).attr("height",i._statusIndicatorWidth),null!=o&&_.attr("x",Math.max(0,o-r)).attr("width",r))),_&&_.style("stroke",u.borderColor||"gray").attr("fill",s.Status2Color||"white"),t?(_=b.select("."+dt),s.Status3Visible&&s.Status3Color||(_.remove(),_=void 0)):_=void 0,!_?.size()&&(a.rab_barSymbolElems&&delete a.rab_barSymbolElems[22],s.Status3Visible&&s.Status3Color)){var C=i._statusIndicatorWidth/2;_=i._appendBarSymbolToBarElem(b,"ellipse",a,22).attr("class",pt+" "+dt).attr("rx",C).attr("ry",C).attr("cx",C).attr("cy",i._statusIndicatorWidth+C+1),null!=o&&_.attr("transform","translate("+Math.max(0,o-i._statusIndicatorWidth)+")").attr("rx",r/2)}_&&_.style("stroke",u.borderColor||"gray").style("fill",s.Status3Color||"white"),t?(_=b.select("."+ut),s.Status4Visible&&s.Status4Color||(_.remove(),_=void 0,n=!0)):_=void 0;let l=b.selectAll(".ngantt-bar-text,.ngantt-bar-text .ntexthelper-wrapping-line"),c=(a.leftCaptionOffset||void 0)+2||0;if(!_?.size())if(a.rab_barSymbolElems&&delete a.rab_barSymbolElems[23],s.Status4Visible&&s.Status4Color){var I=i.ganttWidget().options.barHeight;(a.progressBackgroundVisible||a.progress)&&(I-=i._ganttWidget.options.progressBarHeight+1);let e=Math.min(o,i._statusIndicatorWidth-2);_=i._appendBarSymbolToBarElem(b,"rect",a,23).attr("class",pt+" "+ut).attr("height",I),null!=o&&(_.attr("width",e),l.size()&&l.attr("x",i._statusIndicatorWidth+c))}else n&&l.size()&&l.attr("x",2+c);_&&_.style("stroke",u.borderColor||"gray").attr("fill",s.Status4Color||"white")}}}},_processPositionBarFunc:function(e){"use strict";var t=this;return t._options.worldViewBarCallbackEnabled||e.elem?t._positionBarFunc(e):t._doPositionBarFunc(e)},_positionBarFunc:function(e){return this._doPositionBarFunc(e)},_doPositionBarFunc:function(e){"use strict";var t,i,a=this,o=e.timeItem,r=a.app().model();o.rab_itemType===$.Allocation||o.rab_itemType===$.AllocationEntry?(i=o.data(),o.rab_itemType===$.AllocationEntry&&(i=i.getHierarchyParent()),t=r.activityByID(y.compose(i,["ActivityRole","ActivityID"]))):o.rab_itemType!==$.Activity&&o.rab_itemType!==$.ActivityBaseline&&o.rab_itemType!==$.ActivityEntry||(t=o.data(),o.rab_itemType===$.ActivityEntry&&(t=t.getHierarchyParent())),null==t&&(t={});var s={};o.rab_itemType===$.AllocationEntry&&o.rab_parentItem.rab_allocationBarDesignFlags===ie.Entries?s=i:o.rab_itemType===$.ActivityEntry?s=t:Object.values($).includes(o.rab_itemType)&&(s=o.data());var l=n.select(e.elem);if("rabSymbol"===o.rab_barShape){let e=((i||t).BarShapeSymbolWidth||o.barHeight||a._ganttWidget.options.barHeight)/2+2;var c=l.select(".ngantt-bar-text");c.size()&&c.attr("x",e);var d=c.select(".ntexthelper-wrapping-line");d.size()&&d.attr("x",e)}else{if(s["rab_currentBarWidth"+a._viewType]=e.width,s.Status1Visible&&s.Status1Color){let t=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;l.select("."+lt).attr("x",Math.max(0,e.width-t)).attr("width",t)}if(s.Status2Visible&&s.Status2Color){let t=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;l.select("."+ct).attr("x",Math.max(0,e.width-t)).attr("width",t)}if(s.Status3Visible&&s.Status3Color){let t=e.width<a._statusIndicatorWidth+2?e.width/2:a._statusIndicatorWidth;l.select("."+dt).attr("transform","translate("+Math.max(0,e.width-a._statusIndicatorWidth)+")").attr("rx",t/2)}if(s.Status4Visible&&s.Status4Color){let t=Math.min(e.width,a._statusIndicatorWidth-2);l.select("."+ut).attr("width",t);let i=l.select(".ngantt-bar-text");i.size()&&i.attr("x",a._statusIndicatorWidth);let n=i.select(".ntexthelper-wrapping-line");n.size()&&n.attr("x",a._statusIndicatorWidth)}if(s.TopRightBarSymbolID){var u=a._app.symbolsMap()[s.TopRightBarSymbolID];u&&w.notIsNullOrEmpty(u.URL)&&l.select("."+_t).attr("x",Math.max(0,e.width-a._barSymbolExtent))}if(s.RightBarSymbolID){let t=a._app.symbolsMap()[s.RightBarSymbolID];if(t&&w.notIsNullOrEmpty(t.URL)){var p=l.select("."+ot+" use");p.size()&&p.attr("x",Math.max(0,e.width-+p.attr("data-nw")))}}if(o.rab_subItemType===$.ActivityReleaseDate&&s.ReleaseDate&&s.DueDate){var h,g=a._ganttWidget.timeAxis(),m=r.dateTimeValueToDate(s.DueDate),f=r.dateTimeValueToDate(s.ReleaseDate);h=a._ganttWidget.convertXToLimitedX?a._ganttWidget.convertXToLimitedX(g.convertDateToX(m))-a._ganttWidget.convertXToLimitedX(g.convertDateToX(f)):g.convertDateToX(m)-g.convertDateToX(f);var _=null!=s.BarHeight?s.BarHeight:a._ganttWidget.options.barHeight;l.select("."+at).attr("transform","translate(0,"+_/2+")").attr("d",`M0.5,-10 v${-_/2+4} h${h-.5} V-10`)}}},_positionLinkFunc:function(e){"use strict";var t=e.linkItem.data(),i=e.elem;if(t&&t.data()&&i){var a=t.Color||null,o=t.Width||1,r=t.DashArray||"none",s=n.select(i);s.select(".ngantt-link-path").style("stroke",a).style("stroke-width",o).style("stroke-dasharray",r),s.select(".ngantt-link-target-marker").style("stroke",a).style("fill",a).style("stroke-width",o)}},_viewOffsetForCurrentDateCurrentlyNotObserved:function(){},_timeAreaRowUpdateFunc:function(e){"use strict";var t=this;if(e.isForeground){if(t._ganttWidget.isInInteraction()||t._curvePaneSplitterWidget.isCurrentlyDragged()||t._tooltipWidget.initializeDeferredUpdate().then((function(e){var i=a(e).closest("."+h.TAP_EVENT_CLASS_NAME);if(i.length){var n=a.extend({},t._savedTapEventCallbackArgs);n.sender=t._ganttWidget.getTimeItem(i[0]),n.sender?t._handleItemTap(n):t._tooltipWidget.display(null)}else t._tooltipWidget.display(null)}),(()=>{})),t._viewOffsetForCurrentDateCurrentlyObserved&&e.timeAreaViewScrollOffsetChanged&&(t._viewOffsetForCurrentDateCurrentlyObserved=!1,t._viewOffsetForCurrentDateCurrentlyNotObservedTimer&&clearTimeout(t._viewOffsetForCurrentDateCurrentlyNotObservedTimer),t._viewOffsetForCurrentDateCurrentlyNotObservedTimer=setTimeout((function(){t._viewOffsetForCurrentDateCurrentlyObserved||t._viewOffsetForCurrentDateCurrentlyNotObserved()}),800)),e.timeAreaWidthChanged||e.baseTimeUnitWidthChanged||e.xCoordTransformChanged||e.rowHeightChanged){var i=e.rowItem;if((i.rab_curvePanesVisible||t._viewType===Q.Loads)&&!i.isPseudo()){let a=n.select(e.parentElem);t._updateCurvesPaneInRow(i,oe.LoadCurve,i.rab_loadCurvePaneHeight||0,a),t._updateCurvesPaneInRow(i,oe.InventoryCurve,i.rab_inventoryCurvePaneHeight||0,a)}}}else{if(e.timeAreaViewScrollOffsetChanged&&(e.rowItem.rab_curvePanesVisible||t._viewType===Q.Loads)){let i=n.select(e.parentElem),a=t._ganttWidget.timeAxis().timeAreaViewScrollOffset();i.selectAll("."+Tt).attr("transform",`translate(${wt+a})`)}if(e.timeAreaWidthChanged||e.startOrEndChanged){let i=n.select(e.parentElem);var o=i.select("."+Xe).attr("width",e.timeAreaWidth);void 0!==t.getAPIOption("defaultLoadCurvePaneColor")&&o.style("fill",t.getAPIOption("defaultLoadCurvePaneColor")),o=i.select("."+Ge).attr("width",e.timeAreaWidth),void 0!==t.getAPIOption("defaultInventoryCurvePaneColor")&&o.style("fill",t.getAPIOption("defaultInventoryCurvePaneColor")),i.select("."+Be).attr("width",e.timeAreaWidth)}}},_convertFunc:function(e){"use strict";e.item.rab_itemType&&e.item.rab_itemType===$.Operation&&("_data.Start"===e.attr?e.value=this._viewModel.model().dateTimeValueToDate(e.item.data().Start):"_data.End"===e.attr&&(e.value=this._viewModel.model().dateTimeValueToDate(e.item.data().End)))},_keyDownFunc:function(){},_calculateCurvesPaneHeight:function(e,t){"use strict";var i=this,a=0,n=0;if(e.rab_curvePanesVisible||t===Q.Loads){var o=i._viewModel.resourceByItem(e);if(o){var r;if(i.getAPIOption("higherCurvePanesOnExceededScaleMaximumValue")&&o.compileCurves(),o.HasCurves||o.InventoryCurveID)(null==(r=o.InventoryCurvePaneVisible)?i.getAPIOption("defaultResourceInventoryCurvePaneVisible"):r)&&(void 0===(n=o.InventoryCurvePaneHeight)&&(n=i.getAPIOption("defaultInventoryCurvePaneHeight")),void 0!==n&&(n=Math.min(i.getAPIOption("maximumInventoryCurvePaneHeight"),Math.max(i.getAPIOption("minimumInventoryCurvePaneHeight"),n))));if(o.HasCurves||o.CapacityCurveID||o.LoadCurveID||t===Q.Loads)((null==(r=o.LoadCurvePaneVisible)?i.getAPIOption("defaultResourceLoadCurvePaneVisible"):r)||t===Q.Loads&&!n)&&(void 0===(a=o.LoadCurvePaneHeight)&&(a=i.getAPIOption("defaultLoadCurvePaneHeight")),void 0!==a&&(a=Math.min(i.getAPIOption("maximumLoadCurvePaneHeight"),Math.max(i.getAPIOption("minimumLoadCurvePaneHeight"),a))),i.getAPIOption("higherCurvePanesOnExceededScaleMaximumValue")&&o.rab_loadCurveExceedingFactor&&(a*=o.rab_loadCurveExceedingFactor))}}return e.rab_loadCurvePaneHeight===a&&e.rab_inventoryCurvePaneHeight===n||(e.rab_curvePanesVisibleChanged=!0,e.rab_loadCurvePaneHeight=a,e.rab_inventoryCurvePaneHeight=n),e.rab_curvePanesVisible=!(!a&&!n),e.rab_curvePanesVisible},_createCurveButtonAndScaleInRow:function(e,t,i,a,r,s){"use strict";var l,c,d=this,u=e.data().TableTextColor||e.rab_TextColor||"black";if((e.rab_itemType===$.Resource&&d._viewType!==Q.Loads||e.rab_itemType===$.ActivityRow&&d.getAPIOption("curvePanesVisibleInActivitiesView"))&&Array.isArray(d._options.showCurveButtonInView)&&d._options.showCurveButtonInView.indexOf(d._viewType)>=0&&!1!==e.barsPaneVisible&&((c=d._viewModel.resourceByItem(e))&&((c.HasCurves||c.CapacityCurveID||c.LoadCurveID)&&null==(l=c.LoadCurvePaneVisible)&&(l=d.getAPIOption("defaultResourceLoadCurvePaneVisible")),l||!c.HasCurves&&!c.InventoryCurveID||null==(l=c.InventoryCurvePaneVisible)&&(l=d.getAPIOption("defaultResourceInventoryCurvePaneVisible")),l&&!i))){var p=2*d._ganttWidget.options.buttonLeftOffset+d._ganttWidget.options.buttonExtent,g=d._ganttWidget.determineActualRowMargins().sum+d._ganttWidget.options.buttonExtent;if(d._viewType!==Q.Loads&&s.append("rect").attr("class",`${Oe} ${h.QUICK_TAP_EVENT_CLASS_NAME} ${h.PRESS_EVENT_CLASS_NAME}`).attr("x",r-p).attr("width",p).attr("height",g).on(h.TARGET_EVENT_NAME,(function(e){try{var t=(n.mouse?n.event:e).detail.hammerEvent;switch(t.type){case o.nEventDispatcher.PRESS_EVENT_NAME+"up":if("mouse"!==t.pointerType)break;case o.nEventDispatcher.TAP_EVENT_NAME:d._onCurveButtonClick(this)}}catch(e){d._app.getOption("boundHandleExceptionFunc")(e)}})),d._viewType!==Q.Loads&&d.getAPIOption("curvePanesCollapsibleInResourcesView"))if(d._options.showCurveButtonSymbols){var m=e.rab_curvePanesVisible?u:"transparent",f=e.rab_curvePanesVisible?d._determineTableRowBackgroundColor(e,t):u,_=s.append("g").attr("transform","scale(1.5), translate(8,8)"),b=_.append("rect").attr("pointer-events","none").attr("width","10").attr("height","10").style("fill",m);e.rab_curvePanesVisible&&b.attr("class",Oe+"-tfcol"),_.append("path").attr("class",Oe+(e.rab_curvePanesVisible?"-cscol":"-tscol")).attr("pointer-events","none").attr("d","M9,9H1V1M2,7H4V3h3v2h2").style("stroke",f)}else{var v=s.append("path").attr("class",Oe+"-tfcol").attr("pointer-events","none").attr("d","M0,6 V-6 L6,0 L0,6").style("fill",u),y="translate("+(r-p/2)+","+d._ganttWidget.determineActualTableCellContentTopOffset(e)+")";e.rab_curvePanesVisibleChanged?v.attr("transform",y+(e.rab_curvePanesVisible?"":"rotate(45)")).transition().duration(d._ganttWidget.option("transitionDuration")).attr("transform",y+(e.rab_curvePanesVisible?"rotate(45)":"")):v.attr("transform",y+(e.rab_curvePanesVisible?"rotate(45)":""))}}((e.rab_curvePanesVisible||d._viewType===Q.Loads)&&e.rab_itemType===$.Resource&&!e.isPseudo()||e.rab_itemType===$.ActivityRow&&d.getAPIOption("curvePanesVisibleInActivitiesView"))&&((c=d._viewModel.resourceByItem(e))&&(c.compileCurves(),d._createScale(e,i,c,a,r,s,u)))},_getOrCreateTextBackgroundColorFilter:function(e){"use strict";for(var t="",i=0;i<e.length;i++)t+=e.charCodeAt(i);var a=ht+t,o=n.select(this._ganttWidget.element[0]).select(".ngantt-svg-root defs");return o.select("#"+a).size()||o.append("filter").attr("id",a).attr("x",0).attr("y",0).attr("height",1).attr("width",1).append("feFlood").attr("flood-color",e),a},_createScale:function(e,t,i,o,r,s,l){"use strict";var c=this;if(t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight){var d=t?i.rab_inventoryCurveMinValue:i.rab_loadCurveMinValue,u=t?i.rab_inventoryCurveMaxValue:i.rab_loadCurveMaxValue,p=t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight,h=(n.scaleLinear?n.scaleLinear:n.scale.linear)().domain([d,u]).range([0,-p]);c.app().locale().applyNumberFormat((function(){var g=n.axisLeft?n.axisLeft(h):n.svg.axis().scale(h).orient("left");switch(c._options.curveScaleTicksMode){case 1:var m=u-d;(!m||m>10&&m%2)&&m++,g.tickValues(1!==m?[d,d+m/2,u]:[d,u]);break;case 2:g.ticks(Math.floor(p/16));break;default:g.ticks(1===u?1:u%2?3:2)}var f=c._ganttWidget.determineActualRowMargins(),_=o-f.bottom;!t&&e.rab_inventoryCurvePaneHeight&&(_-=e.rab_inventoryCurvePaneHeight+2*f.bottom);var b=s.append("g").attr("class",Se).attr("transform","translate("+r+","+_+")").call(g).attr("font-size",null);l&&(b.selectAll("line,path").style("stroke",l),b.selectAll("text").style("fill",l));let v=e[Rt];if(delete e[Rt],v&&v(),0==i.BarsPaneVisible||c._viewType===Q.Loads){var y=e.data().TableColor;if(!y||"none"===y||"transparent"===y){var A=a(b.node()).closest(".ngantt-table-row"),T=n.select(A[0]).selectAll(".ngantt-table-row-background-rect");y=window.getComputedStyle(T.nodes()[0]).getPropertyValue("fill")}if(y){var w=b.selectAll("text"),C=w.size()-1;w.each((function(e,t){var i=this.getBBox();let a=t===C?1:0;var o=n.select(this.parentNode).insert("rect",(()=>this)).attr("transform",`translate(${-i.width},${i.y+a})translate(${this.getAttribute("x")||0})`).attr("x",this.getAttribute("dx")).attr("width",i.width).attr("fill",y);t?o.attr("height",i.height-a):(o.attr("height",-i.y),n.select(this.parentNode).insert("rect",(()=>this)).attr("transform",`translate(${-i.width})translate(${this.getAttribute("x")||0})`).attr("x",this.getAttribute("dx")).attr("width",i.width).attr("height",this.getAttribute("dy")).attr("fill",y))}))}}}))}},_patternShownOnOverLoadCurvesDependingOnCurrentBrowser:function(){"use strict";return this.getAPIOption("patternShownOnOverloadCurves")&&!(_.isIE||_.isEdge||_.isIEWebBrowserControl)},_onCurvePaneSplitterInteraction:function(e,t,i){"use strict";var a=this,n=a._curvePaneSplitterWidget.element[0].getBoundingClientRect(),o=i.curveContainerD3.node().getBoundingClientRect(),r=o.top-n.top,s=2*a._ganttWidget.determineActualRowMargins().bottom,l=e.detail.hammerEvent;switch(l.type){case h.PAN_EVENT_NAME+"start":case h.PRESS_EVENT_NAME:i.rowItem.rab_oldCurvePaneHeightBeforeInteraction=i.paneIndex?i.rowItem.rab_inventoryCurvePaneHeight:i.rowItem.rab_loadCurvePaneHeight,a._curvePaneSplitterWidget.option("position",{x:a._ganttWidget.actualTableViewWidth()+a._ganttWidget.option("splitterWidth"),y:r+o.height-i.height}),a._curvePaneSplitterWidget.option("width",a._ganttWidget._currentTimeAreaViewWidth),a._curvePaneSplitterWidget.option("height",i.height),a._curvePaneSplitterWidget.option("min",r+i.min+s-i.height/2),a._curvePaneSplitterWidget.option("max",r+i.max+s-i.height/2),a._curvePaneSplitterWidget.element.attr("visibility",null),a._curvePaneSplitterWidget.manualStartDrag();var c={cancel:!1};a._curvePaneSplitterWidget._trigger("startDrag",null,c),c.cancel&&(l[h.CANCEL_PROPERTY]=!0);break;case h.PAN_EVENT_NAME+"move":a._curvePaneSplitterWidget.manualDrag(a._curvePaneSplitterWidget._oldValue+l.deltaY);var d=Math.min(Math.max(i.rowItem.rab_oldCurvePaneHeightBeforeInteraction+l.deltaY,i.min),i.max);i.rowItem[i.paneIndex?"rab_inventoryCurvePaneHeight":"rab_loadCurvePaneHeight"]=d,a.updateRowHeight(i.rowItem,void 0,!1),a._ganttWidget.invalidateRowHeight(i.rowItem);var u=a._ganttWidget.option("transitionDuration");a._ganttWidget.option("transitionDuration",0),a._ganttWidget.update(),a._ganttWidget.option("transitionDuration",u);break;case h.PAN_EVENT_NAME+"end":case h.PRESS_EVENT_NAME+"up":if(a._curvePaneSplitterWidget.element.attr("visibility","hidden"),void 0===a._curvePaneSplitterWidget._newValue)break;a._curvePaneSplitterWidget.manualEndDrag(),a._curvePaneSplitterWidget._trigger("endDrag",null,{canceled:!1});d=Math.min(Math.max(i.rowItem.rab_oldCurvePaneHeightBeforeInteraction+l.deltaY,i.min),i.max);i.rowItem[i.paneIndex?"rab_oldInventoryCurvePaneHeight":"rab_oldLoadCurvePaneHeight"]=d,delete i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,a._curvePaneSplitterWidget._trigger("changed",null,{newValue:d,oldValue:o.height,args:i}),a.invalidateRow(i.rowItem),a._ganttWidget.update();break;case h.PAN_EVENT_NAME+"cancel":i.rowItem[i.paneIndex?"rab_inventoryCurvePaneHeight":"rab_loadCurvePaneHeight"]=i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,delete i.rowItem.rab_oldCurvePaneHeightBeforeInteraction,a._curvePaneSplitterWidget.element.attr("visibility","hidden"),a._curvePaneSplitterWidget.manualEndDrag(),a._curvePaneSplitterWidget._trigger("endDrag",null,{canceled:!0}),a.updateRowHeight(i.rowItem),a._ganttWidget.update()}},_addHotRegionCurvePath:function(e){"use strict";var t=this.app().model().curveByID(e.curveID);if(t&&("none"===t.FillColor||"transparent"==t.FillColor||null==t.FillColor)){e.doNotChangePointerEvents||e.originalCurvePathD3.attr("pointer-events","visibleStroke");var i=e.curveContainerD3.append("path").attr("class",`${e.classNamesArray.join(" ")} ${this._curveTapEventClassNames} ${Me}`).attr("transform","translate("+e.translateX+","+e.translateY+")");a(i.node()).data("__curveID",e.curveID),e.curvePathD3Array.push(i)}},_createCurvesPaneInRow:function(e,t,i,o,r,s,l){"use strict";var c=this,d=c.app().model();const u=`rab_tempBGCurveContainerElem${t}`;var g=t?e.rab_inventoryCurvePaneHeight:e.rab_loadCurvePaneHeight,m=t?e.rab_oldInventoryCurvePaneHeight:e.rab_oldLoadCurvePaneHeight,f=e.rab_curvePanesVisible||c._viewType===Q.Loads&&g;if(f||e.rab_curvePanesVisibleChanged&&!c._curvePaneSplitterWidget.isCurrentlyDragged()){var y=f?g:m;let d;if(y){var A=c._ganttWidget.determineActualRowMargins(),T=-A.bottom,w=y?y-T+A.bottom:0,I=m?m-T+A.bottom:0,R="translate(0,"+o+")";if(f&&e.rab_curvePanesVisibleChanged&&null!=m&&w&&(R+=" scale(1,"+Math.max(1e-6,I/w)+")"),l){d=n.select(e[u].parentNode);let t=d;if(c._curvePaneSplitterWidget.isCurrentlyDragged()||(t=t.transition().duration(c._ganttWidget.options.transitionDuration)),f){if(t.attr("transform","translate(0,"+i+")"),_.isIE||_.isEdge){let e=a(t.node()).parentsUntil(c.ganttWidget().element);e.each((function(){var e=a(this),t=e.attr("cursor");null==e.data("nganttIECursor")&&e.data("nganttIECursor",t||""),e.attr("cursor","wait"===t?"help":"wait")})),window.setTimeout((function(){e.each((function(){var e=a(this),t=e.data("nganttIECursor");null!=t&&(t?e.attr("cursor",t):e.removeAttr("cursor"),e.data("nganttIECursor",null))}))}),1)}}else t.attr("transform","translate(0,"+i+") scale(1,1e-6)").remove()}else d=s.append("g").attr("class",Ee).attr("transform",R);var D,S=-w-T;if(!t&&(f?e.rab_inventoryCurvePaneHeight:e.rab_oldInventoryCurvePaneHeight)&&(S-=(f?e.rab_inventoryCurvePaneHeight:e.rab_oldInventoryCurvePaneHeight)+2*A.bottom),l){let i=e[u];s.node()[u]=i,D=n.select(i),delete e[u],_.isIOS||a(D.node()).on("pointermove"+gt,(function(e){try{v.isContextMenuActive()||(n.mouse&&(n.event=e),c._showTooltip({ganttWidget:c._ganttWidget,event:e,sender:c._ganttWidget.getRowItem(this),elem:this,className:Pe,itemType:$.Curve}),n.mouse&&(n.event=void 0)),this.hasAttribute(b.POINTER_LEAVE_ATTR_NAME)||(a(this).attr(b.POINTER_LEAVE_ATTR_NAME,"1"),p.on(this,"pointerleave"+gt,(function(e){try{a(this).removeAttr(b.POINTER_LEAVE_ATTR_NAME),p.off(this,"pointerleave"+gt),n.mouse&&(n.event=e),c._showTooltip({ganttWidget:c._ganttWidget,event:e,sender:null,elem:null,className:Pe}),n.mouse&&(n.event=void 0)}catch(e){c._app.getOption("boundHandleExceptionFunc")(e)}})))}catch(e){c._app.getOption("boundHandleExceptionFunc")(e)}})),D.on(h.TARGET_EVENT_NAME,(function(e){try{var t=(n.mouse?n.event:e).detail.hammerEvent;c._ganttWidget.handleTapOnTimeAreaBackground(t),"touch"===t.pointerType&&(n.mouse&&(n.event=t.srcEvent),c._showTooltip({ganttWidget:c._ganttWidget,sender:c._ganttWidget.getRowItem(this),elem:this,className:Pe,itemType:$.Curve,event:t.srcEvent}),n.mouse&&(n.event=void 0)),c.getAPIOption("clickCallbackTriggeringOnRowInTimeArea")&&c._doOnEventFunc({ganttWidget:c._ganttWidget,eventType:t.type===h.DOUBLE_TAP_EVENT_NAME?"doubletap":"tap",event:t.srcEvent,hammerEvent:t,sender:c._ganttWidget.getRowItem(this),elem:this,className:Pe,itemType:$.Curve})}catch(e){c._app.getOption("boundHandleExceptionFunc")(e)}}));var O=c._viewModel.resourceByItem(e);if(O){var P;O.compileCurves(),D.append("rect").attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("width",r).attr("height",w).attr("transform","translate(0,"+T+")").attr("class",t?Ge:Xe);var E=[];if(t){if(Array.isArray(O.rab_inventoryCurveData))O.rab_inventoryCurveData.forEach((function(e,t){P=D.append("path").attr("class",je+" "+je+t+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",e.rab_curveID),E.push(P);var i={curvePathD3Array:E,curveID:e.rab_curveID,originalCurvePathD3:P,curveContainerD3:D,classNamesArray:[je,je+t],translateX:wt,translateY:Ct};c._addHotRegionCurvePath(i)}));else if(O.rab_inventoryCurveData){P=D.append("path").attr("class",je+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",O.rab_inventoryCurveData.rab_curveID),E.push(P);M={curvePathD3Array:E,curveID:O.rab_inventoryCurveData.rab_curveID,originalCurvePathD3:P,curveContainerD3:D,classNamesArray:[je],translateX:wt,translateY:Ct};c._addHotRegionCurvePath(M)}}else{c._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()||(P=D.append("path").attr("class",Je+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",O.LoadCurveID),E.push(P)),P=D.append("path").attr("class",Ae+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",O.CapacityCurveID),E.push(P);var M={curvePathD3Array:E,curveID:O.CapacityCurveID,originalCurvePathD3:P,curveContainerD3:D,classNamesArray:[Ae],translateX:wt,translateY:Ct,doNotChangePointerEvents:!0};c._addHotRegionCurvePath(M),O.rab_capacityCurveAreaClipPathID||(O.rab_capacityCurveAreaClipPathID=C.generate()),Array.isArray(O.rab_loadCurveData)?O.rab_loadCurveData.forEach((function(e,t){P=D.append("path").attr("class",qe+" "+qe+t+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",e.rab_curveID),E.push(P)})):O.rab_loadCurveData&&(P=D.append("path").attr("class",qe+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",O.rab_loadCurveData.rab_curveID),E.push(P)),O.rab_isOverloaded&&(c._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()?D.append("path").attr("class",Je).attr("transform","translate("+wt+","+Ct+")").attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("mask",`url(#${et}${c._ganttWidget._uniqueID})`).attr("clip-path","url(#"+Ae+O.rab_capacityCurveAreaClipPathID+")"):D.selectAll("."+qe).attr("clip-path","url(#"+Ae+O.rab_capacityCurveAreaClipPathID+")")),P=D.append("path").attr("class",Te+" "+c._curveTapEventClassNames).attr(b.TAKE_PARENT_ATTR_NAME,"1").attr("transform","translate("+wt+","+Ct+")"),a(P.node()).data("__curveID",O.CapacityCurveID),E.push(P)}if(E.forEach((function(t){a(t.node()).data(h.HANDLER_FUNCTION_PROPERTY+N.NAMESPACE+c._ganttWidget._uniqueID,(function(t){try{switch(t.type){case h.TAP_EVENT_NAME:case h.DOUBLE_TAP_EVENT_NAME:c._ganttWidget.handleTapOnTimeAreaBackground(t),c._onEventFunc&&c._onEventFunc.call(c,{ganttWidget:c.ganttWidget(),sender:e,rowItem:e,date:c.ganttWidget().pageXToDate(t.srcEvent.pageX),item:e,itemType:$.Curve,curveID:a(t.target).data("__curveID"),eventType:t.type===h.TAP_EVENT_NAME?"tap":"doubletap",elem:this,elemType:1e3,event:t.srcEvent,hammerEvent:t})}}catch(e){c._handleException(e,"onEventDispatch_curvePane/event")}}))})),D.append("g").attr("class",Tt).attr("transform",`translate(${wt+c._ganttWidget.timeAxis().timeAreaViewScrollOffset()})`).append("line").attr("class",t?Ue:Ze).attr("x2",c._ganttWidget.getCurrentUpperXLimit()).attr("data-nrabvalue",0),c.getAPIOption("curvePanesResizable")&&(t||0===e.rab_inventoryCurvePaneHeight)){let i=t?"Inventory":"Load";var V={height:4,min:c.getAPIOption(`minimum${i}CurvePaneHeight`),max:c.getAPIOption(`maximum${i}CurvePaneHeight`),curveContainerD3:D,rowItem:e,paneIndex:t};D.append("rect").attr("class",h.PAN_EVENT_CLASS_NAME+" "+Be).attr("width",r).attr("height",4).attr("fill","transparent").attr("transform","translate("+wt+","+(Ct+y)+")").attr("cursor","ns-resize").on(h.TARGET_EVENT_NAME,(function(e,t){try{n.mouse?c._onCurvePaneSplitterInteraction(n.event,e,V):c._onCurvePaneSplitterInteraction(e,t,V)}catch(e){c._app.getOption("boundHandleExceptionFunc")(e)}}))}c._updateCurvesPaneInRow(e,t,y,s)}}else D=d.append("g").attr(b.DIRECT_TRIGGER_ATTR_NAME,"1").attr("class",`${Pe} ${c._curveTapEventClassNames}`).attr("transform","translate(0,"+S+")"),e[u]=D.node()}}if(l&&(t?e.rab_oldInventoryCurvePaneHeight=e.rab_inventoryCurvePaneHeight:e.rab_oldLoadCurvePaneHeight=e.rab_loadCurvePaneHeight,e.rab_itemType===$.Resource||e.rab_itemType===$.ActivityRow&&c.getAPIOption("curvePanesVisibleInActivitiesView"))){let i=s.node()[`rab_tempBGCurveContainerElem${t}`]?.parentNode.parentNode;if(i){s=n.select(i);let a=c._viewModel.resourceByItem(e);if(a){var B,k,W;t?W=d.curveByID(a.InventoryCurveID):(B=d.curveByID(a.CapacityCurveID),k=d.curveByID(a.LoadCurveID),c._styleCurveElementD3(k,s.select("."+Je),"OverloadColor"),c._styleCurveElementD3(B,s.select("."+Ae),"FillColor"),c._styleCurveElementD3(B,s.select("."+Te)));var F=[{curve:k,class:qe},{curve:W,class:je}][t],L=F.curve;if(L)if(L.Type===q.CurveList||L.Type===q.CurveStack){var x=0,H=function(e){Array.isArray(e.CurveIDs)&&(e.Type===q.CurveStack?e.CurveIDs.slice().reverse():e.CurveIDs).forEach((function(e){var t=d.curveByID(e);t&&(t.Type===q.CurveList||t.Type===q.CurveStack?H(t):(c._styleCurveElementD3(t,s.select("."+F.class+x),"FillColor"),x++))}))};H(L)}else c._styleCurveElementD3(L,s.select("."+F.class),"FillColor")}}}},_styleCurveElementD3:function(e,t,i){let a="OverloadColor"===i,n=e&&(a?e[i]:e.StrokeColor),o=e&&(a?null:e.StrokeDashArray);if(t.style("stroke",null!=n?n:null).style("stroke-dasharray",null!=o?o:null),i){let o=a?n:e&&e[i];t.style("fill",null!=o?o:null)}},_updateCurvesPaneInRow:function(e,t,i,a){"use strict";var o=this;delete e[Rt];var s=o._viewModel.resourceByItem(e);if(s){var l=a.node()[`rab_tempBGCurveContainerElem${t}`]?.parentNode.parentNode;if(l){a=n.select(l);var c,d=o._ganttWidget.determineActualRowMargins(),u=!1;if(o._curvePaneSplitterWidget.isCurrentlyDragged()&&i&&"rab_oldCurvePaneHeightBeforeInteraction"in e){var p=-d.bottom,h=i-p+d.bottom;a.select("."+(t?Ge:Xe)).attr("height",h).attr("transform","translate(0,"+p+")");var g=n.select(o._ganttWidget.getElementOfItem(e));g=g.select(".ngantt-fixed-table-row-succeeding .ngantt-table-cell"),c=g.select("."+Se);var m=r(c.attr("transform")).translate[0],f=e.data().TableTextColor;c.remove(),o._createScale(e,t,s,h,m,g.select(".ngantt-table-cell-content"),f),u=!0}var _=(n.scaleLinear?n.scaleLinear:n.scale.linear)().range([i,0]).domain([t?s.rab_inventoryCurveMinValue:s.rab_loadCurveMinValue,t?s.rab_inventoryCurveMaxValue:s.rab_loadCurveMaxValue]);let V=function(){a.selectAll("."+(t?Ue:Ze)).each((function(){var e=n.select(this);e.attr("transform",`translate(0,${Ct+_(+e.attr("data-nrabvalue"))})`)}))};if(!t&&(!c||u)&&o.getAPIOption("linesShownInLoadCurvePanes")){let t=a.select("."+Pe+" ."+Tt),i=function(){return(g=(g=n.select(o._ganttWidget.getElementOfItem(e))).select(".ngantt-fixed-table-row-succeeding .ngantt-table-cell")).select("."+Se)};if(c||(c=i(),u=!t.select("."+Qe).size()),u){let a=function(){c.size()||(c=i()),c.selectAll(".tick").each((function(){let e=+n.select(this).select("text").text().replace("−","-");e&&t.append("line").attr("class",Ze+" "+Qe).attr("x2",o._ganttWidget.getCurrentUpperXLimit()).attr("data-nrabvalue",e)}))};c.select(".tick").size()?(a(),u=!1):e[Rt]=function(){a(),V()}}}if(u||V(),t){var b=s.rab_inventoryCurveData;Array.isArray(b)?b.forEach((function(e,t){a.selectAll("."+je+t).attr("d",o._determineCurveAreaPathData(_,e.values(),void 0,void 0,void 0,e.rab_interpolationType))})):b&&a.selectAll("."+je).attr("d",o._determineCurveAreaPathData(_,b.values()),void 0,void 0,void 0,b.rab_interpolationType)}else{var v="";if(s.rab_isOverloaded){var y=s.rab_highestLoadCurveData;v=o._determineCurveAreaPathData(_,y.values(),void 0,void 0,void 0,y.rab_interpolationType)}a.select("."+Je).attr("d",v);var A=s.rab_loadCurveData;Array.isArray(A)?A.forEach((function(e,t){a.select("."+qe+t).attr("d",o._determineCurveAreaPathData(_,e.values(),void 0,void 0,void 0,e.rab_interpolationType))})):A&&a.select("."+qe).attr("d",o._determineCurveAreaPathData(_,A.values(),void 0,void 0,void 0,A.rab_interpolationType));var T=s.rab_highestCapacityCurveData,w=T?T.values():It;w.rab_interpolationType=T?T.rab_interpolationType:void 0;var I=o._determineCurveAreaPathData(_,w,(function(e){return Math.max(e,0)}),void 0,void 0,w.rab_interpolationType);if(a.selectAll("."+Ae).attr("d",I),a.select("."+Te).attr("d",I),s.rab_isOverloaded){s.rab_capacityCurveAreaClipPathID||(s.rab_capacityCurveAreaClipPathID=C.generate());var R=n.select(o._ganttWidget.element[0]).select(".ngantt-svg-root defs");if(o._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()){var D=o._ganttWidget._uniqueID,S=R.select("#"+tt+D);S.size()||(S=R.append("pattern").attr("id",tt+D).attr("width",4).attr("height",4).attr("patternUnits","userSpaceOnUse").attr("patternTransform","rotate(45)").append("rect").attr("width",1).attr("height",4).style("fill","white"));var O=R.select("#"+et+D);O.size()||(O=R.append("mask").attr("id",et+D).append("rect").attr("x",0).attr("y",0).attr("width","100000").attr("height","10000").style("fill",`url(#${tt}${D})`))}var P=R.select("#"+Ae+s.rab_capacityCurveAreaClipPathID+" path");if(P.size()||(P=R.append("clipPath").attr("id",Ae+s.rab_capacityCurveAreaClipPathID).append("path")),o._patternShownOnOverLoadCurvesDependingOnCurrentBrowser()){var E=o._determineCurveAreaPathData(_,w,(function(e){return Math.max(e,0)}),i+d.bottom,void 0,w.rab_interpolationType);E=E.replace(/V\d+H(?=-?\d+Z$)/,"V0H"),P.attr("d",E)}else{var M=s.rab_loadCurveMinValue;P.attr("d",M>=0?I:o._determineCurveAreaPathData(_,w,(function(e){return Math.max(e,0)}),i+d.bottom,void 0,w.rab_interpolationType))}}}}}},_handleBeforeShowingCurvesPane:function(){},_expandOrCollapseAllCurvesPanes:function(e,t){"use strict";var i=this;if(null==t&&(t=i._viewType),t!==Q.Loads){var a=i._viewModel.rowItemsRoot(t);if(a){t===i._viewType&&this._tooltipWidget.display(null);var n=function(a,o){var r={rowItem:a,cancel:!1};i._handleBeforeShowingCurvesPane(r),a.isResourceRelevant()&&void 0!==a.rab_curvePanesVisible&&!r.cancel&&a.rab_curvePanesVisible!==e&&(i._expandOrCollapseCurvesInRowAtLast(a,e),t===i._viewType&&i.invalidateRow(a)),o||["childRowItems","leafRowItems"].forEach((function(e,t){a[e]&&a[e].forEach((function(e){n(e,!!t)}))}))};n(a),t===i._viewType&&i._ganttWidget.update()}}},_expandOrCollapseCurvesInRowAtLast:function(e,t){"use strict";var i=this,a=i._ganttWidget.isRowVirtualized(e);e.rab_curvePanesVisible=t,(i._viewType!==Q.ActivitiesView||i.getAPIOption("curvePanesVisibleInActivitiesView"))&&i.updateRowHeight(e),e.rab_curvePanesVisibleChanged=!a},_expandOrCollapseCurvesInRow:function(e,t){"use strict";this._expandOrCollapseCurvesInRowAtLast(e,t)},_expandOrCollapseCurvesInRowByCollapseState:function(e,t,i){"use strict";var a=i.CurveCollapseState;if(a>=0){var n=!a,o=e.call(this._viewModel,t,i);o&&o.rab_curvePanesVisible!==n&&this._expandOrCollapseCurvesInRowAtLast(o,n)}},expandAllLoadCurves:function(e){"use strict";this._expandOrCollapseAllCurvesPanes(!0,e)},collapseAllLoadCurves:function(e){"use strict";this._expandOrCollapseAllCurvesPanes(!1,e)},_onCurveButtonClick:function(e){"use strict";var t=this;if(t._viewType!==Q.Loads){t._tooltipWidget.display(null);var i=t._ganttWidget.getRowItem(e);if(i.isResourceRelevant()){var a=t._expandOrCollapseCurvesInRow(i,!i.rab_curvePanesVisible),n=function(){i.data().rab_cachedCurveCollapseState=i.rab_curvePanesVisible?0:1,t.invalidateRow(i),t._ganttWidget.update()};a?a.then(n,n).catch(n):n()}}},_determineCurveAreaPathData:function(e,t,i,o,r,s){"use strict";var l=this;if(!t)return"";var d=l._ganttWidget.timeAxis(),u=864e5,p=d.convertXToDate(l._ganttWidget.getCurrentLowerXLimit()),h=d.convertXToDate(l._ganttWidget.getCurrentUpperXLimit()),g=function(e){return t[e].start},m=c.findDateWithinSortedArray(t,p,!1,g),f=c.findDateWithinSortedArray(t,h,!1,g),_=t.slice(m,f+1),b=p.getTime();if(_.length?_[0].start.getTime()<b&&(_[0]=a.extend({},_[0],{start:new Date(b-u)})):_.unshift(new Date(b-u)),_.push(new Date(h.getTime()+u)),r){var v=d.collapseCalendar();if(v)for(var y=_.length-1;y>0;y--){var A=new Date((_[y].start||_[y]).getTime()-1);if(v.determineTimeType(A)===F.NonWorkingTime){var T=v.findStartOfCurrentTimeTypeInterval(A);if(T<A)for(;y>0;){if(!((_[y-1].start||_[y-1])>T))break;_.splice(--y,1)}}}}s===X.Linear&&_.length>1&&(_[0].start=_[1].start||_[1],_.length>2&&(_[_.length-1]=_[_.length-2]));var w,C=e(0);if(n.line)switch(s){case X.StepAfter:w=n.curveStepAfter;break;case X.Linear:w=n.curveLinear;break;default:w=n.curveStepAfter}else switch(s){case X.StepAfter:w="step-after";break;case X.Linear:w="linear";break;default:w="step-after"}for(var I=(n.line?n.line().curve(w):n.svg.line().interpolate(w)).x((function(e){return l._ganttWidget.convertXToLimitedX(d.convertDateToX(e.start||e))})).defined((function(e){return!e.start||isFinite(e.value)})).y((function(t){return t.start?e(i?i(t.value):t.value):C}))(_).split("M"),R=[],D="V"+(o||e(0)),S=D.length,O=I.length-1;O;O--){var P=I[O];R.push("M",P),P.substring(P.length-S)!==D&&R.push(D),R.push("H",P.substring(0,P.indexOf(",")),"Z")}return R=R.join("")},_handleCanSelectTimeItem:function(e){"use strict";if(this.getAPIOption("allocationsSelectableOnlyOnOneResourceAtATime")&&e.canSelect&&this._viewType===Q.Resources&&e.otherSelectedTimeItems.length){var t=e.timeItem;t.rab_itemType===$.AllocationEntry&&(t=e.ganttWidget.getParent(t));var i=e.otherSelectedTimeItems[0];i.rab_itemType===$.AllocationEntry&&(i=e.ganttWidget.getParent(i)),t.data().ResourceID!==i.data().ResourceID&&(e.canSelect=!1)}},_canSelectTimeItemFunc:function(e){"use strict";var t=this;(_.isMacOrIOS?e.metaKey:e.ctrlKey)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedTimeItems.length||t._ganttWidget.selectedRowItems().length||t._ganttWidget.selectedLinkItems().length||t._entitiesTableWidget?.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectTimeItem(e)},_handleSelectTimeItem:function(){},_selectTimeItemFunc:function(e){"use strict";var t=this;if(t._handleSelectTimeItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("selectionBehavior")===re.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t.getAPIOption("selectionBehavior")===re.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.showMarkingTemporarily(null)),t._checkShowHideDragBoundaries(e.newSelectedItems)}},_handleCanSelectRowItem:function(){},_canSelectRowItemFunc:function(e){"use strict";var t=this;(_.isMacOrIOS?e.metaKey:e.ctrlKey)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedRowItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedLinkItems().length||t._entitiesTableWidget?.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectRowItem(e)},_handleSelectRowItem:function(){},_selectRowItemFunc:function(e){"use strict";var t=this;if(t._handleSelectRowItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("selectionBehavior")===re.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t._entitiesTableWidget.option("updateSuspended",!0),t.getAPIOption("selectionBehavior")===re.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.option("updateSuspended",!1),t._entitiesTableWidget.showMarkingTemporarily(null))}},_handleCanSelectLinkItem:function(){},_canSelectLinkItemFunc:function(e){"use strict";var t=this;(_.isMacOrIOS?e.metaKey:e.ctrlKey)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedLinkItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedRowItems().length||t._entitiesTableWidget?.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._handleCanSelectLinkItem(e)},_handleSelectLinkItem:function(){},_selectLinkItemFunc:function(e){"use strict";var t=this;if(t._handleSelectLinkItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("selectionBehavior")===re.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered","auto"),t._entitiesTableWidget&&(t._entitiesTableWidget.option("updateSuspended",!0),t.getAPIOption("selectionBehavior")===re.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered",i),t._entitiesTableWidget.selectedRowItems([]),t._entitiesTableWidget.option("updateSuspended",!1),t._entitiesTableWidget.showMarkingTemporarily(null))}},getSelectedObjectsAndType:function(){"use strict";var e=this,t={itemType:void 0,objects:[]};let i=(e,i)=>{var a=i.data();return a?.data()?(t.itemType=i.rab_itemType,t.objects.push(a),!0):e};switch(e._ganttWidget.selectedLinkItems().reduce(i,!1)||e._ganttWidget.selectedTimeItems().reduce(i,!1)||e._ganttWidget.selectedRowItems().reduce(i,!1)||e._entitiesTableWidget?.selectedRowItems().forEach((e=>{i(!1,e)})),t.itemType){case $.ActivityBaseline:case $.ActivityFrame:t.itemType=$.Activity}return t},selectOrHighlightObjects:function(e,t,i){"use strict";var a,n,o,r,s=this;if(Array.isArray(t)&&t.length)switch(e){case $.Resource:a=!0,r=s._viewModel.resourceItem;break;case $.ActivityRow:a=!0;case $.Activity:r=s._viewModel.activityItem;break;case $.AllocationRow:a=!0;case $.Allocation:r=s._viewModel.allocationItem;break;case $.Entity:n=!0,r=s._viewModel.entityItem;break;case $.Link:o=!0,r=s._viewModel.linkItem}if(r){var l=[];t.forEach((function(t){var i;if(t&&(i=r.call(s._viewModel,s._viewType,t)),i){if(s._viewType===Q.Activities&&e===$.Activity&&i.timeItems){var a=s._viewModel._findItemOfTypeInArray(i.timeItems,$.Activity);a||(a=i.timeItems[0]),a&&(i=a)}else e===$.Allocation&&i.rab_itemType===$.AllocationRow&&(i=i.timeItems[0]);l.push(i)}})),0===l.length&&(r=void 0)}r?i?n?(s._entitiesTableWidget&&s._entitiesTableWidget.showMarkingTemporarily(l),s._ganttWidget.showMarkingTemporarily(null)):(s._entitiesTableWidget&&s._entitiesTableWidget.showMarkingTemporarily(null),s._ganttWidget.showMarkingTemporarily(l)):(s._entitiesTableWidget&&s._entitiesTableWidget.option("updateSuspended",!0),s._ganttWidget.option("updateSuspended",!0),s.getAPIOption("selectionBehavior")===re.Highlighting&&(s._ganttWidget.option("unselectedItemsShownCovered",n?"auto":!!l.length),s._entitiesTableWidget&&s._entitiesTableWidget.option("unselectedItemsShownCovered",n?!!l.length:"auto")),n?(s._entitiesTableWidget&&s._entitiesTableWidget.selectedRowItems(l),s._ganttWidget.selectedRowItems([]),s._ganttWidget.selectedTimeItems([]),s._ganttWidget.selectedLinkItems([])):(a?s._ganttWidget.selectedRowItems(l):o?s._ganttWidget.selectedLinkItems(l):(s._ganttWidget.selectedTimeItems(l),s._checkShowHideDragBoundaries()),s._entitiesTableWidget&&s._entitiesTableWidget.selectedRowItems([]))):i?(s._entitiesTableWidget&&s._entitiesTableWidget.showMarkingTemporarily(null),s._ganttWidget.showMarkingTemporarily(null)):(s.getAPIOption("selectionBehavior")===re.Highlighting&&s._ganttWidget.option("unselectedItemsShownCovered",!1),s._ganttWidget.selectedRowItems([]),s._ganttWidget.selectedTimeItems([]),s._ganttWidget.selectedLinkItems([]),s._entitiesTableWidget&&(s.getAPIOption("selectionBehavior")===re.Highlighting&&s._entitiesTableWidget.option("unselectedItemsShownCovered",!1),s._entitiesTableWidget.selectedRowItems([]))),i||(s._entitiesTableWidget&&s._entitiesTableWidget.option("updateSuspended",!1),s._ganttWidget.option("updateSuspended",!1))},checkObjectVisibility:function(){return!0},isEntitiesTableVisible:function(){"use strict";var e=this;return e._viewType===Q.Activities?e.getAPIOption("entitiesTableVisibleInActivitiesView"):e._viewType===Q.Resources&&e.getAPIOption("entitiesTableVisibleInResourcesView")},_showHideEntitiesTable:function(){"use strict";var e,t=this;if(t.isEntitiesTableVisible()){if(!t._entitiesTableWidget){e=!0;var i=a("<div></div>").addClass(Le).appendTo(t._divJQ),o=n.select(t._divJQ[0]).append("svg").attr("class",xe),r={classes:bt,min:0,max:1/0,width:this._ganttWidget.options.splitterWidth,height:this._divJQ.height(),orientation:T.Orientation.Vertical,startDrag:function(){t._entitiesSplitterPositionStartDrag=t._ganttWidget.element.width()},changed:function(e,i){t._onVerticalSplitterChanged(i.newValue)},dragged:function(e,i){t._ganttWidget.options.virtualized&&t._onVerticalSplitterChanged(i.newValue)},endDrag:function(e,i){i.canceled&&t._onVerticalSplitterChanged(t._entitiesSplitterPositionStartDrag),t._entitiesSplitterPositionStartDrag=void 0}};this._entitiesSplitterWidget=a(o.node()).nSplitterWidget(r).nSplitterWidget("instance"),this._addOrRemoveSymbolColumnInTableDefinition(this._tableDefinitionEntities,this.getAPIOption("entitiesTableSymbolColumnVisible"),this.getAPIOption("entitiesTableSymbolColumnWidth"));let l=t._app.model(),c=t.getAPIOption("entitiesTableShownFullScreen")?~R.MoveOutside:-1;var s={updateSuspended:!0,treeLinesVisible:t.getAPIOption("entitiesTableTreeVisualizationMode"),visualZoomFactor:t.getAPIOption("visualZoomFactor"),autoDisposeOfUnusedItems:!0,differentiationBetweenEmptyArrayAndUndefined:!0,editable:t.getAPIOption("editable"),rowItemsSelectable:!0,defaultRowItemSelectable:t.getAPIOption("defaultEntityRowSelectable"),defaultRowItemCollapsible:t.getAPIOption("defaultEntityRowCollapsible"),defaultRowInteractions:t.getAPIOption("defaultEntityAllowedRowDragModes")&c,titleHeight:t.getAPIOption("entitiesTableTitleHeight"),cellContentTopOffset:t.getAPIOption("entitiesTableCellContentTopOffset"),defaultRowMainHeight:t.getAPIOption("defaultEntityMinimumRowHeight"),preventDefaultOnContextMenuEvents:t.getAPIOption("preventDefaultOnContextMenuEvents"),errorFunc:function(e){t._app.getOption("boundHandleExceptionFunc")(e.error),e.rethrow=!1},handleWarningFunc:l.getOption("handleWarningFunc")?.bind(l),measuredRenderingTimeFunc:t._app.measuredRenderingTime?.bind(t._app),itemHighlightingColor:t.getAPIOption("objectHighlightingColor"),itemHighlightFlashingEnabled:t.getAPIOption("objectHighlightFlashingEnabled"),groupCellsWithHorizontalSeparationLine:t.getAPIOption("groupCellsWithHorizontalSeparationLine"),interactiveSwitchingOfSortOrderEnabled:t.getAPIOption("interactiveSwitchingOfSortOrderEnabled"),sortingIndicatorVisible:t.getAPIOption("sortingIndicatorVisible"),enrichClassFunc:function(){return t._enrichEntitiesTableClassFunc.apply(t,arguments)},dragStartFunc:function(){return t._entitiesTableDragStartFunc.apply(t,arguments)},dragEndFunc:function(){return t._entitiesTableDragEndFunc.apply(t,arguments)},draggedFunc:function(){return t._entitiesTableDraggedFunc.apply(t,arguments)},droppedFunc:function(){return t._entitiesTableDroppedFunc.apply(t,arguments)},onEventFunc:function(){return t._entitiesTableOnEventFunc.apply(t,arguments)},convertFunc:function(){return t._convertFunc.apply(t,arguments)},formatDateFunc:function(){return t._formatDateFunc.apply(t,arguments)},canSelectRowItemFunc:function(){return t._entitiesTableCanSelectRowItemFunc.apply(t,arguments)},selectRowItemFunc:function(){return t._entitiesTableSelectRowItemFunc.apply(t,arguments)},selectRowItemFuncCalledForDeselectionForced:!0,determineTableRowDefinitionFunc:function(){return t._determineEntitiesTableRowDefinitionFunc.apply(t,arguments)},verticalScrollOffsetChangedFunc:function(){return t._verticalScrollOffsetChangedFunc.apply(t,arguments)},rowExpandOrCollapseFunc:function(){return t._entitiesRowExpandOrCollapseFunc.apply(t,arguments)},rowExpandedOrCollapsedFunc:function(){return t._entitiesRowExpandedOrCollapsedFunc.apply(t,arguments)},keyDownFunc:function(){return t._keyDownFunc.apply(t,arguments)},tableColumnWidthChangedFunc:function(){return t._tableColumnWidthChangedFunc.apply(t,arguments)},checkPossibleInteractionsFunc:function(){return t._checkPossibleInteractionsFunc.apply(t,arguments)}};t._options&&t._options.entitiesTableWidget&&a.extend(s,t._options.entitiesTableWidget),this._entitiesTableWidget=i.nTableWidget(s).nTableWidget("instance"),this._tableDefinitionEntities.symbolColumnTitleImageURLs=this._getImageURLsForEntitiesTableWidget(this.getAPIOption("entitiesTableSymbolColumnTitleSymbolIDs"));let d=this._tableDefinitionEntities.symbolColumnTitleVisible=this.getAPIOption("entitiesTableSymbolColumnTitleVisible");this._tableDefinitionEntities.symbolColumnTitleBackgroundColor=d?this.getAPIOption("entitiesTableSymbolColumnTitleBackgroundColor")||t.getAPIOption("entitiesTableSymbolColumnBackgroundColor")||"white":this.getAPIOption("entitiesTableTitleBackgroundColor")||"#646464",this._entitiesTableWidget.option("tableDefinition",this._tableDefinitionEntities),this._entitiesTableWidget.option("rowItemsRoot",t._viewModel.entitiesRowItemsRoot()),["entitiesTableTitleBackgroundColor","entitiesTableTitleTextColor","entitiesTableTitleColumnSeparatorColor","entitiesTableTitleHighlightingColor","entitiesTableTreeViewLineColor","entitiesTableTreeViewLineDashArray"].forEach((function(e){t._setColorByOptionValue(e)})),i.on("ntablewidgettablewidthchanged.rab"+t._entitiesTableWidget._uniqueID,(function(e,i){try{i.inColumnWidthInteraction&&(t._options.entitiesTableWidget&&t._options.entitiesTableWidget.tableWidth===i.oldValue&&t.setAPIOption("entitiesTableWidth",t.getAPIOption("entitiesTableWidth")+(i.newValue-i.oldValue)),t._setEntitiesTableWidthOptions())}catch(e){t._app.getOption("boundHandleExceptionFunc")(e)}})),t._ganttWidget.option("selectRowItemFuncCalledForDeselectionForced",!0),t.updateSymbols(t.app().symbolsMap())}}else t._entitiesTableWidget&&(e=!0,t._entitiesTableWidget.element.off("ntablewidgettablewidthchanged.rab"+t._entitiesTableWidget._uniqueID),t._entitiesTableWidget.element.remove(),t._entitiesSplitterWidget.element.remove(),delete t._entitiesTableWidget,delete t._entitiesSplitterWidget),t._ganttWidget.option("selectRowItemFuncCalledForDeselectionForced",!1);this._resizeWidgets(e)},_enrichEntitiesTableClassFunc:function(e){"use strict";e.tableType=te.Entities,this._doEnrichClassFunc(e)},_entitiesTableRowFillFunc:function(e){"use strict";this._doTableRowFill(e,te.Entities)},_doTableRowFill:function(e,t,i){"use strict";var a,o,r=e.rowItem;if(r&&e.rowElem){switch(t){case te.Entities:a=".ntable-group-cell",o=".ntable-row-background-rect";break;case te.Gantt:a=".ngantt-table-group-cell",o=".ngantt-table-row-background-rect"}var s;e.rowDefinition&&e.rowDefinition.rab_tableRowDefinition&&(s=e.rowDefinition.rab_tableRowDefinition.rab_backgroundColor);var l=r.rab_tableRowBackgroundColor=r.data().TableColor||s;(l||i)&&n.select(e.rowElem).select(o).style("fill",l||null);var c=r.getParentItem();if(null!=c){var d=n.select(e.rowElem).selectAll(a),u=[];d.each((function(){u.push(this)}));for(var p=u.length-1;p>=0;p--)if(null!=c){var h=void 0;this.getAPIOption("colorOfFirstTableCellAppliedToGroupColoring")&&(h=c?.rab_sourced_contents?.tableCellBackgroundColor?.[0].content);let t=h??c.rab_tableRowBackgroundColor;(t||i)&&n.select(u[p]).style("fill",t||null),p===u.length-1&&(e.rowItem.rab_calculatedAllocationRowIndicatorColor=t),c=c.getParentItem()}}e.worldViewFillColor=this._determineTableRowBackgroundColor(r,e.rowLevel)}},_determineTableRowBackgroundColor:function(e,t){"use strict";var i=e.rab_tableRowBackgroundColor;return i&&"none"!==i&&"transparent"!==i||(i=e.rab_itemType===$.AllocationRow?"#f8f8f8":["#c0c0c0","#d0d0d0","#e0e0e0","#f0f0f0"][t]),i},_entitiesTableOnEventFunc:function(e){"use strict";e.tableType=te.Entities,this._doOnEventFunc(e)},_entitiesTableCellFillFunc:function(e){"use strict";var t=e.rowItem;e.text=1===e.columnIndex?t.data().ID:t.data().TableText,this._doEntitiesTableCellFillFunc(e)},_doEntitiesTableCellFillFunc:function(e){"use strict";var t,i=e.rowItem;e.rowDefinition&&e.rowDefinition.rab_tableRowDefinition&&(t=e.rowDefinition.rab_tableRowDefinition.rab_textColor);var a=e.tableCellTextColor||i.data().TableTextColor||t,o=e.rowDefinitionType!==W.FixedColumnsPreceding?e.tableCellBackgroundColor:this.getAPIOption("entitiesTableSymbolColumnBackgroundColor");(a||o)&&(e.finalizeFunc=function(){a&&n.select(e.cellElem).select(".ntable-column-text").style("fill",a),o&&n.select(e.cellElem).select(".ntable-cell-background-rect").style("fill",o)}),a=a||"black",0===e.columnIndex&&e.rowDefinitionType!==W.FixedColumnsPreceding&&e.rowDefinitionType!==W.FixedColumnsSucceeding&&(n.select(e.rowElem).select(".ntable-colexp-button .ntable-plus,.ntable-colexp-button .ntable-minus").style("fill",a),n.select(e.rowElem).select(".ntable-leaves-colexp-button .ntable-plus,.ntable-leaves-colexp-button .ntable-minus").style("stroke",a)),e.symbolID&&(e.symbolURL=`///rabSB_${e.tableWidget._uniqueID}_${this._currentSymbolIDsMap[e.symbolID]}`)},_entitiesTableHandleCanSelectRowItem:function(){},_entitiesTableCanSelectRowItemFunc:function(e){"use strict";var t=this;(_.isMacOrIOS?e.metaKey:e.ctrlKey)&&(!t.getAPIOption("multipleSelectionEnabled")&&e.otherSelectedRowItems.length||t._ganttWidget.selectedTimeItems().length||t._ganttWidget.selectedLinkItems().length||t._ganttWidget.selectedRowItems().length)&&(e.canSelect=!1),e.canSelect&&t._entitiesTableHandleCanSelectRowItem(e)},_entitiesTableHandleSelectRowItem:function(){},_entitiesTableSelectRowItemFunc:function(e){"use strict";var t=this;if(t._entitiesTableHandleSelectRowItem(e),!e.cancel){var i=Array.isArray(e.newSelectedItems)&&!!e.newSelectedItems.length;t.getAPIOption("selectionBehavior")===re.Highlighting&&t._entitiesTableWidget.option("unselectedItemsShownCovered","auto"),t._ganttWidget.option("updateSuspended",!0),t.getAPIOption("selectionBehavior")===re.Highlighting&&t._ganttWidget.option("unselectedItemsShownCovered",i),t._ganttWidget.selectedRowItems([]),t._ganttWidget.selectedTimeItems([]),t._ganttWidget.selectedLinkItems([]),t._ganttWidget.showMarkingTemporarily(null),t._ganttWidget.option("updateSuspended",!1)}},_entitiesTableDragStartFunc:function(e){"use strict";var t=this;t._deselectOtherItemsIfItemIsNotSelected(e.sender,e.tableWidget,K.SelectionChangedReason.DragStart);var i=e.sender;t._dragItemCache={},t._dragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=i,t._consolidatedDragItemCache={},t._consolidatedDragItemCache[t._composeObjectIDFromItemType(i.rab_itemType,i.data())]=e.sender,e.tableType=te.Entities,t._doDragStartFunc(e),e.cancel||i&&i.rab_itemType===$.Entity&&(t._handleStartSuitableTargetIDs(i.data(),e),t.ganttWidget()._setVisibilityForRowCovers(null))},_entitiesTableDragEndFunc:function(e){"use strict";var t=this;e.tableType=te.Entities,t._validateDraggedItems(e)&&t._doDragEndFunc(e),t._handleEndSuitableTargetIDs(),delete t._dragItemCache,delete t._consolidatedDragItemCache},_entitiesTableDraggedFunc:function(e){"use strict";e.tableType=te.Entities,this._validateDraggedItems(e)&&this._doDraggedFunc(e)},_entitiesTableDroppedFunc:function(e){"use strict";e.tableType=te.Entities,this._validateDraggedItems(e)&&this._doDroppedFunc(e)},_determineEntitiesTableRowDefinitionFunc:function(e){"use strict";return e.tableType=te.Entities,this._doDetermineTableRowDefinitionFunc(e)},_onVerticalSplitterChanged:function(e){"use strict";var t=this,i=t._divJQ.width(),a=t._ganttWidget.options.splitterWidth;t._ganttWidget.element.width(e),t._entitiesTableWidget.element.width(i-e-a).css({left:e+a}),t._forceSizeChanged()},_resizeWidgets:function(e){"use strict";var t=this,i=t._divJQ.width()||1e3,a=i;if(t.isEntitiesTableVisible()&&t._entitiesTableWidget){var n=0,o=0,r=0,s=0;t.getAPIOption("entitiesTableShownFullScreen")?(a=0,r=i):(n=t._ganttWidget.options.splitterWidth,o=i,r=(e?0:t._entitiesTableWidget.element.width())||(null!=t.getAPIOption("entitiesTableViewWidth")?t.getAPIOption("entitiesTableViewWidth"):null!=t.getAPIOption("entitiesTableWidth")?t.getAPIOption("entitiesTableWidth"):i),r*=t.getAPIOption("visualZoomFactor")/(!e&&t._oldVisualZoomFactorOnResizeWidgets||1),s=Math.floor(i/3),a=i-(r=Math.min(r,s))-n),t._ganttWidget.element.width(a),t._entitiesTableWidget.element.width(r).css({left:a+n}),t._entitiesSplitterWidget.element.width(o),t._entitiesSplitterWidget.option("position",{x:a,y:0}).option("height",t._divJQ.height());var l=A.scrollBarWidth(),c=t._actualEntitiesTableSymbolColumnWidth(),d=null!=t.getAPIOption("entitiesTableWidth")?t.getAPIOption("entitiesTableWidth"):t._entitiesTableWidget.actualTableWidth(),u=o-Math.max(s,d+c+l)-n;t._entitiesSplitterWidget.option("min",Math.max(0,u))}else t._ganttWidget.element.width(a);t._forceSizeChanged(),t._oldVisualZoomFactorOnResizeWidgets=t.getAPIOption("visualZoomFactor")},_forceSizeChanged:function(){var e=this;e._ganttWidget.forceSizeChanged(),e._entitiesTableWidget&&e._entitiesTableWidget.forceSizeChanged()},_actualEntitiesTableSymbolColumnWidth:function(){"use strict";var e=this;return e.getAPIOption("entitiesTableSymbolColumnVisible")?null!=e.getAPIOption("entitiesTableSymbolColumnWidth")?e.getAPIOption("entitiesTableSymbolColumnWidth"):22:0},_setEntitiesTableWidthOptions:function(){"use strict";var e=this.getAPIOption("entitiesTableWidth");if(this._options.entitiesTableWidget&&(this._options.entitiesTableWidget.tableWidth=e),this._entitiesTableWidget){null==e&&this._entitiesTableWidget.isInInteraction()||this._entitiesTableWidget.option("tableWidth",e);var t=this._divJQ.width()||1e3,i=this._ganttWidget.options.splitterWidth;null==e&&(e=this._entitiesTableWidget.actualTableWidth()),e+=this._actualEntitiesTableSymbolColumnWidth()+A.scrollBarWidth();var a=Math.floor(t/3);this._entitiesSplitterWidget.option("min",Math.max(a,t-e-i))}},getVisibleEntityParent:function(e){"use strict";return this._entitiesTableWidget?this._entitiesTableWidget.getVisibleParent(e):void 0},invalidateEntityRow:function(e,t){"use strict";this._entitiesTableWidget&&this._entitiesTableWidget.invalidateRow(e,t)},_entitiesRowExpandOrCollapseFunc:function(e){"use strict";e.tableType=te.Entities,this._handleRowExpandOrCollapseFunc(e)},_entitiesRowExpandedOrCollapsedFunc:function(e){"use strict";e.tableType=te.Entities,this._handleRowExpandedOrCollapsedFunc(e)},RAB_WEEKLY_DATE_LINE_GRID_CLASS:vt,RAB_DAILY_DATE_LINE_GRID_CLASS:Ne},Ot={};l.extendClass(Ot,"rabGanttView",s,St),e.exports=Ot.rabGanttView},2623:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(1207),r=i(6998)._RowDragModes_AllSupportedFlags,s={store:function(e){"use strict";if(this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0,e){var t=e.CollapseState??e.PM_CollapseState;t>=0&&(this.rab_cachedCollapseState=t)}},_modificationClassificationByProperty:{CollapseState:function(e){var t=e.CollapseState??e.PM_CollapseState;return this.rab_cachedCollapseState===t?2:0},AllowedRowDragModes:2,RowSelectable:2,RowSymbolIDs:-1,RowTooltipTemplateID:2,TableColor:1},getTopmostObject:function(){"use strict";return this._model.getTopmostObject(this)},getTopmostViewArea:function(){"use strict";var e=this.getTopmostObject(),t=e.ViewArea;return void 0===t&&(t=e.HorizontalBodyViewArea),t},preUpdateSelf:function(){"use strict";this.rab_preUpdateData=this.data()?Object.assign({},this.data()):void 0},isValidForViewType:function(e){return!0!==this.isPseudo()||!0===this.isPseudoForViewType(e)},isPseudoForViewType:function(e){return!0===this.isPseudo()&&this.data()?.__VIEWTYPE===e},isPredefinedPseudoForViewType:function(e){return!0===this.isPseudo()&&this.data()?.__VIEWTYPE===e&&!0===this.data()?.__PREDEFINED},determineCollapseState:function(){return this.CollapseState}},l={};n.nClassFactory.extendClass(l,"rabGroup",o,s);var c=l.rabGroup.prototype;c.defineProperty("Name",{get:function(){return this._data.TableText||this._data.Name}}),c.defineProperty("AllowedRowDragModes",{get:function(){var e=this._getPropertyAsNumber(this._data.AllowedRowDragModes??this._data.PM_AllowedRowDragModes);return e&&(e&=r),e}}),c.defineProperty("CollapseState",{get:function(){var e=this.rab_cachedCollapseState;return e>=0?e:this._getPropertyAsNumber(this._data.CollapseState??this._data.PM_CollapseState)}},void 0,-1),c.defineProperty("HasChildren",{get:function(){var e=this._data.HasChildren??this._data.PM_HasChildren;return null==e?void 0:!!e}}),c.defineProperty("MinimumRowHeight",{get:function(){return this._getPropertyAsNumber(this._data.MinimumRowHeight??this._data.PM_MinimumRowHeight)}}),c.defineProperty("RowCollapsible",{get:function(){var e=this._data.RowCollapsible??this._data.PM_RowCollapsible;return null==e?void 0:!!e}}),c.defineProperty("RowSelectable",{get:function(){var e=this._data.RowSelectable??this._data.PM_RowSelectable;return null==e?void 0:!!e}}),c.defineProperty("RowSymbolColumnBackgroundColor",{get:function(){return this._getPropertyAsColorString(this._data.RowSymbolColumnBackgroundColor??this._data.PM_RowSymbolColumnBackgroundColor)}}),c.defineProperty("RowSymbolIDs",{get:function(){let e=this._data.RowSymbolIDs??this._data.PM_RowSymbolIDs;return Array.isArray(e)?e:void 0}}),c.defineProperty("RowTooltipTemplateID",{get:function(){return this._data.RowTooltipTemplateID??this._data.PM_RowTooltipTemplateID}}),c.defineProperty("SortCode",{get:function(){return this._data.SortCode??this._data.PM_SortCode}}),c.defineProperty("TableColor",{get:function(){return this._getPropertyAsColorString(this._data.TableColor??this._data.PM_TableColor)}}),c.defineProperty("TableRowDefinitionID",{get:function(){return this._data.TableRowDefinitionID??this._data.PM_TableRowDefinitionID}}),c.defineProperty("TableTextColor",{get:function(){return this._getPropertyAsColorString(this._data.TableTextColor??this._data.PM_TableTextColor)}}),c.defineProperty("TableText",{get:function(){return this._data.TableText||this._data.Name}}),e.exports=l.rabGroup},8579:(e,t,i)=>{var a=i(3571),n=i(9280).RowInteractions,o=i(7428),r=(i(2623),{construct:function(e,t,i,a,o,r,s){"use strict";this.rab_firstUpdate=!0,a.isPseudo()&&(this.rowInteractions=n.None),this._super(e,t,i,a,o,r,s)},updateFromReference:function(e){"use strict";var t=this._super(e),i=this.data();return this.getParentItem()&&this.setAttributesByHierarchySupplementaryDefinition(this.getHierarchySupplementaryDefinitionID()),this.selectable=i.RowSelectable,this.collapsible=i.RowCollapsible,this.atTheTop=-1===i.getTopmostViewArea(),this.rab_firstUpdate&&(this.rab_tableColor=i.TableColor,this.rab_calendarGridColor=i.CalendarGridColor,this.rab_firstUpdate=!1),t},promoteViewArea:function(e){"use strict";var t=this;t._super(e),["childRowItems","leafRowItems"].forEach((i=>{t[i]?.forEach((function(t){t.promoteViewArea(e)}))}))},setParentItem:function(e){"use strict";this._super(e),this.setAttributesByHierarchySupplementaryDefinition(this.getHierarchySupplementaryDefinitionID())},recalculateParentItemForGrouping:function(e){"use strict";if(this._descriptor){var t=this.data();t.__PARENTITEM=e;var i=this.redetectParentItem(e,t);delete t.__PARENTITEM,this.reassignParentItem(i)||this._viewModel.registerRowItem(this._viewType,this,!1,!0)}},setAttributesByHierarchySupplementaryDefinition:function(e){"use strict";var t=this.data(),i=(t.isPseudo()||!e?void 0:t.model().hierarchySupplementaryDefinitionByID(e))?.HierarchyLevelSupplementaryDefinitions[this.getHierarchyLevel()-1];this.tableRowDefinitionID=t.TableRowDefinitionID||i?.TableRowDefinitionID,null!=this.tableRowDefinitionID&&(this.tableRowDefinitionID=this.tableRowDefinitionID.toString());var a=void 0;"boolean"==typeof i?.InitiallyCollapsed&&(a=i.InitiallyCollapsed);var n=t.determineCollapseState(this._viewType);n>=0&&(a=!!n),"boolean"==typeof a&&(this.initiallyCollapsed=!0===a?1:0)},getHierarchySupplementaryDefinitionID:function(){return this._viewModel.getHierarchySupplementaryDefinitionID(this._viewType)}}),s={};a.nClassFactory.extendClass(s,"rabGroupRowItem",o,r);var l=s.rabGroupRowItem;e.exports=l},4743:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(1207),r={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0},_modificationClassificationByProperty:{}},s={};n.nClassFactory.extendClass(s,"rabGroupingLevelDefinition",o,r);var l=s.rabGroupingLevelDefinition;Object.defineProperty(l.prototype,"CodeToTextMap",{get:function(){return this._data.GroupingCodeToTextMap||this._data.CodeToTextMap}}),Object.defineProperty(l.prototype,"GroupingCodeSource",{get:function(){return this._data.GroupingCodeSource}}),Object.defineProperty(l.prototype,"DefaultCode",{get:function(){return this._data.DefaultGroupingCode||this._data.DefaultCode}}),Object.defineProperty(l.prototype,"InitiallyCollapsed",{get:function(){var e=this._data.InitiallyCollapsed;return null==e?void 0:!!e}}),Object.defineProperty(l.prototype,"MinimumRowHeight",{get:function(){var e=+this._data.MinimumRowHeight;return isNaN(e)||e<0?void 0:e}}),Object.defineProperty(l.prototype,"TableBackgroundColor",{get:function(){return this._data.TableColor||this._data.TableBackgroundColor}}),Object.defineProperty(l.prototype,"TableRowDefinitionID",{get:function(){return this._data.TableRowDefinitionID}}),Object.defineProperty(l.prototype,"TableTextColor",{get:function(){return this._data.TableTextColor}}),Object.defineProperty(l.prototype,"TableTextFormat",{get:function(){var e=this._data.TableTextFormat;return"string"==typeof e?e:"{{>MapText}}"}}),e.exports=l},1651:(e,t,i)=>{i(7658),i(6699);var a=i(3571),n=a.nClassFactory,o=i(6998)._GroupTableRowDefinitionID,r=i(2423),s={construct:function(e,t,i,a,n,o,r,s,l,c,d){"use strict";var u=Object.assign({},d||{});u.handleParentItemFunc||(u.handleParentItemFunc=function(e,t){var i=t.__PARENTITEM?t.__PARENTITEM:this.defaultHandleParentItemFunc(e,t),a=this.getHierarchySupplementaryDefinitionID();return a&&(i=this.defaultHandleParentItemForGroupedHierarchy(a,i,t)),i}),u.anyRelationshipChangedFunc||(u.anyRelationshipChangedFunc=function(e,t,i){var a=this.defaultAnyRelationshipChangedFunc(e,t,i);return a?this._viewModel.__relationshipChanged=1:(a=this.hasToSimulateRelationshipChanged(t,i))&&(this._viewModel.__relationshipChanged=2),a}),u.handleRelationshipChangedFunc||(u.handleRelationshipChangedFunc=function(e,t,i,a){switch(this._viewModel.__relationshipChanged){case 1:this.defaultHandleRelationshipChangedFunc(e,t,i,a);break;case 2:var n=t.getNonPseudoParentItem();t.recalculateParentItemForGrouping(n)}}),this._super(e,t,i,a,n,o,r,s,l,c,u)},getHierarchySupplementaryDefinitionID:function(){"use strict";return this._functions.getHierarchySupplementaryDefinitionIDFunc?this._functions.getHierarchySupplementaryDefinitionIDFunc.call(this):void 0},_getSourceValueForGroupingCodeSource:function(e,t,i,a,n,o,r){"use strict";return(r||!this._functions.getSourceValueForGroupingCodeSourceFunc?e[t.GroupingCodeSource]:this._functions.getSourceValueForGroupingCodeSourceFunc.call(this,e,t,i,a,n,o))||t.DefaultCode},defaultHandleParentItemForGroupedHierarchy:function(e,t,i){"use strict";var n=this._viewModel.model().hierarchySupplementaryDefinitionByID(e);if(n){var o=t.getHierarchyLevel(),r=n.HierarchyLevelSupplementaryDefinitions[o];if(r){var s=r.GroupingLevelDefinitions;if(s&&s.length>0){var l=[];for(let e=0;e<s.length;e++){var c=s[e],d=c.GroupingCodeSource;a.nStringHelper.notIsNullOrEmpty(d)&&l.push(c)}if(l&&l.length>0){var u=i.data();if(!u.__REMAININGCOUNT&&(this._viewArea=i.getTopmostViewArea(),!this._buildingPrefinedGroups)){var p=r.PredefinedGroups;if(p&&p.length>0){this._buildingPrefinedGroups=!0;for(let e=0;e<p.length;e++){var h=p[e];this.__getOrCreateParentItemForGroupedHierarchy(n,r,t,h,o,l,this._viewArea,!0)}delete this._buildingPrefinedGroups}}return this.__getOrCreateParentItemForGroupedHierarchy(n,r,t,u,o,l,this._viewArea,!1)}}}}return t},__preparePseudoData:function(e,t,i,a,n,r,s,l,c,d){"use strict";var u={};!0===d&&(u={},Object.keys(a).forEach((function(e){var t=e;e.startsWith("PM_")&&(t=e.substring(3)),u[t]=a[e]})),u.__PREDEFINED=!0),u.__PARENTLEVEL=n,u.__PSEUDO=!0,u.__VIEWTYPE=this._viewType,u.__REMAININGCOUNT=r,u.__HIERARCHYSUPPLEMENTARYDEFINITIONID=e.ID,u.__HIERARCHYLEVELSUPPLEMENTARYDEFINITIONINDEX=n,u.__GROUPINGLEVELDEFINITIONINDEX=r-1,u.__GROUPINGCODES={},u.RowSelectable=!1,u.ViewArea=c;for(var p="000",h=[],g=s.length-1;g>=0;g--){h[g]="XXX";var m=void 0,f=s[g],_=f.GroupingCodeSource;if(g<r){var b={};if(m=this._getSourceValueForGroupingCodeSource(a,f,e,n,g,b,d)??"",h[g]=m||p,g===r-1){if(null!=f.MinimumRowHeight&&null==u.MinimumRowHeight&&(u.MinimumRowHeight=f.MinimumRowHeight),null!=f.TableBackgroundColor&&null==u.TableColor&&(u.TableColor=f.TableBackgroundColor),null!=f.TableTextColor&&null==u.TableTextColor&&(u.TableTextColor=f.TableTextColor),null!=b.text)u.TableText=b.text;else if(null!=f.TableTextFormat&&null==u.TableText&&(u.TableText=f.TableTextFormat,u.TableText.includes("{{>MapText}}"))){var v=f.CodeToTextMap?.[m??""]??m;u.TableText=u.TableText.replace("{{>MapText}}",v)}if(null==u.TableRowDefinitionID&&(u.TableRowDefinitionID=f.TableRowDefinitionID||o),null==u.CollapseState){var y=void 0;"boolean"==typeof f.InitiallyCollapsed&&(y=f.InitiallyCollapsed),null!=y&&(u.CollapseState=y?1:0)}}}u[_]=m,u.__GROUPINGCODES[_]=m}return u.ID=[this._viewType,l||p,...h,c||p].join("\v"),u},__getOrCreateParentItemForGroupedHierarchy:function(e,t,i,n,o,r,s,l){"use strict";var c;if(n.__REMAININGCOUNT)c=n.__REMAININGCOUNT-1;else if(c=r.length,!0===l){c=0;for(var d=0;d<r.length;d++){r[d].GroupingCodeSource in n&&(c=d+1)}}if(c>0){var u=i.data(),p=u.Role,h=u.ID,g=this.__preparePseudoData(e,t,u.data(),n,o,c,r,h,s,l);g.ParentRole=p,g.ParentID=h;var m,f=this.getPropertyName(),_=a.nPropertyComposer.compose(g,this.getPrimaryKeyNames()),b=this._viewModel.model().getChildByPrimaryKey(f,_);if(b){var v=!0,y=b.data();!0===y.__PREDEFINED&&"REMOVE"!==y.__STATE&&(v=!1),v&&b.store(g),(m=this._viewModel._item(this._viewType,b))?v&&(m.updateFromReference(),m.recalculateParentItemForGrouping(i)):m=this._viewModel.addChild(f,b,null,this._viewType)}else this._viewModel.app().addPseudoObject(g,f),b=this._viewModel.model().getChildByPrimaryKey(f,_),m=this._viewModel._item(this._viewType,b);return m&&m.setHierarchyLevel(o),m}return delete n.__REMAININGCOUNT,i},hasToSimulateRelationshipChanged:function(e,t){"use strict";var i=this.getHierarchySupplementaryDefinitionID();if(i){var n=e.data().rab_preUpdateData;if(n){var o=t.data();if(n.ViewArea!=o.ViewArea)return!0;var r=this._viewModel.model().hierarchySupplementaryDefinitionByID(i);if(r){var s=r.HierarchyLevelSupplementaryDefinitions[e.getHierarchyLevel()-1];if(s){var l=s.GroupingLevelDefinitions;if(l&&l.length>0)for(let e=0;e<l.length;e++){var c=l[e].GroupingCodeSource;if(a.nStringHelper.notIsNullOrEmpty(c)&&n[c]!==o[c])return!0}}}}}}},l={};n.extendClass(l,"rabGroupingItemDescriptor",r,s),e.exports=l.rabGroupingItemDescriptor},6265:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(6998).RAB_HIERARCHY_LEVEL_SUPPLEMENTARY_DEFINITIONS_PROP_NAME,r=i(1207),s={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0},_modificationClassificationByProperty:{}},l={};n.nClassFactory.extendClass(l,"rabHierarchySupplementaryDefinition",r,s);var c=l.rabHierarchySupplementaryDefinition;Object.defineProperty(c.prototype,"HierarchyLevelSupplementaryDefinitions",{get:function(){return this.getChildrenArray(o)}}),e.exports=l.rabHierarchySupplementaryDefinition},5229:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(6998).RAB_GROUPING_LEVEL_DEFINITIONS_PROP_NAME,r=i(1207),s={store:function(e){"use strict";this._super(e),this._copyOfData=this.getAPIOption("internalObjectCopiesNeeded")&&e?a.extend({},e):void 0},_modificationClassificationByProperty:{}},l={};n.nClassFactory.extendClass(l,"rabHierarchyLevelSupplementaryDefinition",r,s);var c=l.rabHierarchyLevelSupplementaryDefinition;Object.defineProperty(c.prototype,"GroupingLevelDefinitions",{get:function(){return this.getChildrenArray(o)}}),Object.defineProperty(c.prototype,"PredefinedGroups",{get:function(){var e=this._data.PredefinedGroups;return Array.isArray(e)?e:void 0}}),Object.defineProperty(c.prototype,"InitiallyCollapsed",{get:function(){var e=this._data.InitiallyCollapsed;return null==e?void 0:!!e}}),Object.defineProperty(c.prototype,"TableRowDefinitionID",{get:function(){return this._data.TableRowDefinitionID}}),e.exports=l.rabHierarchyLevelSupplementaryDefinition},1008:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nWrapperBase,r={};n.extendClass(r,"rabItem",o,{construct:function(e,t,i,a,n){"use strict";this._viewType=t,this._viewModel=i,this.rab_itemType=e,this._super(a,n),this.isBridgeEnabled()||(this.enrichObject(),this.updateFromReference())},viewType:function(){return this._viewType},_getHandleWarningFunc:function(){return this._viewModel?.model().getHandleWarningFunc()||this._super()},getAPIOption:function(e){"use strict";return this._viewModel.getAPIOption(e)},CRUDUpdate:function(e){"use strict";this._super(e),this.isBridgeEnabled()||this.updateFromReference()},isBridgeEnabled:function(){"use strict";return!!this._descriptor&&this._descriptor.getEnableBridge()},enrichObject:function(){"use strict";if(this._viewModel){var e=this._viewModel.getOption("enrichObjectFunc");e&&e.call(this._viewModel,this)}},updateFromReference:function(e){"use strict";if(this._viewModel){var t=this._viewModel.getOption("updateFromReferenceFunc");if(t)return t.call(this._viewModel,this,e)}return this}}),e.exports=r.rabItem},621:(e,t,i)=>{var a=i(3571),n=i(1207),o={};a.nClassFactory.extendClass(o,"rabLink",n,{_getDefaultObjectPropName:function(){return"defaultValuesForLinkProperties"}});var r=o.rabLink,s=r.prototype;s.defineProperty("RelationType",{get:function(){return this._data.RelationType}},void 0,0),s.defineProperty("Color",{get:function(){return this._getPropertyAsColorString(this._data.Color??this._data.PM_Color)}}),s.defineProperty("Width",{get:function(){return this._data.Width??this._data.PM_Width}},void 0,1),s.defineProperty("DashArray",{get:function(){return this._data.DashArray??this._data.PM_DashArray}}),s.defineProperty("Selectable",{get:function(){var e=this._data.Selectable??this._data.PM_Selectable;return"boolean"==typeof e?e:void 0}}),s.defineProperty("TooltipTemplateID",{get:function(){return this._data.TooltipTemplateID??this._data.PM_TooltipTemplateID}}),s.defineProperty("TargetMarker",{get:function(){var e=this._data.TargetMarker??this._data.PM_TargetMarker;return null==e?void 0:e}},void 0,1),s.defineProperty("RoutingType",{get:function(){return this._data.RoutingType??this._data.PM_RoutingType}}),e.exports=r},1397:(e,t,i)=>{i(7658);var a=i(3571),n=a.nPrimaryKeyManager,o=i(6998),r=o.ItemType,s=o.ViewType,l=i(1008),c=(i(621),o.RelationshipInfos),d=o.RAB_ACTIVITIES_PROP_NAME,u=o.RAB_LINKS_PROP_NAME,p=o.RAB_ALLOCATIONS_PROP_NAME,h={construct:function(e,t,i,a,n){"use strict";this._super(r.Link,e,t,i,n)},updateFromReference:function(e){"use strict";var t=this,i=this._super(e),a=this.data(),o=a.model();if(this._viewType!==s.Resources||this.getAPIOption("definedAllocationLinksVisibleInResourcesView")||a.rab_sourceAllocation||a.rab_targetAllocation){delete this._linkItems;var l=Object.assign({},this);e&&!e.attributes||(this.type=a.RelationType,this.selectable=a.Selectable,this.routingType=a.RoutingType,this.targetMarker=a.TargetMarker),e&&!e.linkItems||(a.rab_sourceAllocation&&(this.rab_sourceAllocation=a.rab_sourceAllocation),a.rab_targetAllocation&&(this.rab_targetAllocation=a.rab_targetAllocation),this.sourceTimeItem=this._determineTimeItem(a,0,this.rab_sourceAllocation),this.targetTimeItem=this._determineTimeItem(a,1,this.rab_targetAllocation)),this._rab_isModified||Object.keys(Object.assign({},this,l)).every((function(e){return t[e]===l[e]}))||(this._rab_isModified=!0)}else if(!e||e.linkItems){t._linkItems=[];var h=n.getRelationshipInfoTo(c[u],u,d),g=n.getPrimaryKeyByRelationshipInfo(a,h[0]);if(g){var m=n.getPrimaryKeyByRelationshipInfo(a,h[1]);if(m){var f=o.getRelatedObjects(p,d,"*",g);if(f){var _=o.getRelatedObjects(p,d,"*",m);_&&(f.forEach((function(e){a.rab_sourceAllocation=e,_.forEach((function(e){a.rab_targetAllocation=e;var i=t._viewModel._createItem(s.Resources,r.Link,null,a);t._linkItems.push(i)}))})),delete a.rab_sourceAllocation,delete a.rab_targetAllocation)}}}}return i},_determineTimeItem:function(e,t,i){"use strict";var a,o,l,h=void 0,g=e.model(),m=this._viewModel,f=this._viewType;if(f===s.Resources?!!this.getAPIOption("definedAllocationLinksVisibleInResourcesView"):!!this.getAPIOption("definedAllocationLinksVisibleInActivitiesView")){var _=n.getRelationshipInfoTo(c[u],u,p);o=(a=g.getRelatedWrapperInfoByRelationshipInfo(e,_[t])).relatedWrapper}if(f===s.Resources&&void 0===o&&(o=i),null!=o)(l=m.allocationItem(f,o))&&(h=l.getAllocationTimeItemForLinkRelationType(e.RelationType));else if((void 0===a||void 0===a.relationshipPrimaryKey)&&f===s.Activities){var b=n.getRelationshipInfoTo(c[u],u,d),v=g.getRelatedWrapperByRelationshipInfo(e,b[t]);if(null!=v){var y=m.activityItem(f,v);h=null!=y&&y.rab_itemType===r.ActivityRow?y.timeItems&&y.timeItems[0]?m._findItemOfTypeInArray(y.timeItems[0].childTimeItems,r.Activity):void 0:y}}return h}},g={};a.nClassFactory.extendClass(g,"rabLinkItem",l,h),e.exports=g.rabLinkItem},8233:(e,t,i)=>{i(7658),i(6699);var a=i(5549),n=i(3571),o=n.nClassFactory,r=n.nDataDescriptor,s=n.nDefaultSeparator,l=n.nPrimaryKeyManager,c=n.nPropertyComposer,d=n.nStringHelper,u=i(5674),p=u.nCalendar,h=u.nTimeAxis,g=u.TimeType,m=i(6998),f=m.ItemType,_=m.PrimaryKeyInfos,b=m.RelationshipInfos,v=m.ObjectType,y=m.RAB_ROOT_PROP_NAME,A=m.RAB_RESOURCES_PROP_NAME,T=m.RAB_CALENDARS_PROP_NAME,w=m.RAB_CALENDAR_ENTRIES_PROP_NAME,C=m.RAB_ACTIVITIES_PROP_NAME,I=m.RAB_ACTIVITY_ENTRIES_PROP_NAME,R=m.RAB_ALLOCATIONS_PROP_NAME,D=m.RAB_ALLOCATION_ENTRIES_PROP_NAME,S=m.RAB_CURVES_PROP_NAME,O=m.RAB_CURVE_POINT_ENTRIES_PROP_NAME,P=m.RAB_LINKS_PROP_NAME,E=m.RAB_ENTITIES_PROP_NAME,M=m.RAB_CALENDAR_GRIDS_PROP_NAME,V=m.RAB_CALENDAR_GRID_ENTRIES_PROP_NAME,B=m.RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME,N=m.RAB_HIERARCHY_LEVEL_SUPPLEMENTARY_DEFINITIONS_PROP_NAME,k=m.RAB_GROUPING_LEVEL_DEFINITIONS_PROP_NAME,W=i(1207),F=i(6975),L=i(8984),x=i(3531),H=i(4436),j=i(290),G=i(9577),U=i(7702),z=i(9315),K=i(6074),Y=i(4500),q=i(6266),X=i(8270),Q=i(621),Z=i(5473),$=i(4743),J=i(6265),ee=i(5229),te={construct:function(e,t){"use strict";this._app=e,this._checkLogger=null,this._defaultCalendar=null,this.__dataReady=!1,this._initOptions(t),this._super(this,null,"",null)},destroy:function(){},_getHandleWarningFunc:function(){return this.getHandleWarningFunc()||this._super()},getHandleWarningFunc:function(){return this._options.handleWarningFunc},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},handleAPIOptionChanged:function(){},_initOptions:function(e){"use strict";var t={checkLoggerClass:F,calendarClass:L,calendarEntryClass:x,periodHighlighterClass:H,periodHighlighterEntryClass:j,curveClass:G,curvePointEntryClass:U,resourceClass:z,activityClass:K,activityEntryClass:Y,allocationClass:q,allocationEntryClass:X,linkClass:Q,entityClass:Z,groupingLevelDefinitionClass:$,hierarchySupplementaryDefinitionClass:J,hierarchyLevelSupplementaryDefinitionClass:ee,version:"3.0",handleWarningFunc:null};this._options=a.extend({},t,e)},options:function(){"use strict";return a.extend({},this._options)},getOption:function(e){"use strict";return this._options[e]},app:function(){"use strict";return this._app},initDataDefinition:function(){"use strict";let e;this._dataDescriptors={},this._dataDescriptors[y]=new r(y,null),this._dataDescriptors[T]=new r(T,this._options.calendarClass,_[T]),e=new r(w,this._options.calendarEntryClass,void 0,void 0,{}),this._dataDescriptors[T].addSubDescriptor(e),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[T]),this._dataDescriptors[M]=new r(M,this._options.periodHighlighterClass,_[M]),e=new r(V,this._options.periodHighlighterEntryClass),this._dataDescriptors[M].addSubDescriptor(e),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[M]),this._dataDescriptors[S]=new r(S,this._options.curveClass,_[S],b[S],{enableRelationshipCache:!0}),e=new r(O,this._options.curvePointEntryClass),this._dataDescriptors[S].addSubDescriptor(e),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[S]),this._dataDescriptors[B]=new r(B,this._options.hierarchySupplementaryDefinitionClass,_[B]),this._dataDescriptors[N]=new r(N,this._options.hierarchyLevelSupplementaryDefinitionClass),this._dataDescriptors[k]=new r(k,this._options.groupingLevelDefinitionClass),this._dataDescriptors[N].addSubDescriptor(this._dataDescriptors[k]),this._dataDescriptors[B].addSubDescriptor(this._dataDescriptors[N]),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[B]),this._dataDescriptors[A]=new r(A,this._options.resourceClass,_[A],b[A],{enableRelationshipCache:!0,enableCycleDetection:!0}),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[A]),this._dataDescriptors[C]=new r(C,this._options.activityClass,_[C],b[C],{enableRelationshipCache:!0,enableCycleDetection:!0}),e=new r(I,this._options.activityEntryClass,void 0,void 0,{isArrayProperty:!0},{primaryKeyManipulationFunc:function(e,t,i){return i?.toString()}}),this._dataDescriptors[C].addSubDescriptor(e),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[C]),this._dataDescriptors[P]=new r(P,this._options.linkClass,_[P],b[P],{enableRelationshipCache:!0}),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[P]),this._dataDescriptors[R]=new r(R,this._options.allocationClass,_[R],b[R],{enableRelationshipCache:!0}),e=new r(D,this._options.allocationEntryClass,void 0,void 0,{isArrayProperty:!0},{primaryKeyManipulationFunc:function(e,t,i){return i?.toString()}}),this._dataDescriptors[R].addSubDescriptor(e),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[R]),this._dataDescriptors[E]=new r(E,this._options.entityClass,_[E],b[E],{enableRelationshipCache:!0,enableCycleDetection:!0}),this._dataDescriptors[y].addSubDescriptor(this._dataDescriptors[E])},_createCheckLogger:function(){"use strict";this._checkLogger||(this._checkLogger=this._newCheckLogger())},checkResults:function(){"use strict";return this._checkLogger?this._checkLogger.results():""},init:function(e,t){"use strict";this._checkLogger=null,this._defaultCalendar=null,this._defaultNonWorkingTimeCalendar=null,this._fullWorkingTimeNWAFCalendar=null,this.__dataReady=!1,t&&this._fastCheck(e),e||(e={}),(t?""===this._checkLogger.results():e)&&(delete e.Settings,this.store(e),this._createObjects(t),this._handleSettings(),this._handleResources(t))},_fastCheck:function(e){"use strict";this._createCheckLogger(),e?e.Resources||this._checkLogger.log("Data.Resources object is null!"):this._checkLogger.log("Data object is null!")},_createObjects:function(e){"use strict";var t=this._options.version;this._defaultNonWorkingTimeCalendar=this._newCalendar({},t),this._defaultNonWorkingTimeCalendar.nCalendar=new p(g.NonWorkingTime),this._defaultCalendar=this._defaultNonWorkingTimeCalendar,this.initDataDefinition(t),this.initHierarchy(this._data,t,this._dataDescriptors[y]),e&&this.check(this._checkLogger),this.__dataReady=!0},_handleSettings:function(){"use strict";var e=new h;this.getAPIOption("start")&&e.start(this.dateTimeValueToDate(this.getAPIOption("start"))),this.getAPIOption("end")&&e.end(this.dateTimeValueToDate(this.getAPIOption("end"))),this._actualStart=e.actualStart(),this._actualEnd=e.actualEnd()},actualStart:function(){return this._actualStart},actualEnd:function(){return this._actualEnd},_newCheckLogger:function(){"use strict";return new this._options.checkLoggerClass(this)},_newCalendar:function(e,t){"use strict";return new this._options.calendarClass(this,e,t)},calendars:function(){"use strict";return this.getChildrenArray(T)},defaultNonWorkingTimeCalendar:function(){return this._defaultNonWorkingTimeCalendar},fullWorkingTimeNWAFCalendar:function(){"use strict";return this._fullWorkingTimeNWAFCalendar||(this._fullWorkingTimeNWAFCalendar=new p(g.WorkingTime)),this._fullWorkingTimeNWAFCalendar},calendarByID:function(e){"use strict";return e?this.getChildByPrimaryKey(T,e)||this._defaultNonWorkingTimeCalendar:this._defaultCalendar},calendarByResource:function(e){"use strict";return this.calendarByID(e.CalendarID)},addCalendar:function(e){"use strict";return this.addChild(T,e,this._options.version)},updateCalendar:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeCalendar:function(e){"use strict";this.removeChild(e)},calculateNonWorkingTimeCalendar:function(){"use strict";var e=this,t=new p(g.NonWorkingTime),i=e.getAPIOption("nonWorkingTimesCalendarIDs");if(i&&Array.isArray(i))e._doCalculateNonWorkingTimeCalendarAtLast(t,i);else{var a={};e._collectCalendarIDsForObjects(a,e.resources()),e.getAPIOption("activityCalendarsEnabled")&&e._collectCalendarIDsForObjects(a,e.activities()),e._doCalculateNonWorkingTimeCalendarAtLast(t,Object.keys(a))}return t},_collectCalendarIDsForObjects:function(e,t,i){"use strict";var a=this;t.forEach((function(t){var n=i?i(t):t.CalendarID;n?e[n]=!0:a._defaultCalendar&&(e[a._defaultCalendar.ID]=!0)}))},_doCalculateNonWorkingTimeCalendarAtLast:function(e,t){"use strict";var i=this;t.forEach((function(t){var a=i.calendarByID(t);if(a){var n=a.nCalendar.defaultTimeType()===g.WorkingTime?null:"-";a.nCalendar.timeTypeChangeTimes().forEach((function(t){n?("-"!==n&&e.allocateTimeSpan(n,t,g.WorkingTime),n=null):n=t}))}}))},_handleResources:function(){"use strict";var e=this,t=this.getChildrenArray(A);t.forEach((function(e){e.rab_children=[]})),t.forEach((function(t){if(d.notIsNullOrEmpty(t.ParentID)){var i=c.compose(t,["ParentRole","ParentID"]);if(null!=i){var a=e.resourceByID(i);a&&a.rab_children.push(t)}}})),t.forEach((function(t){if(t.rab_children.length){var i=!0,a=e._actualStart,n=e.calendarByResource(t);if(n){var o=n.nCalendar;t.rab_children.forEach((function(t){if(i&&(n=e.calendarByResource(t))){var r=n.nCalendar;if(r!==o)if(r&&o){var s=a,l=a;do{s=o.findStartOfNextTimeTypeChange(s),l=r.findStartOfNextTimeTypeChange(l),s||l?(!s&&l||s&&!l||s.getTime()!=l.getTime())&&(i=!1,s=e._actualEnd):s=e._actualEnd}while((s||l)<e._actualEnd)}else i=!1}}))}t.rab_childResourcesHaveSameCalendar=i}}))},resources:function(){"use strict";return this.getChildrenArray(A)},resourceByID:function(e){"use strict";return this.getChildByPrimaryKey(A,e)},addResource:function(e){"use strict";return this.addChild(A,e,this._options.version)},updateResource:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeResource:function(e){"use strict";this.removeChild(e)},getTopmostObject:function(e){"use strict";for(var t=e,i=e.getPropertyName();d.notIsNullOrEmpty(e.ParentID);){var a=c.compose(e,["ParentRole","ParentID"]);if(null==a)break;if(!(e=this.getChildByPrimaryKey(i,a)))break;t=e}return t},curves:function(){"use strict";return this.getChildrenArray(S)},curveByID:function(e){"use strict";return this.getChildByPrimaryKey(S,e)},addCurve:function(e){"use strict";return this.addChild(S,e,this._options.version)},updateCurve:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeCurve:function(e){"use strict";this.removeChild(e)},activities:function(){"use strict";return this.getChildrenArray(C)},activityByID:function(e){"use strict";return this.getChildByPrimaryKey(C,e)},addActivity:function(e){"use strict";return this.addChild(C,e,this._options.version)},updateActivity:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeActivity:function(e){"use strict";this.removeChild(e)},isActivityEditable:function(e){"use strict";return e.Editable},isAllocationEditable:function(e){"use strict";var t=this.activityByID(c.compose(e,["ActivityRole","ActivityID"]));return!t||this.isActivityEditable(t)},allocations:function(){"use strict";return this.getChildrenArray(R)},allocationByID:function(e){"use strict";return this.getChildByPrimaryKey(R,e)},addAllocation:function(e){"use strict";return this.addChild(R,e,this._options.version)},updateAllocation:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removeAllocation:function(e){"use strict";this.removeChild(e)},getAllocationsForActivityOrResource:function(e,t,i){"use strict";let a=e===v.Activity?"ActivityID":"ResourceID",n=e===v.Activity?"ActivityRole":"ResourceRole";return this.allocations().filter((e=>e[a]===t&&e[n]===i))},getAllocationsForActivitiesOrResources:function(e,t){"use strict";let i=e===v.Activity?"ActivityID":"ResourceID";return this.allocations().filter((e=>t.includes(e[i])))},links:function(){"use strict";return this.getChildrenArray(P)},linkByID:function(e){"use strict";return this.getChildByPrimaryKey(P,e)},addLink:function(e){"use strict";return this.addChild(P,e,this._options.version)},updateLink:function(e,t){"use strict";this.updateChild(e,t,this._options.version)},removeLink:function(e){"use strict";this.removeChild(e)},entities:function(){"use strict";return this.getChildrenArray(E)},entityByID:function(e){"use strict";return this.getChildByPrimaryKey(E,e)},addEntity:function(e){"use strict";return this.addChild(E,e,this._options.version)},updateEntity:function(e,t){"use strict";this.updateChild(e,t,this._options.version)},removeEntity:function(e){"use strict";this.removeChild(e)},periodHighlighters:function(){"use strict";return this.getChildrenArray(M)},periodHighlighterByID:function(e){"use strict";if(e)return this.getChildByPrimaryKey(M,e)},addPeriodHighlighter:function(e){"use strict";return this.addChild(M,e,this._options.version)},updatePeriodHighlighter:function(e,t){"use strict";return this.updateChild(e,t,this._options.version)},removePeriodHighlighter:function(e){"use strict";this.removeChild(e)},hierarchySupplementaryDefinitions:function(){"use strict";return this.getChildrenArray(B)},hierarchySupplementaryDefinitionByID:function(e){"use strict";return this.getChildByPrimaryKey(B,e)},addHierarchySupplementaryDefinition:function(e){"use strict";return this.addChild(B,e,this._options.version)},updateHierarchySupplementaryDefinition:function(e,t){"use strict";this.updateChild(e,t,this._options.version)},removeHierarchySupplementaryDefinition:function(e){"use strict";this.removeChild(e)},dateTimeValueToDate:function(e){"use strict";if(e)if(e===this.getAPIOption("additionalDateStringInterpretedAsEmpty"))e=void 0;else{let t=this.getAPIOption("additionalDateInterpretedAsEmpty");t&&e.valueOf()===t.valueOf()&&(e=void 0)}var t="string"==typeof e?this._app.dateTimeStringToDate(e):e instanceof Date&&new Date(e);return t&&!isNaN(t.valueOf())&&t||null},displayRelativeDates:function(){"use strict";return this.getAPIOption("relativeDateModeEnabled")&&!this.getAPIOption("referenceDate")},removeAll:function(){"use strict";if(this.__dataReady){var e=this._options.version;this.initHierarchy(null,e,this._dataDescriptors[y])}},objectByID:function(e,t,i){"use strict";var a=this;if("string"==typeof t)switch(e){case f.Activity:case f.ActivityRow:return a.activityByID((i||"")+s+t);case f.Allocation:case f.AllocationRow:return a.allocationByID((i||"")+s+t);case f.Resource:return a.resourceByID((i||"")+s+t);case f.Calendar:return a.calendarByID(t);case f.Curve:return a.curveByID(t);case f.Entity:return a.entityByID(t);case f.Link:return a.linkByID((i||"")+s+t)}},getRelatedWrapperInfoByRelationshipInfo:function(e,t){"use strict";var i={};if(e&&t){var a=l.getPrimaryKeyByRelationshipInfo(e,t);d.notIsNullOrEmpty(a)&&(i.relatedWrapper=this.getChildByPrimaryKey(t.relatedTo,a),i.relationshipPrimaryKey=a)}return i},getRelatedWrapperByRelationshipInfo:function(e,t){"use strict";return this.getRelatedWrapperInfoByRelationshipInfo(e,t).relatedWrapper},handleCycleDetected:function(e){"use strict";this._app.registerPendingObjectData(e)},__ensureCompatibleValue:function(e,t){var i=e[t];return i||(i=e["PM_"+t]),i}},ie={};o.extendClass(ie,"rabModel",W,te);var ae=ie.rabModel;Object.defineProperty(ae.prototype,"Resources",{get:function(){return this.getChildrenArray(A)}}),Object.defineProperty(ae.prototype,"Calendars",{get:function(){return this.getChildrenArray(T)}}),Object.defineProperty(ae.prototype,"Curves",{get:function(){return this.getChildrenArray(S)}}),Object.defineProperty(ae.prototype,"Activities",{get:function(){return this.getChildrenArray(C)}}),Object.defineProperty(ae.prototype,"Allocations",{get:function(){return this.getChildrenArray(R)}}),Object.defineProperty(ae.prototype,"Links",{get:function(){return this.getChildrenArray(P)}}),Object.defineProperty(ae.prototype,"Entities",{get:function(){return this.getChildrenArray(E)}}),Object.defineProperty(ae.prototype,"PeriodHighlighters",{get:function(){return this.getChildrenArray(M)}}),Object.defineProperty(ae.prototype,"HierarchySupplementaryDefinitions",{get:function(){return this.getChildrenArray(B)}}),e.exports=ae},219:(e,t,i)=>{i(6699);var a=i(3571),n=a.nDebugHelper,o=i(6998),r=o.ActivityBarDragModes,s=o.ActivityBarShape,l=o.AllocationBarDesign,c=o.AllocationBarDragModes,d=o.AllocationBarShape,u=o.BarSortMode,p=o.LinkMarker,h=o.LinkRoutingType,g=o.ProgressBarWidthCalculationMode,m=o.RowDesigns,f=o.RowDragModes,_=o.RowSortMode,b=o.SelectionBehavior,v=o.TimescaleNavigationMode,y=o.TimescaleInteractionModes,A=o.TreeVisualizationMode,T=o.UpdateModes,w=o.WorldViewPosition,C=o._rabTimeUnitToTimeUnit,I={construct:function(e){"use strict";this._app=e,this._handleAppAPIOptionPostprocessingBoundToApp=this._app.handleAPIOptionPostprocessing.bind(this._app),this._super(),this.defineOption("defaultUpdateMode",T.Default,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("resetValueForDifferentialUpdate",null),this.defineOption("additionalDateInterpretedAsEmpty",null,this.convertStringToDate,this.assertDateOrNull),this.defineOption("additionalDateStringInterpretedAsEmpty","",this.convertAnyToString),this.defineOption("cursorDateLineVisible",!1,this.convertAnyToBoolean),this.defineOption("curvePanesVisibleInActivitiesView",!1,this.convertAnyToBoolean,void 0,!0),this.defineOption("entitiesTableVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("entitiesTableVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("entitiesTitleText",null,this.convertEmptyStringToUndefined),this.defineOption("nonWorkingTimeVisible",!0,this.convertAnyToBoolean),this.defineOption("nonWorkingTimesCalendarIDs",null,this.convertAnyNonObjectToString),this.defineOption("curvePanesCollapsibleInResourcesView",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("entitiesTableSymbolColumnTitleBackgroundColor",null,this.convertAnyToString),this.defineOption("entitiesTableSymbolColumnTitleSymbolIDs",null),this.defineOption("entitiesTableSymbolColumnTitleVisible",!1,this.convertAnyToBoolean),this.defineOption("entitiesTableSymbolColumnVisible",!1,this.convertAnyToBoolean),this.defineOption("entitiesTableSymbolColumnWidth",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("linksVisibleInActivitiesView",!0,this.convertAnyToBoolean),this.defineOption("linksVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("patternShownOnOverloadCurves",!1,this.convertAnyToBoolean),this.defineOption("symbolColumnTitleBackgroundColor",null,this.convertAnyToString),this.defineOption("symbolColumnTitleSymbolIDs",null),this.defineOption("symbolColumnTitleVisible",!1,this.convertAnyToBoolean),this.defineOption("symbolColumnVisible",!1,this.convertAnyToBoolean),this.defineOption("symbolColumnWidth",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("relativeDateModeEnabled",!1,this.convertAnyToBoolean),this.defineOption("referenceDate",null,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("maximumTimeResolutionUnit",null,void 0,this.assert_timeUnit),this.defineOption("maximumTimeResolutionUnitFactor",null,this.convertStringToNumber,this.assertFiniteNumberGreaterZeroOrNull),this.defineOption("timeStepUnit",null,void 0,this.assert_timeUnit),this.defineOption("timeStepUnitFactor",null,this.convertStringToNumber,this.assertFiniteNumberGreaterZeroOrNull),this.defineOption("titleText",null,this.convertEmptyStringToUndefined),this.defineOption("workDateLineCaption","",this.convertAnyNonObjectToString),this.defineOption("tooltipDelay",500,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("animationDuration",400,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("treeVisualizationMode",A.ColoredIndentation,this.convertStringToNumber),this.defineOption("treeViewLineColor",null,this.convertAnyNonObjectToString),this.defineOption("treeViewLineDashArray",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTreeVisualizationMode",A.ColoredIndentation,this.convertStringToNumber),this.defineOption("entitiesTableTreeViewLineColor",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTreeViewLineDashArray",null,this.convertAnyNonObjectToString),this.defineOption("defaultValuesForActivityProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForActivityEntryProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForAllocationProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForAllocationEntryProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForEntityProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForLinkProperties",null,void 0,void 0,!0),this.defineOption("defaultValuesForResourceProperties",null,void 0,void 0,!0),this.defineOption("defaultActivityConstraintSymbolColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("defaultActivityProgressBackgroundColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("defaultAllocationBackgroundColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("defaultAllocationConstraintSymbolColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("defaultAllocationProgressBackgroundColor",null,this.convertAnyNonObjectToString,void 0,!0),this.defineOption("defaultInventoryCurvePaneColor",null,this.convertAnyNonObjectToString),this.defineOption("defaultLoadCurvePaneColor",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTitleBackgroundColor",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTitleColumnSeparatorColor",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTitleHighlightingColor",null,this.convertAnyNonObjectToString),this.defineOption("entitiesTableTitleTextColor",null,this.convertAnyNonObjectToString),this.defineOption("pastBackgroundFillColor",null,this.convertAnyNonObjectToString),this.defineOption("pastBackgroundLineColor",null,this.convertAnyNonObjectToString),this.defineOption("objectHighlightingColor",null,this.convertAnyNonObjectToString),this.defineOption("suitableResourceOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("unsuitableResourceOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("suitableActivityOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("unsuitableActivityOverlayColor",null,this.convertAnyNonObjectToString),this.defineOption("calendarGridColor",null,this.convertAnyToString),this.defineOption("selectionColor",null,this.convertAnyToString),this.defineOption("splitterHighlightingColor",null,this.convertAnyToString),this.defineOption("tableTitleBackgroundColor",null,this.convertAnyToString),this.defineOption("tableTitleColumnSeparatorColor",null,this.convertAnyToString),this.defineOption("tableTitleHighlightingColor",null,this.convertAnyToString),this.defineOption("tableTitleTextColor",null,this.convertAnyToString),this.defineOption("timeAreaBackgroundColor",null,this.convertAnyToString),this.defineOption("timescaleBackgroundColor",null,this.convertAnyToString),this.defineOption("timescaleHighlightingColor",null,this.convertAnyToString),this.defineOption("timescaleTextColor",null,this.convertAnyToString),this.defineOption("timescaleTickColor",null,this.convertAnyToString),this.defineOption("timescaleWeekendBackgroundColor",null,this.convertAnyToString),this.defineOption("symbolColumnBackgroundColor",null,this.convertAnyToString),this.defineOption("entitiesTableSymbolColumnBackgroundColor",null,this.convertAnyToString),this.defineOption("defaultActivityCollapsedRowDesign",m.Bars|m.Optimized|m.BarsInHiddenDescendantRows,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultActivityExpandedRowDesign",m.Bars|m.Optimized,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultAllocationRowDesign",m.Bars|m.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultResourceCollapsedRowDesign",m.Bars|m.Optimized|m.BarsInHiddenDescendantRows|m.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultResourceExpandedRowDesign",m.Bars|m.Optimized|m.CalendarGrid,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultAllocationSnapTargetsForStart",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultAllocationSnapTargetsForEnd",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultActivitySnapTargetsForStart",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultActivitySnapTargetsForEnd",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultAllocationAllowedBarDragModes",c.DragAutoHorOrVer,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedAllocationAllowedBarDragModes",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultAllocationAllowedBarDragModesInActivitiesView",c.DragHorizontally,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedAllocationAllowedBarDragModesInActivitiesView",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultAllocationAllowedRowDragModes",f.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultActivityAllowedBarDragModes",r.DragHorizontally,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedActivityAllowedBarDragModes",null,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultActivityAllowedRowDragModes",f.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedActivityAllowedRowDragModes",f.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultResourceAllowedRowDragModes",f.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedResourceAllowedRowDragModes",f.None,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultEntityAllowedRowDragModes",f.DragOutside,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("forcedEntityAllowedRowDragModes",f.DragOutside,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultAllocationBarSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultAllocationRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultActivityBarSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultActivityRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultEntityRowSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultActivityTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("defaultAllocationTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("defaultResourceTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("defaultEntityTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("tableRowDefinitionIDForTitleInActivitiesView",null,this.convertAnyNonObjectToString),this.defineOption("tableRowDefinitionIDForTitleInResourcesView",null,this.convertAnyNonObjectToString),this.defineOption("tableRowDefinitionIDForTitleInLoadsView",null,this.convertAnyNonObjectToString),this.defineOption("tableRowDefinitionIDForTitleInEntitiesTable",null,this.convertAnyNonObjectToString),this.defineOption("watermarkSymbolID",null,this.convertAnyNonObjectToString),this.defineOption("watermarkOpacity",.2,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("defaultLinkSelectable",!0,this.convertAnyToBoolean),this.defineOption("defaultActivityRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("defaultActivityAllocationRowsCollapsible",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceAllocationRowsCollapsible",!0,this.convertAnyToBoolean),this.defineOption("defaultEntityRowCollapsible",!0,this.convertAnyToBoolean),this.defineOption("releaseDueDateConnectionsVisible",!1,this.convertAnyToBoolean),this.defineOption("activityCalendarsEnabled",!1,this.convertAnyToBoolean),this.defineOption("detailedActivityConstraintSymbolsEnabled",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("detailedAllocationConstraintSymbolsEnabled",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("internalObjectCopiesNeeded",!1,this.convertAnyToBoolean),this.defineOption("updateOptimizationEnabled",!1,this.convertAnyToBoolean),this.defineOption("asynchronousInteractiveTimeAreaStretching",!1,this.convertAnyToBoolean),this.defineOption("asynchronousRendering",!1,this.convertAnyToBoolean),this.defineOption("decouplingOfAllocationPropertiesFromActivities",!1,this.convertAnyToBoolean),this.defineOption("dragDatesLimitingInteraction",!1,this.convertAnyToBoolean),this.defineOption("contextMenuCallbackOnRowInTimeArea",!1,this.convertAnyToBoolean),this.defineOption("clickCallbackTriggeringOnRowInTimeArea",!1,this.convertAnyToBoolean),this.defineOption("preventDefaultOnContextMenuEvents",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceBarsPaneVisible",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceLoadCurvePaneVisible",!0,this.convertAnyToBoolean),this.defineOption("defaultResourceInventoryCurvePaneVisible",!1,this.convertAnyToBoolean),this.defineOption("curvePanesResizable",!1,this.convertAnyToBoolean),this.defineOption("linesShownInLoadCurvePanes",!1,this.convertAnyToBoolean),this.defineOption("topBarSymbolsVisible",!0,this.convertAnyToBoolean),this.defineOption("timescaleInteractionMode",y.Default,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("ignoreCalendarOnAllocationBarInteractions",!1,this.convertAnyToBoolean),this.defineOption("ignoreCalendarOnActivityBarInteractions",!1,this.convertAnyToBoolean),this.defineOption("objectHighlightFlashingEnabled",!0,this.convertAnyToBoolean),this.defineOption("scrollToObjectAnimationEnabled",!1,this.convertAnyToBoolean),this.defineOption("worldViewVisible",!1,this.convertAnyToBoolean),this.defineOption("multipleBarDraggingEnabled",!1,this.convertAnyToBoolean),this.defineOption("allocationsSelectableOnlyOnOneResourceAtATime",!1,this.convertAnyToBoolean),this.defineOption("dragDatesShownForSingleSelectedObject",!1,this.convertAnyToBoolean),this.defineOption("tableViewWidthInActivitiesView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthInResourcesView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthInLoadsView",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableViewWidthsSynchronized",!0,this.convertAnyToBoolean),this.defineOption("tableWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("fixedTableColumnWidth",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("entitiesTableWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("entitiesTableViewWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("tableTitleAndTimescaleHeight",60,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("entitiesTableTitleHeight",60,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("defaultActivityBarHeight",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("defaultAllocationBarHeight",22,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("defaultActivityMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("defaultAllocationMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("defaultResourceMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("defaultEntityMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("minimumLoadCurvePaneHeight",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("defaultLoadCurvePaneHeight",50,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("maximumLoadCurvePaneHeight",200,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("minimumInventoryCurvePaneHeight",30,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("defaultInventoryCurvePaneHeight",50,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("maximumInventoryCurvePaneHeight",200,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("topRowMarginInTimeArea",10,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("bottomRowMarginInTimeArea",5,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("subRowDistanceInTimeArea",5,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("tableCellContentTopOffset",21,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("entitiesTableCellContentTopOffset",21,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("defaultResourceMaximumSubRowHeightInTimeArea",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("defaultResourceMaximumRowHeight",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("defaultActivityMaximumSubRowHeightInTimeArea",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("defaultActivityMaximumRowHeight",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("activityBarTopOffsetAndHeightScaleFactor",1,this.convertStringToNumber,this.assert_barTopOffsetAndHeightScaleFactor),this.defineOption("allocationBarTopOffsetAndHeightScaleFactor",1,this.convertStringToNumber,this.assert_barTopOffsetAndHeightScaleFactor),this.defineOption("barSortModeForOptimizedRowDesign",u.StartAndEnd,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("timescaleNavigationMode",v.Latest,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("timeAreaPanningMode",3,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("selectionBehavior",b.Framing,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("pastBackgroundLineWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull),this.defineOption("pastBackgroundLineDashArray",null,this.convertAnyNonObjectToString),this.defineOption("visualZoomFactor",1,this.convertStringToNumber,this.assertFiniteNumberGreaterZero),this.defineOption("worldViewPosition",w.Bottom,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("worldViewExtent",150,this.convertStringToNumber,this.assertFiniteNumberGreaterZero),this.defineOption("maximumSnapDistance",8,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("defaultAllocationBarDesign",l.Entries,this.convertStringToNumber,this.assertNumberOrNull,!0),this.defineOption("defaultLinkRoutingType",h.Curved,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("defaultLinkTargetMarker",p.FilledArrow,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("progressBarHeight",4,this.convertStringToNumber,this.assertNumberGreaterZero),this.defineOption("progressBarWidthCalculationMode",g.ConsiderWorkingTimesOnly,this.convertStringToNumber,this.assertNumberOrNull),this.defineOption("topViewAreaVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("topViewAreaVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("topViewAreaVisibleInLoadsView",!1,this.convertAnyToBoolean),this.defineOption("mainViewAreaVisibleInActivitiesView",!0,this.convertAnyToBoolean),this.defineOption("mainViewAreaVisibleInResourcesView",!0,this.convertAnyToBoolean),this.defineOption("mainViewAreaVisibleInLoadsView",!0,this.convertAnyToBoolean),this.defineOption("maximumTopViewAreaHeightRatio",.5,this.convertStringToNumber,this.assert_maximumTopViewAreaHeightRatio),this.defineOption("scrollOffsetsChangedCallbackTimeDelay",500,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero),this.defineOption("multipleSelectionEnabled",!0),this.defineOption("defaultActivityBarShape",s.Regular,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("defaultAllocationBarShape",d.Regular,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("editable",!0,this.convertAnyToBoolean),this.defineOption("currentDate",null,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("workDate",null,this.convertStringToDateEx,this.assertDateOrNull);var t=new Date,i=new Date(t.valueOf()+24192e5);this.defineOption("start",t,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("end",i,this.convertStringToDateEx,this.assertDateOrNull),this.defineOption("startAndEnd",[t,i]),this.defineOption("locale","en-US",void 0,this.assertStringOrNull),this.defineOption("language",null,void 0,this.assertStringOrNull),this.defineOption("weekNumbering",null,void 0,this.assertStringOrNull),this.defineOption("firstDayOfWeek",null,void 0,this.assertNumberOrNull),this.defineOption("timeZone",null,void 0,this.assertStringOrNull),this.defineOption("allocationRowsVisibleInActivitiesView",!1,this.convertAnyToBoolean,void 0,!0),this.defineOption("allocationRowsVisibleInResourcesView",!1,this.convertAnyToBoolean,void 0,!0),this.defineOption("defaultAllocationTableRowDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("defaultAllocationMinimumRowHeight",42,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualZero,!0),this.defineOption("definedAllocationLinksVisibleInResourcesView",!1,this.convertAnyToBoolean),this.defineOption("definedAllocationLinksVisibleInActivitiesView",!1,this.convertAnyToBoolean),this.defineOption("defaultActivityStatusFrameColor",null,this.convertAnyToString),this.defineOption("defaultAllocationStatusFrameColor",null,this.convertAnyToString),this.defineOption("entitiesTableShownFullScreen",!1,this.convertAnyToBoolean),this.defineOption("defaultActivityBarTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultActivityRowTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultAllocationBarTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultAllocationRowTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultEntityRowTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultLinkTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultPeriodHighlighterEntryTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultResourceCurveTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("defaultResourceRowTooltipTemplateID",null,this.convertAnyNonObjectToString),this.defineOption("activityBaselineBarsVisible",!0,this.convertAnyToBoolean),this.defineOption("colorOfFirstTableCellAppliedToGroupColoring",!0,this.convertAnyToBoolean),this.defineOption("groupCellsWithHorizontalSeparationLine",!1,this.convertAnyToBoolean),this.defineOption("dateLineGridColor",null,this.convertAnyToString),this.defineOption("dateLineGridDashArray",null,this.convertAnyToString),this.defineOption("dateLineGridWidth",null,this.convertStringToNumber,this.assertFiniteNumberGreaterOrEqualNullOrNull,!0),this.defineOption("activityHierarchySupplementaryDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("resourceHierarchySupplementaryDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("resourceHierarchySupplementaryDefinitionIDInLoadsView",null,this.convertAnyNonObjectToString),this.defineOption("entityHierarchySupplementaryDefinitionID",null,this.convertAnyNonObjectToString),this.defineOption("collapseButtonVisibleOnRowsWithoutVisibleChildren",!0,this.convertAnyToBoolean,void 0,!0),this.defineOption("onCollapseStateChangedTriggeredByUpdateCalls",!0,this.convertAnyToBoolean),this.defineOption("dateLineCaptionOptimizedPositioningEnabled",!1,this.convertAnyToBoolean),this.defineOption("activityRowSortCodePropertyName","SortCode",this.convertAnyNonObjectToString,void 0,!0),this.defineOption("entityRowSortCodePropertyName","SortCode",this.convertAnyNonObjectToString,void 0,!0),this.defineOption("resourceRowSortCodePropertyName","SortCode",this.convertAnyNonObjectToString,void 0,!0),this.defineOption("allocationRowSortCodePropertyName","SortCode",this.convertAnyNonObjectToString,void 0,!0),this.defineOption("activityRowSortMode",_.None,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("entityRowSortMode",_.None,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("resourceRowSortMode",_.None,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("allocationRowSortMode",_.None,this.convertStringToNumber,this.assertNumber,!0),this.defineOption("interactiveSwitchingOfSortOrderEnabled",!1,this.convertAnyToBoolean),this.defineOption("sortingIndicatorVisible",!1,this.convertAnyToBoolean),this.defineOption("rowSortModeNoneEnabledOnInteractiveSwitchingOfSortOrder",!0,this.convertAnyToBoolean),this.defineOption("triggeringOfOnShowTooltipForEntriesInBarsEnabled",!1,this.convertAnyToBoolean),this.defineOption("higherCurvePanesOnExceededScaleMaximumValue",!1,this.convertAnyToBoolean)},defineOption:function(e,t,i,a,n){"use strict";this._super(e,t,i,a),n&&this.setCallback(e,2,this._handleAppAPIOptionPostprocessingBoundToApp)},convertEmptyStringToUndefined:function(e){"use strict";return e||void 0},convertStringToDateEx:function(e){"use strict";return"string"==typeof e?this._app.model().dateTimeValueToDate(e):e},assert_timeUnit:function(e,t){"use strict";return n.assert(null==t||null!=C[t],"timeUnit with invalid value"),!0},assert_maximumTopViewAreaHeightRatio:function(e,t){"use strict";return n.assert(t>=-.8&&t<=.8,e+" is out of range"),!0},assert_dateLineGridMode:function(e,t){"use strict";return n.assert(null==t||[0,1,2,4].includes(t),e+" is out of range"),!0},assert_barTopOffsetAndHeightScaleFactor:function(e,t){"use strict";return n.assert(null==t||t>0&&t<=10,e+" is out of range"),!0}},R={};a.nClassFactory.extendClass(R,"rabOptionsCollector",a.nOptionsCollector,I),e.exports=R.rabOptionsCollector},2423:(e,t,i)=>{i(7658);var a=i(3571).nClassFactory,n=i(9472),o={construct:function(e,t,i,a,n,o,r,s,l,c,d){"use strict";var u=l?l.slice():[];u.push(s.relationshipInfos);var p=Object.assign({},c||{});p._applyToRootEnabled=!0,p._checkPlacement=!0,this._super(e,t,i,a,n,o,r,s,u,p,d)},defaultHandleRelationshipChangedFunc:function(e,t,i){var a;this.checkRelatedItemExistence(i)&&(a=this._viewModel.rowItemsRoot(this._viewType));var n=t.redetectParentItem(a,i);return n?(t.updateFromReference(),t.reassignParentItem(n)||this._viewModel.registerRowItem(this._viewType,this,!1,!0),t):e.removeChild(t)}},r={};a.extendClass(r,"rabParentItemDescriptor",n,o),e.exports=r.rabParentItemDescriptor},4436:(e,t,i)=>{i(7658);var a=i(9990),n=i(3571),o=i(6998),r=o.ItemType,s=o.RAB_CALENDAR_GRID_ENTRIES_PROP_NAME,l=i(1207),c={postAddToParent:function(){"use strict";this._super(),this.compile()},postUpdateSelf:function(){"use strict";this._super(),this.compile()},compile:function(){"use strict";var e=this,t=function(e){var t=a.select(e.dateArea);e.dateAreaDefinition.rab_color&&t.select("path").style("fill",e.dateAreaDefinition.rab_color);var i=t.selectAll("text").nodes(),n=0;i.length&&e.dateAreaDefinition.entries.forEach((function(e){e.caption&&a.select(i[n++]).style("fill",e.rab_captionColor)}))},i={},o=0;this.Entries?.forEach((function(a,s){var l=a.Color||"",c=i[l];c||(c=i[l]={rab_itemType:r.PeriodHighlighterEntry,id:e.ID+n.nDefaultSeparator+o++,inForeground:!1,rab_color:a.Color,entries:[],createFunc:t}),c.entries.push({start:e._model.dateTimeValueToDate(a.Start),end:e._model.dateTimeValueToDate(a.End),caption:a.Caption,rab_captionColor:a.CaptionColor,rab_entryIndex:s,rab_tooltipTemplateID:a.TooltipTemplateID,data:a})})),this.dateAreaDefinitions=Object.keys(i).map((function(e){return i[e]}))}},d={};n.nClassFactory.extendClass(d,"rabPeriodHighlighter",l,c);var u=d.rabPeriodHighlighter;Object.defineProperty(u.prototype,"Entries",{get:function(){return this.getChildrenArray(s)}}),e.exports=u},290:(e,t,i)=>{var a=i(3571),n=i(1207),o={};a.nClassFactory.extendClass(o,"rabPeriodHighlighterEntry",n,{construct:function(e,t,i,a){"use strict";this._super(e,t,i,a)}});var r=o.rabPeriodHighlighterEntry;Object.defineProperty(r.prototype,"Start",{get:function(){return this._data.Start}}),Object.defineProperty(r.prototype,"End",{get:function(){return this._data.End}}),Object.defineProperty(r.prototype,"Caption",{get:function(){return this._data.Caption}}),Object.defineProperty(r.prototype,"Color",{get:function(){return this._data.Color}}),Object.defineProperty(r.prototype,"CaptionColor",{get:function(){return this._data.CaptionColor}}),Object.defineProperty(r.prototype,"TooltipTemplateID",{get:function(){return this._data.TooltipTemplateID??this._data.PM_TooltipTemplateID}}),e.exports=o.rabPeriodHighlighterEntry},3328:e=>{var t={defineProperty(e,t,i,a,n,o){if(null!=e&&t in e==!1){if(i.get){var r=i.get;i.get=function(){let e=r.call(this);if(void 0!==e)return e;let i=a||this._getDefaultObjectPropName();if(i){var s=this.getAPIOption(i);if(s){let e=s[t];if(void 0!==e)return e}}if(n){let e=this.getAPIOption(n);if(void 0!==e)return e}return o}}Object.defineProperty(e,t,i)}}};e.exports=t},9472:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nFunctionDispatcher,r=a.nStructuralRelationshipDataDescriptor,s={construct:function(e,t,i,a,n,o,r,s,l,c,d){"use strict";var u=this;u._viewModel=e,u._viewType=t;var p=Object.assign({},d||{});if(p.getChildWrapperByPrimaryKey=function(e,t){return u._viewModel.model().getChildByPrimaryKey(e,t)},p.getItemByWrapper=function(e){return u._viewModel._item(u._viewType,e)},!p.sharedDepositoryGetterFunc){var h=u._viewModel._sharedDepositories;if(h){var g=h[t]=h[u._viewType]||{};p.sharedDepositoryGetterFunc=function(){return g[i]}}}p.postAddToParentFunc||(p.postAddToParentFunc=function(e){if(e&&u._classConstructor,u._booleans._checkPlacement&&u._viewModel._checkPlacementInChildItemsOfParent(e,u._viewType),u._viewModel.isHierarchyInitialized(u._viewType)&&u._reloadOrUnloadRelatedItems(1,e),u._booleans._additionallyUpdateChildTimeItems){var t=e.childTimeItems;t||e.timeItems&&Array.isArray(e.timeItems)&&e.timeItems[0]&&(t=e.timeItems[0].childTimeItems),t&&Array.isArray(t)&&t.forEach((function(e){e.updateFromReference()}))}return!0}),p.preRemoveFromParentFunc||(p.preRemoveFromParentFunc=function(e){return e&&u._classConstructor,u._viewModel.isHierarchyInitialized(u._viewType)&&(u._booleans._checkPlacement&&u._viewModel._saveAncestorItems(e),u._reloadOrUnloadRelatedItems(2,e)),!0}),u._super(i,a,n,o,r,s,l,c,p)},_reloadOrUnloadRelatedItems:function(e,t){"use strict";var i=this;if(i._dependentObjectRelationshipInfos){var a=t.getPropertyName();o.each(i._dependentObjectRelationshipInfos,(function(n){n.relatedTo===a&&i._viewModel.reloadOrUnloadRelatedItems(e,t,i._viewType,n)}))}}},l={};n.extendClass(l,"rabRelationshipItemDescriptor",r,s),e.exports=l.rabRelationshipItemDescriptor},9315:(e,t,i)=>{var a=i(3571),n=i(2623),o=i(6998).ViewType,r={construct:function(e,t,i,a){"use strict";this._super(e,t,i,a),this.curvesChanged()},postUpdateSelf:function(){"use strict";this._super(),this.curvesChanged()},store:function(e){"use strict";if(this._super(e),e){var t=e.CollapseStateInLoadsView??e.PM_CollapseStateInLoadsView;t>=0&&(this.rab_cachedCollapseStateInLoadsView=t),(t=e.CurveCollapseState??e.PM_CurveCollapseState)>=0&&(this.rab_cachedCurveCollapseState=t),(t=e.AllocationRowsCollapseState??e.PM_AllocationRowsCollapseState)>=0&&(this.rab_cachedAllocationRowsCollapseState=t)}},_modificationClassificationByProperty:{AllocationRowsCollapseState:function(e){var t=e.AllocationRowsCollapseState??e.PM_AllocationRowsCollapseState;return this.rab_cachedAllocationRowsCollapseState===t?2:0},CalendarGridColor:0,CollapseStateInLoadsView:function(e){var t=e.CollapseStateInLoadsView??e.PM_CollapseStateInLoadsView;return this.rab_cachedCollapseStateInLoadsView===t?2:0},CurveCollapseState:function(e){var t=e.CurveCollapseState??e.PM_CurveCollapseState;return this.rab_cachedCurveCollapseState===t?2:0},CurveTooltipTemplateID:2},_getDefaultObjectPropName:function(){return"defaultValuesForResourceProperties"},curvesChanged:function(){"use strict";this._curveDatesAndEntriesAreDirty=!0},compileCurves:function(){"use strict";var e,t,i,a=this;if(a._curveDatesAndEntriesAreDirty||((e=a.CapacityCurveID?a._model.curveByID(a.CapacityCurveID):null)&&e.isDirty()&&(a._curveDatesAndEntriesAreDirty=!0),(t=a.LoadCurveID?a._model.curveByID(a.LoadCurveID):null)&&t.isDirty()&&(a._curveDatesAndEntriesAreDirty=!0),(i=a.InventoryCurveID?a._model.curveByID(a.InventoryCurveID):null)&&i.isDirty()&&(a._curveDatesAndEntriesAreDirty=!0)),a._curveDatesAndEntriesAreDirty){var n=a._model.calendarByResource(a);void 0===e&&(e=a.CapacityCurveID?a._model.curveByID(a.CapacityCurveID):void 0),e&&e.compile(n),void 0===t&&(t=a.LoadCurveID?a._model.curveByID(a.LoadCurveID):void 0),t&&t.compile(n),void 0===i&&(i=a.InventoryCurveID?a._model.curveByID(a.InventoryCurveID):void 0),i&&i.compile(n),a.rab_highestCapacityCurveData=e?e._determineDatesAndEntriesOfHighestCurve():void 0,a.rab_highestLoadCurveData=t?t._determineDatesAndEntriesOfHighestCurve():void 0,a.rab_highestInventoryCurveData=i?i._determineDatesAndEntriesOfHighestCurve():void 0,a.rab_loadCurveData=t?t.rab_compiledCurveData:void 0,a.rab_inventoryCurveData=i?i.rab_compiledCurveData:void 0,a._determineOverloadDatesAndEntries(t,e),a.rab_loadCurveMinValue=t?t.rab_minValue:0,a.rab_loadCurveMaxValue=t?t.rab_maxValue:1,e&&(a.rab_loadCurveMinValue=Math.min(a.rab_loadCurveMinValue,Math.max(e.rab_minValue,0)),a.rab_loadCurveMaxValue=Math.max(a.rab_loadCurveMaxValue,e.rab_maxValue)),t&&(a.rab_loadCurveMaxValue>t.ScaleMaximumValue?a.rab_loadCurveExceedingFactor=1+(a.rab_loadCurveMaxValue-t.ScaleMaximumValue)/(t.ScaleMaximumValue-a.rab_loadCurveMinValue):delete a.rab_loadCurveExceedingFactor),a.rab_inventoryCurveMinValue=i?i.rab_minValue:0,a.rab_inventoryCurveMaxValue=i?i.rab_maxValue:1,this._curveDatesAndEntriesAreDirty=!1}},_determineOverloadDatesAndEntries:function(e,t){"use strict";var i=this;if(i.rab_isOverloaded=!1,e&&t){var n=i.rab_highestLoadCurveData,o=i.rab_highestCapacityCurveData;if(n){var r={date:new Date(0),value:{start:new Date(0),value:0}},s={date:a.nSortedDatesWithValuesList.DateInfinity,value:{start:a.nSortedDatesWithValuesList.DateInfinity,value:0}},l=s,c=o?o.determineNextOrSameDateWithValue(new Date(0)):r;o&&c&&(r=c,c=o.determineNextDateWithValue(c.date),l=c||s);var d=Math.max(r.value.value,0);n.forEach((function(e,t,a){for(;;){if(e<l.date&&a.value>d)return i.rab_isOverloaded=!0,!1;if(!(t>l.date))break;r=l,d=Math.max(r.value.value,0),o&&(l=o.determineNextDateWithValue(l.date)||s)}return!0}))}}},_getAllocationRowsCollapseState:function(e){var t=this.rab_cachedAllocationRowsCollapseState;return t>=0||(e=t),"number"==typeof e?e:void 0},determineCollapseState:function(e){return this.isPseudo()||e!==o.Loads?this._super(e):this.CollapseStateInLoadsView}},s={};a.nClassFactory.extendClass(s,"rabResource",n,r);var l=s.rabResource,c=l.prototype;c.defineProperty("InventoryCurveID",{get:function(){var e=!!this.model().app()._f&&this.model().app()._f.indexOf(1e3)>=0;return null!=this._data.InventoryCurveID&&e?this._data.InventoryCurveID.toString():void 0}}),c.defineProperty("AllocationRowsCollapseState",{get:function(){return this._getAllocationRowsCollapseState(this._data.AllocationRowsCollapseState??this._data.PM_AllocationRowsCollapseState)}},void 0,-1),c.defineProperty("AllocationRowsCollapsible",{get:function(){var e=this._data.AllocationRowsCollapsible??this._data.PM_AllocationRowsCollapsible;return null==e?void 0:!!e}}),c.defineProperty("BarsPaneVisible",{get:function(){var e=this._data.BarsPaneVisible??this._data.PM_BarsPaneVisible;return null==e?void 0:!!e}}),c.defineProperty("CalendarGridColor",{get:function(){return this._getPropertyAsColorString(this._data.CalendarGridColor??this._data.PM_CalendarGridColor)}}),c.defineProperty("CollapsedRowDesign",{get:function(){return this._getPropertyAsNumber(this._data.CollapsedRowDesign??this._data.PM_CollapsedRowDesign)}}),c.defineProperty("CollapseStateInLoadsView",{get:function(){var e=this.rab_cachedCollapseStateInLoadsView;return e>=0?e:this._getPropertyAsNumber(this._data.CollapseStateInLoadsView??this._data.PM_CollapseStateInLoadsView??this.CollapseState)}},void 0,-1),c.defineProperty("CurveCollapseState",{get:function(){var e=this.rab_cachedCurveCollapseState;return e>=0?e:this._getPropertyAsNumber(this._data.CurveCollapseState??this._data.PM_CurveCollapseState)}},void 0,-1),c.defineProperty("CurveTooltipTemplateID",{get:function(){return this._data.CurveTooltipTemplateID??this._data.PM_CurveTooltipTemplateID}}),c.defineProperty("ExpandedRowDesign",{get:function(){return this._getPropertyAsNumber(this._data.ExpandedRowDesign??this._data.PM_ExpandedRowDesign)}}),c.defineProperty("HasAllocationRows",{get:function(){var e=this._data.HasAllocationRows??this._data.PM_HasAllocationRows;return null==e?void 0:!!e}}),c.defineProperty("HasCurves",{get:function(){var e=this._data.HasCurves??this._data.PM_HasCurves;return null==e?void 0:!!e}}),c.defineProperty("HorizontalBodyViewArea",{get:function(){return this._getPropertyAsNumber(this._data.HorizontalBodyViewArea??this._data.PM_HorizontalBodyViewArea)}}),c.defineProperty("InventoryCurvePaneVisible",{get:function(){var e=this._data.InventoryCurvePaneVisible??this._data.PM_InventoryCurvePaneVisible;return null==e?void 0:!!e}}),c.defineProperty("LoadCurvePaneVisible",{get:function(){var e=this._data.LoadCurvePaneVisible??this._data.PM_LoadCurvePaneVisible;return null==e?void 0:!!e}}),c.defineProperty("MaximumRowHeight",{get:function(){var e=this._getPropertyAsNumber(this._data.MaximumRowHeight??this._data.PM_MaximumRowHeight);return e>0?e:void 0}}),c.defineProperty("MaximumSubRowHeightInTimeArea",{get:function(){var e=this._data.MaximumSubRowHeightInTimeArea??this._data.PM_MaximumSubRowHeightInTimeArea;return e>0?e:void 0}}),c.defineProperty("PeriodHighlighterID",{get:function(){return(this._data.PeriodHighlighterID??this._data.PM_PeriodHighlighterID??this._data.CalendarGridID??this._data.PM_CalendarGridID)?.toString()}}),c.defineProperty("ViewArea",{get:function(){return this._getPropertyAsNumber(this._data.ViewArea??this._data.PM_ViewArea)}}),e.exports=l},6506:(e,t,i)=>{var a=i(3571),n=i(5674).DisplayedElements,o=i(6998),r=o.ItemType,s=o.ViewType,l=(i(9315),i(8579)),c="rabResourceRowItem",d={construct:function(e,t,i,a,n){"use strict";var o=i.CurveCollapseState;this.rab_curvePanesVisible=o>=0?!o:void 0,this._super(r.Resource,e,t,i,a,void 0,n)},postUpdateSelf:function(){"use strict";var e=!0;if(this.getAPIOption("updateOptimizationEnabled")){var t=this.data();t&&!t.rab_modificationClassification||(e=!1)}e&&(this.rab_heightPropertyHasChanged&&(this._viewModel.registerRowItem(this._viewType,this,!0,!1),delete this.rab_heightPropertyHasChanged),this._super())},isResourceRelevant:function(){return!0},getWrapperHasChildrenPropName:function(e){return"leafRowItems"===e?"HasAllocationRows":this._super(e)},enrichObject:function(){"use strict";this._viewType===s.Loads&&(this.collapsedDisplayedElements=0,this.expandedDisplayedElements=0)},updateFromReference:function(e){"use strict";var t,i=this._super(e),a=this.data(),o=a.model();if(t=e&&e.ignoreCalendar?o._defaultNonWorkingTimeCalendar:o.calendarByResource(a),this.calendar=t?t.nCalendar:void 0,this._viewType!==s.Loads){var r,l=this;if(!e||!e.ignorePeriodHighlighter){for(;null==l.data().PeriodHighlighterID&&(l=l.getHierarchyParent()););r=l&&o.periodHighlighterByID(l.data().PeriodHighlighterID)}this.dateAreas=r&&r.dateAreaDefinitions}this.leavesCollapsible=a.AllocationRowsCollapsible,a.isPseudo()||(this.rowInteractions=a.AllowedRowDragModes),this.collapsedDisplayedElements=a.CollapsedRowDesign,this.expandedDisplayedElements=a.ExpandedRowDesign,this._viewType===s.Loads&&(this.collapsedDisplayedElements&=~n.CalendarGrid,this.expandedDisplayedElements&=~n.CalendarGrid),a.AllocationRowsCollapseState>=0&&(this.leavesInitiallyCollapsed=!!a.AllocationRowsCollapseState);var c=this.minimumHeight,d=this.maximumHeight,u=this.maximumSubRowHeight;this.minimumHeight=a.MinimumRowHeight,this.maximumHeight=a.MaximumRowHeight,this.maximumSubRowHeight=a.MaximumSubRowHeightInTimeArea;var p=this.barsPaneVisible,h=this.rab_curvePanesVisible;return this.barsPaneVisible=a.BarsPaneVisible,null==this.barsPaneVisible&&(this.barsPaneVisible=this.getAPIOption("defaultResourceBarsPaneVisible")),!1===this.barsPaneVisible&&(this.rab_curvePanesVisible=!0),this.rab_heightPropertyHasChanged=this.rab_heightPropertyHasChanged||c!==this.minimumHeight||d!==this.maximumHeight||u!==this.maximumSubRowHeight||p!==this.barsPaneVisible||h!==this.rab_curvePanesVisible,i}},u={};a.nClassFactory.extendClass(u,c,l,d);var p=u[c];e.exports=p},4935:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nDefaultSeparator,r=i(6998),s=r.ItemType,l=r.RAB_ACTIVITIES_PROP_NAME,c=i(7428),d={construct:function(e,t,i){"use strict";this._super(s.Root,e,t,i,void 0,void 0,void 0)},dispose:function(e){"use strict";delete this._removedItemsCache,this._super(e)},clearRemovedItemsCache:function(e){if(this._removedItemsCache){if(e)for(let t of this._removedItemsCache.values())e.disposeUnusedItem(t);this._removedItemsCache.clear()}else this._removedItemsCache=new Map},_createChildAtLast:function(e,t,i,a,n,r,s){"use strict";var l=this;if(l._removedItemsCache){var c=[i.Role,i.ID,r?s:""].join(o),d=l._removedItemsCache.get(c);if(d)return l._removedItemsCache.delete(c),delete d._dbgIsDisposed,void 0!==s?d.construct(s,e,t,i,a,n):d.construct(e,t,i,a,n),d}return r?void 0!==s?new r(s,e,t,i,a):new r(e,t,i,a):l._super(e,t,i,a,n)},_removeChildAtLast:function(e,t,i){"use strict";var a=this;if(a._removedItemsCache||this.clearRemovedItemsCache(),a._removedItemsCache){var n=t.data(),r=[n.Role,n.ID,t.getParentItemPropName&&"rab_rowItem"===t.getParentItemPropName()&&e===l?t.rab_itemType:""].join(o);a._removedItemsCache.set(r,t)}a._super(e,t,i)}},u={};n.extendClass(u,"rabRootRowItem",c,d),e.exports=u.rabRootRowItem},7428:(e,t,i)=>{var a=i(3571),n=i(4219),o={construct:function(e,t,i,a,n,o,r){"use strict";this._super(e,t,i,a,n,o,r)},postUpdateSelf:function(){"use strict";this._super(),!1===this.isBridgeEnabled()&&this._viewModel.registerRowItem(this._viewType,this,!1,!1)},isResourceRelevant:function(){return!1},_getHierarchyParentPrimaryKey:function(e){"use strict";if(e._hierarchyParent)return e._hierarchyParent.getPrimaryKey()},getParentItemPropName:function(){return this||this._super(),"rab_parentRowItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"childRowItems"},detachChildItem:function(e){"use strict";var t=this._super(e),i=e.getChildItemsPropNameInParent();if(this[i]&&!this[i].length){var a=this.data();a&&!a[this.getWrapperHasChildrenPropName(i)]&&delete this[i]}return t},getWrapperHasChildrenPropName:function(){return"HasChildren"},updateFromReference:function(e){"use strict";var t=this,i=this._super(e);return["childRowItems","leafRowItems"].forEach((function(e,i){if(!t[e]||!t[e].length){var a=t.data();t[e]=a&&(i?a.HasAllocationRows:a.HasChildren)?[]:void 0}})),i},needsChildRowItemsUpdate:function(){"use strict";var e=!1,t=this.data();if(this.rab_calendarGridColor!==t.CalendarGridColor&&(this.rab_calendarGridColor=t.CalendarGridColor,t.rab_modificationClassification||(e=!0)),this.rab_tableColor!==t.TableColor&&(this.rab_tableColor=t.TableColor,this.getAPIOption("updateOptimizationEnabled")&&t.rab_modificationClassification||(e=!0)),!e&&this.rab_sourced_contents&&this.rab_sourced_contents.tableCellBackgroundColor){var i=this.rab_sourced_contents.tableCellBackgroundColor[0];i&&i.propertyName&&i.content!=t[i.propertyName]&&(e=!0)}return e},promoteViewArea:function(e){"use strict";this.atTheTop=e}},r={};a.nClassFactory.extendClass(r,"rabRowItem",n,o),e.exports=r.rabRowItem},7546:(e,t,i)=>{var a=i(3571).nClassFactory,n=i(4219),o={postUpdateSelf:function(){"use strict";this._super(),this.isBridgeEnabled()||this._viewModel.registerRowItem(this._viewType,this.getParentItem(),!0,!1)},updateFromReference:function(e){"use strict";var t=this._super(e);return e&&!0===e.updateChildTimeItems&&Array.isArray(this.childTimeItems)&&this.childTimeItems.length>0&&this.childTimeItems.forEach((function(t){t.updateFromReference(e)})),t},updatePropertiesDependentOnParent:function(){this.updateFromReference()},getParentItemPropName:function(){return this||this._super(),"rab_rowItem"},getChildItemsPropNameInParent:function(){return this||this._super(),"timeItems"},calcStartEndX:function(e,t){return{startX:e,endX:t}}},r={};a.extendClass(r,"rabTimeItem",n,o),e.exports=r.rabTimeItem},9921:e=>{e.exports={nwafVersion:"7.8.4",nwafCopyrightYear:"2013-2023",vswVersion:"6.4.4",vswCopyrightYear:"2020-2023"}},4555:(e,t,i)=>{i(7658);var a=i(5549),n=i(3571),o=n.nClass,r=n.nClassFactory,s=n.nResizeSensor,l=i(6998),c=l.ViewType,d=l.RAB_RESOURCES_PROP_NAME,u=l.RAB_CALENDAR_GRIDS_PROP_NAME,p=l.RAB_CALENDARS_PROP_NAME,h=l.RAB_CURVES_PROP_NAME,g=l.RAB_ACTIVITIES_PROP_NAME,m=l.RAB_ALLOCATIONS_PROP_NAME,f=l.RAB_LINKS_PROP_NAME,_=l.RAB_ENTITIES_PROP_NAME,b=l.RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME,v={construct:function(e,t,i){"use strict";this._app=e,this._model=t,this._initOptions(i),this._viewModels={},this._ganttViews={},this._ganttViewsForViewModel={};var a=this.handleAPIOptionChanged.bind(this);["curvePanesVisibleInActivitiesView","nonWorkingTimeVisible","nonWorkingTimesCalendarIDs","activityCalendarsEnabled","linksVisibleInActivitiesView","linksVisibleInResourcesView","defaultAllocationBarDesign","multipleSelectionEnabled","timeStepUnit","timeStepUnitFactor","activityHierarchySupplementaryDefinitionID","entityHierarchySupplementaryDefinitionID","resourceHierarchySupplementaryDefinitionID","resourceHierarchySupplementaryDefinitionIDInLoadsView"].forEach((e=>this.setAPIOptionChangedCallback(e,1,a)))},destroy:function(){"use strict";var e=this;e._resizeSensor?(e._resizeSensor.detach(),delete e._resizeSensor):this._onWindowResizedWithException&&window.removeEventListener("resize",this._onWindowResizedWithException),a.each(e._viewModels,(function(e,t){t.destroy()})),e.ganttViews().forEach((function(e){e.destroy()}))},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},setAPIOptionChangedCallback:function(e,t,i){"use strict";this.app().setAPIOptionChangedCallback(e,t,i)},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"linksVisibleInActivitiesView":case"activityHierarchySupplementaryDefinitionID":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c.Activities&&a.update()}));break;case"linksVisibleInResourcesView":case"resourceHierarchySupplementaryDefinitionID":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c.Resources&&a.update()}));break;case"curvePanesVisibleInActivitiesView":case"activityCalendarsEnabled":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c.Activities&&(a.ganttWidget().invalidateAllRows(),a.update())}));break;case"nonWorkingTimeVisible":case"nonWorkingTimesCalendarIDs":this._showHideNonWorkingTime();break;case"defaultAllocationBarDesign":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c.Resources&&a.ganttWidget().invalidateAllRows(),a.update()}));break;case"multipleSelectionEnabled":this.ganttViews().forEach((function(e){e.ganttWidget().option("timeItemsSelectableByRectangle",t)}));break;case"timeStepUnit":case"timeStepUnitFactor":this.ganttViews().forEach((function(e){e.updateTimeStepUnitAndFactor()}));break;case"entityHierarchySupplementaryDefinitionID":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c._Entities&&a.update()}));break;case"resourceHierarchySupplementaryDefinitionIDInLoadsView":this.ganttViews().forEach((function(a){a.viewModel().handleAPIOptionChanged(e,t,i),a.viewType()===c.Loads&&a.update()}))}},_initOptions:function(e){"use strict";var t={maximumSnapDistance:8,views:{Full:[c.Activities,c.Resources,c.Loads]}};this._options=a.extend({},t,e)},options:function(){"use strict";return a.extend({},this._options)},setOption:function(e,t,i){"use strict";switch(e){case"editable":case"maximumSnapDistance":this.ganttViews().forEach((function(a){a.setOption(e,t,i)}))}},getOption:function(e){return this._options[e]},_getColorValueByViewType:function(e,t){"use strict";if(t){if("string"==typeof t)return t;var i=t[e]||t[-1];return null!=i&&""!==i?i:void 0}},app:function(){return this._app},model:function(){return this._model},init:function(){"use strict";var e=this,t=e._app,i=e._model;e._app.getOption("fullScreenGanttViewElem")&&(e._viewModels.Full=new(t.getOption("viewModelClass"))(t,i,"Full",t.getOption("viewModelOptions")),e._ganttViews.Full=new(t.getOption("ganttViewClass"))(t,e,e._viewModels.Full,t.getOption("fullScreenGanttViewElem"),t.getOption("ganttViewOptions")),e._ganttViewsForViewModel.Full={},Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(c.Activities)>=0&&(e._ganttViewsForViewModel.Full[c.Activities]=e._ganttViews.Full),Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(c.Resources)>=0&&(e._ganttViewsForViewModel.Full[c.Resources]=e._ganttViews.Full),Array.isArray(e._options.views.Full)&&e._options.views.Full.indexOf(c.Loads)>=0&&(e._ganttViewsForViewModel.Full[c.Loads]=e._ganttViews.Full))},initForViewType:function(e){"use strict";var t,i,a=this;(this.ganttViews().forEach((function(e){a.getAPIOption("editable")||e.ganttWidget().option("editable",a.getAPIOption("editable")),a._setColorsToGanttViews(e)})),a._initViewModels(),a._viewModels.Full)&&(void 0!==e&&a._ganttViewsForViewModel.Full[e]?t=e:[c.Activities,c.Resources,c.Loads].forEach((function(e){a._ganttViewsForViewModel.Full[e]&&(void 0===i&&(i=e),null==t&&a._ganttViewsForViewModel.Full[e].viewType()===e&&(t=e))})),void 0!==t?a._ganttViews.Full.init(t):void 0!==i&&a._ganttViews.Full.init(i));a.getAPIOption("nonWorkingTimeVisible")||a._showHideNonWorkingTime(),a._onWindowResizedWithException=function(){try{a._onWindowResized()}catch(e){a._app.getOption("boundHandleExceptionFunc")(e)}},a._onWindowResized();var n=a._app.getOption("widget");n?a._resizeSensor=new s(n.element[0],a._onWindowResizedWithException):window.addEventListener("resize",a._onWindowResizedWithException)},_initViewModels:function(){"use strict";var e=this;a.each(e._viewModels,(function(e,t){t.clear()})),e._viewModels.Full&&(e._ganttViewsForViewModel.Full[c.Activities]&&e._viewModels.Full.init(c.Activities),e._ganttViewsForViewModel.Full[c.Resources]&&e._viewModels.Full.init(c.Resources),(e._ganttViewsForViewModel.Full[c.Activities]||e._ganttViewsForViewModel.Full[c.Resources])&&e._viewModels.Full.init(c._Entities),e._ganttViewsForViewModel.Full[c.Loads]&&e._viewModels.Full.init(c.Loads))},ganttViews:function(){"use strict";var e=[];return this._ganttViews.Full&&e.push(this._ganttViews.Full),e},handleViewTypeSwitch:function(e,t){"use strict";this._setColorsToGanttViews(e,void 0,t,!1)},_setColorsToGanttViews:function(e,t,i){"use strict";var a=this,n=void 0!==i;(e?[e]:a.ganttViews()).forEach((function(e){(t?[t]:["calendarGridColor","timescaleBackgroundColor","timescaleWeekendBackgroundColor","timescaleTextColor","timescaleTickColor","timescaleHighlightingColor","timeAreaBackgroundColor","tableTitleBackgroundColor","tableTitleTextColor","tableTitleColumnSeparatorColor","tableTitleHighlightingColor","entitiesTableTitleBackgroundColor","entitiesTableTitleTextColor","entitiesTableTitleColumnSeparatorColor","entitiesTableTitleHighlightingColor","selectionColor","splitterHighlightingColor","suitableActivityOverlayColor","unsuitableActivityOverlayColor","suitableResourceOverlayColor","unsuitableResourceOverlayColor","objectHighlightingColor","treeViewLineColor","treeViewLineDashArray","entitiesTableTreeViewLineColor","entitiesTableTreeViewLineDashArray"]).forEach((function(t){n&&"object"!=typeof a.getAPIOption("key")||e.setOption(t,a._getColorValueByViewType(n?i:e.viewType(),a._options[t],void 0))}))}))},_onWindowResized:function(){"use strict";var e,t=this._app.options(),i=a(t.widget?t.widget.element[0]:document.body);if(t.ganttViewsContainerElem){(e=a(t.ganttViewsContainerElem)).height(i.outerHeight()-e.offset().top);t.fullScreenGanttViewElem&&function(i){if("visible"===(i=a(t.fullScreenGanttViewElem)).css("visibility")){var n=parseInt(i.css("margin-bottom")),o=parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width"));i.css("height",e.outerHeight()-n-o-(i.offset().top-e.offset().top))}}(a(t.fullScreenGanttViewElem))}},removeAll:function(){"use strict";var e=this;a.each(e._viewModels,(function(t,i){for(var a in e._ganttViewsForViewModel[t]){var n=!1;a=+a;var o=e._ganttViewsForViewModel[t][a];i.beforeRemoveAll(o,a),n||a!==c.Activities&&a!==c.Resources||(n=!0,i.beforeRemoveAll(o,c._Entities))}})),e._model.removeAll(),a.each(e._viewModels,(function(t,i){for(var a in e._ganttViewsForViewModel[t]){var n=!1;a=+a;var o=e._ganttViewsForViewModel[t][a];i.afterRemoveAll(o,a),n||a!==c.Activities&&a!==c.Resources||(n=!0,i.afterRemoveAll(o,c._Entities))}}))},addAllocation:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addAllocation(e,o,n)}})),t.ganttViews().forEach((function(t){t._addAllocation(e)}))},updateAllocation:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.beforeUpdateAllocation(e,o,n)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateAllocation(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateAllocation(e)}))}},removeAllocation:function(e,t){"use strict";var i=this,n=i._model.getChildByPrimaryKey(m,e);n&&(a.each(i._viewModels,(function(e,a){for(var o in i._ganttViewsForViewModel[e]){o=+o;var r=i._ganttViewsForViewModel[e][o];a.removeAllocation(n,r,o,t)}})),i._model.removeAllocation(n),i.ganttViews().forEach((function(e){e._removeAllocation(n)})))},addCalendar:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addCalendar(e,o,n)}})),t.ganttViews().forEach((function(t){t._addCalendar(e)}))},updateCalendar:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateCalendar(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateCalendar(e)}))}},removeCalendar:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(p,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeCalendar(i,o,n)}})),t._model.removeCalendar(i),t.ganttViews().forEach((function(e){e._removeCalendar(i)})))},addCurve:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addCurve(e,o,n)}})),t.ganttViews().forEach((function(t){t._addCurve(e)}))},updateCurve:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateCurve(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateCurve(e)}))}},removeCurve:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(h,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeCurve(i,o,n)}})),t._model.removeCurve(i),t.ganttViews().forEach((function(e){e._removeCurve(i)})))},addResource:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addResource(e,o,n)}})),t.ganttViews().forEach((function(t){t._addResource(e)}))},updateResource:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateResource(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateResource(e)}))}},removeResource:function(e,t){"use strict";var i=this,n=i._model.getChildByPrimaryKey(d,e);n&&(a.each(i._viewModels,(function(e,a){for(var o in i._ganttViewsForViewModel[e]){o=+o;var r=i._ganttViewsForViewModel[e][o];a.removeResource(n,r,o,t)}})),i._model.removeResource(n),i.ganttViews().forEach((function(e){e._removeResource(n)})))},addActivity:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addActivity(e,o,n)}})),t.ganttViews().forEach((function(t){t._addActivity(e)}))},updateActivity:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.beforeUpdateActivity(e,o,n)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateActivity(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateActivity(e)}))}},removeActivity:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(g,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeActivity(i,o,n)}})),t._model.removeActivity(i),t.ganttViews().forEach((function(e){e._removeActivity(i)})))},addLink:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addLink(e,o,n)}})),t.ganttViews().forEach((function(t){t._addLink(e)}))},updateLink:function(e,t){"use strict";var i=this;switch(t){case"before":a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.beforeUpdateLink(e,o,n)}}));break;case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateLink(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateLink(e)}))}},removeLink:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(f,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeLink(i,o,n)}})),t.ganttViews().forEach((function(e){e._removeLink(i)})),t._model.removeLink(i))},addEntity:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addEntity(e,o,n)}})),t.ganttViews().forEach((function(t){t._addEntity(e)}))},updateEntity:function(e,t){"use strict";var i=this;"after"===t&&(a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateEntity(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateEntity(e)})))},removeEntity:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(_,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeEntity(i,o,n)}})),t.ganttViews().forEach((function(e){e._removeEntity(i)})),t._model.removeEntity(i))},addPeriodHighlighter:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addPeriodHighlighter(e,o,n)}})),t.ganttViews().forEach((function(t){t._addPeriodHighlighter(e)}))},updatePeriodHighlighter:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updatePeriodHighlighter(e,o,n)}})),i.ganttViews().forEach((function(t){t._updatePeriodHighlighter(e)}))}},removePeriodHighlighter:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(u,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removePeriodHighlighter(i,o,n)}})),t._model.removePeriodHighlighter(i),t.ganttViews().forEach((function(e){e._removePeriodHighlighter(i)})))},addHierarchySupplementaryDefinition:function(e){"use strict";var t=this;a.each(t._viewModels,(function(i,a){for(var n in t._ganttViewsForViewModel[i]){n=+n;var o=t._ganttViewsForViewModel[i][n];a.addHierarchySupplementaryDefinition(e,o,n)}})),t.ganttViews().forEach((function(t){t._addHierarchySupplementaryDefinition(e)}))},updateHierarchySupplementaryDefinition:function(e,t){"use strict";var i=this;switch(t){case"after":case void 0:a.each(i._viewModels,(function(t,a){for(var n in i._ganttViewsForViewModel[t]){n=+n;var o=i._ganttViewsForViewModel[t][n];a.updateHierarchySupplementaryDefinition(e,o,n)}})),i.ganttViews().forEach((function(t){t._updateHierarchySupplementaryDefinition(e)}))}},removeHierarchySupplementaryDefinition:function(e){"use strict";var t=this,i=t._model.getChildByPrimaryKey(b,e);i&&(a.each(t._viewModels,(function(e,a){for(var n in t._ganttViewsForViewModel[e]){n=+n;var o=t._ganttViewsForViewModel[e][n];a.removeHierarchySupplementaryDefinition(i,o,n)}})),t._model.removeHierarchySupplementaryDefinition(i),t.ganttViews().forEach((function(e){e._removeHierarchySupplementaryDefinition(i)})))},preRender:function(){},render:function(){"use strict";var e=this;a.each(e._viewModels,(function(t,i){for(var a in e._ganttViewsForViewModel[t]){var n=e._ganttViewsForViewModel[t][a];i.update(n,+a)}})),e.ganttViews().forEach((function(e){e.update(!0)}))},scrollToObject:function(e,t,i){"use strict";if(this._ganttViews.Full)return this._ganttViews.Full.scrollToObject(e,t,i)},scrollToDate:function(e,t){"use strict";this.ganttViews().forEach((function(i){i.ganttWidget().scrollTimeAreaViewToDate(e,t)}))},getSelectedObjectsAndType:function(){"use strict";if(this._ganttViews.Full)return this._ganttViews.Full.getSelectedObjectsAndType()},selectOrHighlightObjects:function(e,t,i){"use strict";this.ganttViews().forEach((function(a){a.selectOrHighlightObjects(e,Array.isArray(t)?t:void 0,i)}))},_showHideNonWorkingTime:function(){"use strict";var e=this;e.getAPIOption("nonWorkingTimeVisible")?e._ganttViews.Full&&e._ganttViews.Full.showFullTime():e._ganttViews.Full&&e._ganttViews.Full.hideNonWorkingTime(!0)}},y={};r.extendClass(y,"rabView",o,v),e.exports=y.rabView},8588:(e,t,i)=>{i(7658),i(6699);var a=i(5549),n=i(3571),o=n.nClass,r=n.nClassFactory,s=n.nDataDescriptor,l=n.nDefaultSeparator,c=n.nFunctionDispatcher,d=n.nPropertyComposer,u=n.nStructuralDataDescriptor,p=n.nStructureType,h=i(6998),g=h.ItemType,m=h.ViewType,f=h.ObjectType,_=h.PrimaryKeyInfos,b=h.RAB_ROOT_PROP_NAME,v=h.RAB_RESOURCES_PROP_NAME,y=h.RAB_CURVES_PROP_NAME,A=h.RAB_ACTIVITIES_PROP_NAME,T=h.RAB_ACTIVITY_ENTRIES_PROP_NAME,w=h.RAB_LINKS_PROP_NAME,C=h.RAB_ALLOCATIONS_PROP_NAME,I=h.RAB_ALLOCATION_ENTRIES_PROP_NAME,R=h.RAB_ENTITIES_PROP_NAME,D=h.RelationshipInfos,S=h.RelationshipInfos,O=i(6506),P=i(6772),E=i(2454),M=i(5488),V=(i(4500),i(5326)),B=i(1218),N=i(4669),k=i(8327),W=(i(8270),i(1397)),F=i(3046),L=i(1651),x=i(9472),H=i(4935),j=i(7428),G={[g.ActivityRow]:"r",[g.Resource]:"r",[g.AllocationRow]:"l",[g.Entity]:"e"},U={construct:function(e,t,i,a){"use strict";this._app=e,this._model=t,this._name=i,this._initOptions(a),this._refreshLinksEnabled=!0,this._linksDirty={},this._checkPlacementOfChildItemsSuppressedCounts={r:0,e:0,l:0},this._nextAutoRowInvalidationID=0},destroy:function(){},getAPIOption:function(e){"use strict";return this.app().getAPIOption(e)},handleAPIOptionChanged:function(e,t){"use strict";var i=this;switch(e){case"defaultValuesForActivityProperties":case"defaultValuesForActivityEntryProperties":case"activityCalendarsEnabled":case"activityBaselineBarsVisible":case"defaultActivityBarShape":case"defaultActivityConstraintSymbolColor":case"detailedActivityConstraintSymbolsEnabled":case"defaultActivityProgressBackgroundColor":this._dataDescriptors&&this._dataDescriptors[m.Activities]&&this._model.activities().forEach((function(e){i.updateChild(e,null,m.Activities)}));break;case"defaultValuesForAllocationProperties":case"defaultValuesForAllocationEntryProperties":this._dataDescriptors&&(this._dataDescriptors[m.Activities]||this._dataDescriptors[m.Resources])&&this._model.allocations().forEach((function(e){i._dataDescriptors[m.Activities]&&i.updateChild(e,null,m.Activities),i._dataDescriptors[m.Resources]&&i.updateChild(e,null,m.Resources)}));break;case"defaultValuesForLinkProperties":this._dataDescriptors&&(this._dataDescriptors[m.Activities]||this._dataDescriptors[m.Resources])&&this._model.links().forEach((function(e){i._dataDescriptors[m.Activities]&&i.updateChild(e,null,m.Activities),i._dataDescriptors[m.Resources]&&i.updateChild(e,null,m.Resources)}));break;case"defaultValuesForEntityProperties":this._dataDescriptors&&this._dataDescriptors[m._Entities]&&this._model.entities().forEach((function(e){i.updateChild(e,null,m._Entities)}));break;case"defaultValuesForResourceProperties":this._dataDescriptors&&(this._dataDescriptors[m.Resources]||this._dataDescriptors[m.Loads])&&this._model.resources().forEach((function(e){i._dataDescriptors[m.Resources]&&i.updateChild(e,null,m.Resources),i._dataDescriptors[m.Loads]&&i.updateChild(e,null,m.Loads)}));break;case"defaultAllocationBarDesign":case"defaultAllocationBackgroundColor":case"defaultAllocationConstraintSymbolColor":case"detailedAllocationConstraintSymbolsEnabled":case"defaultAllocationProgressBackgroundColor":case"defaultAllocationBarShape":this._dataDescriptors&&this._dataDescriptors[m.Resources]&&this._model.allocations().forEach((function(e){i.updateChild(e,null,m.Resources)}));break;case"linksVisibleInActivitiesView":this._dataDescriptors&&this._dataDescriptors[m.Activities]&&(t?this._model.links().forEach((function(e){i.addLink(e,null,m.Activities)})):this._model.links().forEach((function(e){i.removeLink(e,null,m.Activities)})));break;case"linksVisibleInResourcesView":this._dataDescriptors&&this._dataDescriptors[m.Resources]&&(t?this._model.links().forEach((function(e){i.addLink(e,null,m.Resources)})):this._model.links().forEach((function(e){i.removeLink(e,null,m.Resources)})));break;case"activityHierarchySupplementaryDefinitionID":this._dataDescriptors&&this._dataDescriptors[m.Activities]&&this._updateGrouping(m.Activities,A,"removeActivities");break;case"entityHierarchySupplementaryDefinitionID":this._dataDescriptors&&this._dataDescriptors[m._Entities]&&this._updateGrouping(m._Entities,R,"removeEntities");break;case"resourceHierarchySupplementaryDefinitionID":this._dataDescriptors&&this._dataDescriptors[m.Resources]&&this._updateGrouping(m.Resources,v,"removeResources");break;case"resourceHierarchySupplementaryDefinitionIDInLoadsView":this._dataDescriptors&&this._dataDescriptors[m.Loads]&&this._updateGrouping(m.Loads,v,"removeResources")}},_updateGrouping:function(e,t,i){"use strict";this.__inUpdateGrouping=!0,this._model.getChildrenArray(t).forEach((function(t){!0===t.isPredefinedPseudoForViewType(e)&&(t.data().__STATE="REMOVE")})),this._items(e,t).forEach((function(e){if(!0!==e.isPseudo()){e.updateFromReference();var t=e.getNonPseudoParentItem();e.recalculateParentItemForGrouping(t)}})),this._removeUnnecessaryPseudoGroups(t,i,e),this.__inUpdateGrouping=!1},_removeUnnecessaryPseudoGroups:function(e,t,i){"use strict";var a=this,n=[];this._model.getChildrenArray(e).forEach((function(e){!0===a.isUnnecessaryPseudoGroup(e,i)&&n.push(e.data())})),this.app()[t](n)},isUnnecessaryPseudoGroup:function(e,t){"use strict";if(!0===e.isPseudoForViewType(t)){var i=this._item(t,e);if(!i)return!0;var a=e.data();if(a.__PARENTLEVEL!==i.getHierarchyLevel())return!0;var n=i.getSimilarChildItems();if(!n||!n.length)return!0!==a.__PREDEFINED||"REMOVE"===a.__STATE;for(var o=0;o<n.length;o++)if(!0!==this.isUnnecessaryPseudoGroup(n[o].data(),t))return!1;return!0}return!1},_initOptions:function(e){"use strict";var t={resourceRowItemClass:O,activityRowItemClass:P,activityFrameTimeItemClass:E,activityTimeItemClass:M,activityReleaseDateTimeItemClass:M,activityDueDateTimeItemClass:M,activityBaselineTimeItemClass:M,activityEntryTimeItemClass:V,allocationRowItemClass:B,allocationTimeItemClass:N,allocationEntryTimeItemClass:k,linkItemClass:W,entityRowItemClass:F,compareRowItemsFunc:null,compareAllocationRowItemsFunc:null,compareEntityRowItemsFunc:null,determineGroupingCodeFunc:null};this._options=a.extend({},t,e)},options:function(){"use strict";return a.extend({},this._options)},setOption:function(e,t,i,a){"use strict";var n=this;if(e in this._options)switch(this._options[e]=t,e){case"compareRowItemsFunc":if(t&&n._dataDescriptors[a]){let e=+a===m.Activities?g.ActivityRow:g.Resource;n._checkPlacementOfAllRowItemsInView(+a,!0,e)}break;case"compareEntityRowItemsFunc":t&&n._dataDescriptors[a]&&n._checkPlacementOfAllRowItemsInView(+a,!0,g.Entity);break;case"compareAllocationRowItemsFunc":t&&n._dataDescriptors[a]&&n._checkPlacementOfAllRowItemsInView(+a,!0,g.AllocationRow)}},getOption:function(e){"use strict";return this._options[e]},checkPlacementOfChildItemsSuppressed:function(e,t){"use strict";var i=this,a=G[t];e?++i._checkPlacementOfChildItemsSuppressedCounts[a]:i._checkPlacementOfChildItemsSuppressedCounts[a]&&--i._checkPlacementOfChildItemsSuppressedCounts[a]||Object.keys(i._dataDescriptors).forEach((function(e){i._checkPlacementOfAllRowItemsInView(+e,!0,t)}))},clear:function(){"use strict";this._rowItemsRoots=[],this._dataDescriptors=[],this.__dataReady=[],this._linksDirty={}},app:function(){return this._app},model:function(){return this._model},name:function(){return this._name},rowItemsRoot:function(e){"use strict";return this._rowItemsRoots[e]},entitiesRowItemsRoot:function(){"use strict";return this._rowItemsRoots[m._Entities]},init:function(e){"use strict";this.initDataDefinition(e),this.createViewItems(e)},isHierarchyInitialized:function(e){return this.__dataReady&&this.__dataReady[e]},reloadOrUnloadRelatedItems:function(e,t,i,a){"use strict";var n=this,o=a.comingFrom;if(this.isHierarchyInitialized(i)&&(!this._isRemovingAllObjectsOfList||!this._isRemovingAllObjectsOfList.includes(o))&&!this.__inUpdateGrouping)if(2===e){let e=[];t.childRowItems&&(e=e.concat(t.childRowItems.slice())),t.leafRowItems&&(e=e.concat(t.leafRowItems.slice())),e&&e.forEach((function(e){n.removeChild(e.data(),null,i)}))}else{let e=this.model().getRelatedObjects(o,t.getPropertyName(),"*",t.getPrimaryKey());e&&e.forEach((function(e){let t=n._item(i,e);t||(t=n.addChild(o,e,null,i))}))}},initDataDefinition:function(e){"use strict";var t,i=this,a=this._dataDescriptors,n=a[e]=a[e]||{};n[b]=new u(b,null);var o=!0;switch(e){case m._Entities:n[R]=new L(this,e,R,this.model().getOption("entityClass"),this._options.entityRowItemClass,_[R],D[R],{structureType:p.Parent,relationshipInfos:D[R][0]},void 0,{enableInheritChangedRelationships:o},{getHierarchySupplementaryDefinitionIDFunc:function(){return i.getHierarchySupplementaryDefinitionID(this._viewType)},getSourceValueForGroupingCodeSourceFunc:function(e,t,a,n,o,r){return i.getSourceValueForGroupingCodeSource(f.Entity,e,t,a,n,o,r)}}),n[b].addSubDescriptor(n[R]);break;case m.Activities:n[A]=new L(this,e,A,this.model().getOption("activityClass"),this._options.activityRowItemClass,_[A],S[A],{structureType:p.Parent,relationshipInfos:S[A][0]},D[C],{enableInheritChangedRelationships:o},{getHierarchySupplementaryDefinitionIDFunc:function(){return i.getHierarchySupplementaryDefinitionID(this._viewType)},getSourceValueForGroupingCodeSourceFunc:function(e,t,a,n,o,r){return i.getSourceValueForGroupingCodeSource(f.Activity,e,t,a,n,o,r)}}),t=new u(T,this._options.activityEntryTimeItemClass,void 0,void 0,void 0,{handleParentItemFunc:function(e,t){return i._findItemOfTypeInArray(e.timeItems[0].childTimeItems,g.Activity)}}),n[A].addSubDescriptor(t),n[b].addSubDescriptor(n[A]),n[C]=new x(this,m.Activities,C,this.model().getOption("allocationClass"),this._options.allocationRowItemClass,_[C],D[C],{structureType:p.Parent,relationshipInfos:D[C][1]},void 0,{enableInheritChangedRelationships:o},{dataValidationFunc:function(e,t){if(i.getAPIOption("allocationRowsVisibleInActivitiesView"))return t}}),t=new u(I,this._options.allocationEntryTimeItemClass,void 0,void 0,void 0,{handleParentItemFunc:function(e,t){return e.timeItems[0]}}),n[C].addSubDescriptor(t),n[b].addSubDescriptor(n[C]),n[w]=new s(w,this._options.linkItemClass,_[w],D[w],{enableInheritChangedRelationships:o},{isActiveFunc:function(){return i.getAPIOption("linksVisibleInActivitiesView")||-1}}),n[b].addSubDescriptor(n[w]);break;case m.Resources:n[v]=new L(this,e,v,this.model().getOption("resourceClass"),this._options.resourceRowItemClass,_[v],S[v],{structureType:p.Parent,relationshipInfos:S[v][0]},D[C],{enableInheritChangedRelationships:o},{getHierarchySupplementaryDefinitionIDFunc:function(){return i.getHierarchySupplementaryDefinitionID(this._viewType)},getSourceValueForGroupingCodeSourceFunc:function(e,t,a,n,o,r){return i.getSourceValueForGroupingCodeSource(f.Resource,e,t,a,n,o,r)},dataValidationFunc:function(e,t){if(t.isValidForViewType(this._viewType))return t}}),n[b].addSubDescriptor(n[v]),n[C]=new x(this,e,C,this.model().getOption("allocationClass"),this._options.allocationRowItemClass,_[C],D[C],{structureType:p.Parent,relationshipInfos:D[C][0]},void 0,{_additionallyUpdateChildTimeItems:i._getAdditionallyUpdateChildTimeItemsFlag(),_checkPlacement:!0,enableInheritChangedRelationships:o}),n[b].addSubDescriptor(n[C]),t=new u(I,this._options.allocationEntryTimeItemClass,void 0,void 0,void 0,{handleParentItemFunc:function(e,t){return e.timeItems[0]}}),n[C].addSubDescriptor(t),n[w]=new s(w,this._options.linkItemClass,_[w],D[w],{enableInheritChangedRelationships:o},{isActiveFunc:function(){return i.getAPIOption("linksVisibleInResourcesView")||-1}}),n[b].addSubDescriptor(n[w]);break;case m.Loads:n[v]=new L(this,e,v,this.model().getOption("resourceClass"),this._options.resourceRowItemClass,_[v],D[v],{structureType:p.Parent,relationshipInfos:D[v][0]},void 0,{enableInheritChangedRelationships:o},{getHierarchySupplementaryDefinitionIDFunc:function(){return i.getHierarchySupplementaryDefinitionID(this._viewType)},getSourceValueForGroupingCodeSourceFunc:function(e,t,a,n,o,r){return i.getSourceValueForGroupingCodeSource(f.Resource,e,t,a,n,o,r)},dataValidationFunc:function(e,t){if(t.isValidForViewType(this._viewType))return t}}),n[b].addSubDescriptor(n[v])}},getSourceValueForGroupingCodeSource:function(e,t,i,a,n,o,r){"use strict";let s=this.getOption("determineGroupingCodeFunc");if(s){var l={};return l.objectType=e,l.object=t,l.hierarchySupplementaryDefinitionID=a.ID,l.hierarchySupplementaryLevelDefinitionIndex=n,l.groupingLevelDefinition=i.data(),l.groupingLevelDefinitionIndex=o,l.code=t[i.GroupingCodeSource],s.call(this,l),r.text=l.text,l.code}return t[i.GroupingCodeSource]},getHierarchySupplementaryDefinitionID:function(e){"use strict";switch(e){case m.Activities:return this.getAPIOption("activityHierarchySupplementaryDefinitionID");case m._Entities:return this.getAPIOption("entityHierarchySupplementaryDefinitionID");case m.Resources:return this.getAPIOption("resourceHierarchySupplementaryDefinitionID");case m.Loads:return this.getAPIOption("resourceHierarchySupplementaryDefinitionIDInLoadsView")}},_getAdditionallyUpdateChildTimeItemsFlag:function(){return!1},_saveAncestorItems:function(e){"use strict";var t=this;t._temporaryAncestorItemsByRowID||(t._temporaryAncestorItemsByRowID={});for(var i=t._temporaryAncestorItemsByRowID[(e.Role||"")+l+e.ID]=[],a=e.rab_parentRowItem;a;a=a.rab_parentRowItem)i.push(a)},_checkChildItemsArraysInAncestors:function(){"use strict";if(this._temporaryAncestorItemsByRowID){var e={};Object.values(this._temporaryAncestorItemsByRowID).forEach((t=>{for(var i;i=t.pop();){var a=(i.Role||"")+l+i.ID;e[a]||(e[a]=!0,i.data()&&!i.data().HasChildren&&["childRowItems","leafRowItems"].forEach((function(e){i[e]&&!i[e].length&&delete i[e]})))}}))}},_determineCompareRowItemsOptionName:function(e){return{[g.ActivityRow]:"compareRowItemsFunc",[g.Resource]:"compareRowItemsFunc",[g.Entity]:"compareEntityRowItemsFunc",[g.AllocationRow]:"compareAllocationRowItemsFunc"}[e]},_checkPlacementInChildItemsOfParent:function(e,t){"use strict";var i=this,a=G[e.rab_itemType];if(!i._checkPlacementOfChildItemsSuppressedCounts[a]){let a=i.getOption(i._determineCompareRowItemsOptionName(e.rab_itemType));if(a){var n=(h=e.rab_parentRowItem)[h.getChildItemsPropNameInParent()],o=n?n.indexOf(e):-1;o<0&&(o=(n=h.leafRowItems).indexOf(e)),n.splice(o,1),o-=.5;for(var r=0,s=n.length-1,c={itemB:e,viewType:t};r<=s;){var d=(r+s)/2|0;c.itemA=n[d],c.isALowerThanB=d<o,!e.atTheTop!=!c.itemA.atTheTop?c.isALowerThanB=!e.atTheTop:e.isPseudo()!==c.itemA.isPseudo()?c.isALowerThanB=!e.isPseudo():a.call(this,c),null==c.isALowerThanB&&(c.isALowerThanB=d<o),c.isALowerThanB?r=d+1:s=d-1}var u=Math.max(r,s);n.splice(u,0,e)}else if(i._temporaryAncestorItemsByRowID){var p=i._temporaryAncestorItemsByRowID[(e.Role||"")+l+e.ID];if(p){var h=e.rab_parentRowItem;p.every((function(t,i){if(t===h){var a=h[h.getChildItemsPropNameInParent()],n=a?a.indexOf(e):-1;n<0&&(n=(a=h.leafRowItems).indexOf(e));var o=a.indexOf(p[i+1]);return o>=0&&(a.splice(n,1),a.splice(o+1,0,e)),!1}return!0}))}}}},_checkPlacementOfAllRowItemsInView:function(e,t,i){"use strict";var a=this;const n={[m.Activities]:g.ActivityRow,[m.Resources]:g.Resource,[m.Loads]:g.Resource,[m._Entities]:g.Entity};if(a._rowItemsRoots[e]){var o=[m.Activities,m.Resources].includes(e)&&i===g.AllocationRow;if(o?i=e===m.Activities?g.ActivityRow:g.Resource:null==i&&(i=n[e]),n[e]===i){var r=a._rowItemsRoots[e];if(r){var s=!o&&!a._checkPlacementOfChildItemsSuppressedCounts[e===m._Entities?"e":"r"]&&a.getOption(a._determineCompareRowItemsOptionName(i)),l=!a._checkPlacementOfChildItemsSuppressedCounts.l&&a.getOption(a._determineCompareRowItemsOptionName(g.AllocationRow));if(s||l){var c=[];do{["childRowItems","leafRowItems"].forEach((function(t){var i=r[t];if(i){let n="childRowItems"===t?s:l;n&&i.length>1&&i.sort((function(t,o){if(t===o)return 0;if(!t.atTheTop!=!o.atTheTop)return t.atTheTop?-1:1;var r={itemA:t,itemB:o,viewType:e,isALowerThanB:i.indexOf(t)<i.indexOf(o)};return n.call(a,r),r.isALowerThanB?-1:1})),"childRowItems"===t&&Array.prototype.push.apply(c,i)}}))}while(r=c.pop());if(t){a.registerRowItem(e,a._rowItemsRoots[e],!1,!0);for(var d=a._app.view()?a._app.view().ganttViews():[],u=0;u<d.length;u++)if(d[u].viewType()===e){a.autoInvalidateRows(d[u],e);break}}}}}}},createViewItems:function(e){"use strict";var t=this._dataDescriptors[e];this.__dataReady[e]=!1;let i=e===m._Entities?"compareEntityRowItemsFunc":"compareRowItemsFunc";this.getOption(i)&&++this._checkPlacementOfChildItemsSuppressedCounts[e===m._Entities?"e":"r"],this._rowItemsRoots[e]=new H(e,this,this._model),this._rowItemsRoots[e].initHierarchy(this._model,t[b]),this.__dataReady[e]=!0,this.enableRegisterRowItems(e,!0),this.getOption(i)&&!--this._checkPlacementOfChildItemsSuppressedCounts[e===m._Entities?"e":"r"]&&this._checkPlacementOfAllRowItemsInView(e,!1)},resourceItem:function(e,t){return this._item(e,t)},resourceItems:function(e){return this._items(e,v)},resourceByItem:function(e){"use strict";return e.rab_itemType===g.Resource?e.data():e.rab_itemType===g.ActivityRow&&this.getAPIOption("curvePanesVisibleInActivitiesView")?this._resourceByActivity(e.data()):void 0},_resourceByActivity:function(e){"use strict";return this._getCorrespondingWrapperViaAllocation(v,e)},_activityByResource:function(e){"use strict";return this._getCorrespondingWrapperViaAllocation(A,e)},_getCorrespondingWrapperViaAllocation:function(e,t){"use strict";var i=this.model(),a=i.getRelatedObjects(C,t.getPropertyName(),"*",t.getPrimaryKey());if(a&&a.length){var n=a[0].getRelationshipInfoTo(e);return i.getRelatedWrapperByRelationshipInfo(a[0],n)}},activityItem:function(e,t){return this._item(e,t)},activityItems:function(e){return this._items(e,A)},linkItem:function(e,t,i){"use strict";if((e===m.Activities&&this.getAPIOption("linksVisibleInActivitiesView")||e===m.Resources&&this.getAPIOption("linksVisibleInResourcesView"))&&!i)return this._item(e,t)},linkItems:function(e,t){"use strict";switch(e){case m.Activities:if(this.getAPIOption("linksVisibleInActivitiesView"))return this._items(e,w);break;case m.Resources:if(this.getAPIOption("linksVisibleInResourcesView")){if(this.getAPIOption("definedAllocationLinksVisibleInResourcesView"))return this._items(e,w);var i=this._items(e,w);if(t)return i;var a=[];return i.forEach((function(e){e._linkItems&&(a=a.concat(e._linkItems))})),a}}},refreshLinks:function(e){"use strict";if(!0===this._refreshLinksEnabled){var t=this.linkItems(e,!0);t&&t.length&&t.forEach((function(e){e.updateFromReference({linkItems:!0})}))}},allocationItem:function(e,t){return this._item(e,t)},allocationByItem:function(e){"use strict";return e.rab_itemType===g.Allocation?e.data():e.rab_itemType===g.AllocationEntry?e.data().getHierarchyParent():void 0},allocationItems:function(e){return this._items(e,C)},entityItem:function(e,t){if(e===m.Activities||e===m.Resources)return this._item(m._Entities,t)},entityItems:function(e){if(e===m.Activities||e===m.Resources)return this._items(m._Entities,R)},_createItem:function(e,t,i,n,o){"use strict";var r=this,s=null;switch(t){case g.Resource:break;case g.ActivityFrame:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.activityFrameTimeItemClass);break;case g.Activity:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.activityTimeItemClass,t);break;case g.ActivityDueDate:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.activityDueDateTimeItemClass,t);break;case g.ActivityReleaseDate:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.activityReleaseDateTimeItemClass,t);break;case g.ActivityBaseline:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.activityBaselineTimeItemClass,t);break;case g.Link:m.Resources,s=new r._options.linkItemClass(e,this,n,void 0,void 0);break;case g.Allocation:s=this._rowItemsRoots[e]._createChildAtLast(e,this,n,i,null,r._options.allocationTimeItemClass)}return s&&o&&a.extend(s,o),s},addActivity:function(e,t,i){"use strict";if(i===m.Resources)this.getAPIOption("decouplingOfAllocationPropertiesFromActivities")||this._invalidateAllocationItemsRelatedToActivity(i,e),this.getAPIOption("linksVisibleInResourcesView")&&this._invalidateLinkItemsRelatedToActivity(e,i);else if(i===m.Activities){var a=this.addChild(A,e,t,i);return this.getAPIOption("linksVisibleInActivitiesView")&&this._invalidateLinkItemsRelatedToActivity(e,i),a}},beforeUpdateActivity:function(){},updateActivity:function(e,t,i){"use strict";i===m.Resources?this.getAPIOption("decouplingOfAllocationPropertiesFromActivities")||this._invalidateAllocationItemsRelatedToActivity(i,e):i===m.Activities&&(this.__relationshipChanged=0,this._updateRowObject(e,t,i),this.getAPIOption("allocationRowsVisibleInActivitiesView")&&!this.getAPIOption("decouplingOfAllocationPropertiesFromActivities")&&this._invalidateAllocationItemsRelatedToActivity(i,e),this.__relationshipChanged>0&&this.getHierarchySupplementaryDefinitionID(i)&&this._removeUnnecessaryPseudoGroups(A,"removeActivities",i),delete this.__relationshipChanged)},removeActivity:function(e,t,i,a){"use strict";if(i===m.Resources)this.getAPIOption("linksVisibleInResourcesView")&&this._invalidateLinkItemsRelatedToActivity(e,i),this.getAPIOption("decouplingOfAllocationPropertiesFromActivities")||this._invalidateAllocationItemsRelatedToActivity(i,e);else if(i===m.Activities){if(a){var n=this.activityItem(i,e);n&&(delete n.childRowItems,delete n.leafRowItems)}this.getAPIOption("linksVisibleInActivitiesView")&&this._invalidateLinkItemsRelatedToActivity(e,i),this.removeChild(e,t,i),a||this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItemsByRowID}},addAllocation:function(e,t,i){"use strict";var a=i===m.Resources,n=i===m.Activities&&this.getAPIOption("allocationRowsVisibleInActivitiesView");if(a||n){var o=this.addChild(C,e,t,i);if(o)return o.rab_itemType===g.AllocationRow&&this.registerRowItem(i,o.rab_parentRowItem,!0,!0),(i===m.Activities&&this.getAPIOption("linksVisibleInActivitiesView")||i===m.Resources&&this.getAPIOption("linksVisibleInResourcesView"))&&this._invalidateLinkItemsRelatedToAllocation(e,i),o}},beforeUpdateAllocation:function(){},updateAllocation:function(e,t,i){"use strict";var a=i===m.Resources,n=i===m.Activities&&this.getAPIOption("allocationRowsVisibleInActivitiesView");(a||n)&&this.updateChild(e,t,i)},removeAllocation:function(e,t,i,a,n){"use strict";var o=i===m.Resources,r=i===m.Activities&&(n||this.getAPIOption("allocationRowsVisibleInActivitiesView"));if((o||r)&&(this.removeChild(e,t,i,a),(i===m.Activities&&this.getAPIOption("linksVisibleInActivitiesView")||i===m.Resources&&this.getAPIOption("linksVisibleInResourcesView"))&&this._invalidateLinkItemsRelatedToAllocation(e,i),a)){var s=this.allocationItem(i,e);s&&delete s.timeItems}},addResource:function(e,t,i){"use strict";if(i===m.Resources||i===m.Loads)return this.addChild(v,e,t,i)},updateResource:function(e,t,i){"use strict";i!==m.Resources&&i!==m.Loads||(this.__relationshipChanged=0,this._updateRowObject(e,t,i),this.__relationshipChanged>0&&this.getHierarchySupplementaryDefinitionID(i)&&this._removeUnnecessaryPseudoGroups(v,"removeResources",i),delete this.__relationshipChanged)},_updateRowObject:function(e,t,i){"use strict";var a=this,n=i===m._Entities?t.entitiesTableWidget():t.ganttWidget(),o=a._item(i,e),r=i===m._Entities?!!n:i===t.viewType(),s=!o;if(o||(a.updateChild(e,t,i),o=a._item(i,e)),o){var l=o.atTheTop;let u=function(){var n=G[o.rab_itemType],l=a._determineCompareRowItemsOptionName(o.rab_itemType),c=a.getOption(l);if(c&&++a._checkPlacementOfChildItemsSuppressedCounts[n],!s){var d=o.calendar,u=o.dateAreas;a.updateChild(e,t,i);let n=o;if(o=a._item(i,e))if(r)o!==n||c?a.registerRowItem(i,o.rab_parentRowItem,!1,!0):o.calendar===d&&o.dateAreas===u||a.registerRowItem(i,o,!1,!0);else if(o.rab_itemType===g.Resource&&(o.calendar!==d||o.dateAreas!==u)&&t.viewType()===m.Activities&&a.getAPIOption("allocationRowsVisibleInActivitiesView")){a.model().getRelatedObjects(C,v,"*",o.getPrimaryKey())?.forEach((e=>{let t=a.allocationItem(m.Activities,e);t&&(t.updateFromReference(),a.registerRowItem(m.Activities,t,!1,!1))}))}}return c&&!--a._checkPlacementOfChildItemsSuppressedCounts[n]&&o&&a._checkPlacementInChildItemsOfParent(o,i),o||null};r?n.invalidateRowsForTreeViewUpdate(o,u):u(),a._checkChildItemsArraysInAncestors();var c=a._invalidateRelatedChildRows(e,t,i);if(o){var d=o.atTheTop;l!==d&&(o.promoteViewArea(d),c||a.registerRowItem(i,o,!1,!0))}}delete a._temporaryAncestorItemsByRowID},removeResource:function(e,t,i,a){"use strict";if(i===m.Resources||i===m.Loads){if(a){var n=this.resourceItem(i,e);n&&(delete n.childRowItems,delete n.leafRowItems)}this.removeChild(e,t,i,a),a||this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItemsByRowID}},addCalendar:function(e,t,i){this._updateRowObjectsByCalendar(e,i)},updateCalendar:function(e,t,i){this._updateRowObjectsByCalendar(e,i)},removeCalendar:function(e,t,i){this._updateRowObjectsByCalendar(e,i,!0)},_updateRowObjectsByCalendar:function(e,t,i){"use strict";var a;i&&((a={}).ignoreCalendar=i),this._updateRowObjectsByCalendarOrCalendarGrid(e,t,a)},_updateRowObjectsByCalendarOrCalendarGrid:function(e,t,i){"use strict";var a=this;if((t!==m.Activities||a.getAPIOption("activityCalendarsEnabled"))&&this.updateRowObjectsByWrapperWithCache(e,t,(function(e){e.updateFromReference(i),a.registerRowItem(t,e,!1,!0)})),t===m.Activities&&a.getAPIOption("allocationRowsVisibleInActivitiesView")){var n=this.model(),o=n.getRelatedObjects(v,e.getPropertyName(),"*",e.getPrimaryKey());o&&o.forEach((function(e){var o=n.getRelatedObjects(C,v,"*",e.getPrimaryKey());o&&o.forEach((function(e){var n=a.allocationItem(t,e);n&&(n.updateFromReference(i),a.registerRowItem(t,n,!1,!1))}))}))}},updateRowObjectsByWrapperWithCache:function(e,t,i){"use strict";var a=this,n=t===m.Activities?A:v,o=this.model().getRelatedObjects(n,e.getPropertyName(),"*",e.getPrimaryKey());o&&o.forEach((function(e){var n=a._item(t,e);n&&c.each(n,i)}))},addCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},updateCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},removeCurve:function(e,t,i){this.updateRowObjectsByCurve(e,t,i)},updateRowObjectsByCurve:function(e,t,i){"use strict";var a=this;if(i!==m.Activities||this.getAPIOption("curvePanesVisibleInActivitiesView")){var n=i===m.Activities,o=this.model().getRelatedObjectsWithIndirection(v,y,e);o&&o.forEach((function(e){e.curvesChanged();var t=void 0;if(n){var o=a._activityByResource(e);o&&(t=a.activityItem(i,o))}else t=a.resourceItem(i,e);t&&c.each(t,(function(e){a.registerRowItem(i,e,!1,!1)}))}))}},addLink:function(e,t,i){"use strict";if(i===m.Activities||i===m.Resources)return this.addChild(w,e,t,i)},beforeUpdateLink:function(){},updateLink:function(e,t,i){"use strict";i!==m.Activities&&i!==m.Resources||this.updateChild(e,t,i)},removeLink:function(e,t,i){"use strict";i!==m.Activities&&i!==m.Resources||this.removeChild(e,t,i)},addEntity:function(e,t,i){"use strict";if(i===m.Activities||i===m.Resources)return this.addChild(R,e,t,m._Entities)},updateEntity:function(e,t,i){"use strict";i===m.Activities&&(this.__relationshipChanged=0,this._updateRowObject(e,t,m._Entities),this.__relationshipChanged>0&&this.getHierarchySupplementaryDefinitionID(i)&&this._removeUnnecessaryPseudoGroups(R,"removeEntities",m._Entities),delete this.__relationshipChanged)},removeEntity:function(e,t,i,a){"use strict";if(i===m.Activities||i===m.Resources){if(a){var n=this.entityItem(i,e);n&&(delete n.childRowItems,delete n.leafRowItems)}this.removeChild(e,t,m._Entities),a||this._checkChildItemsArraysInAncestors(),delete this._temporaryAncestorItemsByRowID}},addPeriodHighlighter:function(e,t,i){this._updateRowObjectsByPeriodHighlighter(e,i)},updatePeriodHighlighter:function(e,t,i){this._updateRowObjectsByPeriodHighlighter(e,i)},removePeriodHighlighter:function(e,t,i){this._updateRowObjectsByPeriodHighlighter(e,i,!0)},_updateRowObjectsByPeriodHighlighter:function(e,t,i){"use strict";var a;i&&((a={}).ignorePeriodHighlighter=i),this._updateRowObjectsByCalendarOrCalendarGrid(e,t,a)},addHierarchySupplementaryDefinition:function(e,t,i){this.updateHierarchyByHierarchySupplementaryDefinition(e,t,i)},updateHierarchySupplementaryDefinition:function(e,t,i){this.updateHierarchyByHierarchySupplementaryDefinition(e,t,i)},removeHierarchySupplementaryDefinition:function(e,t,i){this.updateHierarchyByHierarchySupplementaryDefinition(e,t,i)},updateHierarchyByHierarchySupplementaryDefinition:function(e,t,i){"use strict";if(this._dataDescriptors&&this._dataDescriptors[i]&&e&&e.ID)switch(i){case m.Activities:e.ID===this.getHierarchySupplementaryDefinitionID(i)&&this._updateGrouping(i,A,"removeActivities"),this.getAPIOption("entitiesTableVisibleInActivitiesView")&&this.updateHierarchyByHierarchySupplementaryDefinition(e,t,m._Entities);break;case m._Entities:e.ID===this.getHierarchySupplementaryDefinitionID(i)&&this._updateGrouping(i,R,"removeEntities");break;case m.Resources:e.ID===this.getHierarchySupplementaryDefinitionID(i)&&this._updateGrouping(i,v,"removeResources"),this.getAPIOption("entitiesTableVisibleInResourcesView")&&this.updateHierarchyByHierarchySupplementaryDefinition(e,t,m._Entities);break;case m.Loads:e.ID===this.getHierarchySupplementaryDefinitionID(i)&&this._updateGrouping(i,v,"removeResources")}},addChild:function(e,t,i,a){"use strict";var n=this._rowItemsRoots[a];if(n)return n.addOrRemoveChildWithParentSearch(1,e,t)},updateChild:function(e,t,i){"use strict";var a=this._rowItemsRoots[i];if(a){var n=this._item(i,e);if(n)if(Array.isArray(n))n.slice().forEach((function(t){a.updateChild(t,e)}));else a.updateChild(n,e);else this.addChild(e.getPropertyName(),e,t,i)}},removeChild:function(e,t,i,a){"use strict";var n=this._rowItemsRoots[i];if(n){var o=this._item(i,e);if(o){var r=e.getPropertyName();if(a&&(this._isRemovingAllObjectsOfList=[r],r==v?this._isRemovingAllObjectsOfList.push(C,I):r==A?this._isRemovingAllObjectsOfList.push(C,T):r===C&&this._isRemovingAllObjectsOfList.push(I)),Array.isArray(o))o.slice().forEach((function(e){n.addOrRemoveChildWithParentSearch(2,r,e)}));else n.addOrRemoveChildWithParentSearch(2,r,o);a&&delete this._isRemovingAllObjectsOfList}}},beforeRemoveAll:function(e,t){"use strict";if(this._rowItemsRoots[t]){var i=this._dataDescriptors[t];e.viewType()===t&&e._beforeRemoveAll(),this.enableRegisterRowItems(t,!1),this._rowItemsRoots[t].initHierarchy(null,i[b])}},afterRemoveAll:function(e,t){"use strict";this._rowItemsRoots[t]&&(this.__dataReady[t]=!1,this._rowItemsRoots[t].dispose(),delete this._rowItemsRoots[t],e.viewType()===t&&e._afterRemoveAll())},registerRowItem:function(e,t,i,a){"use strict";if(t&&this.isRegisterRowItemsEnabled(e)){if(!(t instanceof j))return;if(t instanceof B&&(i=!0,e===m.Resources||e===m.Activities)){let i=t.rab_parentRowItem;if(!i||!i.data())return;(!this.getAPIOption(e===m.Resources?"allocationRowsVisibleInResourcesView":"allocationRowsVisibleInActivitiesView")||i.data().AllocationRowsCollapseState>0)&&(t=i,a=!0)}this.registeredRowItemsMap||(this.registeredRowItemsMap={});var n=this.registeredRowItemsMap[e];if(n||(n=this.registeredRowItemsMap[e]=new Map),t===this._rowItemsRoots[e])n.clear(),n.set("root",!0);else if(!n.has("root")){void 0===t.rab_autoInvalidationID&&(t.rab_autoInvalidationID=this._nextAutoRowInvalidationID++);var o=n.get(t.rab_autoInvalidationID);o?(o.barsChanged|=i,o.childRowsChanged|=a):n.set(t.rab_autoInvalidationID,{rowItem:t,barsChanged:i,childRowsChanged:a})}}},invalidateAllRowsIfEmpty:function(e){"use strict";var t=this,i=e.viewType(),a=t._rowItemsRoots[i];!a||a.childRowItems&&a.childRowItems.length||t.registerRowItem(i,a,!1,!0);var n=t._rowItemsRoots[m._Entities];!n||n.childRowItems&&n.childRowItems.length||t.registerRowItem(i,n,!1,!0)},autoInvalidateRows:function(e,t){e&&this._doAutoInvalidateRows(e,t)},_doAutoInvalidateRows:function(e,t){"use strict";if(t===m._Entities||e.viewType()!==t||t!==m.Activities&&t!==m.Resources||this.autoInvalidateRows(e,m._Entities),this.isRegisterRowItemsEnabled(t)&&this.registeredRowItemsMap){var i;t!==m._Entities&&e.viewType()===t&&(i=e.ganttWidget().selectedTimeItems());var a=this.registeredRowItemsMap[t];if(a?.size){if(t===m._Entities||e.viewType()===t){var n=this._rowItemsRoots[t],o=t!==m._Entities?e.ganttWidget():e.isEntitiesTableVisible()&&e.entitiesTableWidget();if(o&&o.options.rowItemsRoot)if(a.has("root"))t!==m._Entities?e.invalidateRow(n,!0,!0):e.invalidateEntityRow(n,!0);else{var r;do{r=!1;for(let e of a.values()){let t=e.rowItem;if(!e.deleted&&!e.barsChanged){let i=t.getParentItem();if(i&&void 0!==i.rab_autoInvalidationID){var s=a.get(i.rab_autoInvalidationID);s&&(s.childRowsChanged||s.deleted)&&(e.deleted=!0,s.barsChanged|=e.barsChanged,r=!0)}}}}while(r);for(let i of a.values())if(!i.deleted){let a=i.rowItem,n=a.getParentItem();if(n){if(void 0===o.isRowHidden(a)){if(void 0===o.isRowHidden(n))return;a=n,i.childRowsChanged=!0,i.barsChanged=!1}if(t!==m._Entities){var l=i.barsChanged?o.getVisibleParent(a):a;e.invalidateRow(l,i.barsChanged,i.childRowsChanged||l!==a)}else e.invalidateEntityRow(a,i.childRowsChanged)}}}}delete this.registeredRowItemsMap[t]}i&&i.length&&e.ganttWidget().selectedTimeItems(i)}},clearRegisteredRowItems:function(e){"use strict";this.isRegisterRowItemsEnabled(e)&&(this.enableRegisterRowItems(e,!1),this.enableRegisterRowItems(e,!0))},enableRegisterRowItems:function(e,t){"use strict";var i=this.registerRowItemsEnabled;i||(i=this.registerRowItemsEnabled={});var a=i[e]||!1;return i[e]=t,!t&&this.registeredRowItemsMap?.[e]&&delete this.registeredRowItemsMap[e],a},isRegisterRowItemsEnabled:function(e){"use strict";return this.registerRowItemsEnabled?.[e]},_findItemOfTypeInArray:function(e,t){"use strict";if(e)return e.reduce((function(e,i){return!e&&i&&(i.rab_subItemType?i.rab_subItemType===t:i.rab_itemType===t)?i:e}),null)||void 0},_updateTimeItem:function(e,t,i,a,n){"use strict";var o=e.rab_itemType===g.ActivityFrame?e.childTimeItems:e.timeItems,r=this._findItemOfTypeInArray(o,t);r&&!a?o.splice(o.indexOf(r),1):a&&(r||(r=this._createItem(i,t,e,e.data())),n.call(this,r))},_item:function(e,t,i){"use strict";let a=this._rowItemsRoots[e];if(a&&t){var n=t.getPropertyName();if(n){var o=a.getChildrenDepository(n);if(o){var r=t.detectExtendedPrimaryKey();return o.getObjectByPrimaryKey(r)}}}},_items:function(e,t){"use strict";let i=this._rowItemsRoots[e];if(i&&t){var a=i.getChildrenDepository(t);if(a)return a.getArray()}},getTopmostItem:function(e){"use strict";var t=e.getParentItem();return t&&t.rab_itemType!==g.Root?this.getTopmostItem(t):e},_invalidateAllocationItemsRelatedToActivity:function(e,t){"use strict";var i=this,a=e===m.Resources;function n(t,n){let o=a&&t.getPossiblyActivityDependentPropValues(!1);t.updateFromReference({updateChildTimeItems:!0});let r=a&&t.getPossiblyActivityDependentPropValues(!0);a&&!Object.keys(o).every((e=>o[e]===r[e]))&&i.registerRowItem(e,n?t.getParentItem():t,!0,!1)}if(this._rowItemsRoots[e])if(a){var o=t.getPrimaryKey(),r=this.getAPIOption("allocationRowsVisibleInResourcesView");i.model().getRelatedObjects(C,A,"*",o)?.forEach((function(t){let a=i.allocationItem(e,t);a&&n(a,r)}))}else if(e===m.Activities){i.activityItem(e,t)?.leafRowItems?.forEach((function(e){n(e,!1)}))}},__invalidateLinkItemsRelatedToActivityOrAllocation:function(e,t,i){"use strict";var a,n=this,o=this.model().getRelatedObjects(w,e,"*",t);o&&o.forEach((function(e){a||(a=n._linksDirty[i])||(a=n._linksDirty[i]={});var t=e.getPrimaryKey();a[t]||(a[t]=!0)}))},_invalidateLinkItemsRelatedToActivity:function(e,t){"use strict";this._rowItemsRoots[t]&&this.__invalidateLinkItemsRelatedToActivityOrAllocation(A,e.getPrimaryKey(),t)},_invalidateLinkItemsRelatedToAllocation:function(e,t){"use strict";if(this._rowItemsRoots[t]){var i,a;switch(t){case m.Activities:this.getAPIOption("definedAllocationLinksVisibleInActivitiesView")&&(i=e.getPrimaryKey(),a=C);break;case m.Resources:this.getAPIOption("definedAllocationLinksVisibleInResourcesView")?(i=e.getPrimaryKey(),a=C):(i=d.compose(e,["ActivityRole","ActivityID"]),a=A)}i&&this.__invalidateLinkItemsRelatedToActivityOrAllocation(a,i,t)}},_invalidateRelatedChildRows:function(e,t,i){"use strict";var a=this._item(i,e);if(a&&a.needsChildRowItemsUpdate())return this.registerRowItem(i,a,!1,!0),!0},update:function(e,t){"use strict";var i=this;if(i.__dataReady[t])i._rowItemsRoots[t].clearRemovedItemsCache(t===m._Entities?e.entitiesTableWidget():e.ganttWidget());else{var a=!1;i.init(t),t!==m._Entities&&(i._app.determineVisibilityOfObjects(e),e.updateAllRowHeights(t),i.__dataReady[m._Entities]||(i.init(m._Entities),a=!0)),e.viewType()===t&&e.ganttWidget().option("rowItemsRoot",i._rowItemsRoots[t]),a&&e.entitiesTableWidget()?e.entitiesTableWidget().option("rowItemsRoot",i._rowItemsRoots[m._Entities]):t===m._Entities&&e.entitiesTableWidget()&&e.entitiesTableWidget().option("rowItemsRoot",i._rowItemsRoots[t])}e.viewType()===t&&i.autoInvalidateRows(e,t);var n=i._linksDirty[t];if(n){var o=i._rowItemsRoots[t].getChildrenDepository(w);o&&(Object.keys(n).forEach((function(e){var t=o.getObjectByPrimaryKey(e);t&&t.updateFromReference()})),delete i._linksDirty[t])}},determineVisibilityOfRowsInView:function(e,t,i,a){"use strict";var n,o=this,r=function(e,t,i,a){0!==t&&e.rab_itemType===g.AllocationRow&&e.rab_parentRowItem.rab_hidden&&(t=0),a&&(e.oldTotalHeight=e.totalHeight),t!==e.totalHeight&&(i.push(e),e.rab_hidden=0===t,0===t?e.totalHeight=0:delete e.totalHeight)},s=e.viewType(),l=i===g.Entity?m._Entities:i===g.ActivityRow?m.Activities:m.Resources,c=i===g.Entity?!!e.entitiesTableWidget():s===l,d=s===m.Loads,u=o.isHierarchyInitialized(l),p=i===g.AllocationRow?u?o.allocationItems(l):[]:u?i===g.Entity?o.entityItems(s):i===g.ActivityRow?o.activityItems(l):o.resourceItems(l):void 0;if(i!==g.Resource||p&&p.length||!o.isHierarchyInitialized(m.Loads)?i===g.AllocationRow&&o.getAPIOption("allocationRowsVisibleInActivitiesView")&&(n=o.isHierarchyInitialized(m.Activities)):(l=m.Loads,p=o.resourceItems(l),c=d),p){var h=[],f=[],_=n?[]:void 0,b=_&&{},v=_&&s===m.Activities;if(p.forEach((function(n){if(!t||t[n.data().ID]){var s=n.isPseudo()||e.checkObjectVisibility(a,n)?void 0:0;if(r(n,s,h,c),[g.ActivityRow,g.AllocationRow].includes(i)&&(n.timeItems[0].hidden=0===s),i===g.Resource&&o.isHierarchyInitialized(m.Loads)){var l=o.resourceItem(m.Loads,n.data());l&&r(l,void 0===s?l.rab_totalVisibleHeightInLoadsView:s,f,d)}else if(_){var u=n.data();b[u.ID]=!0;var p=o.allocationItem(m.Activities,u);p&&r(p,s,_,v)}}})),n)o.allocationItems(m.Activities).forEach((function(i){if((!t||t[i.data().ID])&&!b[i.data().ID]){var a=i.isPseudo()||e.checkObjectVisibility(C,i)?void 0:0;r(i,a,_,v),i.timeItems[0].hidden=0===a}}));if(i!==g.AllocationRow?([h,f].forEach((function(e){var t={};e.forEach((function(e){if(t[e.id]=!0,!e.rab_hidden&&e.rab_parentRowItem.rab_itemType===i)for(var a=e.rab_parentRowItem;a&&!t[a.id];)t[a.id]=!0,delete a.totalHeight,a.rab_hidden=!1,a=a.rab_parentRowItem}))})),s===m.Loads&&l===m.Resources&&(p=o.resourceItems(s),c=!0)):s===m.Activities&&n&&(c=!0,p=o.allocationItems(m.Activities)),c&&p){let a=i===g.Entity?e.entitiesTableWidget():e.ganttWidget();i===g.Entity&&(s=m._Entities);let n=!1,r=i===g.ActivityRow,l=i===g.AllocationRow;p.forEach((function(i){if((!t||t[i.data().ID])&&i.totalHeight!==i.oldTotalHeight)if(e.updateRowHeight(i),a.options.treeLinesVisible)n=!0;else{if(r)for(;i.rab_parentRowItem&&a.isRowCollapsed(i);)i=i.rab_parentRowItem;o.registerRowItem(s,i,l||r,!l),l&&i.rab_parentRowItem&&o.registerRowItem(s,i.rab_parentRowItem,!0,!1)}})),n&&o.registerRowItem(s,o._rowItemsRoots[s],l||r,!0)}}}},z={};r.extendClass(z,"rabViewModel",o,U),e.exports=z.rabViewModel},620:(e,t,i)=>{i(7658),i(6699),i(2801),i(1703);var a=i(5549);i(8276);var n=i(9990),o=i(3571),r=o.nDebugHelper,s=o.nDefaultSeparator,l=o.nDateHelper,c=o.nFileSaver,d=o.nOSDetector,u=o.nPopup,p=o.nScrollBarWidthDetector,h=o.nWorldViewCanvasWidget.Position,g=i(6998),m=g.ActivityBarDragModes,f=g.ActivityBarShape,_=g.AllocationBarDesign,b=g.AllocationBarDragModes,v=g.AllocationBarShape,y=g.BarSortMode,A=g.DateLineGridModes,T=g.LinkMarker,w=g.LinkRoutingType,C=g.ProgressBarWidthCalculationMode,I=g.RowDesigns,R=g.RowDragModes,D=g.RowSortMode,S=g.SelectionBehavior,O=g.TimescaleInteractionModes,P=g.TimescaleNavigationMode,E=g.TreeVisualizationMode,M=g.UpdateModes,V=g.ViewType,B=g._ActivityBarDragModes_AllSupportedFlags,N=g._AllocationBarDragModes_AllSupportedFlags,k=g._RowDragModes_AllSupportedFlags,W=i(5901),F=i(7226),L=i(9921);let x=["relativeDateModeEnabled","viewType"];var H=["entitiesTableVisible","nonworkingTimeVisible","customVersion","delayedInteractiveTimeAreaStretching","pm_topBodyViewAreaVisible","pm_maximumTopBodyViewAreaHeightRatio","pm_defaultMinimumActivityRowHeight","pm_defaultMinimumResourceRowHeight","pm_defaultMinimumEntityRowHeight","pm_defaultAllowedAllocationBarDragModes","pm_defaultAllowedActivityBarDragModes","pm_defaultAllowedActivityRowDragModes","pm_defaultAllowedResourceRowDragModes","pm_defaultAllowedEntityRowDragModes","pm_suitableResourcesOverlayColor","pm_unsuitableResourcesOverlayColor","pm_commonViewAreaVisible","pm_activityTableRowDefinitionIDForTitle","pm_resourceTableRowDefinitionIDForTitle","pm_entityTableRowDefinitionIDForTitle","pm_tableHeaderBackgroundColor","pm_tableHeaderTextColor","pm_tableHeaderColumnSeparatorColor","pm_tableHeaderHighlightingColor","pm_entitiesTableHeaderBackgroundColor","pm_entitiesTableHeaderTextColor","pm_entitiesTableHeaderColumnSeparatorColor","pm_entitiesTableHeaderHighlightingColor","pm_scrollToObjectHighlightingColor","pm_scrollToObjectHighlightFlashingEnabled"],j=["entitiesTableVisibleInResourcesView","nonWorkingTimeVisible","version","asynchronousInteractiveTimeAreaStretching","topViewAreaVisible","maximumTopViewAreaHeightRatio","defaultActivityMinimumRowHeight","defaultResourceMinimumRowHeight","defaultEntityMinimumRowHeight","defaultAllocationAllowedBarDragModes","defaultActivityAllowedBarDragModes","defaultActivityAllowedRowDragModes","defaultResourceAllowedRowDragModes","defaultEntityAllowedRowDragModes","suitableResourceOverlayColor","unsuitableResourceOverlayColor","mainViewAreaVisible","tableRowDefinitionIDForTitleInActivitiesView","tableRowDefinitionIDForTitleInResourcesView","tableRowDefinitionIDForTitleInEntitiesTable","tableTitleBackgroundColor","tableTitleTextColor","tableTitleColumnSeparatorColor","tableTitleHighlightingColor","entitiesTableTitleBackgroundColor","entitiesTableTitleTextColor","entitiesTableTitleColumnSeparatorColor","entitiesTableTitleHighlightingColor","objectHighlightingColor","objectHighlightFlashingEnabled"];H.forEach(((e,t)=>{e.startsWith("pm_")&&(H.push(e.substring(3)),j.push(j[t]))}));var G={options:{applicationClass:W,defaultUpdateMode:M.Default,resetValueForDifferentialUpdate:null,version:null,customName:null,customCopyrightYear:null,customLicenseTexts:null,applicationName:null,applicationVersion:null,licenseKey:null,newCallbackBehaviorEnabled:!1,contextMenuRemainsOpenOnUpdateCalls:!1,locale:"en-US",language:null,weekNumbering:null,firstDayOfWeek:null,timeZone:null,viewType:V.Activities,titleText:null,treeVisualizationMode:E.ColoredIndentation,treeViewLineColor:null,treeViewLineDashArray:null,entitiesTableTreeVisualizationMode:E.ColoredIndentation,entitiesTableTreeViewLineColor:null,entitiesTableTreeViewLineDashArray:null,start:null,end:null,startAndEnd:[null,null],maximumTimeResolutionUnit:null,maximumTimeResolutionUnitFactor:null,timeStepUnit:null,timeStepUnitFactor:null,visualZoomFactor:1,workDate:null,workDateLineCaption:"",currentDate:null,fixedTableColumnWidth:30,tableTitleAndTimescaleHeight:60,entitiesTableTitleHeight:60,tableViewWidth:null,tableViewWidthInActivitiesView:null,tableViewWidthInResourcesView:null,tableViewWidthInLoadsView:null,tableViewWidthsSynchronized:!0,tableWidth:null,defaultCalendarID:null,additionalDateInterpretedAsEmpty:null,additionalDateStringInterpretedAsEmpty:"",internalObjectCopiesNeeded:!1,updateOptimizationEnabled:!1,asynchronousInteractiveTimeAreaStretching:!1,asynchronousRendering:!1,decouplingOfAllocationPropertiesFromActivities:!1,multipleSelectionEnabled:!0,multipleBarDraggingEnabled:!1,allocationsSelectableOnlyOnOneResourceAtATime:!1,dragDatesShownForSingleSelectedObject:!1,nonWorkingTimeVisible:!0,nonWorkingTimesCalendarIDs:null,cursorDateLineVisible:!1,editable:!0,entitiesTitleText:null,entitiesTableVisibleInResourcesView:!1,entitiesTableVisibleInActivitiesView:!1,entitiesTableWidth:null,entitiesTableViewWidth:null,dateLineGridMode:A.Weekly,dateLineGridColor:null,dateLineGridDashArray:null,dateLineGridWidth:null,curvePanesVisibleInActivitiesView:!1,curvePanesCollapsibleInResourcesView:!0,relativeDateModeEnabled:!1,referenceDate:null,timescaleNavigationMode:P.Latest,timescaleInteractionsEnabled:!0,timescaleInteractionMode:O.Default,maximumSnapDistance:8,linksVisibleInActivitiesView:!0,linksVisibleInResourcesView:!1,dragDatesLimitingInteraction:!1,patternShownOnOverloadCurves:!1,contextMenuCallbackOnRowInTimeArea:!1,clickCallbackTriggeringOnRowInTimeArea:!1,preventDefaultOnContextMenuEvents:!0,topViewAreaVisible:!1,mainViewAreaVisible:!0,topViewAreaVisibleInActivitiesView:!1,mainViewAreaVisibleInActivitiesView:!0,topViewAreaVisibleInResourcesView:!1,mainViewAreaVisibleInResourcesView:!0,topViewAreaVisibleInLoadsView:!1,mainViewAreaVisibleInLoadsView:!0,maximumTopViewAreaHeightRatio:.5,calendarGridColor:null,timescaleBackgroundColor:null,timescaleWeekendBackgroundColor:null,timescaleTextColor:null,timescaleTickColor:null,timescaleHighlightingColor:null,timeAreaBackgroundColor:null,tableTitleBackgroundColor:null,tableTitleTextColor:null,tableTitleColumnSeparatorColor:null,tableTitleHighlightingColor:null,selectionColor:null,splitterHighlightingColor:null,entitiesTableTitleBackgroundColor:null,entitiesTableTitleTextColor:null,entitiesTableTitleColumnSeparatorColor:null,entitiesTableTitleHighlightingColor:null,symbolColumnBackgroundColor:null,entitiesTableSymbolColumnBackgroundColor:null,defaultActivityTableRowDefinitionID:null,defaultAllocationTableRowDefinitionID:null,defaultResourceTableRowDefinitionID:null,defaultEntityTableRowDefinitionID:null,tableRowDefinitionIDForTitleInActivitiesView:null,tableRowDefinitionIDForTitleInResourcesView:null,tableRowDefinitionIDForTitleInLoadsView:null,tableRowDefinitionIDForTitleInEntitiesTable:null,defaultActivityCollapsedRowDesign:I.Bars|I.Optimized|I.BarsInHiddenDescendantRows,defaultActivityExpandedRowDesign:I.Bars|I.Optimized,defaultAllocationRowDesign:I.Bars|I.CalendarGrid,defaultResourceCollapsedRowDesign:I.Bars|I.Optimized|I.BarsInHiddenDescendantRows|I.CalendarGrid,defaultResourceExpandedRowDesign:I.Bars|I.Optimized|I.CalendarGrid,defaultAllocationSnapTargetsForStart:null,defaultAllocationSnapTargetsForEnd:null,defaultActivitySnapTargetsForStart:null,defaultActivitySnapTargetsForEnd:null,defaultAllocationAllowedBarDragModes:b.DragAutoHorOrVer,forcedAllocationAllowedBarDragModes:null,defaultAllocationAllowedBarDragModesInActivitiesView:b.DragHorizontally,forcedAllocationAllowedBarDragModesInActivitiesView:null,defaultActivityAllowedBarDragModes:m.DragHorizontally,forcedActivityAllowedBarDragModes:null,defaultActivityAllowedRowDragModes:R.None,forcedActivityAllowedRowDragModes:null,defaultResourceAllowedRowDragModes:R.None,forcedResourceAllowedRowDragModes:null,defaultEntityAllowedRowDragModes:R.DragOutside,forcedEntityAllowedRowDragModes:null,defaultAllocationBarSelectable:!0,defaultAllocationRowSelectable:!0,defaultActivityBarSelectable:!0,defaultActivityRowSelectable:!0,defaultResourceRowSelectable:!0,defaultEntityRowSelectable:!0,defaultLinkSelectable:!0,defaultActivityRowCollapsible:!0,defaultActivityAllocationRowsCollapsible:!0,defaultResourceRowCollapsible:!0,defaultResourceAllocationRowsCollapsible:!0,defaultEntityRowCollapsible:!0,defaultAllocationBarDesign:_.Entries,defaultActivityBarShape:f.Regular,defaultAllocationBarShape:v.Regular,defaultActivityConstraintSymbolColor:null,defaultAllocationConstraintSymbolColor:null,defaultValuesForActivityProperties:null,defaultValuesForActivityEntryProperties:null,defaultValuesForAllocationProperties:null,defaultValuesForAllocationEntryProperties:null,defaultValuesForEntityProperties:null,defaultValuesForLinkProperties:null,defaultValuesForResourceProperties:null,defaultAllocationBackgroundColor:null,defaultLinkRoutingType:w.Curved,defaultLinkTargetMarker:T.FilledArrow,progressBarHeight:4,progressBarWidthCalculationMode:C.ConsiderWorkingTimesOnly,defaultActivityProgressBackgroundColor:null,defaultAllocationProgressBackgroundColor:null,defaultActivityBarHeight:22,defaultAllocationBarHeight:22,defaultActivityMinimumRowHeight:42,defaultAllocationMinimumRowHeight:42,defaultResourceMinimumRowHeight:42,defaultEntityMinimumRowHeight:42,minimumLoadCurvePaneHeight:30,defaultLoadCurvePaneHeight:50,maximumLoadCurvePaneHeight:200,minimumInventoryCurvePaneHeight:30,defaultInventoryCurvePaneHeight:50,maximumInventoryCurvePaneHeight:200,defaultResourceBarsPaneVisible:!0,defaultResourceLoadCurvePaneVisible:!0,defaultLoadCurvePaneColor:null,defaultResourceInventoryCurvePaneVisible:!1,defaultInventoryCurvePaneColor:null,releaseDueDateConnectionsVisible:!1,symbolColumnTitleBackgroundColor:null,symbolColumnTitleSymbolIDs:null,symbolColumnTitleVisible:!1,symbolColumnVisible:!1,symbolColumnWidth:22,entitiesTableSymbolColumnTitleBackgroundColor:null,entitiesTableSymbolColumnTitleSymbolIDs:null,entitiesTableSymbolColumnTitleVisible:!1,entitiesTableSymbolColumnVisible:!1,entitiesTableSymbolColumnWidth:22,topBarSymbolsVisible:!0,topRowMarginInTimeArea:10,bottomRowMarginInTimeArea:5,subRowDistanceInTimeArea:5,tableCellContentTopOffset:21,entitiesTableCellContentTopOffset:21,defaultResourceMaximumSubRowHeightInTimeArea:null,defaultResourceMaximumRowHeight:null,defaultActivityMaximumSubRowHeightInTimeArea:null,defaultActivityMaximumRowHeight:null,activityBarTopOffsetAndHeightScaleFactor:1,allocationBarTopOffsetAndHeightScaleFactor:1,activityCalendarsEnabled:!1,detailedActivityConstraintSymbolsEnabled:!0,detailedAllocationConstraintSymbolsEnabled:!0,curvePanesResizable:!1,linesShownInLoadCurvePanes:!1,timeAreaPanningMode:3,selectionBehavior:S.Framing,pastBackgroundFillColor:null,pastBackgroundLineColor:null,pastBackgroundLineWidth:null,pastBackgroundLineDashArray:null,suitableResourceOverlayColor:null,unsuitableResourceOverlayColor:null,suitableActivityOverlayColor:null,unsuitableActivityOverlayColor:null,ignoreCalendarOnAllocationBarInteractions:!1,ignoreCalendarOnActivityBarInteractions:!1,objectHighlightingColor:null,objectHighlightFlashingEnabled:!0,loggingEnabled:!1,interactiveActivationOfLoggingEnabled:!1,loggingVerboseLevel:0,worldViewVisible:!1,worldViewPosition:h.Bottom,worldViewExtent:150,scrollOffsetsChangedCallbackTimeDelay:500,tooltipDelay:500,animationDuration:400,watermarkSymbolID:null,watermarkOpacity:.2,allocationRowsVisibleInActivitiesView:!1,allocationRowsVisibleInResourcesView:!1,definedAllocationLinksVisibleInResourcesView:!1,definedAllocationLinksVisibleInActivitiesView:!1,defaultActivityStatusFrameColor:null,defaultAllocationStatusFrameColor:null,entitiesTableShownFullScreen:!1,defaultActivityBarTooltipTemplateID:null,defaultActivityRowTooltipTemplateID:null,defaultAllocationBarTooltipTemplateID:null,defaultAllocationRowTooltipTemplateID:null,defaultEntityRowTooltipTemplateID:null,defaultLinkTooltipTemplateID:null,defaultPeriodHighlighterEntryTooltipTemplateID:null,defaultResourceCurveTooltipTemplateID:null,defaultResourceRowTooltipTemplateID:null,activityBaselineBarsVisible:!0,activityHierarchySupplementaryDefinitionID:null,resourceHierarchySupplementaryDefinitionID:null,resourceHierarchySupplementaryDefinitionIDInLoadsView:null,entityHierarchySupplementaryDefinitionID:null,colorOfFirstTableCellAppliedToGroupColoring:!0,groupCellsWithHorizontalSeparationLine:!1,collapseButtonVisibleOnRowsWithoutVisibleChildren:!0,onCollapseStateChangedTriggeredByUpdateCalls:!0,dateLineCaptionOptimizedPositioningEnabled:!1,barSortModeForOptimizedRowDesign:y.StartAndEnd,onShowTooltip:null,onDetermineColumnDefinitions:null,onShowContextMenu:null,onCloseContextMenu:null,canDrag:null,onDrag:null,onDragStart:null,onDragEnd:null,onDrop:null,onClicked:null,onDoubleClicked:null,canSelect:null,onSelectionChanged:null,onTimeAreaViewParametersChanged:null,onVerticalScrollOffsetChanged:null,onCollapseStateChanged:null,onCurveCollapseStateChanged:null,onLogError:null,onLogWarning:null,onLogMethodCall:null,compareObjects:null,compareActivities:null,compareAllocations:null,compareEntities:null,compareResources:null,onCurvePaneResized:null,onTableCellDefinitionWidthChanged:null,visibilityFilter:null,visibilityFilterForActivities:null,visibilityFilterForAllocations:null,visibilityFilterForResources:null,visibilityFilterForEntities:null,onSaveAsPDFProgress:null,determineGroupingCode:null,onRowSortingChangeRequested:null,activityRowSortCodePropertyName:"SortCode",entityRowSortCodePropertyName:"SortCode",resourceRowSortCodePropertyName:"SortCode",allocationRowSortCodePropertyName:"SortCode",activityRowSortMode:D.None,entityRowSortMode:D.None,resourceRowSortMode:D.None,allocationRowSortMode:D.None,interactiveSwitchingOfSortOrderEnabled:!1,sortingIndicatorVisible:!1,rowSortModeNoneEnabledOnInteractiveSwitchingOfSortOrder:!0,triggeringOfOnShowTooltipForEntriesInBarsEnabled:!1,higherCurvePanesOnExceededScaleMaximumValue:!1,__initialLogState__:null},_create:function(){"use strict";var e=this;e._currentCommandCounter=0,a('<div class="nrab-message-pane"></div>').attr("tabindex","-1").appendTo(this.element);var t=a('<div class="nrab-gantt-view"></div>').attr("tabindex","-1").appendTo(this.element.addClass("nrab-widget"));null==this.element.attr("tabindex")&&this.element.attr("tabindex","-1"),e._defaultColumnDefinitions={},e._application=new e.options.applicationClass(e,{fullScreenGanttViewElem:t[0],boundHandleExceptionFunc:e._handleException.bind(e)});var i=a.netronic.rabWidget.prototype.options;x.forEach((t=>{i[t]!==e.options[t]&&e._setOption(t,e.options[t])})),e._application.init(),Object.keys(i).forEach((function(t){if(!x.includes(t)){var a=e.options[t];void 0===a&&(a=null),a!==i[t]&&e._setOption(t,a)}})),Object.keys(e.options).forEach((function(t){if(!x.includes(t)){var a=e.__renameKey(t);if(a!==t&&i.hasOwnProperty(a)){var n=e.options[t];void 0===n&&(n=null),n!==e.options[a]&&(e.options[a]=e.options[t],e._setOption(a,n)),delete e.options[t]}}})),e._logMethod||(e._logMethod=function(){},e._logMethodResult=function(e){return e}),e._application._renderOnIdle(),e._loggingActionActiveCounter=0},__renameKey:function(e){"use strict";var t=H.indexOf(e);return t>=0?e=j[t]:e.startsWith("pm_")&&(e=e.substring(3)),e},_destroy:function(){this._application.destroy(),this.element.removeClass("nrab-widget").find("*").remove()},_setAPIOption:function(e,t){"use strict";this._application.setAPIOption(e,t,this._setAPIOptionSilently)},_getAPIOption:function(e){"use strict";return this._application.getAPIOption(e)},option:function(e){var t=this,i="option";if(this._currentCommandCounter++,this._currentMethodName=i,this._logMethod(i,arguments),"string"==typeof e){var a=t.__renameKey(e);if(a!==e)e=a;else if("version"===e&&arguments.length>1)return void this._logMethodResult()}if(1===arguments.length&&"object"==typeof e){var n,o={};x.forEach((t=>{null!=e[t]&&(o[t]=this.options[t])})),Object.keys(e).forEach((function(i){if(!["version","loggingEnabled"].includes(i)){if("start"===i||"end"===i){if(e.startAndEnd)return;if("start"===i?e.end:e.start)return void(o.startAndEnd=[e.start,e.end])}var a=t.__renameKey(i);o[a]=e[i]}})),"loggingEnabled"in e&&(o.loggingEnabled=e.loggingEnabled);var r=this._application.view();if(r&&(n=r.ganttViews()[0])){var s=n.suspendUpdate(!0);!1!==s&&(n=void 0)}try{this._super.call(this,o)}catch(e){this._handleException(e,i)}finally{n&&n.suspendUpdate(!1),delete this._currentMethodName}return this._logMethodResult()}try{var l=this._super.apply(this,arguments);1!==arguments.length&&(l=void 0)}catch(e){this._handleException(e,i)}finally{delete this._currentMethodName}return this._logMethodResult(l)},_setOption:function(t,i){"use strict";"´"===t[0]&&(t=t.substring(1),this._setAPIOptionSilently=!0);try{if(this.options.contextMenuRemainsOpenOnUpdateCalls||"contextMenuRemainsOpenOnUpdateCalls"===t&&i||this._closeContextMenu(),!(t in Object.getPrototypeOf(e.exports.prototype).options))if(t in this.options)switch(t){case"applicationClass":case"contextMenuRemainsOpenOnUpdateCalls":case"customName":case"customCopyrightYear":case"customVersion":case"customLicenseTexts":case"applicationName":case"applicationVersion":break;case"timescaleInteractionsEnabled":this._setAPIOption("timescaleInteractionMode",i?O.Default:O.None);break;case"timescaleInteractionMode":this._setAPIOption(t,"boolean"==typeof i?i?O.Default:O.None:i);break;case"topViewAreaVisible":this._setAPIOption("topViewAreaVisibleInActivitiesView",!1),this._setAPIOption("topViewAreaVisibleInResourcesView",i),this._setAPIOption("topViewAreaVisibleInLoadsView",i);break;case"mainViewAreaVisible":this._setAPIOption("mainViewAreaVisibleInActivitiesView",!0),this._setAPIOption("mainViewAreaVisibleInResourcesView",i),this._setAPIOption("mainViewAreaVisibleInLoadsView",i);break;case"tableViewWidth":this._setOption("tableViewWidthInActivitiesView",i),this._setOption("tableViewWidthInResourcesView",i),this._setOption("tableViewWidthInLoadsView",i);break;case"rowMarginInTimeArea":this._setAPIOption("topRowMarginInTimeArea",i),this._setAPIOption("bottomRowMarginInTimeArea",i);break;case"multipleSelectionEnabled":if("string"==typeof i){var a=parseFloat(i);isNaN(a)||(i=a)}r.assert("boolean"==typeof i||"number"==typeof i,t+" is out of range"),this._setAPIOption(t,2===i?2:!!i);break;case"startAndEnd":r.assertArray(i),"string"!=typeof i[0]&&r.assertDateOrNull(i[0]),"string"!=typeof i[1]&&r.assertDateOrNull(i[1]);var o=null!=i[0]?this._application.model().dateTimeValueToDate(i[0]):null,s=null!=i[1]?this._application.model().dateTimeValueToDate(i[1]):null;o&&s&&(this._setAPIOption(t,[o,s]),this._setAPIOption("start",o),this._setAPIOption("end",s),this.options.start=i[0],this.options.end=i[1]);break;case"start":this._setAPIOption(t,i),this.options.startAndEnd[0]=i;break;case"end":this._setAPIOption(t,i),this.options.startAndEnd[1]=i;break;case"visibilityFilter":{this._setAPIOption(t,i),null!=i&&"function"!=typeof i&&(i=null),this._super(t,i);let e=this._application,a=e.view();if(a){e.determineVisibilityOfObjects(void 0,!0);let t=a.ganttViews()[0];t&&(t.viewModel().autoInvalidateRows(t,t.viewType()),t.update())}}return;case"visibilityFilterForActivities":case"visibilityFilterForAllocations":case"visibilityFilterForResources":case"visibilityFilterForEntities":{this._setAPIOption(t,i),null!=i&&"function"!=typeof i&&(i=null),this._super(t,i);let e=this._application,a=e.view();if(a){let i=t.substring("visibilityFilterFor".length),n=a.ganttViews()[0];n&&(e.determineVisibilityOfUpdatedObjectsInView(n,i,void 0,!1,!0),n.viewModel().autoInvalidateRows(n,"Entities"===i?V._Entities:n.viewType()),n.update())}}return;case"compareObjects":case"compareActivities":case"compareAllocations":case"compareEntities":case"compareResources":return this._setAPIOption(t,null),this._super(t,null==i||"function"!=typeof i?null:i),void this._setAPIOption(t,i);case"__initialLogState__":if(this._application.view()){var l=this._application.view().ganttViews()[0];if(l){var c=l.ganttWidget(),d=l.entitiesTableWidget();if(null!=i.baseTimeUnit&&c.timeAxis().baseTimeUnit(i.baseTimeUnit),null!=i.baseTimeUnitWidth&&c.timeAxis().baseTimeUnitWidth(i.baseTimeUnitWidth),null!=i.actualTableViewWidth&&c.modifyTableViewWidth(i.actualTableViewWidth),i.collapseStates&&([V.Activities,V.Resources,V.Loads].forEach((function(e){if(i.collapseStates[e]){var t=l.viewModel().rowItemsRoot(e);t&&c.restoreCollapseStates(i.collapseStates[e],t,(function(e){return e.ID}),(function(t,i){i.rab_curvePanesVisible&&(l._expandOrCollapseCurvesInRowAtLast(t,!0,!1),e===l.viewType()&&l.invalidateRow(t))}),!0)}})),c.update()),d&&null!=i.entitiesTableActualTableViewWidth){var u=l._divJQ.width(),h=c.options.splitterWidth;l._onVerticalSplitterChanged(u-h-i.entitiesTableActualTableViewWidth-p.scrollBarWidth()),i.entitiesCollapseStates&&d.restoreCollapseStates(i.entitiesCollapseStates,d.option("rowItemsRoot"),(function(e){return e.ID}))}i.verticalScrollOffsetExt&&(l._verticalScrollOffsetByViewType=i.verticalScrollOffsetExt),c.scrollTo(i.horizontalTableViewScrollOffset,i.horizontalTimeAreaViewScrollOffset,i.verticalScrollOffset,i.topVerticalScrollOffset),d&&d.scrollTo(i.entitiesTableHorizontalScrollOffset,i.entitiesTableVerticalScrollOffset)}}break;case atob("bGljZW5zZUtleQ=="):r.assertStringOrNull(i),this._application.setOption("maximumSnapDistance",i,void 0);break;case"viewType":"string"==typeof i&&(a=+i,isNaN(a)||(i=a)),r.assertNumber(i),r.assert(i>=0&&i<=2,t+"is out of range"),i>=0&&i<=2&&this._application.setOption(t,i,void 0);break;case"onLogError":case"onLogWarning":r.assertFunctionOrNull(i);break;case"onLogMethodCall":r.assertFunctionOrNull(i),this._logMethod=i||this.options.loggingEnabled?this._doLogMethodCall:function(){},this._logMethodResult=i||this.options.loggingEnabled?this._doLogMethodCallResult:function(e){return e};break;case"loggingEnabled":var g=isNaN(i);i=!!i;var m=this._getAPIOption(t);i!==m&&(this._setAPIOption(t,i),this._logMethod=i||this.options.onLogMethodCall?this._doLogMethodCall:function(){},this._logMethodResult=i||this.options.onLogMethodCall?this._doLogMethodCallResult:function(e){return e},n.select(this.element[0]).select(".ngantt-recording-symbol").attr("visibility",i?null:"hidden"),i?this._saveCurrentStateToLoggingCache():this._saveLoggingCacheAsJSONFile(g));break;case"loggingVerboseLevel":i=i??0,r.assertNumber(i);break;case"defaultAllocationAllowedBarDragModes":case"forcedAllocationAllowedBarDragModes":case"defaultAllocationAllowedBarDragModesInActivitiesView":case"forcedAllocationAllowedBarDragModesInActivitiesView":(i=null!=i?+i:null)&&(i&=N),this._setAPIOption(t,i);break;case"defaultActivityAllowedBarDragModes":case"forcedActivityAllowedBarDragModes":(i=null!=i?+i:null)&&(i&=B),this._setAPIOption(t,i);break;case"defaultActivityAllowedRowDragModes":case"forcedActivityAllowedRowDragModes":case"defaultResourceAllowedRowDragModes":case"forcedResourceAllowedRowDragModes":case"defaultEntityAllowedRowDragModes":case"forcedEntityAllowedRowDragModes":(i=null!=i?+i:null)&&(i&=k),this._setAPIOption(t,i);break;case"activityRowSortCodePropertyName":case"entityRowSortCodePropertyName":case"resourceRowSortCodePropertyName":case"allocationRowSortCodePropertyName":i=i??"SortCode",this._setAPIOption(t,i);break;case"activityRowSortMode":case"entityRowSortMode":case"resourceRowSortMode":case"allocationRowSortMode":i=i??D.None,r.assertNumber(i),this._setAPIOption(t,i);break;default:this._setAPIOption(t,i)}else this._handleWarning(`Option name "${t}" unknown!`)}finally{delete this._setAPIOptionSilently}this._super(t,i)},_closeContextMenu:function(){"use strict";u.closeContextMenu(),delete this._lastContextMenuEventTimeStamp},appendTagToLog:function(e){"use strict";try{var t="appendTagToLog";return r.assertString(e,t,0),this._logMethod(t,arguments),this._logMethodResult(void 0)}catch(e){this._handleException(e,t)}},addLoggingTag:function(e){this.appendTagToLog(e)},_mapFunctionToString:function(e){if("function"==typeof e){let t="*Function*";return e.name&&(t+=` named ${e.name}`),t}return e},_doLogMethodCall:function(e,t){"use strict";var i="function"==typeof this.options.onLogMethodCall;if(this._startLoggingAction(e,t),this._cachedLogOfMethodCall&&(i&&this.options.onLogMethodCall.call(this,this._cachedLogOfMethodCall),this._cachedLogOfMethodCall=void 0),i){var a=[e,"("];if(t.length){"option"===e&&("object"==typeof(t=Array.from(t))[0]?(t[0]=Object.assign({},t[0]),Object.keys(t[0]).forEach((e=>{t[0][e]=this._mapFunctionToString(t[0][e])}))):t.length>1&&(t[1]=this._mapFunctionToString(t[1])));for(var n=0;n<t.length;n++)a.push(JSON.stringify(t[n]),", ");a.pop()}a.push(");"),this._cachedLogOfMethodCall={command:a.join("")}}return!0},_doLogMethodCallResult:function(e){"use strict";return this._endLoggingAction(e),this._cachedLogOfMethodCall&&(this._cachedLogOfMethodCall.result=e,"function"==typeof this.options.onLogMethodCall&&this.options.onLogMethodCall.call(this,this._cachedLogOfMethodCall),this._cachedLogOfMethodCall=void 0),e},_saveCurrentStateToLoggingCache:function(){"use strict";var e=this,t=new Date;e._loggingCache={timestamp:t.toISOString(),name:e._getAPIOption("customName")||"NETRONIC RAB Widget",version:e._getAPIOption("version")||"x.x.x",rabVersion:L.nwafVersion,license:e._application.__id,licensee:e._application.__n,expire:e._application.__e,userAgent:navigator?navigator.userAgent:""};var i=e._loggingCache.options=a.extend({},e.options);["version","customName","customCopyrightYear","customVersion","customLicenseTexts","licenseKey","newCallbackBehaviorEnabled","contextMenuRemainsOpenOnUpdateCalls","compareObjects","compareActivities","compareAllocations","compareResources","compareEntities","visibilityFilter","visibilityFilterForActivities","visibilityFilterForAllocations","visibilityFilterForResources","visibilityFilterForEntities","determineGroupingCode","timescaleInteractionsEnabled"].forEach((e=>{delete i[e]})),Object.keys(a.netronic.rabWidget.prototype.options).forEach((e=>{(e.startsWith("on")||e.startsWith("can"))&&delete i[e]}));var n=e._application.view().ganttViews()[0];if(n){var o=n.ganttWidget(),r=n.entitiesTableWidget(),s=[];[V.Activities,V.Resources,V.Loads].forEach((function(e){var t=n.viewModel().rowItemsRoot(e);t&&(s[e]=a.extend({},o.saveCollapseStates(t,(function(e){return e.ID}),(function(e,t){e.rab_curvePanesVisible&&(t.rab_curvePanesVisible=!0)}))))}));var l=o.timeAxis();e._loggingCache.options.__initialLogState__={baseTimeUnit:l.baseTimeUnit(),baseTimeUnitWidth:l.baseTimeUnitWidth(),horizontalTableViewScrollOffset:o.horizontalTableViewScrollOffset(),horizontalTimeAreaViewScrollOffset:o.horizontalTimeAreaViewScrollOffset(),verticalScrollOffset:o.verticalScrollOffset(),verticalScrollOffsetExt:n._verticalScrollOffsetByViewType,topVerticalScrollOffset:o.topVerticalScrollOffset(),actualTableViewWidth:o.actualTableViewWidth(),collapseStates:s},r&&(e._loggingCache.options.__initialLogState__.entitiesTableActualTableViewWidth=r.actualTableViewWidth(),e._loggingCache.options.__initialLogState__.entitiesTableHorizontalScrollOffset=r.horizontalScrollOffset(),e._loggingCache.options.__initialLogState__.entitiesTableVerticalScrollOffset=r.verticalScrollOffset(),e._loggingCache.options.__initialLogState__.entitiesCollapseStates=r.saveCollapseStates(r.option("rowItemsRoot"),(function(e){return e.ID})))}delete e._loggingCache.options.loggingEnabled,[g.RAB_ACTIVITIES_PROP_NAME,g.RAB_ALLOCATIONS_PROP_NAME,g.RAB_CALENDARS_PROP_NAME,g.RAB_CURVES_PROP_NAME,g.RAB_ENTITIES_PROP_NAME,g.RAB_LINKS_PROP_NAME,g.RAB_RESOURCES_PROP_NAME,g.RAB_CALENDAR_GRIDS_PROP_NAME,g.RAB_HIERARCHY_SUPPLEMENTARY_DEFINITIONS_PROP_NAME].forEach((function(t){var i=e._application.model().getChildrenArray(t).filter((e=>!e.isPseudo()));e._loggingCache[t]=i.map((function(e){return a.extend({},e.data())}))})),e._loggingCache.DateLines=e._application._getDateLinesData(),e._loggingCache.TableRowDefinitions=e._application._getTableRowDefinitionsData(),e._loggingCache.Symbols=e._application._getSymbolsData(),e._loggingCache.TooltipTemplates=e._application._getTooltipTemplatesData(),e._loggingCache.Actions=[],this._loggingActionActiveCounter=0},_saveLoggingCacheAsJSONFile:function(e){"use strict";e&&(delete this._loggingCache.options.__initialLogState__.collapseStates,delete this._loggingCache.options.__initialLogState__.entitiesCollapseStates);var t=JSON.stringify(this._loggingCache),i=new Blob([t],{type:"text/plain;charset=utf-8"}),a=new Date,o="VSW-Logging_"+(n.timeFormat?n.timeFormat:n.time.format)("%Y-%m-%d_%H%M%S")(a)+".json";c.saveAs(i,o),this._loggingCache={},this._loggingActionActiveCounter=0},_startLoggingAction:function(e,t,i){"use strict";if(this.options.loggingEnabled){this._loggingActionActiveCounter++;var a=new Date;return t=Array.from(t),"option"===e&&("object"==typeof t[0]?(t[0]=Object.assign({},t[0]),Object.keys(t[0]).forEach((e=>{t[0][e]=this._mapFunctionToString(t[0][e])}))):t.length>1&&(t[1]=this._mapFunctionToString(t[1]))),this._loggingCache.Actions.push({type:i,name:e,args:t,start:a.toISOString()}),this._lastActiveTimeLogged=a.getTime(),this._loggingCache.Actions.length}},_findActiveLoggedAction:function(){for(var e=this._loggingCache.Actions.length-1;e>=0;e--){var t=this._loggingCache.Actions[e];if("callback-result"===t.type)e=0;else if(t.type||!t.end)break}return e>=0?t:void 0},_addWarningToLoggedAction:function(e){"use strict";if(this.options.loggingEnabled&&this._loggingActionActiveCounter){var t=this._findActiveLoggedAction();t&&(t.warnings||(t.warnings=[]),t.warnings.push(e))}},_endLoggingAction:function(e,t){"use strict";if(this.options.loggingEnabled&&this._loggingActionActiveCounter){var i,a=new Date;if("#exception#"===e){if(!(i=this._findActiveLoggedAction()))return}else if(i=this._loggingCache.Actions[(t??this._loggingCache.Actions.length)-1],null!=t){var n=i.start;(i=this._loggingCache.Actions[this._startLoggingAction(i.name,i.args,(i.type||"")+"-result")-1]).start=n}i.result=e,i.end=a.toISOString();var o=new Date(i.start).getTime(),r=a.getTime();i.duration=r-o,this._loggingActionActiveCounter--,this._lastActiveTimeLogged=r}},_handleEventuallyAsynchronousFunctionStart:function(e){if(!this._currentMethodName)return this._currentCommandCounter++,this._currentMethodName=e+"/asynchronous",!0},_handleEventuallyAsynchronousFunctionEnd:function(){delete this._currentMethodName},_logRenderingTime:function(e,t){this._loggingCache&&(null==t?(this._lastActiveTimeLogged=(new Date).getTime(),window.requestIdleCallback((()=>{this._loggingCache?.Actions?.push({type:"renderingTime",name:e??"",duration:(new Date).getTime()-this._lastActiveTimeLogged})}))):this._loggingCache.Actions?.push({type:"renderingTime",name:e??"",duration:t}))},_mapObjectToIDForLogging:function(e,t){let i=t.replace(/\*/,"");e[i]&&(e[t.replace(/\*|$/,"ID")]=e[i].ID,delete e[i])},_mapObjectsToIDsInArrayForLogging:function(e,t){let i=e=>"string"==typeof e?e:e.ID,a=t.replace(/\*/,"");return a?(e[a]&&(e[t.replace(/\*/,"ID")]=e[a].map(i),delete e[a]),e):e?.map(i)},_handleWarning:function(e){"use strict";e=e.replace(/[Pp]rimary key/g,"ID").replace(new RegExp(`ID "${s}`,"g"),'ID "'),this._addWarningToLoggedAction(e);let t=this.options.onLogWarning;if("function"==typeof t){let i=this._currentMethodName??this._currentCallbackName??"";i||this._currentCommandCounter++,t.call(this,{commandName:i,commandCounter:this._currentCommandCounter,description:e})}},_handleException:function(e,t){"use strict";if(this._cachedLogOfMethodCall&&this._doLogMethodCallResult("#exception#"),this._lastHandledError===e)throw e;{this._lastHandledError=e;var i=Object.getPrototypeOf(this).widgetName;t&&(t=t.replace(new RegExp(`^${i}.`),"")),this._startLoggingAction(t||"",[{name:e.name,message:e.message,stack:e.stack}],"exception");let n=this._currentMethodName??this._currentCallbackName??t??"";n||this._currentCommandCounter++;var a={commandName:n,commandCounter:this._currentCommandCounter,error:e,rethrow:!0};let o=this.options.onLogError;if("function"==typeof o&&o.call(this,a),this._endLoggingAction(a.rethrow?"*rethrown*":"*catched*"),a.rethrow)throw e}},_handleCall:function(e,t,i,a,n){"use strict";try{this._currentCommandCounter++,this._currentMethodName=e;let r=this._logMethod(e,t);i?.call(this,e),!1!==n?.ctx&&this._closeContextMenu();var o=a.call(this);return r&&this._logMethodResult(n?.r?n.r(o):o),o}catch(t){this._handleException(t,e)}finally{delete this._currentMethodName}},addResources:function(e){return this._handleCall("addResources",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addResources(e)))},updateResources:function(e,t){return this._handleCall("updateResources",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateResources(e,t)))},removeResources:function(e){return this._handleCall("removeResources",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeResources(e)))},addCalendars:function(e){return this._handleCall("addCalendars",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addCalendars(e)))},updateCalendars:function(e,t){return this._handleCall("updateCalendars",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateCalendars(e,t)))},removeCalendars:function(e){return this._handleCall("removeCalendars",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeCalendars(e)))},addCurves:function(e){return this._handleCall("addCurves",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addCurves(e)))},updateCurves:function(e,t){return this._handleCall("updateCurves",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateCurves(e,t)))},removeCurves:function(e){return this._handleCall("removeCurves",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeCurves(e)))},addActivities:function(e){return this._handleCall("addActivities",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addActivities(e)))},updateActivities:function(e,t){return this._handleCall("updateActivities",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateActivities(e,t)),{ctx:!this.options.contextMenuRemainsOpenOnUpdateCalls})},removeActivities:function(e){return this._handleCall("removeActivities",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeActivities(e)))},addAllocations:function(e){return this._handleCall("addAllocations",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addAllocations(e)))},updateAllocations:function(e,t){return this._handleCall("updateAllocations",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateAllocations(e,t)),{ctx:!0})},removeAllocations:function(e){return this._handleCall("removeAllocations",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeAllocations(e)))},getAllocationsForActivity:function(e){"use strict";var t=this;return t._handleCall("getAllocationsForActivity",arguments,(t=>{r.assertNotNull(e,t,0)}),(()=>t._application.getAllocationsForActivity(e)),{ctx:!1,r:e=>t._mapObjectsToIDsInArrayForLogging(e)})},getAllocationsForResource:function(e){"use strict";var t=this;return t._handleCall("getAllocationsForResource",arguments,(t=>{r.assertNotNull(e,t,0)}),(()=>t._application.getAllocationsForResource(e)),{ctx:!1,r:e=>t._mapObjectsToIDsInArrayForLogging(e)})},addLinks:function(e){return this._handleCall("addLinks",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addLinks(e)))},updateLinks:function(e,t){return this._handleCall("updateLinks",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateLinks(e,t)))},removeLinks:function(e){return this._handleCall("removeLinks",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeLinks(e)))},addEntities:function(e){return this._handleCall("addEntities",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addEntities(e)))},updateEntities:function(e,t){return this._handleCall("updateEntities",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateEntities(e,t)))},removeEntities:function(e){return this._handleCall("removeEntities",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeEntities(e)))},addHierarchySupplementaryDefinitions:function(e){return this._handleCall("addHierarchySupplementaryDefinitions",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addHierarchySupplementaryDefinitions(e)))},updateHierarchySupplementaryDefinitions:function(e,t){return this._handleCall("updateHierarchySupplementaryDefinitions",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateHierarchySupplementaryDefinitions(e,t)))},removeHierarchySupplementaryDefinitions:function(e){return this._handleCall("removeHierarchySupplementaryDefinitions",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeHierarchySupplementaryDefinitions(e)))},addSymbols:function(e){return this._handleCall("addSymbols",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addSymbols(e)))},updateSymbols:function(e,t){return this._handleCall("updateSymbols",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateSymbols(e,t)))},removeSymbols:function(e){return this._handleCall("removeSymbols",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeSymbols(e)))},addTooltipTemplates:function(e){return this._handleCall("addTooltipTemplates",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addTooltipTemplates(e)))},updateTooltipTemplates:function(e,t){return this._handleCall("updateTooltipTemplates",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateTooltipTemplates(e,t)))},removeTooltipTemplates:function(e){return this._handleCall("removeTooltipTemplates",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeTooltipTemplates(e)))},addCalendarGrids:function(e){this.addPeriodHighlighters(e)},addPeriodHighlighters:function(e){return this._handleCall("addPeriodHighlighters",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addPeriodHighlighters(e)))},updateCalendarGrids:function(e,t){return this.updatePeriodHighlighters(e,t)},updatePeriodHighlighters:function(e,t){return this._handleCall("updatePeriodHighlighters",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updatePeriodHighlighters(e,t)))},removeCalendarGrids:function(e){return this.removePeriodHighlighters(e)},removePeriodHighlighters:function(e){return this._handleCall("removePeriodHighlighters",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removePeriodHighlighters(e)))},addDateLines:function(e){return this._handleCall("addDateLines",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addDateLines(e)))},updateDateLines:function(e,t){return this._handleCall("updateDateLines",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateDateLines(e,t)))},removeDateLines:function(e){return this._handleCall("removeDateLines",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeDateLines(e)))},addTableRowDefinitions:function(e){return this._handleCall("addTableRowDefinitions",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.addTableRowDefinitions(e)))},updateTableRowDefinitions:function(e,t){return this._handleCall("updateTableRowDefinitions",arguments,(i=>{r.assertArray(e,i,0),r.assertNumberOrNull(t,i,1)}),(()=>this._application.updateTableRowDefinitions(e,t)))},removeTableRowDefinitions:function(e){return this._handleCall("removeTableRowDefinitions",arguments,(t=>{r.assertArray(e,t,0)}),(()=>this._application.removeTableRowDefinitions(e)))},removeAll:function(e){return this._handleCall("removeAll",arguments,void 0,(()=>this._application.removeAll(e)))},scrollToObject:function(e,t,i,a){return this._handleCall("scrollToObject",arguments,(a=>{r.assertNumber(e,a,0),"string"!=typeof t&&r.assertNotNull(t,a,1),r.assertNumberOrNull(i,a,2)}),(()=>this._application.scrollToObjectData(e,t,i,a)))},scrollViewAreaHorizontally:function(e,t){return this._handleCall("scrollViewAreaHorizontally",arguments,(i=>{r.assertNumber(e,i,0),r.assertNumber(t,i,1)}),(()=>this._application.scrollViewAreaHorizontally(e,t)))},scrollViewAreaVertically:function(e,t){return this._handleCall("scrollViewAreaVertically",arguments,(i=>{r.assertNumber(e,i,0),r.assertNumber(t,i,1)}),(()=>this._application.scrollViewAreaVertically(e,t)))},calculateWorkingTime:function(e,t,i){"use strict";var a=this;return a._handleCall("calculateWorkingTime",arguments,(e=>{let n=a._application.model();t=n.dateTimeValueToDate(t),i=n.dateTimeValueToDate(i),r.assertDate(t,e,1),r.assertDate(i,e,2)}),(()=>this._application.calculateWorkingTime(e,t,i)),{ctx:!1})},addWorkingTime:function(e,t,i){"use strict";var a=this;return a._handleCall("addWorkingTime",arguments,(e=>{t=a._application.model().dateTimeValueToDate(t),r.assertDate(t,e,1),"-0"!==i&&r.assertNumber(i,e,2)}),(()=>this._application.addWorkingTime(e,t,i)),{ctx:!1})},scrollToDate:function(e,t){"use strict";var i=this;return i._handleCall("scrollToDate",arguments,(a=>{i._getAPIOption("relativeDateModeEnabled")?e&&(e=l.relativeDateTimeStringToDate(e)):e=i._application.model().dateTimeValueToDate(e),r.assertDate(e,a,0),r.assertStringOrNull(t,a,1)}),(()=>i._application.scrollToDate(e,t)))},selectObjects:function(e,t,i){return this._doSelectOrHighlightObjects(e,t,i,"selectObjects",0)},highlightObjects:function(e,t,i){return this._doSelectOrHighlightObjects(e,t,i,"highlightObjects",1)},_doSelectOrHighlightObjects:function(e,t,i,a,n){return this._handleCall(a,arguments,(i=>{r.assertNumber(e,i,0),r.assertArray(t,i,1)}),(()=>this._application.selectOrHighlightObjects(e,t,i,n)),{ctx:!1})},getSelectedObjects:function(){"use strict";var e=this;return e._handleCall("getSelectedObjects",arguments,void 0,(()=>this._application.getSelectedDataObjectsAndType()),{ctx:!1,r:t=>e._mapObjectsToIDsInArrayForLogging(Object.assign({},t),"object*s")})},fitTimeAreaIntoView:function(e,t){"use strict";var i=this;return i._handleCall("fitTimeAreaIntoView",arguments,(i=>{if(this._getAPIOption("relativeDateModeEnabled"))e&&(e=l.relativeDateTimeStringToDate(e)),t&&(t=l.relativeDateTimeStringToDate(t));else{if(e){var a=new Date(e);isNaN(a.valueOf())||(e=a)}if(t){var n=new Date(t);isNaN(n.valueOf())||(t=n)}}r.assertDateOrNull(e,i,0),r.assertDateOrNull(t,i,1)}),(()=>i._application.fitTimeAreaIntoView(e,t)))},setTimeResolutionForView:function(e,t,i){"use strict";var a=this;return a._handleCall("setTimeResolutionForView",arguments,(n=>{a._getAPIOption("relativeDateModeEnabled")&&i&&(i=l.relativeDateTimeStringToDate(i)),r.assertString(e,n,0),r.assertNumberOrNull(t,n,1),r.assertDateOrNull(i,n,2)}),(()=>a._application.setTimeResolutionForView(e,t,i)))},render:function(){return this._handleCall("render",arguments,void 0,(()=>this._application.render()))},_showAbout:function(){"use strict";var e=`${F.lt}${this.options.customLicenseTexts??""}`.replace(/\n/g,"<br/>").replace(/<n>/g,'<div class="nrab-about-frame"><span class="nrab-about-title">').replace(/<\/n>/g,"</span><br/>").replace(/<t>/g,"").replace(/<\/t>/g,"</div>"),t=this.options.customCopyrightYear||"2018-"+L.nwafCopyrightYear.substring(L.nwafCopyrightYear.length-4),i=this.options.applicationName,a=this.options.applicationVersion;u.showPopup(this.element.children(".nrab-message-pane")[0],F.hd.replace("%nwafVersion%",L.nwafVersion).replace("%version%",this._getAPIOption("version")||"x.x.x").replace("%name%",this.options.customName||"NETRONIC RAB Widget").replace("%appNameAndVersion%",i&&a?`<span class="nrab-about-center">${i}</span><span class="nrab-about-center">${a}</span><hr/>`:"").replace("%name%",this.options.customName||"NETRONIC RAB Widget").replace("%copyrightYear%",t).replace("%nwafYear%",L.nwafCopyrightYear).replace("%license%",this._application.__id).replace("%licensee%",this._application.__n).replace("%expire%",this._application.__e).replace("%userAgent%",navigator?navigator.userAgent:"").replace("%lt%",e),void 0,void 0,!0)},about:function(){return this._handleCall("about",arguments,void 0,(()=>{this._application.render(),this._showAbout()}))},saveAsPDF:function(e,t){"use strict";var i=this;return i._handleCall("saveAsPDF",arguments,(e=>{if(d.isIE)throw new Error("IE11 is not supported!");if(t){var i="options.printingMode";r.assertNumberOrNull(t.printingMode,e,i),null!=t.printingMode&&r.assert(t.printingMode>=0&&t.printingMode<=2,i+" is out of range"),i="options.zoomFactorInPercent",r.assertNumberOrNull(t.zoomFactorInPercent,e,i),null!=t.zoomFactorInPercent&&r.assert(t.zoomFactorInPercent>=0,i+" is out of range"),i="options.horPageCountLimit",r.assertNumberOrNull(t.horPageCountLimit,e,i),null!=t.horPageCountLimit&&r.assert(t.horPageCountLimit>=0,i+" is out of range"),i="options.verPageCountLimit",r.assertNumberOrNull(t.verPageCountLimit,e,i),null!=t.verPageCountLimit&&r.assert(t.verPageCountLimit>=0,i+" is out of range"),i="options.pageOrientation",r.assertNumberOrNull(t.pageOrientation,e,i),null!=t.pageOrientation&&r.assert(0===t.pageOrientation||1===t.pageOrientation,i+" is out of range"),i="options.leftPageMargin",null!=t.leftPageMargin&&r.assert(t.leftPageMargin>=0,e,i+" is out of range"),i="options.topPageMargin",null!=t.topPageMargin&&r.assert(t.topPageMargin>=0,e,i+" is out of range"),i="options.rightPageMargin",null!=t.rightPageMargin&&r.assert(t.rightPageMargin>=0,e,i+" is out of range"),i="options.bottomPageMargin",null!=t.bottomPageMargin&&r.assert(t.bottomPageMargin>=0,e,i+" is out of range"),i="options.pageFormat",r.assertStringOrNull(t.pageFormat,e,i),t.pageFormat&&t.pageFormat.indexOf("*")<0&&r.assert(this._application._getSupportedPageFormatsForPrinting().indexOf(t.pageFormat.toUpperCase())>=0,i+" is out of range"),i="options.watermarkSymbolID",r.assertStringOrNull(t.watermarkSymbolID,e,i),i="options.author",r.assertStringOrNull(t.author,e,i),i="options.title",r.assertStringOrNull(t.title,e,i),i="options.subject",r.assertStringOrNull(t.subject,e,i),i="options.keywords",r.assertStringOrNull(t.keywords,e,i)}}),(()=>{var a=i._application.saveAsPDF(e,t);return a&&a.catch((function(e){e&&i._handleException(e)})),a}))},cancelSaveAsPDF:function(){return this._handleCall("cancelSaveAsPDF",arguments,void 0,(()=>this._application.cancelSaveAsPDF()),{ctx:!1})},serializeCollapseStates:function(e){return this._handleCall("serializeCollapseStates",arguments,(t=>{r.assert(e>=V._Minimum&&e<=V._Maximum,t,0)}),(()=>this._application.serializeCollapseStates(e)),{ctx:!1})},deserializeCollapseStates:function(e,t){return this._handleCall("deserializeCollapseStates",arguments,(i=>{r.assert(e>=V._Minimum&&e<=V._Maximum,i,0),r.assertStringOrNull(t,i,1)}),(()=>this._application.deserializeCollapseStates(e,t)))},determineObjectByPageCoordinates:function(e,t){return this._handleCall("determineObjectByPageCoordinates",arguments,(i=>{r.assertNumber(e,i,0),r.assertNumber(t,i,1)}),(()=>this._application.determineObjectByPageCoordinates(e,t)))},_handleCallback:function(e,t,i){"use strict";var n=this;n._currentCallbackName=e;var o=!1!==i?.l&&n.options.loggingEnabled;if(o){var r=t&&a.extend({},t);i?.o?.forEach((e=>{n._mapObjectToIDForLogging(r,e)})),i?.a?.forEach((e=>{n._mapObjectsToIDsInArrayForLogging(r,e)})),i?.d?.forEach((e=>{delete r[e]}));var s=n._startLoggingAction(e,t?[r]:void 0,"callback"),l={},c=i?.p?.call(this,t)}try{var d=n.options[e];"function"==typeof d?d.call(n,t):i?.n?.call(n)}catch(e){throw o&&(l._error=e),e}finally{o&&(i?.m?.call(n,r,t,c,l),n._endLoggingAction(Object.keys(l).length?l:void 0,s)),delete n._currentCallbackName}},_areArraysEqual:function(e,t){var i=e.length;if(i!==t.length)return!1;for(var a=0;a<i;a++)if(e[a]!==t[a])return!1;return!0},_callOnDrag:function(e){this._handleCallback("onDrag",e,{l:this.options.loggingVerboseLevel>=20,o:["object","newRowObject"],m:function(e,t,i,a){t.cancel!==e.cancel&&(a.cancel=t.cancel),t.dropAllowed!==e.dropAllowed&&(a.dropAllowed=t.dropAllowed)}})},_callOnDragStart:function(e){this._handleCallback("onDragStart",e,{o:["object"],m:function(e,t,i,a){t.cancel!==e.cancel&&(a.cancel=t.cancel)}})},_callOnDragEnd:function(e){this._handleCallback("onDragEnd",e,{o:["object"]})},_callOnDrop:function(e){this._handleCallback("onDrop",e,{o:["object","newRowObject"],a:["coupledObject*s"],m:function(e,t,i,a){t.cancel!==e.cancel&&(a.cancel=t.cancel),t.promise&&(a.promise="*Promise*")}})},_callCanDrag:function(e){this._handleCallback("canDrag",e,{l:this.options.loggingVerboseLevel>=10,o:["object"],a:["selectedObject*s"],d:["event"],m:function(e,t,i,a){t.cancel!==e.cancel&&(a.cancel=t.cancel),t.allowedDragModes!==e.allowedDragModes&&(a.allowedDragModes=t.allowedDragModes)}})},_callOnDetermineColumnDefinitions:function(e){var t=this;t._handleCallback("onDetermineColumnDefinitions",e,{o:["object"],n:function(){var i=e.tableType?"E":t.options.viewType;t._defaultColumnDefinitions[i]||(t._defaultColumnDefinitions[i]=e.columns.slice(),t._defaultColumnDefinitions[i][0]=a.extend({},e.columns[0],{textSource:"TableText"})),e.columns=t._defaultColumnDefinitions[i]},m:function(t,i,a,n){i.columns!==t.columns&&(n.columns=e.columns)}})},_callOnShowTooltip:function(e){this._handleCallback("onShowTooltip",e,{l:this.options.loggingVerboseLevel>=10,o:["object","periodHighlighter"],d:["event","calendarGrid"],m:function(e,t,i,a){t.promise&&(a.promise="*Promise*")}})},_callOnShowContextMenu:function(e){"use strict";var t=this;t._lastContextMenuEventTimeStamp!==e.event.timeStamp&&(t._lastContextMenuEventTimeStamp=e.event.timeStamp,t._handleCallback("onShowContextMenu",e,{o:["object","periodHighlighter"],d:["calendarGrid","event"],m:function(e,t,i,a){t.promise&&(a.promise="*Promise*")}}))},_callOnCloseContextMenu:function(){this._handleCallback("onCloseContextMenu"),delete this._lastContextMenuEventTimeStamp},_callOnClicked:function(e){this._handleCallback("onClicked",e,{o:["object","periodHighlighter"],d:["calendarGrid","event"]})},_callOnDoubleClicked:function(e){this._handleCallback("onDoubleClicked",e,{o:["object","periodHighlighter"],d:["calendarGrid","event"]})},_callCanSelect:function(e){this._handleCallback("canSelect",e,{o:["object"],a:["otherSelectedObject*s"],d:["event"]})},_callOnSelectionChanged:function(e){var t=this;this._handleCallback("onSelectionChanged",e,{o:["object"],a:["selectedObject*s","previouslySelectedObject*s"],d:["event"],p:function(){return e.selectedObjects?.slice()},m:function(i,a,n,o){a.cancel!==i.cancel&&(o.cancel=a.cancel),Array.isArray(a.selectedObjects)&&t._areArraysEqual(n,a.selectedObjects)||(o.selectedObjects=a.selectedObjects,t._mapObjectsToIDsInArrayForLogging(o,"selectedObject*s")),a.objectType!==i.objectType&&(o.objectType=a.objectType||0),a.visualType!==i.visualType&&(o.visualType=e.visualType)}})},_callOnTimeAreaViewParametersChanged:function(e){this._handleCallback("onTimeAreaViewParametersChanged",e)},_callOnVerticalScrollOffsetChanged:function(e){this._handleCallback("onVerticalScrollOffsetChanged",e,{o:["rowObject*AtTop","topViewRowObject*AtTop"]})},_callOnCollapseStateChanged:function(e){this._handleCallback("onCollapseStateChanged",e,{o:["object"],m:function(e,t,i,a){t.promise&&(a.promise="*Promise*")}})},_callOnCurveCollapseStateChanged:function(e){this._handleCallback("onCurveCollapseStateChanged",e,{o:["object"],m:function(e,t,i,a){t.promise&&(a.promise="*Promise*")}})},_callOnCurvePaneResized:function(e){this._handleCallback("onCurvePaneResized",e,{o:["object"]})},_callOnTableCellDefinitionWidthChanged:function(e){this._handleCallback("onTableCellDefinitionWidthChanged",e,{o:["tableRowDefinition"]})},_callVisibilityFilter:function(e,t){let i=`visibilityFilterFor${e}`;this._handleCallback(this.options[i]?i:"visibilityFilter",t,{l:this.options.loggingVerboseLevel>=30,o:["object"],m:function(e,t,i,a){a.result=t.result}})},_callCompareObjects:function(e,t){let i=`compare${e}`;this._handleCallback(this.options[i]?i:"compareObjects",t,{l:this.options.loggingVerboseLevel>=30,o:["objectA","objectB"],m:function(e,t,i,a){a.isALowerThanB=t.isALowerThanB}})},_callOnSaveAsPDFProgress:function(e){this._handleCallback("onSaveAsPDFProgress",e,{m:function(e,t,i,a){t.promise&&(a.promise="*Promise*")}})},_callOnRowSortingChangeRequested:function(e){this._handleCallback("onRowSortingChangeRequested",e)}};a.widget("netronic.rabWidget",G),e.exports=a.netronic.rabWidget},5901:(e,t,i)=>{i(8675),i(3408),i(4590),i(7658),i(2801);var a=i(5549),n=i(3571),o=n.nClassFactory,r=n.nDefaultSeparator,s=n.nPropertyComposer,l=n.nTemplateResolver,c=i(6998),d=c.ViewType,u=c.ObjectType,p=i(9921).vswVersion,h=i(713),g=i(3092),m=i(661),f=i(9197),_=i(9976),b={construct:function(e,t){"use strict";n.nLocales.locale(e.options.locale);let i=a.extend({widget:e,fullScreenGanttViewElem:e.element.find(".nrab-gantt-view")[0],title:"",optionsCollectorClass:f,modelClass:g,ganttViewClass:m,viewClass:_},t);i.modelOptions=a.extend({handleWarningFunc:this._handleWarning.bind(this)},t.modelOptions||{}),this._super(i);var o=this.handleAPIOptionChanged.bind(this);["defaultCalendarID"].forEach((e=>this.setAPIOptionChangedCallback(e,1,o)))},_handleWarning:function(e){this._options.widget._handleWarning(e.replace(/^n[a-zA-Z]+: /,"").replace(/primary key/i,"ID").replace(`"${r}`,'"'))||this._super(e)},handleAPIOptionChanged:function(e,t,i){"use strict";if("defaultCalendarID"===e){this.model().handleAPIOptionChanged(e,t,i);var a=this.isRenderingNecessary(),n=this._updateResourcesAndActivitiesThatAreUsingTheDefaultCalendar();n&&!a&&(n=!1,this.render())}else this._super(e,t,i)},setOption:function(e,t,i){"use strict";var a=this,n=!1;switch(e){case"viewType":a._viewType=t,n=!0;break;case"maximumSnapDistance":n=!0}a.setViewOptionIndirectly(e,t,n,false),void 0===a&&a._super(e,t,i)},getViewType:function(){return this._viewType},setViewOptionIndirectly:function(e,t,i,a){"use strict";var n=this;if("maximumSnapDistance"===e&&"string"==typeof t){if(!this._viewInitialized){var o=function(e,t,i,a){if(isFinite(t)){var n,o,r,s=e.length;for(r=0,n=0,o=317;r<s;r++)n+=o*e.charCodeAt(r),o=(o*=317)%i||i;0==(n%=a)&&(n=1);var l=t%1e3,c=n*((t-l)/1e3);return c=1e3*(c%=a)+n*l,1===(c%=a)}};t=function(e){if(e){for(var t,i="",a=e.length,n=0;n<a;n++)t=e[n],i+=String.fromCharCode(t>251&&t<254&&n+5<a?1073741824*(t-252)+(e[++n]-128<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>247&&t<252&&n+4<a?(t-248<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>239&&t<248&&n+3<a?(t-240<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>223&&t<240&&n+2<a?(t-224<<12)+(e[++n]-128<<6)+e[++n]-128:t>191&&t<224&&n+1<a?(t-192<<6)+e[++n]-128:t);return i}}(function(e,t){var i,a=e.length,n=t?Math.ceil((3*a+1>>>2)/t)*t:3*a+1>>>2,o=new Uint8Array(n);if(!e.match(/[^A-Za-z0-9\+=\/]/)){for(var r,s,l=0,c=0,d=0;d<a;d++)if(s=3&d,l|=((i=e.charCodeAt(d))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<18-6*s,3===s||a-d==1){for(r=0;r<3&&c<n;r++,c++)o[c]=l>>>(16>>>r&24)&255;l=0}return o}}(t.replace(/\s+/g,""))),this.l=function(){if(t){var e=t.indexOf("-{"),i=t.substring(0,Math.max(e,0)).split("-");if(3===i.length&&(i.push(t.substring(++e).replace(/\s+$|\0+$/g,"")),o(i[3],+i[0]||0,1009,979907)&&o(i[3],+i[1]||0,1013,983347)&&o(i[3],+i[2]||0,1019,987457)))try{if(t=JSON.parse(i[3])){if(9912===t.e)n.__e="never";else{var a=new Date(2e3+Math.floor(t.e%1e4/100),t.e%100,1);a.setDate(a.getDate()-1),n.__e=("0"+a.getDate()).slice(-2)+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+a.getFullYear()}n.__id=t.id,n.__n=t.n+(""!==t.u?" ("+t.u+")":""),n._f=t.f,n._ed=btoa(t.ed),n.getAPIOption("version")||"U0U="!==n._ed||(n.setAPIOption("version",p),n.setAPIOption("customName",n.getAPIOption("customName")+" "+t.ed))}if(t&&t.f&&t.f.indexOf(1001)>=0&&(!Microsoft||!Microsoft.Dynamics||!Microsoft.Dynamics.NAV||!Microsoft.Dynamics.NAV.InvokeExtensibilityMethod))return;if(t){if(t.e){var r=new Date(2e3+Math.floor(t.e%1e4/100),t.e%100,1),s=Date.now();if(r>s){var l=Math.floor((r.getTime()-s)/864e5);return 0===l?window.alert(atob("TkVUUk9OSUM6IExpY2Vuc2UgZXhwaXJlcyBhdCB0aGUgZW5kIG9mIHRvZGF5ISA")):l<15&&window.alert(atob("TkVUUk9OSUM6IExpY2Vuc2UgZXhwaXJlcyBpbiA")+l+atob("IGRheXMh")),!0}return!1}return!0}}catch(e){}}}(),void 0===n.l&&window.alert(atob("TkVUUk9OSUM6IEludmFsaWQgbGljZW5zZSBrZXkh"))}}else this._super(e,t,i,a)},isInUpdateRowObjectMethod:function(){return this._isInUpdateRowObjectMethod},updateActivities:function(e,t){"use strict";var i=this;i._isInUpdateRowObjectMethod=!0,i._super(e,t),i.view()&&i.view().ganttViews().forEach((function(t){t.viewType()===d.Activities&&t.checkResendingCanDrag(e)})),i._isInUpdateRowObjectMethod=!1},updateAllocations:function(e,t){"use strict";var i=this;i._super(e,t),i.view()&&i.view().ganttViews().forEach((function(t){t.viewType()===d.Resources&&t.checkResendingCanDrag(e)}))},updateEntities:function(e,t){"use strict";var i=this;i._isInUpdateRowObjectMethod=!0,i._super(e,t),i._isInUpdateRowObjectMethod=!1},updateResources:function(e,t){"use strict";var i=this;i._isInUpdateRowObjectMethod=!0,i._super(e,t),i._isInUpdateRowObjectMethod=!1},render:function(){if(this.l){let e=this._options.widget._handleEventuallyAsynchronousFunctionStart("render");this._super(),e&&this._options.widget._handleEventuallyAsynchronousFunctionEnd("render"),this._options.widget._logRenderingTime()}else{var e=this._options.widget.element;e.empty(),a("<div>").css("width","100%").css("height","100%").css("background-image",'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY0AAAFxCAYAAACP9/SzAAAACXBIWXMAAAwuAAALEwF92bblAAAAIGNIUk0AAHolAACAgwAA+f8AAIDoAABSCAABFVgAADqXAAAXb9daH5AAABBxSURBVHja7N3vcxT3fcDxz+6e7iQjCQuEpHONbBPkEGcmnbFxbadjJ+kEN3nS/J3NwzbJTJOmmTyrk8wYG8GkNjiuAElGIAnF0v2SdvsAmxnXtBZwd9pbvV6PGBD68bnTvm93b7+b7LXaRYyI+9vb8etf/1u0Wq2v/dvfvfFGXLjwnQD40s7OTvx1ZyciGfAXKiLSLI2ZmVMxPj7+lX+6ubISv/vdf3ztv6RpGu+++48xNz8/UjOteVoBVfXpXz6JTqcztK9357PP4vzSy3HixInKzjT1tAKqqiiGeyCl2+3Gvbt3Kz1T0QCqK0mG/iXTrNqbVdEA6JOpqamYm5uv9M/onAZwrCwsNGNqaiqK6N+hq6KIyLIsJicnI8sy0QCo0t7AszMzBvGEHJ4CjpW8yA3h2ETjCE5qAdimjWg0EtEAKuLBu4GLkfu+a7/5za9Ho25JEr3e/lAv1AEYXDTy+MN778XExETkxejEo7a2uurRAzgCm5ubI/c9V+ZEeFF4AgIl3DZV7OepTDSeeWbCsxMonRMnTkS9XheNMmk2m7Gw0PTsBErn1KlTcf78UmV+npG+uC9N0zi7uBgXL74ejUbDsxMonSRJ4tXXXot6ox43rl9/eGuH/f390fx5Pv30v0fykFteFNFoNGLGlZ3A/+GDDy5H93+94/Jb58/HqVOnj+T76XQ60Wm3H/y52408z2PULiSojdoNQABGVaPRGPmjIpYRAUA0ABANAEQDANEAQDQARsIj1hey5JBoADxSrfbV65eTJKnUkh6iAdBHzz9/NhqNRqRpGrVaLZrN52JyctJgnkKy12rbWQMqa3+/F71uL9Iss9xQP/bejACo9EauNha12phB9InDUwCIBgAD2HO7f//+E/3HifHxqDs+CIyAdrsdnU47YuTWlC1hND76rz8/2X+sjUXzOTc/Asorz/NYvX0r7ty5EwcHBwbSB098eGp/vxc3V1bi3r17pgiU0s2bK7G2tiYYZYjGl7a2Nk0RKKXtrS1DKFs0ABANgNGXOPHdb7Uzc3P//8wjovhiN6/X65kYMPIajfE4efJkFGFBjMeOxosvvnSoD/xzuy0aQCVMTU/FCy++aBBP4FCHp/I8D0EGKsP2bLDRAFANRAMA0QBANAAQDQBEAwDRAEA0AEA0ABANAEQDANEAQDQAEA0AeMpouAEWUBXu6PfEakVRfMNsHwz3mz4OYFTkB/nDP9u2PWY0ri5f+eYiF0V0Oh3TAiphe3srlq98+HD7xmNEo9VqmQJwvPY08jxs+57M058IF2mgrOxFlC8aWeYNWEA5ZVlmCGWKRpqmcXr2jCkCpbTQbD58Mw/9URsbG3uCPb4i6vV6zC80Y3p62hSBUpqdPRNpmsVn6+vR7XYiSdMo8tw7pp5Cstdqmx4Ah+KEBACiAYBoACAaAIgGAKIBgGgAgGgAIBoAiAYAogGAaAAgGgAgGgCIBgCiAYBoACAaAIgGAIgGAKIBgGgAIBoAiAYAogGAaACAaAAgGgCIBgCiAYBoACAaACAaAIgGAKIBgGgAIBoAiAYAiAYAogGAaAAgGgCIBgCiAYBoAIBoACAaAIgGAKIBgGgAIBoAIBoAiAYAogGAaAAgGgCIBgCIBgCiAYBoACAaAIgGAFVWMwKqaPfzz2N5eTlWV1ej1+tGJImhDEtRRCRJzDw7ExcuXIizi4tmUiHJXqtdGANV0um047f//tu4e3fDMI56A5Mk8eZbb8XS0suGUREOT1E5KysrglGanY4irl27ZhCiAeW1vb1tCCWy3+sZgmhAeSXh/EW5HhCPR5U4Ec4x2nalMT7eiCRJoiicyuv3bHu9bvTsVYgGVMXk5GT8+NKlqNfrESEa/Y7G1eXluHLlQ8MQDaiGNE2i0Wh8EQ36vjEZszk5Fr9HRsBx4rCU2SIaAIgGAKIBgGgAIBoA8JD3yNF3eZ4P9CLgB4uoJpG40hhEg9G1u7sbly+/Hzs7OwNdyqOIIrI0jTNzc3HhwndiYmLC8EE0GDW3bt2MG9evD+3rra+vx8adO/GDH/4oGo2GBwCGwDkN+rcHkA//4q6NjY24f/++4YNoMHKO4BTD6dOnY3p62uxhSByeYqCyLIvpkyf72pMiItIkjfn5+Xjlu6/E+Pi4QYNoUAVTU9Nx6dK70WjUo59LE6WpnWQQDSonSb58e2zqXjxQAV6uMQRWPwXRgBFUr48ZwoBkWWYIx4DDUxwb7XY7rly5EmO1Mfd+6PerzyyNtdU1gxANqI5OpxOX33/fIOBpXiAYAVVTOIdSsgfE4yEaUGKWFAHRgEM7e3bRBX8lMjc3bwiiAeU1MzMTb7/zTpw+PesiwCOUZVmcO/eteOPNNw2jQpwIp5KazefiJz+dj83Nzej1unFwkEen3TaYIXp2ZiZmZ2cNQjRgdF7pnjlzxiCgj+y7AyAaAIgGAKIBgGgAIBrwKI9aLaIoCqtIgGjA143Vvv4O7lqtZslsEA34uoVmM6anp7/ydy+dOxdjY+5hAVWR7LXaDh7QN1tbW3F1eTk6nXacXVyMpaWXI3GfVxANAI4fh6cAEA0ARAOAI2SVWwZib28v2pYiPxL1ej0mJycNAtGg/Pb39+ODDy7HjevXReMIo7H4wgvx6quvuYMhfefdU/RNnufx3nv/GR9/9JFhlMDfPP98vP32O1Gv1w2DvnFOg765u7ERn9y4YRAlcfvWrVi9fdsgEA3Kqd1ux8HBgUGUSMshQkSDsnLldxkfEzOgv5wIZyjm5ufjmYmJyPPcMPoZhTSNXrcX6+trZotoUJHd2TSNixdfj9nZWcMYgN3d3fjVL38RrVbLMBj877MRMAy5cx0Ds9/rGQKiAYBoACAaAIgGAIgGAKIBwEC5TqMidnZ24q87OxGDvgK4iEizNGZmTllBFUSDUfXpXz6JTqcztK9357PP4vzSy3HixAnDh2PE4amKKIrhrnDf7Xbj3t27Bg+iwUg6gpXp0szTB0QDDmFqairm5uYNAo4Z5zQqbGGhGVNTU1FE/w5dFUVElmUxOTkZWZYZMogGVdobeHZmxiCAvnF4qsLywv0VANFgFLmFnNkiGnAYD94NXBjEwJohGgyPcxoMIRp5/OG992JiYiLyQjz6+qovSaLX2x/qhZ2IBgzc5uamIUAVXqgYAX3bozCCEu7lmQGiQUmdOHEi6vW6QZTIM89MGAKiQTmdOnUqzp9fMoiSaDabsbDQNAj6yjkN+iZJknj1tdei3qjHjevXo9VqRUTE/v6+4QzzlWCaxtnFxbh48fVoNBoGgmhQ7g3W9773t/Htb1+ITrsdERGdbjfyPA9vDB28vCii0WjEjJUAEA1GSaPR8CoXqvjC0AgAEA0ARAMA0QBANAAQDcrnEetFWEICEA0eqVb76runkySxpAcgGjza88+fjUajEWmaRq1Wi2bzuZicnDQYoK+SvVbbQYyK2N/vRa/bizTLXFgHDIQrwqv0YNbGolYbMwhgYByeAkA0AOg/h6cqpt1uR6fTjrCm7JGYGB+PuvNJiAZll+d5rN6+FXfu3ImDgwMDOapfqNpYNJ9z8yOqy+Gpirh5cyXW1tYE44jt7/fi5spK3Lt3zzAQDcpre2vLEEpka2vTEBANAESDKkic+AYGz4nwims0xuPkyZNRhAv/+9roiCjiwWHBXq9nIIgG1TA1PRUvvPiiQQzIn9tt0eBYcXiq6uxgDEye5+aLaKAaAKIBgGgAIBoAiAYAogGAaACAaAAgGgCIBgCiAYBoACAaACAaAIgGX3BHvwHP1wg4XtyEqeLyg/zhn4vCMun9a3FipogG1bO9vRXLVz58sMdhA9ffPbiiiE6nYxaIBhXa08jzaLVaBgH0hXMaVWEvomSPhxEgGpRYlmWGUKrHw68WokGJLTSbD0/OcsS/VGkap2fPGASV5JxGRczOnok0zeKz9fXodjuRpGkUee7dPUNUFEXU6/WYX2jG9PS0gVBJyV6rbasCwOH2pI0AANEAQDQAEA0ARAMA0QBANABANAAQDQBEAwDRAEA0ABANABANAEQDANEAQDQAEA0ARAMARAMA0QBANAAQDQBEAwDRAEA0AEA0ABANAEQDANEAQDQAEA0AEA0ARAMA0QBANAAQDQBEAwBEAwDRAEA0ABANAEQDANEAQDQAQDQAEA0ARAMA0QBANAAQDQAQDQBEAwDRAEA0ABANAEQDAEQDANEAQDQAEA0ARAOACqv9/Of/bApPqigikiRmnp2JCxcuxNnFRTMBSmv3889jeXk5VldXo9frRiTJ40ej3WqZ5FNaa7VifX0t3nzrrVhaetlAgNLpdNrx+9//Pu7e3Xiqz+PwVN92Ooq4du2aQQCltLKy8tTBEI0+2+/1DAEope3t7b58HtHopyc4PggwlM1T9Gf7VJuYmDDNx+pCGr1eN3r2KoCKbNPGxxuRJEkURfHN0finn/3M1B5zwFeXl+PKlQ8NAxh5k5OT8eNLl6Jer0fEIaLRaIyb2uPuno3VDAGohDRNotFofBGNQ3y8kT2+w+zCAVRxmyYaAIgGAKIBgGgAIBoAVIr3jgIMQZ7nA1004sGi20kkA16ZQjQABmh3dzcuX34/dnZ2+raUxyOjEUVkaRpn5ubiwoXvxKBW+xANgAG6detm3Lh+fWhfb319PTbu3Ikf/PBH0Wg0+v75ndMAGKAiH/7FwBsbG3H//v2BfG7RABikI1j8+vTp0zE9PT2Qz+3wFMCQZVkW0ydP9rUnRUSkSRrz8/PxyndfifHxwawrKBoAQzY1NR2XLr0bjUY9+rmUXZoO/uCRaAAMWZJ8+fbYdOTu3eacBsCRGM3VskXjCWRZZghAZdTrY4f+2Nq1q1dN7HEqm6WxtrpmEEAltNvtuHLlSozVxg53u9c//emPpgZwTHU6nbj8/vuHf+FsZH3kjn5AWTdPfTqHIhoAx0C/lhQRjT6am5s3BKCUzp5d7MsFf6LRB1mWxblz34o33nzTMIBSmpmZibffeSdOn559qosAa9///t+b5lN6dmYmZmdnDQIotWbzufjJT+djc3Mzer1uHBzk0Wm3Hy8a55eWTBLgmMiyLM6cOfPE/9/hKQBEAwDRAEA0ABANAEQDgMN51OpCRVGM7KpDogEwQGO1r9/rrlarjewtFkQDYIAWms2Ynp7+yt+9dO5cjI2NjeTPk+y12pZmBRigra2tuLq8HJ1OO84uLsbS0suRjNp9XkUDgMfl8BQAogGAaABwhGqbm5sj+83X6/WYnJz0KAIjYW9vL9qPuRR56aLxi3/9l5GOxuILL8Srr77WlztSAQzC/v5+fPDB5bhx/froR2OUv/lutxvXP/44Wq1WvP32O1Gv1z07gVLJ8zz++Mc/xMcffVSJn6cS5zRu37oVq7dve3YCpXN3YyM+uXGjMj9PZU6Et0Z8lw+opna7HQcHB6JRNiN6cSVQcUnFNk61xcXF0Rh8mkav24v19bXI89wzERh5c/Pz8czExEht02o//NE/jMw3u7u7G7/65S+i1Wp5tgEjLU3TuHjx9ZidnR2t73uUvtn9Xs8zDaiMfATPdbgiHADRAEA0ABANAEQDANEA4HiqGQFQVTs7O/HXnZ2IQV+UXUSkWRozM6cqv+L2/wwA+p/h6gQLYCAAAAAASUVORK5CYII=")').appendTo(e).append(atob("PGRpdiBzdHlsZT0id2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogdGFibGU7Ij48aDIgc3R5bGU9ImRpc3BsYXk6IHRhYmxlLWNlbGw7IHRleHQtYWxpZ246IGNlbnRlcjsgdmVydGljYWwtYWxpZ246IG1pZGRsZTsiPkxpY2Vuc2UgbWlzc2luZyEgUGxlYXNlIGNvbnRhY3QgeW91ciBzb2Z0d2FyZSB2ZW5kb3IhPC9oMj48L2Rpdj4=")),this._viewInitialized=!0,a('<div class="nrab-message-pane"></div>').appendTo(e),this._options.widget._showAbout(),delete this._view}},measuredRenderingTime:function(e){this._options.widget._logRenderingTime(e.ganttWidget?"Gantt":"Entities",e.duration)},determineVisibilityOfUpdatedObjectsInView:function(e,t,i,a,n){(n||this.getAPIOption("visibilityFilter")||this.getAPIOption(`visibilityFilterFor${t}`))&&this._super.apply(this,arguments)},replacePlaceholders:function(e,t,i,a,n,o){"use strict";var r=this.model();if(e){var c=t,d=i;a&&(t=r.periodHighlighterByID(a.ID),d=u.PeriodHighlighter);e=l.resolve(e,">#",t,function(e,t,a){a&&(i=d);let n=o?.(t,i,a,e);if(n)({wrapperObject:t,wrapperObjectType:i}=n);else switch(i){case u.Activity:">Parent"===e?t=r.activityByID(s.compose(t,["ParentRole","ParentID"])):">Calendar"===e&&(t=r.calendarByID(t.CalendarID),i=u.Calendar);break;case u.Resource:">Parent"===e?t=r.resourceByID(s.compose(t,["ParentRole","ParentID"])):">CapacityCurve"===e?(t=r.curveByID(t.CapacityCurveID),i=u.Curve):">LoadCurve"===e?(t=r.curveByID(t.LoadCurveID),i=u.Curve):">InventoryCurve"===e?(t=r.curveByID(t.InventoryCurveID),i=u.Curve):">Calendar"===e&&(t=r.calendarByID(t.CalendarID),i=u.Calendar);break;case u.Entity:">Parent"===e&&(t=r.entityByID(t.ParentID));break;case u.Allocation:">Resource"===e?(t=r.resourceByID(s.compose(t,["ResourceRole","ResourceID"])),i=u.Resource):">Activity"===e&&(t=r.activityByID(s.compose(t,["ActivityRole","ActivityID"])),i=u.Activity);break;case u.Link:if(">SourceActivity"===e||">TargetActivity"===e){let a=e.substring(1);t=r.activityByID(s.compose(t,[a+"Role",a+"ID"])),i=u.Activity}else if(">SourceAllocation"===e||">TargetAllocation"===e){let a=e.substring(1);t=r.allocationByID(s.compose(t,[a+"Role",a+"ID"])),i=u.Allocation}break;case u.PeriodHighlighter:a&&"#RowObject"===e&&(t=c,i=d);break;default:t=void 0,i=-1}return t}.bind(this),(function(e,t){return"date"===e?n(new Date(t)):t}))}return e},determineObjectByPageCoordinates:function(e,t){"use strict";return this.view()?.ganttViews()[0]?.determineObjectByPageCoordinates(e,t)}},v={};o.extendClass(v,"rabWidgetApplication",h,b),e.exports=v.rabWidgetApplication},661:(e,t,i)=>{i(7658),i(6699);var a=i(5549),n=i(9990),o=i(3571),r=o.nClassFactory,s=o.nDateHelper,l=o.nDefaultSeparator,c=o.nPopup,d=o.nPropertyComposer,u=i(9280),p=u.RowInsertionMode,h=i(5674),g=h.BarInteractions,m=h.DateLineGridRecurrence,f=h.ElemType,_=h.HorizontalAlignment,b=h.nCalendarHelper,v=u.RowInteractions,y=i(6998),A=y._AllocationBarDesignFlags,T=y._AllocationBarDragModes_AllSupportedFlags,w=y._ActivityBarDragModes_AllSupportedFlags,C=y._RowDragModes_AllSupportedFlags,I=y.DateLineGridModes,R=y.ItemType,D=y.ObjectType,S=y.RAB_CURVE_CONTAINER_CLASS,O=y.RowSortMode,P=y.TableType,E=y.TextWrapMode,M=y.ViewType,V=y.VisualType,B=y.VisualSubtype,N=i(3567),k={construct:function(e,t,i,n,o){"use strict";var r=this,s=e.getOption("widget");let l=Object.assign({},o||{});var d;l.ganttWidget||(l.ganttWidget={}),l.ganttWidget.keyboardEventsSourceElem||(l.ganttWidget.keyboardEventsSourceElem=s.element[0]),l.entitiesTableWidget||(l.entitiesTableWidget={}),l.entitiesTableWidget.keyboardEventsSourceElem||(l.entitiesTableWidget.keyboardEventsSourceElem=s.element[0]),r._super(e,t,i,n,l);var u=r.getAPIOption("symbolColumnTitleSymbolIDs");r.getAPIOption("symbolColumnTitleVisible")&&(d=r._getImageURLsForGanttWidget(u));let p=r.getAPIOption("symbolColumnTitleVisible");r._tableDefinitionActivities={titleText:r.getAPIOption("titleText"),rowDefinitionIDWithColumnTitles:r.getAPIOption("tableRowDefinitionIDForTitleInActivitiesView"),baseLevel:{className:"",contentsFunc:function(){return r._tableRowFillFunc.apply(r,arguments)},cellDefinitions:[{className:"",width:r.getAPIOption("tableWidth"),contentsFunc:function(){return r._tableCellFillFunc.apply(r,arguments)},titleText:null,horizontalTextAlignment:_.Left}]},symbolColumnTitleImageURLs:d,symbolColumnTitleVisible:p,rowSortMode:r.getAPIOption("activityRowSortMode"),rowSortPropertyName:r.getAPIOption("activityRowSortCodePropertyName")},r._tableDefinitionActivities.symbolColumnTitleBackgroundColor=p?r.getAPIOption("symbolColumnTitleBackgroundColor")||r.getAPIOption("symbolColumnBackgroundColor")||"white":r.getAPIOption("tableTitleBackgroundColor")||"#646464",r._addOrRemoveCurveCollapsingColumnInTableDefinition(r._tableDefinitionActivities,r.getAPIOption("curvePanesVisibleInActivitiesView")),r._addOrRemoveSymbolColumnInTableDefinition(r._tableDefinitionActivities,r.getAPIOption("symbolColumnVisible"),r.getAPIOption("symbolColumnWidth")),r._tableDefinitionActivitiesBaseLevel=r._tableDefinitionActivities.baseLevel,r._tableDefinitionResources=a.extend(!0,{},r._tableDefinitionActivities),r._tableDefinitionResources.rowDefinitionIDWithColumnTitles=r.getAPIOption("tableRowDefinitionIDForTitleInResourcesView"),r._tableDefinitionResources.rowSortPropertyName=r.getAPIOption("resourceRowSortCodePropertyName"),r._tableDefinitionResources.rowSortMode=r.getAPIOption("resourceRowSortMode"),r._addOrRemoveCurveCollapsingColumnInTableDefinition(r._tableDefinitionResources,r.getAPIOption("curvePanesCollapsibleInResourcesView")),r._addOrRemoveSymbolColumnInTableDefinition(r._tableDefinitionResources,r.getAPIOption("symbolColumnVisible"),r.getAPIOption("symbolColumnWidth")),r._tableDefinitionResourcesBaseLevel=r._tableDefinitionResources.baseLevel,r._tableDefinitionLoads=a.extend(!0,{},r._tableDefinitionResources),r._tableDefinitionLoadsBaseLevel=r._tableDefinitionLoads.baseLevel,r._tableDefinitionLoads.rowDefinitionIDWithColumnTitles=r.getAPIOption("tableRowDefinitionIDForTitleInLoadsView")||r._tableDefinitionResources.rowDefinitionIDWithColumnTitles,d=void 0,u=r.getAPIOption("entitiesTableSymbolColumnTitleSymbolIDs"),r.getAPIOption("entitiesTableSymbolColumnTitleVisible")&&(d=r._getImageURLsForEntitiesTableWidget(u));let h=r.getAPIOption("entitiesTableSymbolColumnTitleVisible");r._tableDefinitionEntities={titleText:r.getAPIOption("entitiesTitleText"),rowDefinitionIDWithColumnTitles:r.getAPIOption("tableRowDefinitionIDForTitleInEntitiesTable"),baseLevel:{className:"",contentsFunc:function(){return r._entitiesTableRowFillFunc.apply(r,arguments)},cellDefinitions:[{className:"",width:200,contentsFunc:function(){return r._entitiesTableCellFillFunc.apply(r,arguments)},horizontalTextAlignment:_.Left}]},groupingLevels:[{className:"",contentsFunc:function(){return r._entitiesTableRowFillFunc.apply(r,arguments)},cellDefinitions:[{className:"",width:250,contentsFunc:function(){return r._entitiesTableCellFillFunc.apply(r,arguments)},horizontalTextAlignment:_.Left}]}],symbolColumnTitleImageURLs:d,symbolColumnTitleVisible:h,rowSortMode:r.getAPIOption("entityRowSortMode"),rowSortPropertyName:r.getAPIOption("entityRowSortCodePropertyName")},r._tableDefinitionEntities.symbolColumnTitleBackgroundColor=h?r.getAPIOption("entitiesTableSymbolColumnTitleBackgroundColor")||r.getAPIOption("entitiesTableSymbolColumnBackgroundColor")||"white":r.getAPIOption("entitiesTableTitleBackgroundColor")||"#646464",r._addOrRemoveSymbolColumnInTableDefinition(r._tableDefinitionEntities,r.getAPIOption("entitiesTableSymbolColumnVisible"),r.getAPIOption("entitiesTableSymbolColumnWidth")),r._tableDefinitionEntitiesBaseLevel=r._tableDefinitionEntities.baseLevel,r.updateTableRowDefinitions(r.app().tableRowDefinitionsMap(),!1),r._columns=[],r._rowDefinitions=[],r._callbackForCloseContextMenu=function(){r._handleCloseContextMenu()},r._contextMenuActive=!1,c.addCallbackForCloseContextMenu(r._callbackForCloseContextMenu);var g=r.handleAPIOptionChanged.bind(r);["dateLineGridMode","curvePanesVisibleInActivitiesView","curvePanesCollapsibleInResourcesView"].forEach((e=>this.setAPIOptionChangedCallback(e,1,g)))},destroy:function(){"use strict";this._super(),c.removeCallbackForCloseContextMenu(this._callbackForCloseContextMenu)},_addOrRemoveCurveCollapsingColumnInTableDefinition:function(e,t){"use strict";t?e.fixedColumnsSucceeding={cellDefinitions:[{className:"",width:this.getAPIOption("fixedTableColumnWidth"),contentsFunc:this._tableCellFillFunc.bind(this),titleText:"",horizontalTextAlignment:_.Left,clippingEnabled:!1}]}:delete e.fixedColumnsSucceeding},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"dateLineGridMode":this._ganttWidget.option("timescaleRibbonDateLinesVisible",!!(t&I.Auto));var a=[];t&I.Weekly&&a.push({timeType:m.Weekly,className:this.RAB_WEEKLY_DATE_LINE_GRID_CLASS}),t&I.Daily&&a.push({timeType:m.Daily,className:this.RAB_DAILY_DATE_LINE_GRID_CLASS}),this._ganttWidget.option("dateLineGrids",a);break;case"curvePanesCollapsibleInResourcesView":this._addOrRemoveCurveCollapsingColumnInTableDefinition(this._tableDefinitionResources,t),this._super(e,t,i),this._viewType===M.Resources&&this._ganttWidget.option("tableDefinition",this._ganttWidget.option("tableDefinition"));break;case"curvePanesVisibleInActivitiesView":this._addOrRemoveCurveCollapsingColumnInTableDefinition(this._tableDefinitionActivities,t),this._super(e,t,i),this._viewType===M.Activities&&this._ganttWidget.option("tableDefinition",this._ganttWidget.option("tableDefinition"));break;default:this._super(e,t,i)}},_initOptions:function(e){"use strict";var t=this._options=a.extend({},{},e);this._super(t)},getObjectTypeFromItem:function(e){"use strict";var t=void 0;if(e)switch(e.rab_itemType){case R.Activity:case R.ActivityBaseline:case R.ActivityFrame:case R.ActivityRow:t=D.Activity;break;case R.Allocation:case R.AllocationRow:t=D.Allocation;break;case R.Curve:t=this.getAPIOption("newCallbackBehaviorEnabled")?D.Resource:e.rab_itemType;break;default:t=e.rab_itemType}return t},_transferObjectOfCallbackArgs:function(e,t,i){"use strict";var a=this,n=e.item||e.sender||e.rowItem,o=n&&n.rab_itemType===R.PeriodHighlighterEntry;o&&(n=e.rowItem);var r=void 0!==e.itemType?e.itemType:n?n.rab_itemType:void 0;e.event&&(t.event=e.event),t.objectType="TimeAreaBackground"===n?D.TimeArea:"Timescale"===n?D.Timescale:a.getObjectTypeFromItem(n),t.object="TimeAreaBackground"!==n&&"Timescale"!==n&&n?"function"==typeof n.data?n.data().data():n.rab_data:null,t.visualType=o?V.PeriodHighlighter:r===R.ActivityRow||r===R.AllocationRow||r===R.Resource||r===R.Entity?V.Row:r===R.Curve?V.Curve:r===R.Link?V.Link:r===R.DateLine?V.DateLine:"Timescale"===n?V.Timescale:n?V.Bar:-1;var l=e.ganttWidget;t.visualType===V.Row&&l&&(e.event&&l.pageXToTimeAxisX(e.event.pageX)>=0?l.pageXToDate(e.event.pageX)>=l.timeAxis().currentlyVisibleStart()&&(t.visualType=V.Background):e.date&&(t.date=a.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.date):e.date,t.visualType=V.Background));if(e.event&&l&&t.visualType!==V.Row&&(t.date=a.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(l.pageXToDate(e.event.pageX)):l.pageXToDate(e.event.pageX)),i&&null!=n.rab_propNames&&(t.startPropertyName=n.rab_propNames.Start,t.endPropertyName=n.rab_propNames.End),a.getAPIOption("newCallbackBehaviorEnabled")||r!==R.AllocationEntry)if(r===R.AllocationEntry||r===R.ActivityEntry)t.entry=t.object,t.object=n.data().getHierarchyParent().data(),t.objectType=r===R.AllocationEntry?D.Allocation:D.Activity,t.entryIndex=t.object.Entries?.indexOf?.(t.entry)??-1;else if(t.objectType!==D.Activity&&t.objectType!==D.Entity&&t.objectType!==D.Resource||!n.isPseudo()){if(o){let i,o=a.viewModel().model();i=n.rab_itemType===R.AllocationRow?a._viewType===M.Activities?o.resourceByID(d.compose(n.data(),["ResourceRole","ResourceID"])):n.rab_parentRowItem.data():n.data();var c=o.periodHighlighterByID(i.PeriodHighlighterID);t.calendarGrid=t.periodHighlighter=c.data(),null!=e.entryIndex&&(t.entryIndex=(e.item||e.sender).entries[e.entryIndex].rab_entryIndex,t.entry=c.data()?.Entries?.[t.entryIndex])}}else t.hierarchySupplementaryDefinitionID=t.object.__HIERARCHYSUPPLEMENTARYDEFINITIONID,t.hierarchyLevelSupplementaryDefinitionIndex=t.object.__HIERARCHYLEVELSUPPLEMENTARYDEFINITIONINDEX,t.groupingLevelDefinitionIndex=t.object.__GROUPINGLEVELDEFINITIONINDEX,t.groupingCodes=Object.values(t.object.__GROUPINGCODES).reverse(),t.object=null;else t.allocation=n.data().getHierarchyParent().data();"tooltipTemplateID"in e&&(t.tooltipTemplateID=e.tooltipTemplateID),"curveID"in e&&(t.curve=a.viewModel().model().curveByID(e.curveID).data()),"cellIndex"in e&&(t.cellIndex=e.cellIndex),"symbolIndex"in e&&(t.symbolIndex=e.symbolIndex),"timePeriodStartDate"in e&&(t.timePeriodStart=e.timePeriodStartDate),"timePeriodEndDate"in e&&(t.timePeriodEnd=e.timePeriodEndDate)},_replaceTooltipTemplatePlaceholders:function(e,t,i){"use strict";var a=this,n=a._app.tooltipTemplatesMap()[e],o=i.innerHTML;return n?.InnerHTML&&(o=a._app.replacePlaceholders(n.InnerHTML,t,i.objectType,i.periodHighlighter&&a.viewModel().model().periodHighlighterByID(i.periodHighlighter.ID),(e=>a.ganttWidget()._formatDate(e)),((e,t,a,n)=>{switch(t){case D.Resource:if(a&&i.visualType===V.Curve&&["#Date","#Load","#Capacity","#SingleLoads"].includes(n))return{wrapperObject:i[n.substring(1,2).toLowerCase()+n.substring(2)],wrapperObjectType:-1};break;case D.Curve:if(i.visualType===V.Curve&&"#Entry"===n)return{wrapperObject:e.data().CurvePointEntries?.[i.entryIndex],wrapperObjectType:-1};break;case D.Activity:case D.Allocation:if(a&&"#Entry"===n)return{wrapperObject:e.data().Entries?.[i.entryIndex],wrapperObjectType:-1};break;case D.PeriodHighlighter:if(a){if("#RowObject"===n)return{wrapperObject:i.object,wrapperObjectType:i.objectType};if("#Entry"===n)return{wrapperObject:e.data().Entries?.[i.entryIndex],wrapperObjectType:-1}}}}))),o},_handleBeforeShowingTooltip:function(e){"use strict";try{var t=this;e.item||(t._lastTimeItemWithCanDragTriggered=null);var i={innerHTML:e.innerHTML};if(t._transferObjectOfCallbackArgs(e,i),e.itemType===R.Curve?(i.load=e.load,e.singleLoads&&(i.singleLoads=e.singleLoads),i.capacity=e.capacity):e.subItemType===R.ActivityDueDate?i.visualSubtype=B.ActivityDueDateSymbol:e.subItemType===R.ActivityReleaseDate&&(i.visualSubtype=B.ActivityReleaseDateSymbol),i.promise=null,this._app.getOption("widget")._callOnShowTooltip(i),null!=i.tooltipTemplateID){var a=e.itemType===R.PeriodHighlighterEntry?e.rowItem.data():e.itemType===R.AllocationEntry||e.itemType===R.ActivityEntry?e.item.rab_parentItem.data():e.item.data();e.innerHTML=t._replaceTooltipTemplatePlaceholders(i.tooltipTemplateID,a,i)}else e.innerHTML=i.innerHTML||void 0;e.promise=i.promise,this._super(e)}catch(e){this._handleCallbackException(e,"onShowTooltip")}},_handleCloseContextMenu:function(){"use strict";this._contextMenuActive&&(this._app.getOption("widget")._callOnCloseContextMenu(),this._contextMenuActive=!1)},_handleContextMenuEvent:function(e){"use strict";try{var t=this;if(this._super(e),e.sender){var i={promise:void 0};if(e.dateArea&&(e.item=e.rowItem),t._transferObjectOfCallbackArgs(e,i),e.event&&e.elemType===f.Row&&i.visualType===V.Background)for(var a=n.select(e.event.target);a.attr("class").indexOf(y.RAB_CLASS_PREFIX)>=0;a=n.select(a.node().parentNode))if(a.classed(S)){i.visualType=V.Curve;break}e.event&&i.visualType!==V.Row&&(i.date=t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(t._ganttWidget.pageXToDate(e.event.pageX)):t._ganttWidget.pageXToDate(e.event.pageX)),c.setContextMenuActive(!0),t._contextMenuActive=!0,t._app.getOption("widget")._callOnShowContextMenu(i),i.promise&&"function"==typeof i.promise.then?i.promise.then((function(){c.setContextMenuActive(!1),t._contextMenuActive=!1}),(function(){c.setContextMenuActive(!1),t._contextMenuActive=!1})):(c.setContextMenuActive(!1),t._contextMenuActive=!1)}}catch(e){this._handleCallbackException(e,"onShowContextMenu")}},_handleCallbackException:function(e,t){this._handleException(e,t+"/callback")},_doOnEventFunc:function(e){"use strict";switch(e.eventType){case"tap":case"doubletap":this._app.getOption("widget")._closeContextMenu()}this._super(e)},_handleTableTitleCellTap:function(e){"use strict";var t=this;try{if(t.getAPIOption("interactiveSwitchingOfSortOrderEnabled")){let a=e.cellDefinition.rab_sortSource;if(a){let n;if(1===e.tableType)n=R.Entity;else switch(t._viewType){case 0:n=R.Activity;break;case 1:case 2:n=R.Resource}let o=O.None,r=this.view().getRowSortParamsForItemType(n);a===r.rowSortPropertyName?(o=r.rowSortMode+1,o>O.Descending&&(o=t.getAPIOption("rowSortModeNoneEnabledOnInteractiveSwitchingOfSortOrder")?O.None:O.Ascending)):o=O.Ascending;var i={event:e.event,objectType:t.getObjectTypeFromItem({rab_itemType:n}),sortMode:o,sortCodeSource:a,cancel:!1};t._tooltipWidget.display(null);let s=t._app.getOption("widget");if(s._callOnRowSortingChangeRequested(i),!i.cancel){let e={[R.Activity]:"activity",[R.Entity]:"entity",[R.Resource]:"resource"}[n],t=`${e}RowSortMode`,a=s.option(t)!==i.sortMode;s.option({[`${a?"´":""}${e}RowSortCodePropertyName`]:i.sortCodeSource,[t]:i.sortMode})}t._super(e)}}else this._handleBackgroundTap()}catch(e){this._handleCallbackException(e,"onRowSortingChangeRequested")}},_handleItemTap:function(e){"use strict";try{var t=this,i={};t._transferObjectOfCallbackArgs(e,i),t._app.getOption("widget")._callOnClicked(i),t._super(e)}catch(e){this._handleCallbackException(e,"onClicked")}},_handleItemDoubleTap:function(e){"use strict";try{var t=this,i={};t._transferObjectOfCallbackArgs(e,i),t._tooltipWidget.display(null),t._app.getOption("widget")._callOnDoubleClicked(i),t._super(e)}catch(e){this._handleCallbackException(e,"onDoubleClicked")}},_doDetermineTableRowDefinitionFunc:function(e){"use strict";var t=this;try{this._super(e);var i={level:e.level,tableType:e.tableType,objectType:t.getObjectTypeFromItem(e.rowItem),object:e.rowItem.data(),hasColumnTitles:!1},a=e.rowDefinition.cellDefinitions.map((function(e){return{initialWidth:e.width,horizontalTextAlignment:e.horizontalTextAlignment,textSource:"",wrapMode:E.None}}));if(i.columns=a,this._app.getOption("widget")._callOnDetermineColumnDefinitions(i),i.columns!==a&&Array.isArray(i.columns)){var n,o=t._columns.indexOf(i.columns);o>=0?n=t._rowDefinitions[o]:(t._columns.push(i.columns),n={cellDefinitions:[],contentsFunc:e.rowDefinition.contentsFunc,hasColumnTitles:i.hasColumnTitles},i.columns.forEach((function(e){n.cellDefinitions.push({className:"",title:e.title,width:e.initialWidth,horizontalTextAlignment:e.horizontalTextAlignment,rab_textSource:e.textSource,rab_symbolIDSource:e.symbolIDSource,rab_sortSource:e.sortSource,wrapMode:e.wrapMode,contentsFunc:function(){return t.__tableCellFillFunc.apply(t,arguments)}})})),t._rowDefinitions.push(n)),e.rowDefinition=n}}catch(e){this._handleCallbackException(e,"onDetermineColumnDefinitions")}},_handleCanSelectTimeItem:function(e){"use strict";try{this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleCallbackException(e,"canSelect")}},_handleSelectTimeItem:function(e){"use strict";try{e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleCallbackException(e,"onSelectionChanged")}},_handleCanSelectRowItem:function(e){"use strict";try{this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleCallbackException(e,"canSelect")}},_handleSelectRowItem:function(e){"use strict";try{e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleCallbackException(e,"onSelectionChanged")}},_handleCanSelectLinkItem:function(e){"use strict";try{this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleCallbackException(e,"canSelect")}},_handleSelectLinkItem:function(e){"use strict";try{e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleCallbackException(e,"onSelectionChanged")}},_entitiesTableHandleCanSelectRowItem:function(e){"use strict";try{this._super(e),e.canSelect&&this._canSelectItem(e)}catch(e){this._handleCallbackException(e,"canSelect")}},_entitiesTableHandleSelectRowItem:function(e){"use strict";try{e.cancel||this._selectItem(e),this._super(e)}catch(e){this._handleCallbackException(e,"onSelectionChanged")}},_canSelectItem:function(e){"use strict";if(e.event&&e.event.shiftKey)e.canSelect=!1;else{var t=e.rowItem||e.timeItem||e.linkItem,i={otherSelectedObjects:(e.otherSelectedRowItems||e.otherSelectedTimeItems||e.otherSelectedLinkItems).map((function(e){return e.data().data()})),event:e.event,cancel:!1};e.item=t,this._transferObjectOfCallbackArgs(e,i),this._app.getOption("widget")._callCanSelect(i),e.canSelect=!i.cancel}},_selectItem:function(e){"use strict";var t=this;if(this.getAPIOption("multipleSelectionEnabled")||e.oldSelectedItems[0]!==e.newSelectedItems[0]){var i=e.rowItem||e.timeItem||e.linkItem,a={selectedObjects:e.newSelectedItems.filter((function(e){return e.data()})).map((function(e){return e.data().data()})),event:e.event,cancel:e.cancel};if(e.item=i,t._transferObjectOfCallbackArgs(e,a),!i){var n=t.getObjectTypeFromItem(e.oldSelectedItems[0]);a.visualType=n===R.ActivityRow||n===R.AllocationRow||n===R.Resource||n===R.Entity?V.Row:n===R.Curve?V.Curve:n===R.Link?V.Link:V.Bar}var o=t._ganttWidget.selectedTimeItems();if(o.length||(o=t._ganttWidget.selectedRowItems()),!o.length&&t._entitiesTableWidget&&(o=t._entitiesTableWidget.selectedRowItems()),o.length)a.previouslySelectedObjects=o.filter((function(e){return e.data()})).map((function(e){return e.data().data()})),a.previouslySelectedObjectsType=t.getObjectTypeFromItem(o[0]);else if(!a.object)return;a.reason=e.reason||y.SelectionChangedReason.Click,e.reasonItem&&(a.reasonObject=e.reasonItem.data().data(),a.reasonObjectType=t.getObjectTypeFromItem(e.reasonItem)),t._app.getOption("widget")._callOnSelectionChanged(a),!a.cancel&&Array.isArray(a.selectedObjects)&&(e.newSelectedItems=t._mapObjectsOrObjectIDsToItems(a.objectType,a.selectedObjects,a.visualType)),e.cancel=a.cancel}},_checkPossibleInteractionsFunc:function(e){"use strict";try{var t=this;if(e.elemType===f.Bar){let a={cancel:!1},n=e.item,o=t.getAPIOption("newCallbackBehaviorEnabled")?"allowedDragModes":"dragMode";if(t._lastTimeItemWithCanDragTriggered===n)return void(e.interactions=t._lastCanDragAllowedDragModes);if(t._lastTimeItemWithCanDragTriggered=n,a[o]=e.interactions,t._transferObjectOfCallbackArgs(e,a,!0),t.getAPIOption("multipleBarDraggingEnabled")){var i=t._ganttWidget.selectedTimeItems();i.length&&(a.selectedObjects=i.filter((function(e){return e.data()})).map((function(e){return e.data().data()})))}t._app.getOption("widget")._callCanDrag(a),a.cancel?e.interactions=g.None:(e.interactions=+a[o]||g.None,e.interactions&=n.rab_itemType===R.Allocation?T:w),t._lastCanDragAllowedDragModes=e.interactions}else if(e.elemType===f.TableRow)if(e.item.data().isPseudo())e.interactions=v.None;else{let i={cancel:!1};i.allowedDragModes=e.interactions,t._transferObjectOfCallbackArgs(e,i,!0),t._app.getOption("widget")._callCanDrag(i),i.cancel?e.interactions=v.None:e.interactions=i.allowedDragModes&C||v.None}t._super(e),t._savedPropertiesOfCheckPossibleInteractionsFunc={callbackArgs:e,boundingClientRect:e.elem.getBoundingClientRect()}}catch(e){this._handleCallbackException(e,"canDrag")}},checkResendingCanDrag:function(e){"use strict";var t=this;t._savedPropertiesOfCheckPossibleInteractionsFunc&&t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item.data()&&Array.isArray(e)&&e.every((function(e){if(e===t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item.data().data()){var i=t._savedPropertiesOfCheckPossibleInteractionsFunc.boundingClientRect,a=t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.elem.getBoundingClientRect(),n=a.left<=i.left,o=a.right>=i.right,r=a.top<=i.top,s=a.bottom>=i.bottom;return(n&&o&&r&&s||!n&&!o&&!r&&!s)&&t._ganttWidget.recheckBarInteractions(t._savedPropertiesOfCheckPossibleInteractionsFunc.callbackArgs.item),!1}return!0}))},_doDraggedFunc:function(e){"use strict";try{var t=this;if(t._super(e),e.elemType===f.Bar||e.elemType===f.Row){var i=e.sender;if(e.elemType!==f.Bar||!i.rab_parentItem||i.rab_itemType===R.Allocation&&i.rab_parentItem.rab_allocationBarDesignFlags===A.Entries){var a={newRowObjectType:e.newRowItem?t.getObjectTypeFromItem(e.newRowItem):void 0,newRowObject:e.newRowItem?e.newRowItem.data().data():void 0,dragMode:e.interaction,rowInsertionMode:e.rowInsertionMode,dropAllowed:e.dropAllowed??!0,cancel:!1};e.elemType!==f.Bar||i.rab_itemType!==R.Allocation&&i.rab_itemType!==R.Entity||(t._viewType===M.Resources?a.newRowObjectIsSuitableResource=e.newRowItemIsSuitableTarget:t._viewType===M.Activities&&(a.newRowObjectIsSuitableActivity=e.newRowItemIsSuitableTarget)),t._transferObjectOfCallbackArgs(e,a,e.elemType===f.Bar),e.elemType===f.Bar?(a.newStart=t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.start):e.start,a.newEnd=t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.end):e.end):e.elemType===f.Row&&e.start&&(a.newStart=t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.start):e.start),t._app.getOption("widget")._callOnDrag(a),e.dropAllowed=a.dropAllowed,e.cancel=a.cancel}}}catch(e){this._handleCallbackException(e,"onDrag")}},_doDroppedFunc:function(e){"use strict";try{var t,i,n=this,o=e.sender;if(e.elemType===f.Bar||e.elemType===f.Row||e.elemType===f.DateLine){var r;if(r=e.elemType===f.DateLine?{newDate:n.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.newDate):e.newDate,cancel:!1}:{newRowObjectType:e.newRowItem?n.getObjectTypeFromItem(e.newRowItem):void 0,newRowObject:e.newRowItem?e.newRowItem.data().data():void 0,dragMode:e.interaction,rowInsertionMode:e.rowInsertionMode??p.None,cancel:!1,promise:null},n._transferObjectOfCallbackArgs(e,r,e.elemType===f.Bar),e.elemType===f.Bar){if(r.workingTimeDistance=e.workingTimeDistance,r.newStart=n.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.start):e.start,r.newEnd=n.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(e.end):e.end,n.getAPIOption("multipleBarDraggingEnabled")&&(r.coupledObjects=[],r.startsAndEndsOfCoupledObjects=[]),r.coupledObjects&&e.startsAndEndsOfCoupledItems){var l=e.newRowItem,c=n._ganttWidget.getRowItem(o);l===c&&(l=null),r.startsAndEndsOfCoupledObjects=e.startsAndEndsOfCoupledItems.map((function(t){var i=t.start,a=t.end;if(!i){c=n._ganttWidget.getRowItem(t.item);var o=l||c,s=t.item;s.rab_itemType===R.ActivityFrame&&(s=n._viewModel._findItemOfTypeInArray(s.childTimeItems,R.Activity));var d=s.calendar||c&&c.calendar||n._ganttWidget.options.defaultCalendar,u=s.calendar||o&&o.calendar||n._ganttWidget.options.defaultCalendar,p=s.start&&s.end?b.calculateWorkingTime(d,s.end,s.start):void 0;(i=s.start?b.addWorkingTime(u,s.start,e.workingTimeDistance):null)&&(a=p&&b.addWorkingTime(u,i,p)||null)}var h=t.item.data().data();return r.coupledObjects.push(h),{object:h,newStart:i,newEnd:a}}))}}else if(e.elemType===f.Row)if(e.rowInsertionMode){let t={[D.Activity]:"activity",[D.Entity]:"entity",[D.Resource]:"resource"}[r.objectType];if((i=n.getAPIOption(`${t}RowSortCodePropertyName`))&&n.getAPIOption(`${t}RowSortMode`)===O.Ascending){let t=[];r.newSortCode=n._determineSortCode(o,e.rowInsertionMode,e.newRowItem,i,t),t.length&&(r.otherNewSortCodesForSiblingObjects=t.slice())}}else if(e.start){r.newStart=e.start;var d=e.newRowItem&&o.data().Duration;if(d){var u=e.end||b.addWorkingTime(null,e.start,d);r.newEnd=n.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(u):u}}n._app.getOption("widget")._callOnDrop(r),void 0===this&&n._super(e),r.cancel?e.cancel=!0:"promise"in e&&r.promise&&"function"==typeof r.promise.then&&(t=a.Deferred(),r.promise.then((function(e){e&&e.cancel?t.reject():t.resolve()})).catch((function(){t.reject()})),e.promise=t.promise())}}catch(e){this._handleCallbackException(e,"onDrop")}},_doDragStartFunc:function(e){"use strict";try{var t=this;t._super(e);var i={dragMode:e.interaction,cancel:!1};t._transferObjectOfCallbackArgs(e,i,e.elemType===f.Bar),t._app.getOption("widget")._callOnDragStart(i),e.cancel=i.cancel}catch(t){e.cancel=!0,this._handleCallbackException(t,"onDragStart")}},_doDragEndFunc:function(e){"use strict";try{var t=this;t._super(e);var i={dragMode:e.interaction,canceled:e.canceled};t._transferObjectOfCallbackArgs(e,i,e.elemType===f.Bar),t._app.getOption("widget")._callOnDragEnd(i)}catch(e){this._handleCallbackException(e,"onDragEnd")}},_determineSortCode:function(e,t,i,a,n){"use strict";let o=0,r=0,s="SortCode"===a?function(e){return e[a]}:function(e){return e.data()[a]},l=t===p.InsertAsChild?i:i.rab_parentRowItem,c=l.childRowItems;if(c){if(!l.rab_parentRowItem){let e=!i.atTheTop,t=c.filter((t=>!t.atTheTop!==e));c=c.filter((t=>!t.atTheTop===e)),e||(r=-c.length);let a=e?e=>e<0:e=>e>0,o=e?-t.length:0;t.every((e=>a(s(e.data()))))||t.forEach(((e,t)=>{n.push({object:e.data().data(),newSortCode:t+o})}))}let a=c.indexOf(e);if(a>=0&&(c=c.slice()).splice(a,1),c.length){let e=t===p.InsertAsChild?0:c.indexOf(i)+(t===p.InsertAsNextSibling?1:0);if(e>0&&(o=s(c[0].data()),"number"==typeof o&&c.slice(1,e).every((e=>{let t=s(e.data());if(t>o)return o=t,!0}))?++o:(c.slice(0,e).forEach(((e,t)=>{n.push({object:e.data().data(),newSortCode:t})})),o=e)),e<c.length){let t=s(c[e].data()),i=t,a="number"!=typeof i||!(o<t);!a&&c.slice(e+1).every((e=>{let t=s(e.data());if(t>i)return i=t,!0}))||(a&&(t=o+1),c.slice(e).forEach(((e,i)=>{n.push({object:e.data().data(),newSortCode:t+i+r})})))}}}return o+r},_prepareUpdateOfRowObjectAfterCallback:function(e,t,i,a){"use strict";this._app.model().getChildByData(t,i).store(Object.assign({},i)),e.push(Object.assign(i,a))},_setColorByOptionValue:function(e,t){"use strict";var i=t??this._app.getOption("widget").element[0].getRootNode?.()??document;this._super(e,i.nodeType==Node.DOCUMENT_FRAGMENT_NODE?i:i.head)},_mapObjectsOrObjectIDsToItems:function(e,t,i){"use strict";var a,n=this,o=[],r=e!==D.Entity;switch(e){case D.Resource:a=n._viewModel.resourceItem;break;case D.Activity:a=n._viewModel.activityItem;break;case D.Entity:r=!1,a=n._viewModel.entityItem;break;case D.Allocation:a=n._viewModel.allocationItem;break;case D.Link:a=n._viewModel.linkItem}if(a){var s=n._view.model();t.forEach((function(t){var c;if("string"==typeof t){var d=t.split(l);c=d.length>1?s.objectByID(e,d[1],d[0]):s.objectByID(e,d[0])}else c=n._app.model().objectByID(e,t.ID,r&&t.Role||"");if(c){var u=a.call(n._viewModel,n._viewType,c);u&&i===V.Bar?e!==D.Activity&&e!==D.Allocation||(u=u.timeItems?.[0]):e===D.Link&&Array.isArray(u?._linkItems)&&(o.push(...u._linkItems),u=void 0),u&&o.push(u)}}))}return o},_preparePageForPrinting:function(e){"use strict";let t=this._app.getOption("widget");var i={pageCount:e.maxPageNumber,currentPageNumber:e.currentPageNumber,promise:null};if(t._callOnSaveAsPDFProgress(i),"function"==typeof i.promise?.then)return i.promise},_keyDownFunc:function(e){"use strict";var t=this;t._super(e);var i=e.event,a=t.app().getOption("widget");i.shiftKey&&i.ctrlKey&&i.altKey&&("F12"===i.key?(a.about(),i.stopPropagation(),i.preventDefault()):"l"!==i.key.toLowerCase()&&(i.which??i.keyCode)!=="L".charCodeAt(0)||!t.getAPIOption("interactiveActivationOfLoggingEnabled")||(a.option("loggingEnabled",!a.options.loggingEnabled),i.stopPropagation(),i.preventDefault()))},_timeAreaViewParametersChangedFunc:function(e){"use strict";try{var t=this;this._super(e);var i=Math.max(1,1/(t.ganttWidget().timeAxis().actualWidthPerSecond()/64)),a="seconds";i>=60&&(a="minutes",(i/=60)>=60&&(a="hours",(i/=60)>=24&&(i/=24,a="days")));var n={scrollOffset:e.scrollOffset,width:e.width,start:t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(new Date(e.start)):new Date(e.start),end:t.viewModel().model().displayRelativeDates()?s.dateToRelativeDateTimeString(new Date(e.end)):new Date(e.end),timeResolutionUnit:a,timeResolutionUnitCount:i,tableViewWidth:e.ganttWidget.actualTableViewWidth(),entitiesTableViewWidth:this.entitiesTableWidget()?.element.width()};t._app.getOption("widget")._callOnTimeAreaViewParametersChanged(n)}catch(e){this._handleCallbackException(e,"onTimeAreaViewParametersChanged")}},_curvePaneResizedFunc:function(e){"use strict";try{this._super(e);var t={paneIndex:e.paneIndex,newHeight:e.newHeight};this._transferObjectOfCallbackArgs(e,t),delete t.visualType,this._app.getOption("widget")._callOnCurvePaneResized(t)}catch(e){this._handleCallbackException(e,"onCurvePaneResized")}},_verticalScrollOffsetChangedFunc:function(e){"use strict";try{this._super(e);let i=[e.topViewRowItemAtTop,e.rowItemAtTop],a=[];for(let e=0;e<=1;e++)for(;i[e]&&(a[e]=i[e]?.data(),a[e]?.isPseudo());)i[e]=i[e].childRowItems?.[0];var t={tableType:e.ganttWidget?P.Gantt:P.Entities,scrollOffset:e.scrollOffset,rowObjectTypeAtTop:this.getObjectTypeFromItem(i[0]||i[1]),rowObjectAtTop:i[1]&&a[1].data(),topViewScrollOffset:e.topViewScrollOffset,topViewRowObjectAtTop:i[0]&&a[0].data()};this._app.getOption("widget")._callOnVerticalScrollOffsetChanged(t)}catch(e){this._handleCallbackException(e,"onOnVerticalScrollOffsetChanged")}},_tableColumnWidthChangedFunc:function(e){"use strict";try{this._super(e);var t=e.sender.rab_tableRowDefinition,i={tableType:e.ganttWidget?P.Gantt:P.Entities,tableRowDefinition:t.rab_data,cellIndex:e.columnIndex,newWidth:e.newWidth,oldWidth:e.oldWidth};this._app.getOption("widget")._callOnTableCellDefinitionWidthChanged(i)}catch(e){this._handleCallbackException(e,"onOnVerticalScrollOffsetChanged")}},_handleRowExpandOrCollapseFunc:function(e){"use strict";try{var t=this;t._super(e);var i={newCollapseState:(e.concernsLeaves?e.areLeavesCollapsed:e.isCollapsed)?1:0,interactively:e.interactively,isForAllocationRows:e.concernsLeaves,promise:null};if(t._transferObjectOfCallbackArgs(e,i),i.object){var a=(e.newCollapseState?"c":"e")+(e.concernsLeaves?"A":"C")+i.objectType+(i.object.Role||"")+l+i.object.ID;if(t._prefixedObjectIDsSetWithPendingCollapseStateChange||(t._prefixedObjectIDsSetWithPendingCollapseStateChange={}),!t._prefixedObjectIDsSetWithPendingCollapseStateChange[a]){t._prefixedObjectIDsSetWithPendingCollapseStateChange[a]=!0,!t.getAPIOption("onCollapseStateChangedTriggeredByUpdateCalls")&&t._app.isInUpdateRowObjectMethod()||t._app.getOption("widget")._callOnCollapseStateChanged(i);var n=function(){delete t._prefixedObjectIDsSetWithPendingCollapseStateChange[a]};i.promise&&"function"==typeof i.promise.then?(e.promise=i.promise,i.promise.then(n,n)):n()}}else t._app.getOption("widget")._callOnCollapseStateChanged(i)}catch(e){this._handleCallbackException(e,"onCollapseStateChanged")}},_expandOrCollapseCurvesInRow:function(e,t){"use strict";try{var i=this;i._super(e,t);var a={objectType:i.getObjectTypeFromItem(e),object:e.data().data(),newCollapseState:t?0:1,promise:null};e.rab_itemType!==R.Resource&&(a.resource=i._viewModel.resourceByItem(e).data());var n=(t?"e":"c")+"U"+e.rab_itemType+(a.object.Role||"")+l+a.object.ID;if(i._prefixedObjectIDsSetWithPendingCollapseStateChange||(i._prefixedObjectIDsSetWithPendingCollapseStateChange={}),!i._prefixedObjectIDsSetWithPendingCollapseStateChange[n]){i._prefixedObjectIDsSetWithPendingCollapseStateChange[n]=!0,i.getAPIOption("onCollapseStateChangedTriggeredByUpdateCalls")&&i._app.getOption("widget")._callOnCurveCollapseStateChanged(a);var o=function(){delete i._prefixedObjectIDsSetWithPendingCollapseStateChange[n]};if(a.promise&&"function"==typeof a.promise.then)return a.promise.then(o,o),a.promise;o()}}catch(e){return void this._handleCallbackException(e,"onCurveCollapseStateChanged")}},checkObjectVisibility:function(e,t){"use strict";var i={objectType:this.getObjectTypeFromItem(t),object:t.data().data(),result:!0};return this._app.getOption("widget")._callVisibilityFilter(e,i),i.result},determineObjectByPageCoordinates:function(e,t){"use strict";var i=this;let o=i.entitiesTableWidget()?.determineItemByPageCoordinates(e,t)||i.ganttWidget().determineItemByPageCoordinates(e,t);if(o){let l={};if(o.ganttWidget&&o.elemType===f.Row){var r=i._ganttWidget.pagePointToTimeArea(e,t);if(r){let c=!1,d=i._ganttWidget.elementFromPoint(e,t);for(var s=n.select(d);s.attr("class").indexOf(y.RAB_CLASS_PREFIX)>=0;s=n.select(s.node().parentNode))if(s.classed(S)){c=!0;break}c?(o=i._determineCurveTooltipArgs(o.item,r),o.ganttWidget=i.ganttWidget(),o.curveID=a(d).data("__curveID"),l.capacity=o.capacity,l.load=o.load,o.singleLoads&&(l.singleLoads=o.singleLoads)):o.date=r.date}}return i._transferObjectOfCallbackArgs(o,l),o.subItemType===R.ActivityDueDate?l.visualSubtype=B.ActivityDueDateSymbol:o.subItemType===R.ActivityReleaseDate&&(l.visualSubtype=B.ActivityReleaseDateSymbol),l}}},W={};r.extendClass(W,"rabWidgetGanttView",N,k),e.exports=W.rabWidgetGanttView},3092:(e,t,i)=>{var a=i(3571),n=i(8233),o={};a.nClassFactory.extendClass(o,"rabWidgetModel",n,{handleAPIOptionChanged:function(e,t){"use strict";if("defaultCalendarID"===e)this._defaultCalendar=""===t||null==t?this._defaultNonWorkingTimeCalendar:this.calendarByID(t)},addCalendar:function(e){"use strict";var t=this._super(e);return e.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=t),t},updateCalendar:function(e,t){"use strict";var i=this._super(e,t);return t.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=e),i},removeCalendar:function(e){"use strict";e.ID===this.getAPIOption("defaultCalendarID")&&(this._defaultCalendar=this._defaultNonWorkingTimeCalendar),this.removeChild(e)}}),e.exports=o.rabWidgetModel},9197:(e,t,i)=>{var a=i(3571),n=a.nDebugHelper,o=i(219),r=i(6998).DateLineGridModes,s={construct:function(e){"use strict";this._super(e),this.defineOption("version",null),this.defineOption("customName",null),this.defineOption("customCopyrightYear",null),this.defineOption("customVersion",null),this.defineOption("applicationName",null),this.defineOption("applicationVersion",null),this.defineOption("licenseKey",null),this.defineOption("defaultCalendarID",null,this.convertAnyNonObjectToString),this.defineOption("newCallbackBehaviorEnabled",!1,this.convertAnyToBoolean),this.defineOption("onShowTooltip",null,void 0,this.assertFunctionOrNull),this.defineOption("onDetermineColumnDefinitions",null,void 0,this.assertFunctionOrNull),this.defineOption("onShowContextMenu",null,void 0,this.assertFunctionOrNull),this.defineOption("onCloseContextMenu",null,void 0,this.assertFunctionOrNull),this.defineOption("canDrag",null,void 0,this.assertFunctionOrNull),this.defineOption("onDrag",null,void 0,this.assertFunctionOrNull),this.defineOption("onDragStart",null,void 0,this.assertFunctionOrNull),this.defineOption("onDragEnd",null,void 0,this.assertFunctionOrNull),this.defineOption("onDrop",null,void 0,this.assertFunctionOrNull),this.defineOption("onClicked",null,void 0,this.assertFunctionOrNull),this.defineOption("onDoubleClicked",null,void 0,this.assertFunctionOrNull),this.defineOption("canSelect",null,void 0,this.assertFunctionOrNull),this.defineOption("onSelectionChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onTimeAreaViewParametersChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onVerticalScrollOffsetChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCollapseStateChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCurveCollapseStateChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("onCurvePaneResized",null,void 0,this.assertFunctionOrNull),this.defineOption("onTableCellDefinitionWidthChanged",null,void 0,this.assertFunctionOrNull),this.defineOption("compareObjects",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("compareActivities",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("compareAllocations",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("compareEntities",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("compareResources",null,void 0,this.assertFunctionOrNull,!0),this.defineOption("visibilityFilter",null,void 0,this.assertFunctionOrNull),this.defineOption("visibilityFilterForActivities",null,void 0,this.assertFunctionOrNull),this.defineOption("visibilityFilterForAllocations",null,void 0,this.assertFunctionOrNull),this.defineOption("visibilityFilterForResources",null,void 0,this.assertFunctionOrNull),this.defineOption("visibilityFilterForEntities",null,void 0,this.assertFunctionOrNull),this.defineOption("onSaveAsPDFProgress",null,void 0,this.assertFunctionOrNull),this.defineOption("determineGroupingCode",null,void 0,this.assertFunctionOrNull),this.defineOption("onRowSortingChangeRequested",null,void 0,this.assertFunctionOrNull),this.defineOption("dateLineGridMode",r.Weekly,this.convertStringToNumber,this.assert_dateLineGridMode),this.defineOption("loggingEnabled",!1),this.defineOption("interactiveActivationOfLoggingEnabled",!1)},assert_dateLineGridMode:function(e,t){"use strict";return n.assertNumberOrNull(t),null!=t&&n.assert([0,1,2,4].indexOf(t)>=0,e+" is out of range"),!0}},l={};a.nClassFactory.extendClass(l,"rabWidgetOptionsCollector",o,s),e.exports=l.rabWidgetOptionsCollector},9976:(e,t,i)=>{i(6699);var a=i(5549),n=i(3571);const{RAB_ACTIVITIES_PROP_NAME:o,RAB_ALLOCATIONS_PROP_NAME:r,RAB_ENTITIES_PROP_NAME:s,RAB_RESOURCES_PROP_NAME:l}=i(6998);var c=n.nClassFactory,d=n.nDefaultSeparator,u=i(6998),p=u.ViewType,h=u.ObjectType,g=u.ItemType,m=u.RowSortMode,f=i(4555),_={construct:function(e,t,i){"use strict";this._super(e,t,i);var a=this.handleAPIOptionChanged.bind(this);["compareObjects","compareActivities","compareAllocations","compareEntities","compareResources","activityRowSortMode","activityRowSortCodePropertyName","allocationRowSortMode","allocationRowSortCodePropertyName","entityRowSortMode","entityRowSortCodePropertyName","resourceRowSortMode","resourceRowSortCodePropertyName","determineGroupingCode"].forEach((e=>this.setAPIOptionChangedCallback(e,1,a)))},handleAPIOptionChanged:function(e,t,i){"use strict";switch(e){case"compareObjects":this.ganttViews().length&&this._initializeCompareObjects(this.ganttViews()[0]);break;case"activityRowSortCodePropertyName":case"activityRowSortMode":this.updateTableTitleSortingParams(g.Activity);case"compareActivities":this.ganttViews()[0]?.viewType()===p.Activities&&this._initializeCompareObjectsForItemType(this.ganttViews()[0],g.Activity);break;case"resourceRowSortCodePropertyName":case"resourceRowSortMode":this.updateTableTitleSortingParams(g.Resource);case"compareResources":[p.Resources,p.Loads].includes(this.ganttViews()[0]?.viewType())&&this._initializeCompareObjectsForItemType(this.ganttViews()[0],g.Resource);break;case"entityRowSortCodePropertyName":case"entityRowSortMode":this.updateTableTitleSortingParams(g.Entity);case"compareEntities":this.ganttViews()[0]?.isEntitiesTableVisible()&&this._initializeCompareObjectsForItemType(this.ganttViews()[0],g.Entity);break;case"allocationRowSortCodePropertyName":case"allocationRowSortMode":case"compareAllocations":this.ganttViews().length&&this.ganttViews()[0].viewType()!==p.Loads&&this._initializeCompareObjectsForItemType(this.ganttViews()[0],g.Allocation);break;case"determineGroupingCode":this.ganttViews().length&&this._initializeDetermineGroupingCode();break;default:this._super(e,t,i)}},updateTableTitleSortingParams:function(e){"use strict";var t=this;this._rowSortParams||(this._rowSortParams={}),this._rowSortParams[e]=this.getRowSortParamsForItemType(e),this.ganttViews().forEach((function(i){i.updateTableTitleSortingParams(e,t._rowSortParams[e])}))},getRowSortParamsForItemType:function(e){let t={};switch(e){case g.Resource:t.rowSortPropertyName=this.getAPIOption("resourceRowSortCodePropertyName"),t.rowSortMode=this.getAPIOption("resourceRowSortMode");break;case g.Activity:t.rowSortPropertyName=this.getAPIOption("activityRowSortCodePropertyName"),t.rowSortMode=this.getAPIOption("activityRowSortMode");break;case g.Entity:t.rowSortPropertyName=this.getAPIOption("entityRowSortCodePropertyName"),t.rowSortMode=this.getAPIOption("entityRowSortMode")}return t},_initOptions:function(e){"use strict";this._super(a.extend({},{},e))},setOption:function(e,t){"use strict";if("viewType"===e)this.ganttViews()[0].setOption(e,t);this._super(e,t)},_initViewModels:function(){"use strict";this._initializeDetermineGroupingCode(),this._super()},handleViewTypeSwitch:function(e,t){"use strict";this._initializeCompareObjects(e),this._super(e,t)},_initializeCompareObjects:function(e){"use strict";this._initializeCompareObjectsForItemType(e,e.viewType()===p.Activities?g.Activity:g.Resource),e.viewType()!==p.Loads&&(this._initializeCompareObjectsForItemType(e,g.Entity),this._initializeCompareObjectsForItemType(e,g.Allocation))},_initializeCompareObjectsForItemType:function(e,t){"use strict";var i=this;let a={[g.Activity]:o,[g.Allocation]:r,[g.Entity]:s,[g.Resource]:l}[t],n={[g.Activity]:"activity",[g.Allocation]:"allocation",[g.Entity]:"entity",[g.Resource]:"resource"}[t],c={[g.Activity]:[p.Activities],[g.Resource]:[p.Resources,p.Loads]}[t],d=i.getAPIOption(`${n}RowSortCodePropertyName`)||"SortCode",u="SortCode"===d?function(e){return e[d]}:function(e,t){return t[d]},h=i.getAPIOption(`${n}RowSortMode`)||m.None,f=i.getAPIOption("compareObjects"),_=i.getAPIOption(`compare${a}`),b=t===g.Allocation?"compareAllocationRowItemsFunc":t===g.Entity?"compareEntityRowItemsFunc":"compareRowItemsFunc",v=t===g.Entity?p._Entities:e.viewType();if(null==c||c.includes(v)){let n=_||f||h!==m.None?function(t){let n=t.itemA.data(),o=t.itemB.data();var r=n.data(),s=o.data();if(h!=m.None){var l=u(n,r),c=u(o,s),d=null!=l,p=null!=c;(d||p)&&(t.isALowerThanB=d&&p?h===m.Ascending?l<c:l>c:p)}else if(_||f){let n={objectType:e.getObjectTypeFromItem(t.itemA),viewType:t.viewType,isALowerThanB:t.isALowerThanB};t.itemA.isPseudo()?(n.hierarchySupplementaryDefinitionID=r.__HIERARCHYSUPPLEMENTARYDEFINITIONID,n.hierarchyLevelSupplementaryDefinitionIndex=r.__HIERARCHYLEVELSUPPLEMENTARYDEFINITIONINDEX,n.groupingLevelDefinitionIndex=r.__GROUPINGLEVELDEFINITIONINDEX,n.groupingCodeA=Object.values(r.__GROUPINGCODES)[0],n.groupingCodeB=Object.values(s.__GROUPINGCODES)[0],n.objectA=null,n.objectB=null):(n.objectA=r,n.objectB=s),i.app().getOption("widget")._callCompareObjects(a,n),t.isALowerThanB=n.isALowerThanB}}:void 0;if(!n){if(e.viewModel().getOption(b)){let t=function(e){let t=e.itemA.data(),a=e.itemB.data(),n=t.getPropertyName(),o=i.model().getChildrenArray(n),r=o.indexOf(t),s=o.indexOf(a);e.isALowerThanB=r<s};e.viewModel().setOption(b,t,void 0,v)}}e.viewModel().setOption(b,n,void 0,v);let o=t===g.Entity?e.entitiesTableWidget():e.ganttWidget();o&&o.updateTableTitle()}e.handleAPIOptionChanged("barSortModeForOptimizedRowDesign",i.getAPIOption("barSortModeForOptimizedRowDesign"))},_initializeDetermineGroupingCode:function(){"use strict";var e=this,t=e.getAPIOption("determineGroupingCode");e.ganttViews().forEach((function(i){i.viewModel().setOption("determineGroupingCodeFunc",t?.bind(e.app().getOption("widget")))}))},scrollToObjectData:function(e,t,i,a){"use strict";var n=this;if(t){var o,r,s=this.ganttViews()[0],l=s.viewType();switch(e){case h.Resource:l!==p.Resources&&l!==p.Loads||(o=n.model().resourceByID("string"==typeof t?d+t:[t.Role,t.ID].join(d)))&&(r=s.viewModel().resourceItem(l,o));break;case h.Allocation:(l===p.Resources||l===p.Activities&&n.getAPIOption("allocationRowsVisibleInActivitiesView"))&&((o=n.model().allocationByID("string"==typeof t?d+t:[t.Role,t.ID].join(d)))&&(r=s.viewModel().allocationItem(l,o)),r&&(r=r?.timeItems?.[0]?.start?r.timeItems[0]:r.rab_parentRowItem));break;case h.Activity:if(l===p.Activities&&(o=n.model().activityByID("string"==typeof t?d+t:[t.Role,t.ID].join(d)))){let e=s.viewModel();if((r=e.activityItem(l,o))&&r.timeItems?.[0]?.childTimeItems){let t=r.timeItems[0].childTimeItems;var c=e._findItemOfTypeInArray(t,g.Activity);c?.start||(c=e._findItemOfTypeInArray(t,g.ActivityReleaseDate)),c?.start||(c=e._findItemOfTypeInArray(t,g.ActivityBaseline)),c?.start||(c=e._findItemOfTypeInArray(t,g.ActivityDueDate)),c?.start||(c=r.timeItems[0].childTimeItems[0]),c?.start&&(r=c)}}break;case h.Entity:(o=n.model().entityByID("string"==typeof t?t:t.ID))&&(r=s.viewModel().entityItem(l,o))}if(r)return s.scrollToItem(r,i,a)}}},b={};c.extendClass(b,"rabWidgetView",f,_),e.exports=b.rabWidgetView},1207:(e,t,i)=>{var a=i(3571),n=a.nClassFactory,o=a.nWrapperBase,r=i(3328),s="rabWrapper",l={construct:function(e,t,i,a){"use strict";this._model=e,this.initHierarchy(t,i,a)},initHierarchy:function(e,t,i){"use strict";this._version=t,this._super(e,i,this._handleWarningFunc)},_getHandleWarningFunc:function(){return this._model.getHandleWarningFunc()||this._super()},model:function(){return this._model},getAPIOption:function(e){"use strict";return this._model.getAPIOption(e)},_getDefaultObjectPropName:function(){},_getPropertyAsColorString:function(e){return e?.toString()||void 0},_getPropertyAsNumber:function(e){var t=null!=e?+e:void 0;return isNaN(t)?void 0:t},_getPropertyAsFiniteNumber:function(e){var t=null!=e?+e:void 0;return!isNaN(t)&&isFinite(t)?t:void 0},_createChild:function(e,t,i,a){"use strict";return new(t.getClassConstructor())(this._model,e,this._version,a?null:t)},addChild:function(e,t,i){"use strict";if(void 0===i||i===this._version)return this._super(e,t)},updateChild:function(e,t,i){"use strict";if(void 0===i||i===this._version)return this._super(e,t)},classifyModification:function(e,t,i){"use strict";var a=this,n=a.rab_modificationClassification;if(void 0===n&&(n=9),n){let d=function(){let e=a.constructor.prototype,t=e._modificationClassificationByProperty;for(;e;){if(t)return!0;if(e=Object.getPrototypeOf(e),e._dbgClassName===s)break;t=e._modificationClassificationByProperty}};var o=!0,r=a._copyOfData||a.data();if(r===e&&(o=d())){let e=t.replace(/ies$/,"y").replace(/s$/,"");a._getHandleWarningFunc()?.(`Instance of ${e} object (ID "${i}") is same as before! This can reduce performance!`)}else if(o)for(var l=a.constructor.prototype,c=l._modificationClassificationByProperty;l&&(!c||Object.getOwnPropertyNames(l).every((function(o){if(o[0]>="A"&&o[0]<="Z"){var s=c[o]||0;if("function"==typeof s&&(s=s.call(a,e)),-1===s){if(Array.isArray(r[o])&&Array.isArray(e[o])&&r[o].length===e[o].length){var l=a._model.__ensureCompatibleValue(r,o);if(l&&l[0]){var d=a._model.__ensureCompatibleValue(e,o);if(l[0]._dbgClassName){for(var u=l.length-1;u>=0;u--)if(l[u].classifyModification(d[u],`${o}[${u}] object within ${t}`,i),!(n=Math.min(n,l[u].rab_modificationClassification)))return!1}else for(u=l.length-1;u>=0;u--)if((l[u]&&l[u].valueOf())!==(d[u]&&d[u].valueOf()))return n=0,!1}}else if(r[o]!==e[o])return n=0,!1}else if(a._model.__ensureCompatibleValue(e,o)===a._model.__ensureCompatibleValue(r,o)&&(s=2),!(n=Math.min(n,s)))return!1}return!0})))&&(l=Object.getPrototypeOf(l))._dbgClassName!==s;)c=l._modificationClassificationByProperty;9===n&&(n=0),a.rab_modificationClassification=n}}},c={};n.extendClass(c,s,o,l),c[s].prototype.defineProperty=function(e,t,i,a){r.defineProperty(this,e,t,void 0,i,a)},e.exports=c[s]},1880:(e,t,i)=>{var a=i(5549),n=i(5674),o=i(9921),r=i(620),s=i(5393),l=i(6998),c=l.AllocationBarDesign,d=l.RowDesigns,u=n.BarSnapTargets,p={options:{applicationClass:s,customName:"NETRONIC Visual Scheduling Widget (VSW)",customCopyrightYear:o.copyrightYear,version:o.vswVersion,newCallbackBehaviorEnabled:!0,defaultAllocationBarDesign:c.GroupedEntries,contextMenuCallbackOnRowInTimeArea:!0,activityCalendarsEnabled:!0,defaultActivityCollapsedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,defaultActivityExpandedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,defaultResourceCollapsedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,defaultResourceExpandedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,defaultAllocationSnapTargetsForStart:u.Start|u.End|u.CalendarGrids,defaultAllocationSnapTargetsForEnd:u.Start|u.End|u.CalendarGrids,defaultActivitySnapTargetsForStart:u.CalendarGrids,defaultActivitySnapTargetsForEnd:u.CalendarGrids,defaultLinkSelectable:!1},_create:function(){this.element.addClass("nvs-widget"),this._super()}};a.widget("netronic.nVSWidget",r,p),e.exports=a.netronic.nVSWidget},5393:(e,t,i)=>{var a=i(5549),n=i(3571),o=i(5901),r={construct:function(e,t){"use strict";this._super(e,a.extend({ganttViewOptions:{ganttWidget:{rowItemsSelectable:!0,detailedConstraintSymbolsEnabled:!0}}},t))}},s={};n.nClassFactory.extendClass(s,"nVSWApplication",o,r),e.exports=s.nVSWApplication},136:e=>{var t={ViewType:{Activities:0,Resources:1,Loads:2},ObjectType:{TimeArea:-2,Timescale:-1,Activity:1,Allocation:2,Resource:5,Link:6,Curve:7,Entity:13,CalendarGrid:14,PeriodHighlighter:14,Symbol:15,DateLine:16,TooltipTemplate:17,TableRowDefinition:18,TableRowDefinitions:18,Calendar:20,HierarchySupplementaryDefinition:21},DragMode:{None:0,DragStart:1,DragEnd:2,DragHor:4,DragVer:8},RowInsertionMode:{None:0,InsertAsChild:1,InsertAsNextSibling:2,InsertAsPreviousSibling:3},SnapTargets:{None:0,Start:1,End:2,DateLines:4,CalendarGrids:8,DateLineGrids:16},TableType:{Gantt:0,Entities:1},TimescaleNavigationMode:{Latest:0,LegacyVersion1:1},AllocationBarDesign:{Allocation:0,Entries:1,AllocationAndEntries:2,MergedEntries:3,GroupedEntries:4},RowDesigns:{None:0,Bars:1,Optimized:2,BarsInHiddenDescendantRows:4,CalendarGrid:8},HorizontalAlignment:{Left:0,Center:1,Right:2},CollapseState:{Unchanged:-1,Expanded:0,Collapsed:1},UpdateModes:{Default:0,UpdateOnly:0,ImplicitAddObjects:1,DifferentialValues:2},ActivityBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},AllocationBarDragModes:{None:0,DragStart:1,DragEnd:2,DragHorizontally:4,DragVertically:8,DragAutoHorOrVer:16},RowDragModes:{None:0,DragVertically:8,DragOutside:32,DragOnSameLevelOnly:64},VisualType:{Background:-1,Bar:0,Row:1,Curve:2,Link:3,CalendarGrid:4,PeriodHighlighter:4,DateLine:5,Timescale:6},VisualSubtype:{ActivityDueDateSymbol:1,ActivityReleaseDateSymbol:2},DateLineGridModes:{None:0,Auto:1,Weekly:2,Daily:4},ActivityBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3,Symbol:4},AllocationBarShape:{Regular:0,Summary:1,Diamond:2,Rectangle:3,Symbol:4},LinkMarker:{None:0,FilledArrow:1},LinkRoutingType:{Curved:1,Orthogonal:2},RelationType:{FinishToStart:0,FinishToFinish:1,StartToStart:2,StartToFinish:3,SourceDateToStart:4,SourceDateToFinish:5,FinishToTargetDate:8,StartToTargetDate:10,SourceDateToTargetDate:12},ProgressBarWidthCalculationMode:{ConsiderWorkingTimesOnly:0,ConsiderWorkingAndNonworkingTimes:1},TextWrapMode:{None:0,Line:1,Word:2},TimeType:{WorkingTime:1,NonworkingTime:2},CurveType:{PointCurve:0,CurveStack:3,CurveList:4},CurveInterpolationType:{StepAfter:0,Linear:1},PaneIndex:{LoadCurve:0,InventoryCurve:1},ViewArea:{Top:-1,Main:0,Default:0},HorizontallyScrollableViewArea:{Table:0,TimeArea:1,EntitiesTable:2},VerticallyScrollableViewArea:{Top:-1,Main:0,EntitiesTable:2},HorizontalScrollPosition:{Left:1,Right:2},VerticalScrollPosition:{Top:1,Bottom:2},PanningMode:{None:0,HorizontallyOnly:1,VerticallyOnly:2,HorAndVer:3,AutoHorOrVer:4},DateLineCaptionPosition:{Left:1,Center:2,Right:4,TopLeft:9,TopCenter:10,TopRight:12},DateLineCaptionOrientation:{Horizontal:1,Vertical:2},SelectionBehavior:{Framing:0,Highlighting:1},TargetPositions:{None:0,Necesssary:0,Left:1,HCenter:2,Right:4,Top:8,VCenter:16,Bottom:32},WorldViewPosition:{Left:1,Right:2,Top:3,Bottom:4},SelectionChangedReason:{Click:0,BackgroundClick:1,ContextMenu:2,DragStart:3},PrintingMode:{Single:0,Cutting:1,Paging:2},PageOrientation:{Portrait:0,Landscape:1},PatternType:{VerticalHatch:0,ForwardHatch:1,BackwardHatch:2},TreeVisualizationMode:{ColoredIndentation:0,TreeViewLines:1},BarSortMode:{StartAndEnd:0,ByCompareObjects:1,ByCompareObjectsOnSameStart:2},RowSortMode:{None:0,Ascending:1,Descending:2},TimescaleInteractionModes:{None:0,ScrollingByButtons:1,Rescaling:2,Default:3},TimeUnit:{Seconds:0,Minutes:1,Hours:2,Days:3,Weeks:4,Months:5,Quarters:6,Years:7}};t.ActivityBarShapes=t.ActivityBarShape,e.exports=t},9662:(e,t,i)=>{var a=i(614),n=i(6330),o=TypeError;e.exports=function(e){if(a(e))return e;throw o(n(e)+" is not a function")}},6077:(e,t,i)=>{var a=i(614),n=String,o=TypeError;e.exports=function(e){if("object"==typeof e||a(e))return e;throw o("Can't set "+n(e)+" as a prototype")}},1223:(e,t,i)=>{var a=i(5112),n=i(30),o=i(3070).f,r=a("unscopables"),s=Array.prototype;null==s[r]&&o(s,r,{configurable:!0,value:n(null)}),e.exports=function(e){s[r][e]=!0}},5787:(e,t,i)=>{var a=i(7976),n=TypeError;e.exports=function(e,t){if(a(t,e))return e;throw n("Incorrect invocation")}},9670:(e,t,i)=>{var a=i(111),n=String,o=TypeError;e.exports=function(e){if(a(e))return e;throw o(n(e)+" is not an object")}},3013:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(e,t,i)=>{"use strict";var a,n,o,r=i(3013),s=i(9781),l=i(7854),c=i(614),d=i(111),u=i(2597),p=i(648),h=i(6330),g=i(8880),m=i(8052),f=i(3070).f,_=i(7976),b=i(9518),v=i(7674),y=i(5112),A=i(9711),T=i(9909),w=T.enforce,C=T.get,I=l.Int8Array,R=I&&I.prototype,D=l.Uint8ClampedArray,S=D&&D.prototype,O=I&&b(I),P=R&&b(R),E=Object.prototype,M=l.TypeError,V=y("toStringTag"),B=A("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",k=r&&!!v&&"Opera"!==p(l.opera),W=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},x=function(e){var t=b(e);if(d(t)){var i=C(t);return i&&u(i,N)?i[N]:x(t)}},H=function(e){if(!d(e))return!1;var t=p(e);return u(F,t)||u(L,t)};for(a in F)(o=(n=l[a])&&n.prototype)?w(o)[N]=n:k=!1;for(a in L)(o=(n=l[a])&&n.prototype)&&(w(o)[N]=n);if((!k||!c(O)||O===Function.prototype)&&(O=function(){throw M("Incorrect invocation")},k))for(a in F)l[a]&&v(l[a],O);if((!k||!P||P===E)&&(P=O.prototype,k))for(a in F)l[a]&&v(l[a].prototype,P);if(k&&b(S)!==P&&v(S,P),s&&!u(P,V))for(a in W=!0,f(P,V,{get:function(){return d(this)?this[B]:void 0}}),F)l[a]&&g(l[a],B,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:W&&B,aTypedArray:function(e){if(H(e))return e;throw M("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!v||_(O,e)))return e;throw M(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,a){if(s){if(i)for(var n in F){var o=l[n];if(o&&u(o.prototype,e))try{delete o.prototype[e]}catch(i){try{o.prototype[e]=t}catch(e){}}}P[e]&&!i||m(P,e,i?t:k&&R[e]||t,a)}},exportTypedArrayStaticMethod:function(e,t,i){var a,n;if(s){if(v){if(i)for(a in F)if((n=l[a])&&u(n,e))try{delete n[e]}catch(e){}if(O[e]&&!i)return;try{return m(O,e,i?t:k&&O[e]||t)}catch(e){}}for(a in F)!(n=l[a])||n[e]&&!i||m(n,e,t)}},getTypedArrayConstructor:x,isView:function(e){if(!d(e))return!1;var t=p(e);return"DataView"===t||u(F,t)||u(L,t)},isTypedArray:H,TypedArray:O,TypedArrayPrototype:P}},1318:(e,t,i)=>{var a=i(5656),n=i(1400),o=i(6244),r=function(e){return function(t,i,r){var s,l=a(t),c=o(l),d=n(r,c);if(e&&i!=i){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},9671:(e,t,i)=>{var a=i(9974),n=i(8361),o=i(7908),r=i(6244),s=function(e){var t=1==e;return function(i,s,l){for(var c,d=o(i),u=n(d),p=a(s,l),h=r(u);h-- >0;)if(p(c=u[h],h,d))switch(e){case 0:return c;case 1:return h}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},3658:(e,t,i)=>{"use strict";var a=i(9781),n=i(3157),o=TypeError,r=Object.getOwnPropertyDescriptor,s=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(n(e)&&!r(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:(e,t,i)=>{var a=i(1702),n=a({}.toString),o=a("".slice);e.exports=function(e){return o(n(e),8,-1)}},648:(e,t,i)=>{var a=i(1694),n=i(614),o=i(4326),r=i(5112)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());e.exports=a?o:function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=s(e),r))?i:l?o(t):"Object"==(a=o(t))&&n(t.callee)?"Arguments":a}},9920:(e,t,i)=>{var a=i(2597),n=i(3887),o=i(1236),r=i(3070);e.exports=function(e,t,i){for(var s=n(t),l=r.f,c=o.f,d=0;d<s.length;d++){var u=s[d];a(e,u)||i&&a(i,u)||l(e,u,c(t,u))}}},8544:(e,t,i)=>{var a=i(7293);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:(e,t,i)=>{var a=i(9781),n=i(3070),o=i(9114);e.exports=a?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:(e,t,i)=>{var a=i(614),n=i(3070),o=i(6339),r=i(3072);e.exports=function(e,t,i,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(a(i)&&o(i,c,s),s.global)l?e[t]=i:r(t,i);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=i:n.f(e,t,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:(e,t,i)=>{var a=i(7854),n=Object.defineProperty;e.exports=function(e,t){try{n(a,e,{value:t,configurable:!0,writable:!0})}catch(i){a[e]=t}return t}},5117:(e,t,i)=>{"use strict";var a=i(6330),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw n("Cannot delete property "+a(t)+" of "+a(e))}},9781:(e,t,i)=>{var a=i(7293);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},317:(e,t,i)=>{var a=i(7854),n=i(111),o=a.document,r=n(o)&&n(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},7207:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3678:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:(e,t,i)=>{var a=i(5005);e.exports=a("navigator","userAgent")||""},7392:(e,t,i)=>{var a,n,o=i(7854),r=i(8113),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,d=c&&c.v8;d&&(n=(a=d.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!n&&r&&(!(a=r.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=r.match(/Chrome\/(\d+)/))&&(n=+a[1]),e.exports=n},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(e,t,i)=>{var a=i(1702),n=Error,o=a("".replace),r=String(n("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(r);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},2914:(e,t,i)=>{var a=i(7293),n=i(9114);e.exports=!a((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},2109:(e,t,i)=>{var a=i(7854),n=i(1236).f,o=i(8880),r=i(8052),s=i(3072),l=i(9920),c=i(4705);e.exports=function(e,t){var i,d,u,p,h,g=e.target,m=e.global,f=e.stat;if(i=m?a:f?a[g]||s(g,{}):(a[g]||{}).prototype)for(d in t){if(p=t[d],u=e.dontCallGetSet?(h=n(i,d))&&h.value:i[d],!c(m?d:g+(f?".":"#")+d,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(e.sham||u&&u.sham)&&o(p,"sham",!0),r(i,d,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,i)=>{var a=i(4374),n=Function.prototype,o=n.apply,r=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?r.bind(o):function(){return r.apply(o,arguments)})},9974:(e,t,i)=>{var a=i(1470),n=i(9662),o=i(4374),r=a(a.bind);e.exports=function(e,t){return n(e),void 0===t?e:o?r(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,i)=>{var a=i(7293);e.exports=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,i)=>{var a=i(4374),n=Function.prototype.call;e.exports=a?n.bind(n):function(){return n.apply(n,arguments)}},6530:(e,t,i)=>{var a=i(9781),n=i(2597),o=Function.prototype,r=a&&Object.getOwnPropertyDescriptor,s=n(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!a||a&&r(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},1470:(e,t,i)=>{var a=i(4326),n=i(1702);e.exports=function(e){if("Function"===a(e))return n(e)}},1702:(e,t,i)=>{var a=i(4374),n=Function.prototype,o=n.call,r=a&&n.bind.bind(o,o);e.exports=a?r:function(e){return function(){return o.apply(e,arguments)}}},5005:(e,t,i)=>{var a=i(7854),n=i(614),o=function(e){return n(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(a[e]):a[e]&&a[e][t]}},8173:(e,t,i)=>{var a=i(9662),n=i(8554);e.exports=function(e,t){var i=e[t];return n(i)?void 0:a(i)}},7854:(e,t,i)=>{var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:(e,t,i)=>{var a=i(1702),n=i(7908),o=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(n(e),t)}},3501:e=>{e.exports={}},490:(e,t,i)=>{var a=i(5005);e.exports=a("document","documentElement")},4664:(e,t,i)=>{var a=i(9781),n=i(7293),o=i(317);e.exports=!a&&!n((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,i)=>{var a=i(1702),n=i(7293),o=i(4326),r=Object,s=a("".split);e.exports=n((function(){return!r("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):r(e)}:r},9587:(e,t,i)=>{var a=i(614),n=i(111),o=i(7674);e.exports=function(e,t,i){var r,s;return o&&a(r=t.constructor)&&r!==i&&n(s=r.prototype)&&s!==i.prototype&&o(e,s),e}},2788:(e,t,i)=>{var a=i(1702),n=i(614),o=i(5465),r=a(Function.toString);n(o.inspectSource)||(o.inspectSource=function(e){return r(e)}),e.exports=o.inspectSource},8340:(e,t,i)=>{var a=i(111),n=i(8880);e.exports=function(e,t){a(t)&&"cause"in t&&n(e,"cause",t.cause)}},9909:(e,t,i)=>{var a,n,o,r=i(4811),s=i(7854),l=i(111),c=i(8880),d=i(2597),u=i(5465),p=i(6200),h=i(3501),g="Object already initialized",m=s.TypeError,f=s.WeakMap;if(r||u.state){var _=u.state||(u.state=new f);_.get=_.get,_.has=_.has,_.set=_.set,a=function(e,t){if(_.has(e))throw m(g);return t.facade=e,_.set(e,t),t},n=function(e){return _.get(e)||{}},o=function(e){return _.has(e)}}else{var b=p("state");h[b]=!0,a=function(e,t){if(d(e,b))throw m(g);return t.facade=e,c(e,b,t),t},n=function(e){return d(e,b)?e[b]:{}},o=function(e){return d(e,b)}}e.exports={set:a,get:n,has:o,enforce:function(e){return o(e)?n(e):a(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=n(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return i}}}},3157:(e,t,i)=>{var a=i(4326);e.exports=Array.isArray||function(e){return"Array"==a(e)}},614:(e,t,i)=>{var a=i(4154),n=a.all;e.exports=a.IS_HTMLDDA?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},4705:(e,t,i)=>{var a=i(7293),n=i(614),o=/#|\.prototype\./,r=function(e,t){var i=l[s(e)];return i==d||i!=c&&(n(t)?a(t):!!t)},s=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=r.data={},c=r.NATIVE="N",d=r.POLYFILL="P";e.exports=r},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,i)=>{var a=i(614),n=i(4154),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:a(e)||e===o}:function(e){return"object"==typeof e?null!==e:a(e)}},1913:e=>{e.exports=!1},2190:(e,t,i)=>{var a=i(5005),n=i(614),o=i(7976),r=i(3307),s=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=a("Symbol");return n(t)&&o(t.prototype,s(e))}},6244:(e,t,i)=>{var a=i(7466);e.exports=function(e){return a(e.length)}},6339:(e,t,i)=>{var a=i(7293),n=i(614),o=i(2597),r=i(9781),s=i(6530).CONFIGURABLE,l=i(2788),c=i(9909),d=c.enforce,u=c.get,p=Object.defineProperty,h=r&&!a((function(){return 8!==p((function(){}),"length",{value:8}).length})),g=String(String).split("String"),m=e.exports=function(e,t,i){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(r?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&i&&o(i,"arity")&&e.length!==i.arity&&p(e,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?r&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var a=d(e);return o(a,"source")||(a.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return n(this)&&u(this).source||l(this)}),"toString")},4758:e=>{var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var a=+e;return(a>0?i:t)(a)}},6277:(e,t,i)=>{var a=i(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:a(e)}},30:(e,t,i)=>{var a,n=i(9670),o=i(6048),r=i(748),s=i(3501),l=i(490),c=i(317),d=i(6200),u="prototype",p="script",h=d("IE_PROTO"),g=function(){},m=function(e){return"<"+p+">"+e+"</"+p+">"},f=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}var e,t,i;_="undefined"!=typeof document?document.domain&&a?f(a):(t=c("iframe"),i="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):f(a);for(var n=r.length;n--;)delete _[u][r[n]];return _()};s[h]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(g[u]=n(e),i=new g,g[u]=null,i[h]=e):i=_(),void 0===t?i:o.f(i,t)}},6048:(e,t,i)=>{var a=i(9781),n=i(3353),o=i(3070),r=i(9670),s=i(5656),l=i(1956);t.f=a&&!n?Object.defineProperties:function(e,t){r(e);for(var i,a=s(t),n=l(t),c=n.length,d=0;c>d;)o.f(e,i=n[d++],a[i]);return e}},3070:(e,t,i)=>{var a=i(9781),n=i(4664),o=i(3353),r=i(9670),s=i(4948),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",h="writable";t.f=a?o?function(e,t,i){if(r(e),t=s(t),r(i),"function"==typeof e&&"prototype"===t&&"value"in i&&h in i&&!i[h]){var a=d(e,t);a&&a[h]&&(e[t]=i.value,i={configurable:p in i?i[p]:a[p],enumerable:u in i?i[u]:a[u],writable:!1})}return c(e,t,i)}:c:function(e,t,i){if(r(e),t=s(t),r(i),n)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},1236:(e,t,i)=>{var a=i(9781),n=i(6916),o=i(5296),r=i(9114),s=i(5656),l=i(4948),c=i(2597),d=i(4664),u=Object.getOwnPropertyDescriptor;t.f=a?u:function(e,t){if(e=s(e),t=l(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return r(!n(o.f,e,t),e[t])}},8006:(e,t,i)=>{var a=i(6324),n=i(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,i)=>{var a=i(2597),n=i(614),o=i(7908),r=i(6200),s=i(8544),l=r("IE_PROTO"),c=Object,d=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(a(t,l))return t[l];var i=t.constructor;return n(i)&&t instanceof i?i.prototype:t instanceof c?d:null}},7976:(e,t,i)=>{var a=i(1702);e.exports=a({}.isPrototypeOf)},6324:(e,t,i)=>{var a=i(1702),n=i(2597),o=i(5656),r=i(1318).indexOf,s=i(3501),l=a([].push);e.exports=function(e,t){var i,a=o(e),c=0,d=[];for(i in a)!n(s,i)&&n(a,i)&&l(d,i);for(;t.length>c;)n(a,i=t[c++])&&(~r(d,i)||l(d,i));return d}},1956:(e,t,i)=>{var a=i(6324),n=i(748);e.exports=Object.keys||function(e){return a(e,n)}},5296:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,n=a&&!i.call({1:2},1);t.f=n?function(e){var t=a(this,e);return!!t&&t.enumerable}:i},7674:(e,t,i)=>{var a=i(1702),n=i(9670),o=i(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,a){return n(i),o(a),t?e(i,a):i.__proto__=a,i}}():void 0)},2140:(e,t,i)=>{var a=i(6916),n=i(614),o=i(111),r=TypeError;e.exports=function(e,t){var i,s;if("string"===t&&n(i=e.toString)&&!o(s=a(i,e)))return s;if(n(i=e.valueOf)&&!o(s=a(i,e)))return s;if("string"!==t&&n(i=e.toString)&&!o(s=a(i,e)))return s;throw r("Can't convert object to primitive value")}},3887:(e,t,i)=>{var a=i(5005),n=i(1702),o=i(8006),r=i(5181),s=i(9670),l=n([].concat);e.exports=a("Reflect","ownKeys")||function(e){var t=o.f(s(e)),i=r.f;return i?l(t,i(e)):t}},2626:(e,t,i)=>{var a=i(3070).f;e.exports=function(e,t,i){i in e||a(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},4488:(e,t,i)=>{var a=i(8554),n=TypeError;e.exports=function(e){if(a(e))throw n("Can't call method on "+e);return e}},6200:(e,t,i)=>{var a=i(2309),n=i(9711),o=a("keys");e.exports=function(e){return o[e]||(o[e]=n(e))}},5465:(e,t,i)=>{var a=i(7854),n=i(3072),o="__core-js_shared__",r=a[o]||n(o,{});e.exports=r},2309:(e,t,i)=>{var a=i(1913),n=i(5465);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:a?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,i)=>{var a=i(7392),n=i(7293);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},1400:(e,t,i)=>{var a=i(9303),n=Math.max,o=Math.min;e.exports=function(e,t){var i=a(e);return i<0?n(i+t,0):o(i,t)}},5656:(e,t,i)=>{var a=i(8361),n=i(4488);e.exports=function(e){return a(n(e))}},9303:(e,t,i)=>{var a=i(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:a(t)}},7466:(e,t,i)=>{var a=i(9303),n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},7908:(e,t,i)=>{var a=i(4488),n=Object;e.exports=function(e){return n(a(e))}},7593:(e,t,i)=>{var a=i(6916),n=i(111),o=i(2190),r=i(8173),s=i(2140),l=i(5112),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!n(e)||o(e))return e;var i,l=r(e,d);if(l){if(void 0===t&&(t="default"),i=a(l,e,t),!n(i)||o(i))return i;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,i)=>{var a=i(7593),n=i(2190);e.exports=function(e){var t=a(e,"string");return n(t)?t:t+""}},1694:(e,t,i)=>{var a={};a[i(5112)("toStringTag")]="z",e.exports="[object z]"===String(a)},1340:(e,t,i)=>{var a=i(648),n=String;e.exports=function(e){if("Symbol"===a(e))throw TypeError("Cannot convert a Symbol value to a string");return n(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,i)=>{var a=i(1702),n=0,o=Math.random(),r=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++n+o,36)}},3307:(e,t,i)=>{var a=i(6293);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,i)=>{var a=i(9781),n=i(7293);e.exports=a&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,i)=>{var a=i(7854),n=i(614),o=a.WeakMap;e.exports=n(o)&&/native code/.test(String(o))},5112:(e,t,i)=>{var a=i(7854),n=i(2309),o=i(2597),r=i(9711),s=i(6293),l=i(3307),c=n("wks"),d=a.Symbol,u=d&&d.for,p=l?d:d&&d.withoutSetter||r;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(d,e)?c[e]=d[e]:c[e]=l&&u?u(t):p(t)}return c[e]}},9191:(e,t,i)=>{"use strict";var a=i(5005),n=i(2597),o=i(8880),r=i(7976),s=i(7674),l=i(9920),c=i(2626),d=i(9587),u=i(6277),p=i(8340),h=i(1060),g=i(2914),m=i(9781),f=i(1913);e.exports=function(e,t,i,_){var b="stackTraceLimit",v=_?2:1,y=e.split("."),A=y[y.length-1],T=a.apply(null,y);if(T){var w=T.prototype;if(!f&&n(w,"cause")&&delete w.cause,!i)return T;var C=a("Error"),I=t((function(e,t){var i=u(_?t:e,void 0),a=_?new T(e):new T;return void 0!==i&&o(a,"message",i),g&&o(a,"stack",h(a.stack,2)),this&&r(w,this)&&d(a,this,I),arguments.length>v&&p(a,arguments[v]),a}));if(I.prototype=w,"Error"!==A?s?s(I,C):l(I,C,{name:!0}):m&&b in T&&(c(I,T,b),c(I,T,"prepareStackTrace")),l(I,T),!f)try{w.name!==A&&o(w,"name",A),w.constructor=I}catch(e){}return I}}},6699:(e,t,i)=>{"use strict";var a=i(2109),n=i(1318).includes,o=i(7293),r=i(1223);a({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},7658:(e,t,i)=>{"use strict";var a=i(2109),n=i(7908),o=i(6244),r=i(3658),s=i(7207),l=i(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(e){var t=n(this),i=o(t),a=arguments.length;s(i+a);for(var l=0;l<a;l++)t[i]=arguments[l],i++;return r(t,i),i}})},541:(e,t,i)=>{"use strict";var a=i(2109),n=i(7908),o=i(6244),r=i(3658),s=i(5117),l=i(7207),c=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:c||d},{unshift:function(e){var t=n(this),i=o(t),a=arguments.length;if(a){l(i+a);for(var c=i;c--;){var d=c+a;c in t?t[d]=t[c]:s(t,d)}for(var u=0;u<a;u++)t[u]=arguments[u]}return r(t,i+a)}})},1703:(e,t,i)=>{var a=i(2109),n=i(7854),o=i(2104),r=i(9191),s="WebAssembly",l=n[s],c=7!==Error("e",{cause:7}).cause,d=function(e,t){var i={};i[e]=r(e,t,c),a({global:!0,constructor:!0,arity:1,forced:c},i)},u=function(e,t){if(l&&l[e]){var i={};i[e]=r(s+"."+e,t,c),a({target:s,stat:!0,constructor:!0,arity:1,forced:c},i)}};d("Error",(function(e){return function(t){return o(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),d("URIError",(function(e){return function(t){return o(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},8675:(e,t,i)=>{"use strict";var a=i(260),n=i(6244),o=i(9303),r=a.aTypedArray;(0,a.exportTypedArrayMethod)("at",(function(e){var t=r(this),i=n(t),a=o(e),s=a>=0?a:i+a;return s<0||s>=i?void 0:t[s]}))},4590:(e,t,i)=>{"use strict";var a=i(260),n=i(9671).findLastIndex,o=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLastIndex",(function(e){return n(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:(e,t,i)=>{"use strict";var a=i(260),n=i(9671).findLast,o=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLast",(function(e){return n(o(this),e,arguments.length>1?arguments[1]:void 0)}))},2801:(e,t,i)=>{"use strict";var a=i(2109),n=i(7854),o=i(5005),r=i(9114),s=i(3070).f,l=i(2597),c=i(5787),d=i(9587),u=i(6277),p=i(3678),h=i(1060),g=i(9781),m=i(1913),f="DOMException",_=o("Error"),b=o(f),v=function(){c(this,y);var e=arguments.length,t=u(e<1?void 0:arguments[0]),i=u(e<2?void 0:arguments[1],"Error"),a=new b(t,i),n=_(t);return n.name=f,s(a,"stack",r(1,h(n.stack,1))),d(a,this,v),a},y=v.prototype=b.prototype,A="stack"in _(f),T="stack"in new b(1,2),w=b&&g&&Object.getOwnPropertyDescriptor(n,f),C=!(!w||w.writable&&w.configurable),I=A&&!C&&!T;a({global:!0,constructor:!0,forced:m||I},{DOMException:I?v:b});var R=o(f),D=R.prototype;if(D.constructor!==R)for(var S in m||s(D,"constructor",r(1,R)),p)if(l(p,S)){var O=p[S],P=O.s;l(R,P)||s(R,P,r(6,O.c))}},9990:e=>{"use strict";e.exports=n},3571:t=>{"use strict";t.exports=e},5674:e=>{"use strict";e.exports=t},9280:e=>{"use strict";e.exports=i},5549:e=>{"use strict";e.exports=a},8276:e=>{"use strict";e.exports=r},7422:e=>{"use strict";e.exports=o}},l={};function c(e){var t=l[e];if(void 0!==t)return t.exports;var i=l[e]={exports:{}};return s[e](i,i.exports,c),i.exports}return c.m=s,c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c(4966)})()));
//# sourceMappingURL=nwaf-rab.min.js.map
/*! (c) Copyright 2020-2023 NETRONIC Software GmbH. All rights reserved. Version 6.4.4 (ES5) */!function(){var t={2235:function(t,e,n){t.exports=n(6675)},7933:function(t){t.exports='<n>d3.js</n><t>Copyright 2010-2017 Mike Bostock\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification,\nare permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the author nor the names of contributors may be used to\n  endorse or promote products derived from this software without specific prior\n  written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\nANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\nANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</t><n>jQuery 3.6.0</n><t>Copyright OpenJS Foundation and other contributors, https://openjsf.org/\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>jQuery UI 1.12.1</n><t>Copyright jQuery Foundation and other contributors, https://jquery.org/\n\nThis software consists of voluntary contributions made by many\nindividuals. For exact contribution history, see the revision history\navailable at https://github.com/jquery/jquery-ui\n\nThe following license applies to all parts of this software except as\ndocumented below:\n\n====\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n====\n\nCopyright and related rights for sample code are waived via CC0. Sample\ncode is defined as all source code contained within the demos directory.\n\nCC0: http://creativecommons.org/publicdomain/zero/1.0/\n\n====\n\nAll files located in the node_modules and external directories are\nexternally maintained libraries used by this software which have their\nown licenses; we recommend you read them, as their terms may differ from\nthe terms above.</t><n>jquery.ui-contextmenu 1.14.0</n><t>Copyright 2013-2018 Martin Wendt and others (see commiter list on GitHub)\nhttps://github.com/mar10/jquery-ui-contextmenu\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>hammer.js 2.0.8</n><t>The MIT License (MIT)\n\nCopyright (C) 2011-2017 by Jorik Tangelder (Eight Media)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</t><n>TinyColor 1.4.1</n><t>Copyright (c), Brian Grinstead, http://briangrinstead.com\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n"Software"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>PDFKit 0.11.0</n><t>MIT LICENSE\nCopyright (c) 2014 Devon Govett\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>SVG-to-PDFKit 0.1.8</n><t>The MIT License (MIT)\n\nCopyright (c) 2019 SVG-to-PDFKit contributors\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>blob-stream 0.1.3</n><t>MIT LICENSE\nCopyright (c) 2014 Devon Govett\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>blob 0.1.0</n><t>MIT License\n\nCopyright (C) 2014 Rase-\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the "Software"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.</t><n>stream 0.0.2</n><t>(MIT)\n\nCopyright (c) 2012 Julian Gruber <julian@juliangruber.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t><n>buffer</n><t>The MIT License (MIT)\n\nCopyright (c) Feross Aboukhadijeh, and other contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.</t><n>emitter-component 1.1.1</n><t>(The MIT License)\n\nCopyright (c) 2014 Component contributors <dev@component.io>\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the "Software"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.</t><n>Moment.js 2.24.0</n><t>Copyright (c) JS Foundation and other contributors\n\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the "Software"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.</t><n>Moment Timezone 0.5.25-2019a</n><t>The MIT License (MIT)\n\nCopyright (c) JS Foundation and other contributors\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the "Software"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</t>'},4444:function(t,e,n){n(1539),n(9714);var i=n(7108).nClassFactory,o=n(5564).rabActivity,r={};i.extendClass(r,"nActivity",o,{});var a=r.nActivity;t.exports=a,Object.defineProperty(a.prototype,"AddIn_BarText",{get:function(){return this._data.AddIn_BarText}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_BarContextMenuID",{get:function(){return this._data.AddIn_BarContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuIDInBarsPane",{get:function(){return this._data.AddIn_ContextMenuIDInBarsPane}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuIDInCurvesPane",{get:function(){return this._data.AddIn_ContextMenuIDInCurvesPane}}),Object.defineProperty(a.prototype,"AddIn_TableSortCode",{get:function(){return null==this._data.AddIn_TableSortCode?"":this._data.AddIn_TableSortCode.toString()}}),Object.defineProperty(a.prototype,"TableText",{get:function(){return this._data.AddIn_TableText}}),Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"PM_AllowedBarDragModes",{get:function(){return-1===this._data.PM_AllowedBarDragModes?void 0:this._data.PM_AllowedBarDragModes}}),Object.defineProperty(a.prototype,"PM_BarHeight",{get:function(){return-1===this._data.PM_BarHeight?void 0:this._data.PM_BarHeight}}),Object.defineProperty(a.prototype,"PM_BarPatternType",{get:function(){return-1===this._data.PM_BarPatternType?void 0:this._data.PM_BarPatternType}}),Object.defineProperty(a.prototype,"PM_CollapsedRowDesign",{get:function(){return-1===this._data.PM_CollapsedRowDesign?void 0:this._data.PM_CollapsedRowDesign}}),Object.defineProperty(a.prototype,"PM_ExpandedRowDesign",{get:function(){return-1==this._data.PM_ExpandedRowDesign?void 0:this._data.PM_ExpandedRowDesign}}),Object.defineProperty(a.prototype,"PM_MinimumRowHeight",{get:function(){return-1==this._data.PM_MinimumRowHeight?void 0:this._data.PM_MinimumRowHeight}})},3464:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabAllocation,r={};i.extendClass(r,"nAllocation",o,{});var a=r.nAllocation;t.exports=a,Object.defineProperty(a.prototype,"AddIn_BarContextMenuID",{get:function(){return this._data.AddIn_BarContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_BarText",{get:function(){return this._data.AddIn_BarText}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuIDInBarsPane",{get:function(){return this._data.AddIn_ContextMenuIDInBarsPane}}),Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"PM_AllowedBarDragModes",{get:function(){return-1===this._data.PM_AllowedBarDragModes?void 0:this._data.PM_AllowedBarDragModes}}),Object.defineProperty(a.prototype,"PM_AllowedBarDragModesInActivitiesView",{get:function(){return-1===this._data.PM_AllowedBarDragModesInActivitiesView?void 0:this._data.PM_AllowedBarDragModesInActivitiesView}}),Object.defineProperty(a.prototype,"PM_BarHeight",{get:function(){return-1===this._data.PM_BarHeight?void 0:this._data.PM_BarHeight}}),Object.defineProperty(a.prototype,"PM_RowDesign",{get:function(){return-1===this._data.PM_RowDesign?void 0:this._data.PM_RowDesign}}),Object.defineProperty(a.prototype,"PM_SnapTargetsForEnd",{get:function(){return-1===this._data.PM_SnapTargetsForEnd?void 0:this._data.PM_SnapTargetsForEnd}}),Object.defineProperty(a.prototype,"PM_SnapTargetsForStart",{get:function(){return-1===this._data.PM_SnapTargetsForStart?void 0:this._data.PM_SnapTargetsForStart}})},6656:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabAllocationEntry,r={};i.extendClass(r,"nAllocationEntry",o,{});var a=r.nAllocationEntry;t.exports=a,Object.defineProperty(a.prototype,"PM_Height",{get:function(){return-1===this._data.PM_Height?void 0:this._data.PM_Height}}),Object.defineProperty(a.prototype,"PM_PatternType",{get:function(){return-1===this._data.PM_PatternType?void 0:this._data.PM_PatternType}})},4041:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabWidgetApplication,r="nApplication",a=n(4444),s=n(3464),d=n(6656),c=n(6920),u=n(9896),l=n(9713),f=n(6007),p=n(4749),I=n(444),h={construct:function(t){"use strict";this._super(t,{modelOptions:{curveClass:c,activityClass:a,allocationClass:s,allocationEntryClass:d,linkClass:l,resourceClass:p,entityClass:u,periodHighlighterEntryClass:f},ganttViewClass:I,ganttViewOptions:{ganttWidget:{rowItemsSelectable:!0}}})},_addObject:function(t,e,n){"use strict";this._super(t,e,n)}},_={};i.extendClass(_,r,o,h),t.exports=_.nApplication},6920:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabCurve,r={};i.extendClass(r,"nCurve",o,{});var a=r.nCurve;t.exports=a,Object.defineProperty(a.prototype,"Type",{get:function(){return this._data.Type||0}})},9896:function(t,e,n){n(1539),n(9714);var i=n(7108).nClassFactory,o=n(5564).rabEntity,r={};i.extendClass(r,"nEntity",o,{});var a=r.nEntity;t.exports=a,Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_TableSortCode",{get:function(){return null==this._data.AddIn_TableSortCode?"":this._data.AddIn_TableSortCode.toString()}}),Object.defineProperty(a.prototype,"TableText",{get:function(){return this._data.AddIn_TableText}}),Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"PM_AllowedRowDragModes",{get:function(){return-1===this._data.PM_AllowedRowDragModes?void 0:this._data.PM_AllowedRowDragModes}}),Object.defineProperty(a.prototype,"PM_MinimumRowHeight",{get:function(){return-1===this._data.PM_MinimumRowHeight?void 0:this._data.PM_MinimumRowHeight}}),Object.defineProperty(a.prototype,"PM_RowCollapsible",{get:function(){return-1===this._data.PM_RowCollapsible?void 0:this._data.PM_RowCollapsible}}),Object.defineProperty(a.prototype,"PM_RowSelectable",{get:function(){return-1===this._data.PM_RowSelectable?void 0:this._data.PM_RowSelectable}})},444:function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n(6992),n(1539),n(3948),n(2707),n(1249),n(9714),n(4747),n(2526),n(1817),n(2165),n(8783);var o=n(9567),r=n(7108),a=r.nClassFactory,s=r.nPopup,d=n(7),c=d.ElemType,u=d.BarShape,l=n(5564),f=l.ItemType,p=l.VisualType,I=l.rabWidgetGanttView,h="nGanttView",_={construct:function(t,e,n,i,o){"use strict";this._super(t,e,n,i,o)},_createBarFunc:function(t){"use strict";this._super(t);var e,n=t.timeItem;(n.rab_itemType===f.Allocation||n.rab_itemType===f.Activity)&&(e=n.data());var i=t.timeItem.barShape;if(e&&(i===u.Rectangle||i===u.RectangleWithLeftTopBevel||i===u.Summary||i===u.Diamond)){var o=e.AddIn_BarText;o&&(null==t.caption||"string"==typeof t.caption?t.caption=o:t.caption.text=o)}},_handleContextMenuEvent:function(t){"use strict";var e,n,r=this;if(r._super(t),"object"===i(t.sender)){var a,d=t.sender;if(d){if(d.rab_itemType===f.AllocationEntry&&(d=d.rab_parentItem),d.rab_itemType===f.PeriodHighlighterEntry)t.visualType=p.PeriodHighlighter,d=t.rowItem;else if(t.elemType===c.Row&&d.rab_itemType!==f.Entity)t.visualType=p.Background,a="AddIn_ContextMenuIDInBarsPane";else if(d.rab_itemType===f.Resource||d.rab_itemType===f.Entity||d.rab_itemType===f.ActivityRow||d.rab_itemType===f.AllocationRow){var u,l,I,h=null===(u=(t.ganttWidget||t.tableWidget).options.tableDefinition.fixedColumnsPreceding)||void 0===u||null===(l=u.cellDefinitions)||void 0===l?void 0:l[0],_=h?null!==(I=h.width)&&void 0!==I?I:200:0;if(t.event.offsetX<_)return;t.visualType=p.Row}else d.rab_itemType===f.Curve?(t.visualType=p.Curve,a="AddIn_ContextMenuIDInCurvesPane"):(t.visualType=p.Bar,a="AddIn_BarContextMenuID");var T,g=d.data(),v=r.getObjectTypeFromItem(d),A=g;t.visualType===p.PeriodHighlighter&&g.PM_PeriodHighlighterID&&(T=r.viewModel().model().periodHighlighterByID(g.PM_PeriodHighlighterID))&&(A=T)&&A.Entries&&(A=A.Entries[t.sender.entries[t.entryIndex].rab_entryIndex]);e=A&&(a&&(n=A[a]),n||0===n||(n=A.AddIn_ContextMenuID),T&&(n||0===n||(T=void 0,(n=g.AddIn_ContextMenuIDInBarsPane)||0===n||(n=g.AddIn_ContextMenuID))),n)}}else"Timescale"===t.sender&&(e=r.app().getOption("widget").options.timescaleContextMenuID);if(e||0===e){var m,b=[],y=r.app().getOption("widget")._contextMenus[e];if(y){var S=function(t){return g&&r.app().replacePlaceholders("{{".concat(t,"}}"),g,v,T,(function(t){return r.ganttWidget()._formatDate(t)}))},O=y.Items;if(O){var E=[],R={};!function t(e,n,a){n.map((function(t,e){var n=t&&"object"===i(t),o=t?n?t.Text:t:void 0;return{index:e,Text:null!=o?"<div>"+o.toString()+"</div>":"undefined",Code:n&&null!=t.Code?t.Code.toString():void 0,SortCode:n&&null!=t.SortCode?t.SortCode.toString():void 0,SymbolIDSource:n&&null!=t.SymbolIDSource?t.SymbolIDSource.toString():void 0,SymbolID:n&&null!=t.SymbolID?t.SymbolID.toString():void 0,DisabledSource:n&&null!=t.DisabledSource?t.DisabledSource.toString():void 0,Disabled:n&&!!t.Disabled,SubItems:n&&t.SubItems}})).sort((function(t,e){var n=t.SortCode,i=e.SortCode,o=null!=i;return null!=n?o?n>i?1:n<i?-1:0:1:o?-1:t.index1-e.index2})).forEach((function(n,i){var s=a+i;R[s]=n;var d={cmd:s,title:n.Text,disabled:n.Disabled};if(Array.isArray(n.SubItems)&&t(d.children=[],n.SubItems,s+"_"),n.DisabledSource){var c=S(n.DisabledSource);"false"!==c&&(isNaN(+c)||+c)||(c=!1),null!=c&&""!==c&&(d.disabled=!!c)}if(n.SymbolIDSource||n.SymbolID){var u=n.SymbolIDSource&&S(n.SymbolIDSource)||n.SymbolID,l=null!=u&&""!==u&&r.app().symbolsMap()[u];if(l&&l.URL){var f="vscai-ctxm-"+s;d.uiIcon=f;var p=o("<style></style>").text(".ui-icon."+f+' { background-image:url("'+l.URL+'"); height: 14px; width: calc(100% - 2em - 12px); background-size: contain; background-repeat: no-repeat; }').appendTo("head");b.push(p[0])}}e.push(d)}))}(E,O,""),m=s.showContextMenu(r.ganttWidget().element[0],E,t.event)}}m?m.done((function(n,i){var o=R[i],a={ContextMenuID:e,ContextMenuItemIndex:o.index,ContextMenuItemCode:o.Code,ItemIndex:o.index,ObjectID:null==g?void 0:g.ID,ObjectType:d?r.getObjectTypeFromItem(d.rab_parentItem||d):-1,VisualType:d?t.visualType:p.Timescale};d?(d.rab_itemType!==f.ActivityRow&&d.rab_itemType!==f.Entity&&(a.Date=r._ganttWidget.pageXToDate(t.event.pageX)),d.rab_itemType===f.Resource&&a.Date<r._ganttWidget.timeAxis().currentlyVisibleStart()&&delete a.Date,t.visualType===p.PeriodHighlighter&&(a.CalendarGridID=a.PeriodHighlighterID=d.data().PM_PeriodHighlighterID,a.CalendarGridEntryIndex=a.PeriodHighlighterEntryIndex=t.sender.entries[t.entryIndex].rab_entryIndex)):(a.TimePeriodStart=t.timePeriodStartDate,a.TimePeriodEnd=t.timePeriodEndDate),r.app().getOption("widget")._callOnContextMenuItemClicked(a)})).always((function(){o(b).remove()})):(s.closeContextMenu(),o(b).remove())}}},T={};a.extendClass(T,h,I,_),t.exports=T.nGanttView},9713:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabLink,r={};i.extendClass(r,"nLink",o,{});var a=r.nLink;t.exports=a,Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"PM_RoutingType",{get:function(){return-1===this._data.PM_RoutingType?void 0:this._data.PM_RoutingType}})},6007:function(t,e,n){var i=n(7108).nClassFactory,o=n(5564).rabPeriodHighlighterEntry,r={};i.extendClass(r,"nPeriodHighlighterEntry",o,{});var a=r.nPeriodHighlighterEntry;t.exports=a,Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}})},4749:function(t,e,n){n(1539),n(9714);var i=n(7108).nClassFactory,o=n(5564).rabResource,r={};i.extendClass(r,"nResource",o,{});var a=r.nResource;t.exports=a,Object.defineProperty(a.prototype,"AddIn_TooltipText",{get:function(){return this._data.AddIn_TooltipText}}),Object.defineProperty(a.prototype,"TableText",{get:function(){return this._data.AddIn_TableText}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuID",{get:function(){return this._data.AddIn_ContextMenuID}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuIDInBarsPane",{get:function(){return this._data.AddIn_ContextMenuIDInBarsPane}}),Object.defineProperty(a.prototype,"AddIn_ContextMenuIDInCurvesPane",{get:function(){return this._data.AddIn_ContextMenuIDInCurvesPane}}),Object.defineProperty(a.prototype,"AddIn_TableSortCode",{get:function(){return null==this._data.AddIn_TableSortCode?"":this._data.AddIn_TableSortCode.toString()}}),Object.defineProperty(a.prototype,"PM_CollapsedRowDesign",{get:function(){return-1===this._data.PM_CollapsedRowDesign?void 0:this._data.PM_CollapsedRowDesign}}),Object.defineProperty(a.prototype,"PM_ExpandedRowDesign",{get:function(){return-1===this._data.PM_ExpandedRowDesign?void 0:this._data.PM_ExpandedRowDesign}}),Object.defineProperty(a.prototype,"PM_MinimumRowHeight",{get:function(){return-1===this._data.PM_MinimumRowHeight?void 0:this._data.PM_MinimumRowHeight}})},6675:function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}n(1249),n(1539),n(4747),n(9826),n(7941),n(4916),n(5306),n(3123),n(2481),n(9600),n(6833),n(2222),n(9714),n(2262),n(4506),n(2526),n(1817),n(8309),n(4723),n(6755),n(2165),n(6992),n(8783),n(3948);var r=n(9567);n(9567);var a=n(7108),s=a.nClass,d=a.nClassFactory,c=a.nEventDispatcher,u=a.nOSDetector,l=a.nScrollBarWidthDetector,f=n(5564),p=f.ObjectType,I=f.RowSortMode,h=f.TableType,_=f.UpdateModes,T=f.ViewType,g=f.VisualType;n(246);var v=n(73),A=n(5079),m=n(5626),b=["Activity","Allocation","Entity","Resource"],y=b.map((function(t){return"AddIn_".concat(t,"SortCodeSources")})),S="nVSControlAddIn",O={construct:function(){"use strict";var t=this;this._options={AddIn_FullObjectsInEvents:!1,AddIn_HamletTooltips:!1,AddIn_HamletTableText:!1,AddIn_OnDropWithCompletion:!1,AddIn_OnCollapseStateChangedWithCompletion:!1,AddIn_OnCurveCollapseStateChangedWithCompletion:!1,AddIn_PingTimeInMilliseconds:0,AddIn_KeydownList:null,AddIn_KeyupList:null,AddIn_ProductName:null,AddIn_ProductVersion:null,AddIn_ForcedFillOfPageSpace:!1,AddIn_DeselectionOfRowsOrBarsOnLinkContextMenu:!0,AddIn_ActivitySortCodeSources:null,AddIn_AllocationSortCodeSources:null,AddIn_EntitySortCodeSources:null,AddIn_ResourceSortCodeSources:null,AddIn_TopStatusAreaHeight:0,AddIn_BottomStatusAreaHeight:0,AddIn_TopStatusAreaContent:null,AddIn_BottomStatusAreaContent:null,AddIn_StatusAreaVariables:null,AddIn_VisiblePropertyName:"AddIn_Visible",AddIn_CanDragTriggeringEnabled:!0},this._interfaceReady=!1,this._implementInterface(),this._prepareWorkArea(),this._completionDeferreds={},this._nextCompletionID=0,this._visibilityObjectTypes=[p.Activity,p.Allocation,p.Entity,p.Resource],this._hiddenObjectsCounts={},this._visibilitiesByObjectType={},this._objectsByIDAndObjectType={},this._visibilityObjectTypes.forEach((function(e){t._hiddenObjectsCounts[e]=0,t._visibilitiesByObjectType[e]={},t._objectsByIDAndObjectType[e]={}}))},_implementInterface:function(){"use strict";var t=this;!1===this._interfaceReady&&(window.FitFullTimeAreaIntoView=t._II_fitTimeAreaIntoView.bind(t),window.FitTimeAreaIntoView=t._II_fitTimeAreaIntoView.bind(t),window.SetTimeResolutionForView=t._II_setTimeResolutionForView.bind(t),window.SaveAsPDF=t._II_saveAsPDF.bind(t),window.CancelSaveAsPDF=t._II_cancelSaveAsPDF.bind(t),window.RemoveAll=t._II_removeAll.bind(t),window.RemoveAllOfType=t._II_removeAll.bind(t),window.Render=t._II_render.bind(t),window.ScrollToDate=t._II_scrollToDate.bind(t),window.ScrollToDateWithOffset=t._II_scrollToDate.bind(t),window.ScrollToObject=t._II_scrollToObject.bind(t),window.ScrollViewAreaHorizontally=t._II_scrollViewAreaHorizontally.bind(t),window.ScrollViewAreaVertically=t._II_scrollViewAreaVertically.bind(t),window.SelectObjects=t._II_selectObjects.bind(t),window.HighlightObjects=t._II_highlightObjects.bind(t),window.SetSettings=t._II_setSettings.bind(t),window.About=t._II_about.bind(t),window.AddActivities=t._II_addActivities.bind(t),window.UpdateActivities=t._II_updateActivities.bind(t),window.RemoveActivities=t._II_removeActivities.bind(t),window.AddAllocations=t._II_addAllocations.bind(t),window.UpdateAllocations=t._II_updateAllocations.bind(t),window.RemoveAllocations=t._II_removeAllocations.bind(t),window.AddCalendars=t._II_addCalendars.bind(t),window.UpdateCalendars=t._II_updateCalendars.bind(t),window.RemoveCalendars=t._II_removeCalendars.bind(t),window.AddCurves=t._II_addCurves.bind(t),window.UpdateCurves=t._II_updateCurves.bind(t),window.RemoveCurves=t._II_removeCurves.bind(t),window.AddResources=t._II_addResources.bind(t),window.UpdateResources=t._II_updateResources.bind(t),window.RemoveResources=t._II_removeResources.bind(t),window.AddLinks=t._II_addLinks.bind(t),window.UpdateLinks=t._II_updateLinks.bind(t),window.RemoveLinks=t._II_removeLinks.bind(t),window.AddEntities=t._II_addEntities.bind(t),window.UpdateEntities=t._II_updateEntities.bind(t),window.RemoveEntities=t._II_removeEntities.bind(t),window.AddSymbols=t._II_addSymbols.bind(t),window.UpdateSymbols=t._II_updateSymbols.bind(t),window.RemoveSymbols=t._II_removeSymbols.bind(t),window.AddContextMenus=t._II_addContextMenus.bind(t),window.UpdateContextMenus=t._II_updateContextMenus.bind(t),window.RemoveContextMenus=t._II_removeContextMenus.bind(t),window.AddCalendarGrids=t._II_addPeriodHighlighters.bind(t),window.UpdateCalendarGrids=t._II_updatePeriodHighlighters.bind(t),window.RemoveCalendarGrids=t._II_removePeriodHighlighters.bind(t),window.AddPeriodHighlighters=t._II_addPeriodHighlighters.bind(t),window.UpdatePeriodHighlighters=t._II_updatePeriodHighlighters.bind(t),window.RemovePeriodHighlighters=t._II_removePeriodHighlighters.bind(t),window.AddDateLines=t._II_addDateLines.bind(t),window.UpdateDateLines=t._II_updateDateLines.bind(t),window.RemoveDateLines=t._II_removeDateLines.bind(t),window.AddTooltipTemplates=t._II_addTooltipTemplates.bind(t),window.UpdateTooltipTemplates=t._II_updateTooltipTemplates.bind(t),window.RemoveTooltipTemplates=t._II_removeTooltipTemplates.bind(t),window.AddTableRowDefinitions=t._II_addTableRowDefinitions.bind(t),window.UpdateTableRowDefinitions=t._II_updateTableRowDefinitions.bind(t),window.RemoveTableRowDefinitions=t._II_removeTableRowDefinitions.bind(t),window.AddHierarchySupplementaryDefinitions=t._II_addHierarchySupplementaryDefinitions.bind(t),window.UpdateHierarchySupplementaryDefinitions=t._II_updateHierarchySupplementaryDefinitions.bind(t),window.RemoveHierarchySupplementaryDefinitions=t._II_removeHierarchySupplementaryDefinitions.bind(t),window.EventProcessingDone=t._II_eventProcessingDone.bind(t),window.AppendTextToLog=t._II_appendTagToLog.bind(t),window.LogToConsole=window.LogTextToConsole=window.LogJsonArrayToConsole=function(t){console&&console.log(t)},this._interfaceReady=!0)},_prepareWorkArea:function(){"use strict";if(!this._vsWidget){var t=document.getElementById("controlAddIn");this._createStatusArea(t,"TopStatusArea");var e=document.createElement("div");e.setAttribute("id","WorkArea"),e.style.width="100%",e.setAttribute("class","nvscai-logo"),t.appendChild(e),this._createStatusArea(t,"BottomStatusArea"),this._setAreaHeights();var n={Version:v[window.Hamlet?"hamletVersionNumber":"versionNumber"]};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnRequestSettings",[n])}},_createStatusArea:function(t,e){"use strict";var n=document.createElement("div");return n.setAttribute("id",e),n.style.width="100%",n.style.overflowY="clip",t.appendChild(n),this._eventDispatchers||(this._eventDispatchers={}),this._eventDispatchers[e]=new c(n,[a.nEventDispatcher.TAP_EVENT_NAME,a.nEventDispatcher.DOUBLE_TAP_EVENT_NAME],"nvscai"),r(n).on("contextmenu",(function(t){t.stopPropagation(),t.preventDefault()})),n},_setAreaHeights:function(){"use strict";var t=parseFloat(this._options.AddIn_TopStatusAreaHeight)||0,e=parseFloat(this._options.AddIn_BottomStatusAreaHeight)||0,n=t+"px",i=e+"px",o="calc(100% - "+(t+e+"px")+")";r("#TopStatusArea")[0].style.height=n,r("#WorkArea")[0].style.height=o,r("#BottomStatusArea")[0].style.height=i},_setStatusAreaContents:function(t){"use strict";t&&!0!==t.TopStatusArea||this._setStatusAreaContent(r("#TopStatusArea"),this._options.AddIn_TopStatusAreaContent),t&&!0!==t.BottomStatusArea||this._setStatusAreaContent(r("#BottomStatusArea"),this._options.AddIn_BottomStatusAreaContent)},_setStatusAreaContent:function(t,e){"use strict";if(t.length&&e){t[0].innerHTML=this._textReplacements(e);var n="."+c.TAP_EVENT_CLASS_NAME+", ."+c.DOUBLE_TAP_EVENT_CLASS_NAME;t.find(n).data(c.HANDLER_FUNCTION_PROPERTY+"nvscai",(function(e){var n={ObjectID:e.target.id,ObjectType:t[0].id,VisualType:-1,CellIndex:-1,EntryIndex:-1,SymbolIndex:-1,SymbolID:""};try{switch(e.type){case c.TAP_EVENT_NAME:Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnClicked",[n]);break;case c.DOUBLE_TAP_EVENT_NAME:Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnDoubleClicked",[n])}}catch(t){this._handleException(t,"tapEvents")}}))}},_textReplacements:function(t){"use strict";var e=this;if(t){this._options.AddIn_StatusAreaVariables&&Object.keys(this._options.AddIn_StatusAreaVariables).forEach((function(n){t=t.replace("{{"+n+"}}",e._options.AddIn_StatusAreaVariables[n])}));var n=this._vsWidget._application;if(n){var i=n.symbolsMap();Object.keys(i).forEach((function(e){t=t.replace("{{@"+e+"}}",i[e].URL)}))}}return t},_stretchContainer:function(){"use strict";var t=l.scrollBarWidth();if(0!==(a=r(window.frameElement)).length){var e=a.closest(".ms-nav-scrollable");if(0!==e.length){var n=e[0].getBoundingClientRect().height,i=0;return(o=e.prop("scrollHeight"))>n&&(i=o-n),a.css("max-height","10000px"),a.css("height","10000px"),(d=(s=e.prop("scrollHeight"))===o?n-t+i:n-(s-1e4)-t+i)<(c=a.css("min-height").replace("px",""))&&(d=c),a.css("height",d+"px"),void a.css("max-height",d+"px")}if(0!==(e=r(parent.document).find(".ms-core-overlay")).length||0===(e=r(parent.document).find(".entity-content-container")).length){if(0!==e.length){var o,a,s,d,c;n=e[0].getBoundingClientRect().height,i=0;(o=e.prop("scrollHeight"))>n&&(i=o-n),(a=r(parent.document).find("iframe:first")).css("height","10000px"),(d=n-((s=e.prop("scrollHeight"))-1e4)-t+i)<(c=a.css("min-height").replace("px",""))&&(d=c),a.css("height",d+"px")}}else(a=e.find("iframe:first")).css("height",e.prop("offsetHeight")-3+"px")}},_doCompareObjectsFunc:function(t,e){var n=function(t){var n=!0;if("-"===t.charAt(0)&&(n=!1,t=t.substring(1)),t){var i,o=t.split(".").reverse(),r=e.objectA,a=e.objectB;do{if(i=o.pop(),!o.length||!i)break;r=r[i],a=a[i]}while(r&&a);if(i&&r&&a){var s=r[i],d=a[i];if(s!==d)return e.isALowerThanB=n?s<d:s>d,!1}}return!0};Array.isArray(t)&&!t.every(n)||n("AddIn_TableSortCode")&&n("ID")},_compareActivitiesFunc:function(t){this._doCompareObjectsFunc(this._options.AddIn_ActivitySortCodeSources,t)},_compareAllocationsFunc:function(t){this._doCompareObjectsFunc(this._options.AddIn_AllocationSortCodeSources,t)},_compareEntitiesFunc:function(t){this._doCompareObjectsFunc(this._options.AddIn_EntitySortCodeSources,t)},_compareResourcesFunc:function(t){this._doCompareObjectsFunc(this._options.AddIn_ResourceSortCodeSources,t)},_initResize:function(t){"use strict";if(window.netronic_isCALVersion){var e=this;if(t){var n;r(top.window).bind("resize",(function(){clearTimeout(n),n=setTimeout(e._stretchContainer,500)}));var i=r(window).width(),o=r(window).height();r(window).bind("resize",(function(){var t=r(window).width(),a=r(window).height();t===i&&a===o||(clearTimeout(n),n=setTimeout(e._stretchContainer,10)),i=t,o=a})),e._stretchContainer()}}else r("#controlAddIn").css("box-sizing","border-box")},_initWidget:function(){"use strict";var t=this;if(void 0===this._vsWidget){var e=r("#WorkArea");e.attr("class","");var n={viewType:T.Resources,additionalDateStringInterpretedAsEmpty:window.netronic_isCALVersion?"0001-01-01T00:00:00":"0001-01-01T00:00:00.0000000",onDetermineColumnDefinitions:this._onDetermineColumnDefinitionsTriggered.bind(this),onShowTooltip:this._onShowTooltipTriggered.bind(this),canDrag:this._canDragTriggered.bind(this),onDragStart:this._onDragStartTriggered.bind(this),onDragEnd:this._onDragEndTriggered.bind(this),onDrop:this._onDropTriggered.bind(this),onTableCellDefinitionWidthChanged:this._onTableCellDefinitionWidthChangedTriggered.bind(this),onClicked:this._onClickedTriggered.bind(this),onDoubleClicked:this._onDoubleClickedTriggered.bind(this),onSelectionChanged:this._onSelectionChangedTriggered.bind(this),onCollapseStateChanged:this._onCollapseStateChangedTriggered.bind(this),onCurveCollapseStateChanged:this._onCurveCollapseStateChangedTriggered.bind(this),onTimeAreaViewParametersChanged:this._onTimeAreaViewParametersChangedTriggered.bind(this),onVerticalScrollOffsetChanged:this._onVerticalScrollOffsetChangedTriggered.bind(this),onSaveAsPDFProgress:this._onSaveAsPDFProgressTriggered.bind(this),onLogWarning:this._onLogWarningTriggered.bind(t),onLogError:this._onLogErrorTriggered.bind(t),onContextMenuItemClicked:function(t){Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnContextMenuItemClicked",[t])},onRowSortingChangeRequested:this._onRowSortingChangeRequested.bind(t)};return b.forEach((function(e){e="".concat(e.replace(/y$/,"ie"),"s"),n["compare".concat(e)]=t["_compare".concat(e,"Func")].bind(t)})),this._vsWidget=this._createWidgetInstance(e,n),this._initResize(this._options.AddIn_ForcedFillOfPageSpace),this._activitiesTableColumns=[{}],this._resourcesTableColumns=[{}],this._entitiesTableColumns=[{}],window.Hamlet&&this._vsWidget.element.on("keydown.nVSCAI keyup.nVSCAI",(function(e){return t._handleKeyEvent(e)})),!0}return!1},_createWidgetInstance:function(t,e){"use strict";return t.nVSCAIWidget(e).nVSCAIWidget("instance")},_handlePingTimeInMilliseconds:function(){"use strict";void 0!==this._pingIntervalID&&(window.clearInterval(this._pingIntervalID),delete this._pingIntervalID),this._options.AddIn_PingTimeInMilliseconds>0&&(this._pingIntervalID=window.setInterval((function(){Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnPing",null,!0)}),this._options.AddIn_PingTimeInMilliseconds))},_sendKeyEventToD365:function(t,e){"use strict";Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("On"+e,[{AltKey:t.altKey,CtrlKey:t.ctrlKey,Key:t.key,Location:event.location,MetaKey:t.metaKey,Repeat:event.repeat,ShiftKey:t.shiftKey}]),t.preventDefault()},_handleKeyEvent:function(t){"use strict";var e=this;function n(t,e){return!t&&"boolean"!=typeof t||!!t===e}if(!t.defaultPrevented){var i=t.originalEvent,r=t.type.substring(0,1).toUpperCase()+t.type.substring(1),a=this._options[["AddIn_",r,"List"].join("")];Array.isArray(a)&&!i.isComposing&&229!==t.keyCode&&a.every((function(i){switch(o(i)){case"string":if(a.indexOf(t.key)>=0)return e._sendKeyEventToD365(t,r),!1;break;case"object":if(i.Key===t.key){var s=i.AltKey,d=i.CtrlKey,c=i.MetaKey,l=i.ShiftKey;if((i.CmdKey||"boolean"==typeof i.CmdKey)&&(d=!(c=u.isMac?!!i.CmdKey:!i.CmdKey)),n(s,t.altKey)&&n(d,t.ctrlKey)&&n(c,t.metaKey)&&n(l,t.shiftKey))return e._sendKeyEventToD365(t,r),!1}}return!0}))}},_setActivitiesDefaultValues:function(t){"use strict";t.forEach((function(t){-1===t.PM_AllowedBarDragModes&&(t.PM_AllowedBarDragModes=void 0)}))},_setAllocationsDefaultValues:function(t){"use strict";t.forEach((function(t){-1===t.PM_AllowedBarDragModes&&(t.PM_AllowedBarDragModes=void 0)}))},_updateVisibilityFilterCallback:function(t,e,n){var o=this;if(Array.isArray(e)||3===n){var r,a=(r={},i(r,p.Activity,"Activities"),i(r,p.Allocation,"Allocations"),i(r,p.Resource,"Resources"),i(r,p.Entity,"Entities"),r)[t],s="visibilityFilterFor".concat(a),d=o._options.AddIn_VisiblePropertyName,c=o._objectsByIDAndObjectType[t],u=o._visibilitiesByObjectType[t];if(u){switch(n){case-1:e=Object.values(c),o._hiddenObjectsCounts[t]=0,o._visibilitiesByObjectType[t]={};case 0:e.forEach((function(e){var n=e.ID,i=!1!==e[d];i||o._hiddenObjectsCounts[t]++,u[n]=i,c[n]=e}));break;case 1:var l=o._vsWidget.options.defaultUpdateMode&_.DifferentialValues,f=o._vsWidget.options.defaultUpdateMode&_.ImplicitAddObjects;e.forEach((function(e){l&&c[e.ID]&&o._vsWidget._application.supplementDifferentialObject(e,c[e.ID]);var n=e.ID,i=!1!==e[d],r=u[n];(f||void 0!==r)&&r!==i&&(i?!1===r&&o._hiddenObjectsCounts[t]--:o._hiddenObjectsCounts[t]++),u[n]=i,c[n]=e}));break;case 2:e.forEach((function(e){var n="string"==typeof object?e:e.ID;u[n]||o._hiddenObjectsCounts[t]--,delete u[n],delete c[n]}));break;case 3:o._hiddenObjectsCounts[t]=0,o._visibilitiesByObjectType[t]={},o._objectsByIDAndObjectType[t]={}}o._hiddenObjectsCounts[t]?o._vsWidget.options[s]&&-1!==n||o._vsWidget.option(s,o._visibilityFilterFunc.bind(o)):o._vsWidget.options[s]&&o._vsWidget.option(s,null)}}},_visibilityFilterFunc:function(t){t.result=!1!==t.object[this._options.AddIn_VisiblePropertyName]},_onDetermineColumnDefinitionsTriggered:function(t){"use strict";var e=this;t.tableType===h.Entities?t.columns=e._entitiesTableColumns:t.viewType===T.Activities?t.columns=e._activitiesTableColumns:t.columns=e._resourcesTableColumns,t.columns[0].textSource=e._options.AddIn_HamletTableText?"Name":"AddIn_TableText"},_onShowTooltipTriggered:function(t){"use strict";if(this._options.AddIn_HamletTooltips){var e=t.objectType,n=t.object;if(null!=n&&null!=n.NET_CustomPropertyBag&&null!=n.NET_CustomPropertyBag.ToolTipInfo){var i=n.NET_CustomPropertyBag.ToolTipInfo;if(null!=i){var o=null!=i.preLine?i.preLine:"</tr>",r=null!=i.htmlTooltipLineTemplate?i.htmlTooltipLineTemplate:"<td>#description#</td><td>#value#</td>",a=null!=i.postLine?i.postLine:"</tr>",s=null!=i.postBlock?i.postBlock:"</table>";if(null!=e&&e==f.ObjectType.Resource){var d="",c=i.isResourceGroup?"RG_":"R_",u=function(t,e,n){if(void 0===n&&(n=!0),null!=t&&null!=e&&(!n||e>0||""!=e)){var i=o;return i=(i+=r.replace("#description#",t)).replace("#value#",e),i+=a}return""},l=function(e,n,i){var o=e+n+p,r=t.singleLoads[o];null!=r&&r>0&&(d+=u(i,r))};if(d+=u(null!=i.capacityCurveDescription?i.capacityCurveDescription:"capacity",t.capacity,!1),d+=u(null!=i.loadCurveDescription?i.loadCurveDescription:"total load",t.load,!1),t.singleLoads){var p=n.ID.substring(c.length);l("","ALC_",null!=i.absenceCurveDescription?i.absenceCurveDescription:"Absence"),l(c,"PC_AL_",null!=i.ALCurveDescription?i.ALCurveDescription:"Assembly Load"),l(c,"PC_JPL_",null!=i.JPLCurveDescription?i.JPLCurveDescription:"Job Load"),l(c,"PC_SOA_",null!=i.SOACurveDescription?i.SOACurveDescription:"Service Load: ")}if(null!=t.date){var I=t.date;d+=u(null!=i.dateDescription?i.dateDescription:"Date",I.toLocaleDateString(this._vsWidget.options.locale))}d+=s}var h="";null!=i.TooltipText&&""!=i.TooltipText&&(h=null!=d?i.TooltipText+d:i.TooltipText),t.innerHTML=h}}}else{var _=t.object;_&&!t.tooltipTemplateID&&(t.innerHTML=((t.periodHighlighter||t.calendarGrid)&&t.entry||_).AddIn_TooltipText)}},_overwriteOption:function(t,e,n){"use strict";var i=this,o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};t&&o(t,e)?(i._origValues||(i._origValues={}),o(i._origValues,n)||(i._origValues[n]=i._vsWidget.option(n)),i._vsWidget.option(n,t[e])):i._origValues&&o(i._origValues,n)&&i._origValues[n]!==i._vsWidget.option(n)&&(i._vsWidget.option(n,i._origValues[n]),delete i._origValues[n])},_canDragTriggered:function(t){"use strict";var e=this;if(e._overwriteOption(t.object,"PM_BarTimeStepUnit","timeStepUnit"),e._overwriteOption(t.object,"PM_BarTimeStepUnitFactor","timeStepUnitFactor"),e._options.AddIn_CanDragTriggeringEnabled){var n={ObjectType:t.objectType,VisualType:t.visualType,AllowedDragModes:t.allowedDragModes,StartPropertyName:t.startPropertyName||"",EndPropertyName:t.endPropertyName||""};e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object?t.object.ID:"",t.selectedObjects&&(n.SelectedObjectIDs=t.selectedObjects.map((function(t){return t.ID}))),e._cachedCanDragEventArgs=n,null!=e._cachedCanDragEventsTimerID&&window.clearTimeout(e._cachedCanDragEventsTimerID),e._cachedCanDragEventsTimerID=window.setTimeout((function(){delete e._cachedCanDragEventsTimerID,Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("CanDrag",[e._cachedCanDragEventArgs])}),100)}},_onDragStartTriggered:function(t){"use strict";var e=this,n={ObjectType:t.objectType,VisualType:t.visualType,DragMode:t.dragMode,StartPropertyName:t.startPropertyName||"",EndPropertyName:t.endPropertyName||""};if(n.EntryIndex=null!=t.entryIndex?t.entryIndex:-1,e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object?t.object.ID:"",Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnDragStart",[n]),t.visualType===g.Row){var o,r=(o={},i(o,p.Activity,"Activity"),i(o,p.Allocation,"Allocation"),i(o,p.Entity,"Entity"),i(o,p.Resource,"Resource"),o)[t.objectType];if(r){var a,s,d=(null===(a=e._options["AddIn_".concat(r,"SortCodeSources")])||void 0===a?void 0:a[0])||"AddIn_TableSortCode";r="".concat(r[0].toLowerCase()).concat(r.substring(1)),e._rowDragStartedObjectName=r,e._vsWidget.option((i(s={},"´".concat(r,"RowSortCodePropertyName"),d.replace(/^[+-]/,"")),i(s,"´".concat(r,"RowSortMode"),"-"===d[0]?I.Descending:I.Ascending),s))}}},_finishRowDragging:function(){if(this._rowDragStartedObjectName){var t,e=this._rowDragStartedObjectName;this._vsWidget.option((i(t={},"´".concat(e,"RowSortCodePropertyName"),"PM_SortCode"),i(t,"´".concat(e,"RowSortMode"),I.None),t)),delete this._rowDragStartedObjectName}},_onDragEndTriggered:function(t){"use strict";var e={ObjectType:t.objectType,VisualType:t.visualType,DragMode:t.dragMode,StartPropertyName:t.startPropertyName||"",EndPropertyName:t.endPropertyName||""};e.EntryIndex=null!=t.entryIndex?t.entryIndex:-1,this._options.AddIn_FullObjectsInEvents?e.Object=t.object:e.ObjectID=t.object?t.object.ID:"",Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnDragEnd",[e]),this._finishRowDragging()},_onDropTriggered:function(t){"use strict";var e=this,n={ObjectType:t.objectType,VisualType:t.visualType,DragMode:t.dragMode,NewRowObjectType:t.newRowObjectType,WorkingTimeDistance:t.workingTimeDistance||0,StartPropertyName:t.startPropertyName||"",EndPropertyName:t.endPropertyName||""};if(t.newStart&&(n.NewStart=t.newStart),t.newEnd&&(n.NewEnd=t.newEnd),t.newDate&&(n.NewDate=t.newDate),"rowInsertionMode"in t&&(n.RowInsertionMode=t.rowInsertionMode),"newSortCode"in t&&(n.NewSortCode=t.newSortCode),n.EntryIndex=null!=t.entryIndex?t.entryIndex:-1,e._options.AddIn_FullObjectsInEvents?(n.Object=t.object,n.NewRowObject=t.newRowObject):(n.ObjectID=t.object?t.object.ID:"",n.NewRowObjectID=t.newRowObject?t.newRowObject.ID:""),t.startsAndEndsOfCoupledObjects&&(n.StartsAndEndsOfCoupledObjects=t.startsAndEndsOfCoupledObjects.map((function(t){var n={NewStart:t.newStart,NewEnd:t.newEnd};return e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object.ID,n}))),t.otherNewSortCodesForSiblingObjects&&(n.OtherNewSortCodesForSiblingObjects=t.otherNewSortCodesForSiblingObjects.map((function(t){var n={NewSortCode:t.newSortCode};return e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object.ID,n}))),e._options.AddIn_OnDropWithCompletion){var i=r.Deferred();n.CompletionID=(e._nextCompletionID++).toString(),e._completionDeferreds[n.CompletionID]=i,t.promise=i.promise()}Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnDrop",[n]),e._finishRowDragging()},_onTableCellDefinitionWidthChangedTriggered:function(t){"use strict";var e={TableType:t.tableType,TableRowDefinitionID:t.tableRowDefinition.ID,CellIndex:t.cellIndex,NewWidth:Math.floor(t.newWidth+.001),OldWidth:Math.floor(t.oldWidth+.001)};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnTableCellDefinitionWidthChanged",[e])},_onClickedTriggered:function(t){"use strict";var e={ObjectType:t.objectType,VisualType:t.visualType,CellIndex:null!=t.cellIndex?t.cellIndex:-1,EntryIndex:null!=t.entryIndex?t.entryIndex:-1,SymbolIndex:null!=t.symbolIndex?t.symbolIndex:-1,SymbolID:Array.isArray(t.object.PM_RowSymbolIDs)&&null!=t.symbolIndex?t.object.PM_RowSymbolIDs[t.symbolIndex]:""};t.date&&(e.Date=t.date),t.visualType===g.PeriodHighlighter&&(e.PeriodHighlighterID=t.calendarGrid.ID,e.PeriodHighlighterEntryIndex=t.entryIndex,window.Hamlet&&(e.CalendarGridID=e.PeriodHighlighterID,e.CalendarGridEntryIndex=e.PeriodHighlighterEntryIndex)),t.hierarchySupplementaryDefinitionID&&(e.HierarchySupplementaryDefinitionID=t.hierarchySupplementaryDefinitionID,e.HierarchyLevelSupplementaryDefinitionIndex=t.hierarchyLevelSupplementaryDefinitionIndex,e.GroupingLevelDefinitionIndex=t.groupingLevelDefinitionIndex,e.GroupingCodes=t.groupingCodes),this._options.AddIn_FullObjectsInEvents?e.Object=t.object:e.ObjectID=t.object?t.object.ID:"",Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnClicked",[e])},_onDoubleClickedTriggered:function(t){"use strict";var e={ObjectType:t.objectType,VisualType:t.visualType,CellIndex:null!=t.cellIndex?t.cellIndex:-1,EntryIndex:null!=t.entryIndex?t.entryIndex:-1,SymbolIndex:null!=t.symbolIndex?t.symbolIndex:-1,SymbolID:Array.isArray(t.object.PM_RowSymbolIDs)&&null!=t.symbolIndex?t.object.PM_RowSymbolIDs[t.symbolIndex]:""};t.date&&(e.Date=t.date),t.visualType===g.PeriodHighlighter&&(e.PeriodHighlighterID=t.calendarGrid.ID,e.PeriodHighlighterEntryIndex=t.entryIndex,window.Hamlet&&(e.CalendarGridID=e.PeriodHighlighterID,e.CalendarGridEntryIndex=e.PeriodHighlighterEntryIndex)),t.hierarchySupplementaryDefinitionID&&(e.HierarchySupplementaryDefinitionID=t.hierarchySupplementaryDefinitionID,e.HierarchyLevelSupplementaryDefinitionIndex=t.hierarchyLevelSupplementaryDefinitionIndex,e.GroupingLevelDefinitionIndex=t.groupingLevelDefinitionIndex,e.GroupingCodes=t.groupingCodes),this._options.AddIn_FullObjectsInEvents?e.Object=t.object:e.ObjectID=t.object?t.object.ID:"",Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnDoubleClicked",[e])},_onSelectionChangedTriggered:function(t){"use strict";if(!this._options.AddIn_DeselectionOfRowsOrBarsOnLinkContextMenu&&t.reason===f.SelectionChangedReason.ContextMenu&&t.reasonObjectType===f.ObjectType.Link&&t.previouslySelectedObjects&&t.previouslySelectedObjects.length&&t.previouslySelectedObjectsType!==f.ObjectType.Link)t.cancel=!0;else{var e={ObjectType:t.objectType,VisualType:t.visualType};this._options.AddIn_FullObjectsInEvents?e.Object=t.object:e.ObjectID=t.object?t.object.ID:"",e.SelectedObjectIDs=t.selectedObjects.map((function(t){return t.ID})),Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnSelectionChanged",[e])}},_onCollapseStateChangedTriggered:function(t){"use strict";var e=this,n={ObjectType:t.objectType,NewCollapseState:t.newCollapseState,Interactively:t.interactively,IsForAllocationRows:t.isForAllocationRows};if(e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object?t.object.ID:"",e._options.AddIn_OnCollapseStateChangedWithCompletion){var i=r.Deferred();n.CompletionID=(e._nextCompletionID++).toString(),e._completionDeferreds[n.CompletionID]=i,t.promise=i.promise()}Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnCollapseStateChanged",[n]),t.object.PM_CollapseState=t.newCollapseState?1:0},_onCurveCollapseStateChangedTriggered:function(t){"use strict";var e=this,n={ObjectType:t.objectType,NewCollapseState:t.newCollapseState};if(e._options.AddIn_FullObjectsInEvents?n.Object=t.object:n.ObjectID=t.object?t.object.ID:"",t.resource&&(e._options.AddIn_FullObjectsInEvents?n.Resource=t.resource:n.ResourceID=t.resource.ID),e._options.AddIn_OnCurveCollapseStateChangedWithCompletion){var i=r.Deferred();n.CompletionID=(e._nextCompletionID++).toString(),e._completionDeferreds[n.CompletionID]=i,t.promise=i.promise()}Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnCurveCollapseStateChanged",[n]),t.object.PM_CurveCollapseState=t.newCollapseState?1:0},_onTimeAreaViewParametersChangedTriggered:function(t){"use strict";var e={ScrollOffset:Math.floor(t.scrollOffset+.001),Width:Math.floor(t.width+.001),Start:t.start,End:t.end,TimeResolutionUnit:t.timeResolutionUnit,TimeResolutionUnitCount:t.timeResolutionUnitCount,TableViewWidth:Math.floor(t.tableViewWidth+.001),EntitiesTableViewWidth:Math.floor(t.entitiesTableViewWidth+.001)||0};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnTimeAreaViewParametersChanged",[e])},_onVerticalScrollOffsetChangedTriggered:function(t){"use strict";var e={TableType:t.tableType,ScrollOffset:Math.floor(t.scrollOffset+.001),TopViewScrollOffset:Math.floor(t.topViewScrollOffset+.001)};this._options.AddIn_FullObjectsInEvents?(e.RowObjectAtTop=t.rowObjectAtTop,e.TopViewRowObjectAtTop=t.topViewRowObjectAtTop):(e.RowObjectIDAtTop=t.rowObjectAtTop?t.rowObjectAtTop.ID:"",e.TopViewRowObjectIDAtTop=t.topViewRowObjectAtTop?t.topViewRowObjectAtTop.ID:""),Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnVerticalScrollOffsetChanged",[e])},_onSaveAsPDFProgressTriggered:function(t){"use strict";var e={PageCount:t.pageCount,CurrentPageNumber:t.currentPageNumber};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnSaveAsPDFProgress",[e])},_onLogWarningTriggered:function(t){"use strict";var e=this;if(null!=e._warningTimeoutHandle&&window.clearTimeout(e._warningTimeoutHandle),e._warningCommandCounter!==t.commandCounter){e._warningCommandCounter=t.commandCounter,e._warningEventArgs&&Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnLogWarnings",[e._warningEventArgs]);var n=t.commandName;n&&(n="".concat(n.at(0).toUpperCase()).concat(n.substring(1))),e._warningEventArgs={CommandName:n||null,WarningTexts:[]}}e._warningEventArgs.WarningTexts.push(t.description),e._warningTimeoutHandle=window.setTimeout((function(){delete e._warningTimeoutHandle,Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnLogWarnings",[e._warningEventArgs]),delete e._warningEventArgs}),500)},_onLogErrorTriggered:function(t){"use strict";var e=t.commandName;e&&(e="".concat(e.at(0).toUpperCase()).concat(e.substring(1)));var n={CommandName:e||null,ErrorName:t.error.name,ErrorMessage:t.error.message,ErrorStack:t.error.stack};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnLogError",[n]),t.rethrow=!1},_onRowSortingChangeRequested:function(t){"use strict";var e={ObjectType:t.objectType,SortMode:t.sortMode,SortCodeSource:t.sortCodeSource};Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnRowSortingChangeRequested",[e]),t.cancel=!0},_II_fitTimeAreaIntoView:function(t,e){"use strict";if(this._vsWidget){var n=void 0,i=void 0;t&&(n=new Date(t)),e&&(i=new Date(e)),this._vsWidget.fitTimeAreaIntoView(n,i)}else alert("_II_fitTimeAreaIntoView failed")},_II_setTimeResolutionForView:function(t,e,n){"use strict";this._vsWidget?(n&&(n=new Date(n)),this._vsWidget.setTimeResolutionForView(t,e,n)):alert("_II_setTimeResolutionForView failed")},_II_removeAll:function(t){"use strict";var e=this;this._vsWidget?(this._vsWidget.removeAll(t),void 0===t?Object.keys(this._visibilitiesByObjectType).forEach((function(t){e._updateVisibilityFilterCallback(t,void 0,3)})):this._updateVisibilityFilterCallback(t,void 0,3),this._vsWidget.option("defaultCalendarID",null),void 0!==t&&t!==p.Symbol||this._setStatusAreaContents()):alert("_II_removeAll failed")},_II_render:function(){"use strict";this._vsWidget?this._vsWidget.render():alert("_II_render failed")},_II_saveAsPDF:function(t,e){"use strict";var n=this;if(this._vsWidget){var i={};e&&Object.keys(e).forEach((function(t){i[t.charAt(0).toLowerCase()+t.substring(1)]=e[t]}));var o=r("<div></div>").css({position:"absolute","z-index":100,cursor:"wait",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)"}).prependTo(r("body"));window.setTimeout((function(){var e,r=function(){o.remove(),Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnSaveAsPDFFinished",[])};if(a.nOSDetector.isIE)e="It is not possible to save a PDF neither within Internet Explorer\nnor the Windows client of Business Central!";else try{n._vsWidget.saveAsPDF(t,i).then(r,r)}catch(t){e=t.message}e&&(a.nPopup.showMessageBox(document.getElementById("controlAddIn"),"Visual Scheduling Control Add-in",e,["OK"],0,-1,void 0,!0,void 0),r())}),1)}else alert("_II_saveAsPDF failed")},_II_cancelSaveAsPDF:function(){"use strict";this._vsWidget?this._vsWidget.cancelSaveAsPDF():alert("_II_cancelSaveAsPDF failed")},_II_scrollToDate:function(t,e){"use strict";t&&this._vsWidget?this._vsWidget.scrollToDate(new Date(t),e||void 0):alert("_II_scrollToDate failed")},_II_scrollToObject:function(t,e,n,i){"use strict";e&&this._vsWidget?this._vsWidget.scrollToObject(t,e,n,i):alert("_II_scrollToObject failed")},_II_scrollViewAreaHorizontally:function(t,e){"use strict";this._vsWidget?this._vsWidget.scrollViewAreaHorizontally(t,e):alert("_II_scrollViewAreaHorizontally failed")},_II_scrollViewAreaVertically:function(t,e){"use strict";this._vsWidget?this._vsWidget.scrollViewAreaVertically(t,e):alert("_II_scrollViewAreaVertically failed")},_II_selectObjects:function(t,e,n){"use strict";e&&this._vsWidget?this._vsWidget.selectObjects(t,e,n):alert("_II_selectObjects failed")},_II_highlightObjects:function(t,e,n){"use strict";e&&this._vsWidget?this._vsWidget.highlightObjects(t,e,n):alert("_II_highlightObjects failed")},_II_setSettings:function(t){"use strict";var e=this,n=this;if(t){var i=this._initWidget();if(this._vsWidget){var o={},r=!1,a=!1,s={};Object.keys(t).forEach((function(e){var i=t[e];if("AddIn_"===e.substring(0,6))if(n._options[e]=i,"AddIn_PingTimeInMilliseconds"===e)n._handlePingTimeInMilliseconds();else if("AddIn_ForcedFillOfPageSpace"===e)n._initResize(i);else if("AddIn_TopStatusAreaHeight"===e||"AddIn_BottomStatusAreaHeight"===e)r=!0;else if("AddIn_TopStatusAreaContent"===e)s.TopStatusArea=!0;else if("AddIn_BottomStatusAreaContent"===e)s.BottomStatusArea=!0;else if("AddIn_StatusAreaVariables"===e)s.TopStatusArea=!0,s.BottomStatusArea=!0;else if("AddIn_VisiblePropertyName"===e)a=!0;else if(y.indexOf(e)>-1){Array.isArray(i)||(i=null);var d="".concat(e.match(/AddIn_(.*)Sort/)[1].replace(/y$/,"ie"),"s");o["compare".concat(d)]=n["_compare".concat(d,"Func")].bind(n)}else window.Hamlet&&("AddIn_ProductName"===e?o.customName=i:"AddIn_ProductVersion"===e&&(o.customVersion=i));else if("custom_"!==e.substring(0,7).toLowerCase()&&!(e="PM_"===e.substring(0,3)?e.substring(0,4).toLowerCase()+e.substring(4):e.substring(0,1).toLowerCase()+e.substring(1)).startsWith("can")&&!e.startsWith("on")){switch(e){case"workDate":if("0001-01-01T00:00:00"===i)return;i=new Date(i);break;case"viewType":case"tableWidth":case"tableViewWidth":case"entitiesTableWidth":case"entitiesTableViewWidth":case"pm_symbolColumnWidth":case"pm_entitiesTableSymbolColumnWidth":if(i<0)return;break;case"localeId":case"languageId":if(null==(i=A[i]))return;i=i.replace(/_/g,"-"),e=e.substring(0,e.length-2);break;case"timeZone":if(null==i)return;i=m[i];break;case"pm_clickEventTriggeringOnRowInTimeArea":e="pm_clickCallbackTriggeringOnRowInTimeArea";break;case"updateMode":e="defaultUpdateMode";break;case"timeStepUnit":case"timeStepUnitFactor":n._origValues&&delete n._origValues[e]}o[e]=i}})),Object.keys(o).length&&n._vsWidget.option(o),r&&this._setAreaHeights(),Object.keys(s).length&&this._setStatusAreaContents(s),a&&this._visibilityObjectTypes.forEach((function(t){e._updateVisibilityFilterCallback(t,null,-1)})),this._vsWidget.render(),i&&Microsoft.Dynamics.NAV.InvokeExtensibilityMethod("OnControlAddInReady",null)}}else alert("_II_setSettings failed")},_II_about:function(){"use strict";this._vsWidget?this._vsWidget.about():alert("_II_about failed")},_II_addActivities:function(t){"use strict";t&&this._vsWidget?(this._setActivitiesDefaultValues(t),this._vsWidget.addActivities(t),this._updateVisibilityFilterCallback(p.Activity,t,0)):alert("_II_addActivities failed")},_II_updateActivities:function(t){"use strict";t&&this._vsWidget?(this._setActivitiesDefaultValues(t),this._vsWidget.updateActivities(t),this._updateVisibilityFilterCallback(p.Activity,t,1)):alert("_II_updateActivities failed")},_II_removeActivities:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.removeActivities(t),this._updateVisibilityFilterCallback(p.Activity,t,2)):alert("_II_removeActivities failed")},_II_addAllocations:function(t){"use strict";t&&this._vsWidget?(this._setAllocationsDefaultValues(t),this._vsWidget.addAllocations(t),this._updateVisibilityFilterCallback(p.Allocation,t,0)):alert("_II_addAllocations failed")},_II_updateAllocations:function(t){"use strict";t&&this._vsWidget?(this._setAllocationsDefaultValues(t),this._vsWidget.updateAllocations(t),this._updateVisibilityFilterCallback(p.Allocation,t,1)):alert("_II_updateAllocations failed")},_II_removeAllocations:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.removeAllocations(t),this._updateVisibilityFilterCallback(p.Allocation,t,2)):alert("_II_removeAllocations failed")},_II_addCalendars:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addCalendars(t):alert("_II_addCalendars failed")},_II_updateCalendars:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateCalendars(t):alert("_II_updateCalendars failed")},_II_removeCalendars:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeCalendars(t):alert("_II_removeCalendars failed")},_II_addCurves:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addCurves(t):alert("_II_addCurves failed")},_II_updateCurves:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateCurves(t):alert("_II_updateCurves failed")},_II_removeCurves:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeCurves(t):alert("_II_removeCurves failed")},_II_addResources:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.addResources(t),this._updateVisibilityFilterCallback(p.Resource,t,0)):alert("_II_addResources failed")},_II_updateResources:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.updateResources(t),this._updateVisibilityFilterCallback(p.Resource,t,1)):alert("_II_updateResources failed")},_II_removeResources:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.removeResources(t),this._updateVisibilityFilterCallback(p.Resource,t,2)):alert("_II_removeResources failed")},_II_addLinks:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addLinks(t):alert("_II_addLinks failed")},_II_updateLinks:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateLinks(t):alert("_II_updateLinks failed")},_II_removeLinks:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeLinks(t):alert("_II_removeLinks failed")},_II_addEntities:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.addEntities(t),this._updateVisibilityFilterCallback(p.Entity,t,0)):alert("_II_addEntities failed")},_II_updateEntities:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.updateEntities(t),this._updateVisibilityFilterCallback(p.Entity,t,1)):alert("_II_updateEntities failed")},_II_removeEntities:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.removeEntities(t),this._updateVisibilityFilterCallback(p.Entity,t,2)):alert("_II_removeEntities failed")},_II_addSymbols:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.addSymbols(t),this._setStatusAreaContents()):alert("_II_addSymbols failed")},_II_updateSymbols:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.updateSymbols(t),this._setStatusAreaContents()):alert("_II_updateSymbols failed")},_II_removeSymbols:function(t){"use strict";t&&this._vsWidget?(this._vsWidget.removeSymbols(t),this._setStatusAreaContents()):alert("_II_removeSymbols failed")},_II_addContextMenus:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addContextMenus(t):alert("_II_addContextMenus failed")},_II_updateContextMenus:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateContextMenus(t):alert("_II_updateContextMenus failed")},_II_removeContextMenus:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeContextMenus(t):alert("_II_removeContextMenus failed")},_II_addPeriodHighlighters:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addPeriodHighlighters(t):alert("_II_addPeriodHighlighters failed")},_II_updatePeriodHighlighters:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updatePeriodHighlighters(t):alert("_II_updatePeriodHighlighters failed")},_II_removePeriodHighlighters:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removePeriodHighlighters(t):alert("_II_removePeriodHighlighters failed")},_II_addDateLines:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addDateLines(t):alert("_II_addDateLines failed")},_II_updateDateLines:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateDateLines(t):alert("_II_updateDateLines failed")},_II_removeDateLines:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeDateLines(t):alert("_II_removeDateLines failed")},_II_addTooltipTemplates:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addTooltipTemplates(t):alert("_II_addTooltipTemplates failed")},_II_updateTooltipTemplates:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateTooltipTemplates(t):alert("_II_updateTooltipTemplates failed")},_II_removeTooltipTemplates:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeTooltipTemplates(t):alert("_II_removeTooltipTemplates failed")},_II_addTableRowDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addTableRowDefinitions(t):alert("_II_addTableRowDefinitions failed")},_II_updateTableRowDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateTableRowDefinitions(t):alert("_II_updateTableRowDefinitions failed")},_II_removeTableRowDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeTableRowDefinitions(t):alert("_II_removeTableRowDefinitions failed")},_II_addHierarchySupplementaryDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.addHierarchySupplementaryDefinitions(t):alert("_II_addHierarchySupplementaryDefinitions failed")},_II_updateHierarchySupplementaryDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.updateHierarchySupplementaryDefinitions(t):alert("_II_updateHierarchySupplementaryDefinitions failed")},_II_removeHierarchySupplementaryDefinitions:function(t){"use strict";t&&this._vsWidget?this._vsWidget.removeHierarchySupplementaryDefinitions(t):alert("_II_removeHierarchySupplementaryDefinitions failed")},_II_eventProcessingDone:function(t){"use strict";if(this._vsWidget){if((t=parseInt(t))>=0){var e=this._completionDeferreds[t];e&&(delete this._completionDeferreds[t],e.resolve())}}else alert("_II_eventProcessingDone failed")},_II_appendTagToLog:function(t){"use strict";this._vsWidget?this._vsWidget.appendTagToLog(t):alert("_II_appendTagToLog failed")}},E={};d.extendClass(E,S,s,O),t.exports=E[S]},246:function(t,e,n){n(1539),n(4747),n(1249),n(6833),n(9601);var i=n(9567);n(9567);var o=n(7108).nDebugHelper,r=n(7).BarSnapTargets,a=n(5564),s=a.rabWidget,d=a.RowDesigns,c=n(4041),u=n(7933),l=n(73);i.widget("vscai.nVSCAIWidget",s,{_contextMenus:{},options:{applicationClass:c,customName:"VS Add-in Developers Toolbox Control Add-in",customCopyrightYear:l.copyrightYear,customVersion:l[window.Hamlet?"hamletVersionNumber":"versionNumber"],customLicenseTexts:u,newCallbackBehaviorEnabled:!0,pm_defaultAllocationBarDesign:a.AllocationBarDesign.GroupedEntries,pm_contextMenuCallbackOnRowInTimeArea:!0,pm_defaultActivityCollapsedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,pm_defaultActivityExpandedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,pm_defaultResourceCollapsedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,pm_defaultResourceExpandedRowDesign:d.Bars|d.Optimized|d.CalendarGrid,pm_defaultAllocationSnapTargetsForStart:r.Start|r.End|r.CalendarGrids,pm_defaultAllocationSnapTargetsForEnd:r.Start|r.End|r.CalendarGrids,pm_defaultActivitySnapTargetsForStart:r.CalendarGrids,pm_defaultActivitySnapTargetsForEnd:r.CalendarGrids,pm_defaultLinkSelectable:!1,additionalDateInterpretedAsEmpty:"0001-01-01T00:00:00.0000000",locale:"en-US",weekNumbering:"ISO8601",tableViewWidth:300,onContextMenuItemClicked:null,timescaleContextMenuID:null},_create:function(){this.element.addClass("nvscai-widget"),this._super()},_destroy:function(){this._super(),this.element.removeClass("nvscai-widget")},_setOption:function(t,e){"use strict";switch(t){case"onContextMenuItemClicked":case"timescaleContextMenuID":this.options[t]=e;break;case"viewType":if(-1===e)return;case"entitiesTableViewWidth":case"entitiesTableWidth":case"tableViewWidth":case"tableViewWidthInActivitiesView":case"tableViewWidthInLoadsView":case"tableViewWidthInResourcesView":case"tableWidth":case"pm_forcedAllocationAllowedBarDragModes":case"pm_forcedAllocationAllowedBarDragModesInActivitiesView":case"pm_forcedActivityAllowedBarDragModes":case"pm_forcedActivityAllowedRowDragModes":case"pm_forcedEntityAllowedRowDragModes":case"pm_forcedResourceAllowedRowDragModes":case"firstDayOfWeek":-1===e&&(e=null);default:"Color"!==t.substring(t.length-5)&&"DashArray"!==t.substring(t.length-9)||e||(e=null),this._super(t,e)}},addContextMenus:function(t){"use strict";var e=this;return e._handleCall("addContextMenus",arguments,(function(e){o.assertArray(t,e,0)}),(function(){Array.isArray(t)&&t.forEach((function(t){t&&"string"==typeof t.ID&&Array.isArray(t.Items)&&(e._contextMenus[t.ID]=t)}))}))},updateContextMenus:function(t){"use strict";var e=this;return e._handleCall("updateContextMenus",arguments,(function(e){o.assertArray(t,e,0)}),(function(){Array.isArray(t)&&t.forEach((function(t){t&&"string"==typeof t.ID&&Array.isArray(t.Items)&&(e._contextMenus[t.ID]=t)}))}))},removeContextMenus:function(t){"use strict";var e=this;return e._handleCall("removeContextMenus",arguments,(function(e){o.assertArray(t,e,0)}),(function(){Array.isArray(t)&&t.forEach((function(t){t&&("string"==typeof t?delete e._contextMenus[t]:"string"==typeof t.ID&&delete e._contextMenus[t.ID])}))}))},_callOnContextMenuItemClicked:function(t){"use strict";this._handleCallback("onContextMenuItemClicked",t)},_saveCurrentStateToLoggingCache:function(){"use strict";this._super();var t=this._loggingCache.Actions;delete this._loggingCache.Actions,this._loggingCache.ContextMenus=Object.values(this._contextMenus).map((function(t){return Object.assign({},t)})),this._loggingCache.Actions=t}})},73:function(t){t.exports={versionNumber:"6.4.4",hamletVersionNumber:"6.4.4",copyrightYear:"2020-2023"}},5079:function(t){t.exports={4:"zh_CHS",1025:"ar_SA",1026:"bg_BG",1027:"ca_ES",1028:"zh_TW",1029:"cs_CZ",1030:"da_DK",1031:"de_DE",1032:"el_GR",1033:"en_US",1034:"es_ES",1035:"fi_FI",1036:"fr_FR",1037:"he_IL",1038:"hu_HU",1039:"is_IS",1040:"it_IT",1041:"ja_JP",1042:"ko_KR",1043:"nl_NL",1044:"nb_NO",1045:"pl_PL",1046:"pt_BR",1047:"rm_CH",1048:"ro_RO",1049:"ru_RU",1050:"hr_HR",1051:"sk_SK",1052:"sq_AL",1053:"sv_SE",1054:"th_TH",1055:"tr_TR",1056:"ur_PK",1057:"id_ID",1058:"uk_UA",1059:"be_BY",1060:"sl_SI",1061:"et_EE",1062:"lv_LV",1063:"lt_LT",1064:"tg_TJ",1065:"fa_IR",1066:"vi_VN",1067:"hy_AM",1069:"eu_ES",1070:"wen_DE",1071:"mk_MK",1074:"tn_ZA",1076:"xh_ZA",1077:"zu_ZA",1078:"af_ZA",1079:"ka_GE",1080:"fo_FO",1081:"hi_IN",1082:"mt_MT",1083:"se_NO",1086:"ms_MY",1087:"kk_KZ",1088:"ky_KG",1089:"sw_KE",1090:"tk_TM",1092:"tt_RU",1093:"bn_IN",1094:"pa_IN",1095:"gu_IN",1096:"or_IN",1097:"ta_IN",1098:"te_IN",1099:"kn_IN",1100:"ml_IN",1101:"as_IN",1102:"mr_IN",1103:"sa_IN",1104:"mn_MN",1105:"bo_CN",1106:"cy_GB",1107:"kh_KH",1108:"lo_LA",1109:"my_MM",1110:"gl_ES",1111:"kok_IN",1114:"syr_SY",1115:"si_LK",1118:"am_ET",1121:"ne_NP",1122:"fy_NL",1123:"ps_AF",1124:"fil_PH",1125:"div_MV",1128:"ha_NG",1130:"yo_NG",1131:"quz_BO",1132:"ns_ZA",1133:"ba_RU",1134:"lb_LU",1135:"kl_GL",1144:"ii_CN",1146:"arn_CL",1148:"moh_CA",1150:"br_FR",1152:"ug_CN",1153:"mi_NZ",1154:"oc_FR",1155:"co_FR",1156:"gsw_FR",1157:"sah_RU",1158:"qut_GT",1159:"rw_RW",1160:"wo_SN",1164:"gbz_AF",2049:"ar_IQ",2052:"zh_CN",2055:"de_CH",2057:"en_GB",2058:"es_MX",2060:"fr_BE",2064:"it_CH",2067:"nl_BE",2068:"nn_NO",2070:"pt_PT",2077:"sv_FI",2080:"ur_IN",2092:"az_AZ",2094:"dsb_DE",2107:"se_SE",2108:"ga_IE",2110:"ms_BN",2115:"uz_UZ",2128:"mn_CN",2129:"bo_BT",2141:"iu_CA",2143:"tmz_DZ",2155:"quz_EC",3073:"ar_EG",3076:"zh_HK",3079:"de_AT",3081:"en_AU",3082:"es_ES",3084:"fr_CA",3098:"sr_SP",3131:"se_FI",3179:"quz_PE",4097:"ar_LY",4100:"zh_SG",4103:"de_LU",4105:"en_CA",4106:"es_GT",4108:"fr_CH",4122:"hr_BA",4155:"smj_NO",5121:"ar_DZ",5124:"zh_MO",5127:"de_LI",5129:"en_NZ",5130:"es_CR",5132:"fr_LU",5179:"smj_SE",6145:"ar_MA",6153:"en_IE",6154:"es_PA",6156:"fr_MC",6203:"sma_NO",7169:"ar_TN",7177:"en_ZA",7178:"es_DO",7194:"sr_BA",7227:"sma_SE",8193:"ar_OM",8201:"en_JA",8202:"es_VE",8218:"bs_BA",8251:"sms_FI",9217:"ar_YE",9225:"en_CB",9226:"es_CO",9242:"rs_latn_RS",9275:"smn_FI",10241:"ar_SY",10249:"en_BZ",10250:"es_PE",11265:"ar_JO",11273:"en_TT",11274:"es_AR",12289:"ar_LB",12297:"en_ZW",12298:"es_EC",13313:"ar_KW",13321:"en_PH",13322:"es_CL",14337:"ar_AE",14346:"es_UR",15361:"ar_BH",15370:"es_PY",16385:"ar_QA",16394:"es_BO",17417:"en_MY",17418:"es_SV",18441:"en_IN",18442:"es_HN",19466:"es_NI",20490:"es_PR",21514:"es_US",31748:"zh_CHT"}},5626:function(t){t.exports={"Dateline Standard Time":"Etc/GMT+12","UTC-11":"Etc/GMT+11","Aleutian Standard Time":"America/Adak","Hawaiian Standard Time":"Pacific/Honolulu","Marquesas Standard Time":"Pacific/Marquesas","Alaskan Standard Time":"America/Anchorage","UTC-09":"Etc/GMT+9","Pacific Standard Time (Mexico)":"America/Tijuana","UTC-08":"Etc/GMT+8","Pacific Standard Time":"America/Los_Angeles","US Mountain Standard Time":"America/Phoenix","Mountain Standard Time (Mexico)":"America/Chihuahua","Mountain Standard Time":"America/Denver","Central America Standard Time":"America/Guatemala","Central Standard Time":"America/Chicago","Easter Island Standard Time":"Pacific/Easter","Central Standard Time (Mexico)":"America/Mexico_City","Canada Central Standard Time":"America/Regina","SA Pacific Standard Time":"America/Bogota","Eastern Standard Time (Mexico)":"America/Cancun","Eastern Standard Time":"America/New_York","Haiti Standard Time":"America/Port-au-Prince","Cuba Standard Time":"America/Havana","US Eastern Standard Time":"America/Indianapolis","Paraguay Standard Time":"America/Asuncion","Atlantic Standard Time":"America/Halifax","Venezuela Standard Time":"America/Caracas","Central Brazilian Standard Time":"America/Cuiaba","SA Western Standard Time":"America/La_Paz","Pacific SA Standard Time":"America/Santiago","Turks And Caicos Standard Time":"America/Grand_Turk","Newfoundland Standard Time":"America/St_Johns","Tocantins Standard Time":"America/Araguaina","E. South America Standard Time":"America/Sao_Paulo","SA Eastern Standard Time":"America/Cayenne","Argentina Standard Time":"America/Buenos_Aires","Greenland Standard Time":"America/Godthab","Montevideo Standard Time":"America/Montevideo","Magallanes Standard Time":"America/Punta_Arenas","Saint Pierre Standard Time":"America/Miquelon","Bahia Standard Time":"America/Bahia","UTC-02":"Etc/GMT+2","Azores Standard Time":"Atlantic/Azores","Cape Verde Standard Time":"Atlantic/Cape_Verde",UTC:"Etc/GMT","GMT Standard Time":"Europe/London","Greenwich Standard Time":"Atlantic/Reykjavik","W. Europe Standard Time":"Europe/Berlin","Central Europe Standard Time":"Europe/Budapest","Romance Standard Time":"Europe/Paris","Morocco Standard Time":"Africa/Casablanca","Sao Tome Standard Time":"Africa/Sao_Tome","Central European Standard Time":"Europe/Warsaw","W. Central Africa Standard Time":"Africa/Lagos","Jordan Standard Time":"Asia/Amman","GTB Standard Time":"Europe/Bucharest","Middle East Standard Time":"Asia/Beirut","Egypt Standard Time":"Africa/Cairo","E. Europe Standard Time":"Europe/Chisinau","Syria Standard Time":"Asia/Damascus","West Bank Standard Time":"Asia/Hebron","South Africa Standard Time":"Africa/Johannesburg","FLE Standard Time":"Europe/Kiev","Israel Standard Time":"Asia/Jerusalem","Kaliningrad Standard Time":"Europe/Kaliningrad","Sudan Standard Time":"Africa/Khartoum","Libya Standard Time":"Africa/Tripoli","Namibia Standard Time":"Africa/Windhoek","Arabic Standard Time":"Asia/Baghdad","Turkey Standard Time":"Europe/Istanbul","Arab Standard Time":"Asia/Riyadh","Belarus Standard Time":"Europe/Minsk","Russian Standard Time":"Europe/Moscow","E. Africa Standard Time":"Africa/Nairobi","Iran Standard Time":"Asia/Tehran","Arabian Standard Time":"Asia/Dubai","Astrakhan Standard Time":"Europe/Astrakhan","Azerbaijan Standard Time":"Asia/Baku","Russia Time Zone 3":"Europe/Samara","Mauritius Standard Time":"Indian/Mauritius","Saratov Standard Time":"Europe/Saratov","Georgian Standard Time":"Asia/Tbilisi","Caucasus Standard Time":"Asia/Yerevan","Afghanistan Standard Time":"Asia/Kabul","West Asia Standard Time":"Asia/Tashkent","Ekaterinburg Standard Time":"Asia/Yekaterinburg","Pakistan Standard Time":"Asia/Karachi","India Standard Time":"Asia/Calcutta","Sri Lanka Standard Time":"Asia/Colombo","Nepal Standard Time":"Asia/Katmandu","Central Asia Standard Time":"Asia/Almaty","Bangladesh Standard Time":"Asia/Dhaka","Omsk Standard Time":"Asia/Omsk","Myanmar Standard Time":"Asia/Rangoon","SE Asia Standard Time":"Asia/Bangkok","Altai Standard Time":"Asia/Barnaul","W. Mongolia Standard Time":"Asia/Hovd","North Asia Standard Time":"Asia/Krasnoyarsk","N. Central Asia Standard Time":"Asia/Novosibirsk","Tomsk Standard Time":"Asia/Tomsk","China Standard Time":"Asia/Shanghai","North Asia East Standard Time":"Asia/Irkutsk","Singapore Standard Time":"Asia/Singapore","W. Australia Standard Time":"Australia/Perth","Taipei Standard Time":"Asia/Taipei","Ulaanbaatar Standard Time":"Asia/Ulaanbaatar","Aus Central W. Standard Time":"Australia/Eucla","Transbaikal Standard Time":"Asia/Chita","Tokyo Standard Time":"Asia/Tokyo","North Korea Standard Time":"Asia/Pyongyang","Korea Standard Time":"Asia/Seoul","Yakutsk Standard Time":"Asia/Yakutsk","Cen. Australia Standard Time":"Australia/Adelaide","AUS Central Standard Time":"Australia/Darwin","E. Australia Standard Time":"Australia/Brisbane","AUS Eastern Standard Time":"Australia/Sydney","West Pacific Standard Time":"Pacific/Port_Moresby","Tasmania Standard Time":"Australia/Hobart","Vladivostok Standard Time":"Asia/Vladivostok","Lord Howe Standard Time":"Australia/Lord_Howe","Bougainville Standard Time":"Pacific/Bougainville","Russia Time Zone 10":"Asia/Srednekolymsk","Magadan Standard Time":"Asia/Magadan","Norfolk Standard Time":"Pacific/Norfolk","Sakhalin Standard Time":"Asia/Sakhalin","Central Pacific Standard Time":"Pacific/Guadalcanal","Russia Time Zone 11":"Asia/Kamchatka","New Zealand Standard Time":"Pacific/Auckland","UTC+12":"Etc/GMT-12","Fiji Standard Time":"Pacific/Fiji","Chatham Islands Standard Time":"Pacific/Chatham","UTC+13":"Etc/GMT-13","Tonga Standard Time":"Pacific/Tongatapu","Samoa Standard Time":"Pacific/Apia","Line Islands Standard Time":"Pacific/Kiritimati"}},9662:function(t,e,n){var i=n(614),o=n(6330),r=TypeError;t.exports=function(t){if(i(t))return t;throw r(o(t)+" is not a function")}},9483:function(t,e,n){var i=n(4411),o=n(6330),r=TypeError;t.exports=function(t){if(i(t))return t;throw r(o(t)+" is not a constructor")}},6077:function(t,e,n){var i=n(614),o=String,r=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw r("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var i=n(5112),o=n(30),r=n(3070).f,a=i("unscopables"),s=Array.prototype;null==s[a]&&r(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){"use strict";var i=n(8710).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9670:function(t,e,n){var i=n(111),o=String,r=TypeError;t.exports=function(t){if(i(t))return t;throw r(o(t)+" is not an object")}},8533:function(t,e,n){"use strict";var i=n(2092).forEach,o=n(9341)("forEach");t.exports=o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},1318:function(t,e,n){var i=n(5656),o=n(1400),r=n(6244),a=function(t){return function(e,n,a){var s,d=i(e),c=r(d),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=d[u++])!=s)return!0}else for(;c>u;u++)if((t||u in d)&&d[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var i=n(9974),o=n(1702),r=n(8361),a=n(7908),s=n(6244),d=n(5417),c=o([].push),u=function(t){var e=1==t,n=2==t,o=3==t,u=4==t,l=6==t,f=7==t,p=5==t||l;return function(I,h,_,T){for(var g,v,A=a(I),m=r(A),b=i(h,_),y=s(m),S=0,O=T||d,E=e?O(I,y):n||f?O(I,0):void 0;y>S;S++)if((p||S in m)&&(v=b(g=m[S],S,A),t))if(e)E[S]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:c(E,g)}else switch(t){case 4:return!1;case 7:c(E,g)}return l?-1:o||u?u:E}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1194:function(t,e,n){var i=n(7293),o=n(5112),r=n(7392),a=o("species");t.exports=function(t){return r>=51||!i((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var i=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){return 1},1)}))}},1589:function(t,e,n){var i=n(1400),o=n(6244),r=n(6135),a=Array,s=Math.max;t.exports=function(t,e,n){for(var d=o(t),c=i(e,d),u=i(void 0===n?d:n,d),l=a(s(u-c,0)),f=0;c<u;c++,f++)r(l,f,t[c]);return l.length=f,l}},206:function(t,e,n){var i=n(1702);t.exports=i([].slice)},4362:function(t,e,n){var i=n(1589),o=Math.floor,r=function(t,e){var n=t.length,d=o(n/2);return n<8?a(t,e):s(t,r(i(t,0,d),e),r(i(t,d),e),e)},a=function(t,e){for(var n,i,o=t.length,r=1;r<o;){for(i=r,n=t[r];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==r++&&(t[i]=n)}return t},s=function(t,e,n,i){for(var o=e.length,r=n.length,a=0,s=0;a<o||s<r;)t[a+s]=a<o&&s<r?i(e[a],n[s])<=0?e[a++]:n[s++]:a<o?e[a++]:n[s++];return t};t.exports=r},7475:function(t,e,n){var i=n(3157),o=n(4411),r=n(111),a=n(5112)("species"),s=Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===s||i(e.prototype))||r(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},5417:function(t,e,n){var i=n(7475);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},4326:function(t,e,n){var i=n(1702),o=i({}.toString),r=i("".slice);t.exports=function(t){return r(o(t),8,-1)}},648:function(t,e,n){var i=n(1694),o=n(614),r=n(4326),a=n(5112)("toStringTag"),s=Object,d="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:d?r(e):"Object"==(i=r(e))&&o(e.callee)?"Arguments":i}},9920:function(t,e,n){var i=n(2597),o=n(3887),r=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=o(e),d=a.f,c=r.f,u=0;u<s.length;u++){var l=s[u];i(t,l)||n&&i(n,l)||d(t,l,c(e,l))}}},4964:function(t,e,n){var i=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){"use strict";var i=n(3383).IteratorPrototype,o=n(30),r=n(9114),a=n(8003),s=n(7497),d=function(){return this};t.exports=function(t,e,n,c){var u=e+" Iterator";return t.prototype=o(i,{next:r(+!c,n)}),a(t,u,!1,!0),s[u]=d,t}},8880:function(t,e,n){var i=n(9781),o=n(3070),r=n(9114);t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var i=n(4948),o=n(3070),r=n(9114);t.exports=function(t,e,n){var a=i(e);a in t?o.f(t,a,r(0,n)):t[a]=n}},8052:function(t,e,n){var i=n(614),o=n(3070),r=n(6339),a=n(3072);t.exports=function(t,e,n,s){s||(s={});var d=s.enumerable,c=void 0!==s.name?s.name:e;if(i(n)&&r(n,c,s),s.global)d?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(d=!0):delete t[e]}catch(t){}d?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:function(t,e,n){var i=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},654:function(t,e,n){"use strict";var i=n(2109),o=n(6916),r=n(1913),a=n(6530),s=n(614),d=n(4994),c=n(9518),u=n(7674),l=n(8003),f=n(8880),p=n(8052),I=n(5112),h=n(7497),_=n(3383),T=a.PROPER,g=a.CONFIGURABLE,v=_.IteratorPrototype,A=_.BUGGY_SAFARI_ITERATORS,m=I("iterator"),b="keys",y="values",S="entries",O=function(){return this};t.exports=function(t,e,n,a,I,_,E){d(n,e,a);var R,C,w,D=function(t){if(t===I&&H)return H;if(!A&&t in P)return P[t];switch(t){case b:case y:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},N=e+" Iterator",x=!1,P=t.prototype,M=P[m]||P["@@iterator"]||I&&P[I],H=!A&&M||D(I),L="Array"==e&&P.entries||M;if(L&&(R=c(L.call(new t)))!==Object.prototype&&R.next&&(r||c(R)===v||(u?u(R,v):s(R[m])||p(R,m,O)),l(R,N,!0,!0),r&&(h[N]=O)),T&&I==y&&M&&M.name!==y&&(!r&&g?f(P,"name",y):(x=!0,H=function(){return o(M,this)})),I)if(C={values:D(y),keys:_?H:D(b),entries:D(S)},E)for(w in C)(A||x||!(w in P))&&p(P,w,C[w]);else i({target:e,proto:!0,forced:A||x},C);return r&&!E||P[m]===H||p(P,m,H,{name:I}),h[e]=H,C}},7235:function(t,e,n){var i=n(857),o=n(2597),r=n(6061),a=n(3070).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});o(e,t)||a(e,t,{value:r.f(t)})}},5117:function(t,e,n){"use strict";var i=n(6330),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw o("Cannot delete property "+i(e)+" of "+i(t))}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),o=n(111),r=i.document,a=o(r)&&o(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},7207:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var i=n(317)("span").classList,o=i&&i.constructor&&i.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8886:function(t,e,n){var i=n(8113).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},256:function(t,e,n){var i=n(8113);t.exports=/MSIE|Trident/.test(i)},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,o,r=n(7854),a=n(8113),s=r.process,d=r.Deno,c=s&&s.versions||d&&d.version,u=c&&c.v8;u&&(o=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(o=+i[1]),t.exports=o},8008:function(t,e,n){var i=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var i=n(7854),o=n(1236).f,r=n(8880),a=n(8052),s=n(3072),d=n(9920),c=n(4705);t.exports=function(t,e){var n,u,l,f,p,I=t.target,h=t.global,_=t.stat;if(n=h?i:_?i[I]||s(I,{}):(i[I]||{}).prototype)for(u in e){if(f=e[u],l=t.dontCallGetSet?(p=o(n,u))&&p.value:n[u],!c(h?u:I+(_?".":"#")+u,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;d(f,l)}(t.sham||l&&l.sham)&&r(f,"sham",!0),a(n,u,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var i=n(1702),o=n(8052),r=n(2261),a=n(7293),s=n(5112),d=n(8880),c=s("species"),u=RegExp.prototype;t.exports=function(t,e,n,l){var f=s(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),I=p&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!p||!I||n){var h=i(/./[f]),_=e(f,""[t],(function(t,e,n,o,a){var s=i(t),d=e.exec;return d===r||d===u.exec?p&&!a?{done:!0,value:h(e,n,o)}:{done:!0,value:s(n,e,o)}:{done:!1}}));o(String.prototype,t,_[0]),o(u,f,_[1])}l&&d(u[f],"sham",!0)}},2104:function(t,e,n){var i=n(4374),o=Function.prototype,r=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(r):function(){return a.apply(r,arguments)})},9974:function(t,e,n){var i=n(1702),o=n(9662),r=n(4374),a=i(i.bind);t.exports=function(t,e){return o(t),void 0===e?t:r?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var i=n(4374),o=Function.prototype.call;t.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,n){var i=n(9781),o=n(2597),r=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=o(r,"name"),d=s&&"something"===function(){}.name,c=s&&(!i||i&&a(r,"name").configurable);t.exports={EXISTS:s,PROPER:d,CONFIGURABLE:c}},1702:function(t,e,n){var i=n(4374),o=Function.prototype,r=o.bind,a=o.call,s=i&&r.bind(a,a);t.exports=i?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),o=n(614),r=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t]):i[t]&&i[t][e]}},8173:function(t,e,n){var i=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},647:function(t,e,n){var i=n(1702),o=n(7908),r=Math.floor,a=i("".charAt),s=i("".replace),d=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,l,f){var p=n+t.length,I=i.length,h=u;return void 0!==l&&(l=o(l),h=c),s(f,h,(function(o,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return d(e,0,n);case"'":return d(e,p);case"<":c=l[d(s,1,-1)];break;default:var u=+s;if(0===u)return o;if(u>I){var f=r(u/10);return 0===f?o:f<=I?void 0===i[f-1]?a(s,1):i[f-1]+a(s,1):o}c=i[u-1]}return void 0===c?"":c}))}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var i=n(1702),o=n(7908),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(o(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),o=n(7293),r=n(317);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var i=n(1702),o=n(7293),r=n(4326),a=Object,s=i("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?s(t,""):a(t)}:a},2788:function(t,e,n){var i=n(1702),o=n(614),r=n(5465),a=i(Function.toString);o(r.inspectSource)||(r.inspectSource=function(t){return a(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var i,o,r,a=n(8536),s=n(7854),d=n(1702),c=n(111),u=n(8880),l=n(2597),f=n(5465),p=n(6200),I=n(3501),h="Object already initialized",_=s.TypeError,T=s.WeakMap;if(a||f.state){var g=f.state||(f.state=new T),v=d(g.get),A=d(g.has),m=d(g.set);i=function(t,e){if(A(g,t))throw new _(h);return e.facade=t,m(g,t,e),e},o=function(t){return v(g,t)||{}},r=function(t){return A(g,t)}}else{var b=p("state");I[b]=!0,i=function(t,e){if(l(t,b))throw new _(h);return e.facade=t,u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},r=function(t){return l(t,b)}}t.exports={set:i,get:o,has:r,enforce:function(t){return r(t)?o(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw _("Incompatible receiver, "+t+" required");return n}}}},3157:function(t,e,n){var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var i=n(1702),o=n(7293),r=n(614),a=n(648),s=n(5005),d=n(2788),c=function(){},u=[],l=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=i(f.exec),I=!f.exec(c),h=function(t){if(!r(t))return!1;try{return l(c,u,t),!0}catch(t){return!1}},_=function(t){if(!r(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return I||!!p(f,d(t))}catch(t){return!0}};_.sham=!0,t.exports=!l||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?_:h},4705:function(t,e,n){var i=n(7293),o=n(614),r=/#|\.prototype\./,a=function(t,e){var n=d[s(t)];return n==u||n!=c&&(o(e)?i(e):!!e)},s=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},d=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},111:function(t,e,n){var i=n(614);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var i=n(111),o=n(4326),r=n(5112)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},2190:function(t,e,n){var i=n(5005),o=n(614),r=n(7976),a=n(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&r(e.prototype,s(t))}},3383:function(t,e,n){"use strict";var i,o,r,a=n(7293),s=n(614),d=n(30),c=n(9518),u=n(8052),l=n(5112),f=n(1913),p=l("iterator"),I=!1;[].keys&&("next"in(r=[].keys())?(o=c(c(r)))!==Object.prototype&&(i=o):I=!0),null==i||a((function(){var t={};return i[p].call(t)!==t}))?i={}:f&&(i=d(i)),s(i[p])||u(i,p,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:I}},7497:function(t){t.exports={}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},6339:function(t,e,n){var i=n(7293),o=n(614),r=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,d=n(2788),c=n(9909),u=c.enforce,l=c.get,f=Object.defineProperty,p=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),I=String(String).split("String"),h=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!r(t,"name")||s&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),p&&n&&r(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=u(t);return r(i,"source")||(i.source=I.join("string"==typeof e?e:"")),t};Function.prototype.toString=h((function(){return o(this)&&l(this).source||d(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},735:function(t,e,n){var i=n(133);t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},133:function(t,e,n){var i=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),o=n(614),r=n(2788),a=i.WeakMap;t.exports=o(a)&&/native code/.test(r(a))},3929:function(t,e,n){var i=n(7850),o=TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){"use strict";var i=n(9781),o=n(1702),r=n(6916),a=n(7293),s=n(1956),d=n(5181),c=n(5296),u=n(7908),l=n(8361),f=Object.assign,p=Object.defineProperty,I=o([].concat);t.exports=!f||a((function(){if(i&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||s(f({},e)).join("")!=o}))?function(t,e){for(var n=u(t),o=arguments.length,a=1,f=d.f,p=c.f;o>a;)for(var h,_=l(arguments[a++]),T=f?I(s(_),f(_)):s(_),g=T.length,v=0;g>v;)h=T[v++],i&&!r(p,_,h)||(n[h]=_[h]);return n}:f},30:function(t,e,n){var i,o=n(9670),r=n(6048),a=n(748),s=n(3501),d=n(490),c=n(317),u=n(6200),l=u("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"</"+"script>"},I=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;h="undefined"!=typeof document?document.domain&&i?I(i):((e=c("iframe")).style.display="none",d.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):I(i);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=o(t),n=new f,f.prototype=null,n[l]=t):n=h(),void 0===e?n:r.f(n,e)}},6048:function(t,e,n){var i=n(9781),o=n(3353),r=n(3070),a=n(9670),s=n(5656),d=n(1956);e.f=i&&!o?Object.defineProperties:function(t,e){a(t);for(var n,i=s(e),o=d(e),c=o.length,u=0;c>u;)r.f(t,n=o[u++],i[n]);return t}},3070:function(t,e,n){var i=n(9781),o=n(4664),r=n(3353),a=n(9670),s=n(4948),d=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",p="writable";e.f=i?r?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n.writable){var i=u(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:f in n?n.configurable:i.configurable,enumerable:l in n?n.enumerable:i.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw d("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),o=n(6916),r=n(5296),a=n(9114),s=n(5656),d=n(4948),c=n(2597),u=n(4664),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=s(t),e=d(e),u)try{return l(t,e)}catch(t){}if(c(t,e))return a(!o(r.f,t,e),t[e])}},1156:function(t,e,n){var i=n(4326),o=n(5656),r=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==i(t)?function(t){try{return r(t)}catch(t){return a(s)}}(t):r(o(t))}},8006:function(t,e,n){var i=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(2597),o=n(614),r=n(7908),a=n(6200),s=n(8544),d=a("IE_PROTO"),c=Object,u=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=r(t);if(i(e,d))return e[d];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),o=n(2597),r=n(5656),a=n(1318).indexOf,s=n(3501),d=i([].push);t.exports=function(t,e){var n,i=r(t),c=0,u=[];for(n in i)!o(s,n)&&o(i,n)&&d(u,n);for(;e.length>c;)o(i,n=e[c++])&&(~a(u,n)||d(u,n));return u}},1956:function(t,e,n){var i=n(6324),o=n(748);t.exports=Object.keys||function(t){return i(t,o)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(1702),o=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return o(n),r(i),e?t(n,i):n.__proto__=i,n}}():void 0)},4699:function(t,e,n){var i=n(9781),o=n(1702),r=n(1956),a=n(5656),s=o(n(5296).f),d=o([].push),c=function(t){return function(e){for(var n,o=a(e),c=r(o),u=c.length,l=0,f=[];u>l;)n=c[l++],i&&!s(o,n)||d(f,t?[n,o[n]]:o[n]);return f}};t.exports={entries:c(!0),values:c(!1)}},288:function(t,e,n){"use strict";var i=n(1694),o=n(648);t.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(t,e,n){var i=n(6916),o=n(614),r=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!r(s=i(n,t)))return s;if(o(n=t.valueOf)&&!r(s=i(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!r(s=i(n,t)))return s;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),o=n(1702),r=n(8006),a=n(5181),s=n(9670),d=o([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=a.f;return n?d(e,n(t)):e}},857:function(t,e,n){var i=n(7854);t.exports=i},7651:function(t,e,n){var i=n(6916),o=n(9670),r=n(614),a=n(4326),s=n(2261),d=TypeError;t.exports=function(t,e){var n=t.exec;if(r(n)){var c=i(n,t,e);return null!==c&&o(c),c}if("RegExp"===a(t))return i(s,t,e);throw d("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var i,o,r=n(6916),a=n(1702),s=n(1340),d=n(7066),c=n(2999),u=n(2309),l=n(30),f=n(9909).get,p=n(9441),I=n(7168),h=u("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,T=_,g=a("".charAt),v=a("".indexOf),A=a("".replace),m=a("".slice),b=(o=/b*/g,r(_,i=/a/,"a"),r(_,o,"a"),0!==i.lastIndex||0!==o.lastIndex),y=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(b||S||y||p||I)&&(T=function(t){var e,n,i,o,a,c,u,p=this,I=f(p),O=s(t),E=I.raw;if(E)return E.lastIndex=p.lastIndex,e=r(T,E,O),p.lastIndex=E.lastIndex,e;var R=I.groups,C=y&&p.sticky,w=r(d,p),D=p.source,N=0,x=O;if(C&&(w=A(w,"y",""),-1===v(w,"g")&&(w+="g"),x=m(O,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(O,p.lastIndex-1))&&(D="(?: "+D+")",x=" "+x,N++),n=new RegExp("^(?:"+D+")",w)),S&&(n=new RegExp("^"+D+"$(?!\\s)",w)),b&&(i=p.lastIndex),o=r(_,C?n:p,x),C?o?(o.input=m(o.input,N),o[0]=m(o[0],N),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:b&&o&&(p.lastIndex=p.global?o.index+o[0].length:i),S&&o&&o.length>1&&r(h,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&R)for(o.groups=c=l(null),a=0;a<R.length;a++)c[(u=R[a])[0]]=o[u[1]];return o}),t.exports=T},7066:function(t,e,n){"use strict";var i=n(9670);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:function(t,e,n){var i=n(6916),o=n(2597),r=n(7976),a=n(7066),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||o(t,"flags")||!r(s,t)?e:i(a,t)}},2999:function(t,e,n){var i=n(7293),o=n(7854).RegExp,r=i((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=r||i((function(){return!o("a","y").sticky})),s=r||i((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:r}},9441:function(t,e,n){var i=n(7293),o=n(7854).RegExp;t.exports=i((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var i=n(7293),o=n(7854).RegExp;t.exports=i((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t){var e=TypeError;t.exports=function(t){if(null==t)throw e("Can't call method on "+t);return t}},8003:function(t,e,n){var i=n(3070).f,o=n(2597),r=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,r)&&i(t,r,{configurable:!0,value:e})}},6200:function(t,e,n){var i=n(2309),o=n(9711),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},5465:function(t,e,n){var i=n(7854),o=n(3072),r="__core-js_shared__",a=i[r]||o(r,{});t.exports=a},2309:function(t,e,n){var i=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.24.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var i=n(9670),o=n(9483),r=n(5112)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[r])?e:o(n)}},8710:function(t,e,n){var i=n(1702),o=n(9303),r=n(1340),a=n(4488),s=i("".charAt),d=i("".charCodeAt),c=i("".slice),u=function(t){return function(e,n){var i,u,l=r(a(e)),f=o(n),p=l.length;return f<0||f>=p?t?"":void 0:(i=d(l,f))<55296||i>56319||f+1===p||(u=d(l,f+1))<56320||u>57343?t?s(l,f):i:t?c(l,f,f+2):u-56320+(i-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},8415:function(t,e,n){"use strict";var i=n(9303),o=n(1340),r=n(4488),a=RangeError;t.exports=function(t){var e=o(r(this)),n="",s=i(t);if(s<0||s==1/0)throw a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},6532:function(t,e,n){var i=n(6916),o=n(5005),r=n(5112),a=n(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=r("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return i(n,this)}),{arity:1})}},1400:function(t,e,n){var i=n(9303),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},5656:function(t,e,n){var i=n(8361),o=n(4488);t.exports=function(t){return i(o(t))}},9303:function(t,e,n){var i=n(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},7466:function(t,e,n){var i=n(9303),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488),o=Object;t.exports=function(t){return o(i(t))}},7593:function(t,e,n){var i=n(6916),o=n(111),r=n(2190),a=n(8173),s=n(2140),d=n(5112),c=TypeError,u=d("toPrimitive");t.exports=function(t,e){if(!o(t)||r(t))return t;var n,d=a(t,u);if(d){if(void 0===e&&(e="default"),n=i(d,t,e),!o(n)||r(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){var i=n(7593),o=n(2190);t.exports=function(t){var e=i(t,"string");return o(e)?e:e+""}},1694:function(t,e,n){var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},1340:function(t,e,n){var i=n(648),o=String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:function(t,e,n){var i=n(1702),o=0,r=Math.random(),a=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+r,36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),o=n(7293);t.exports=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6061:function(t,e,n){var i=n(5112);e.f=i},5112:function(t,e,n){var i=n(7854),o=n(2309),r=n(2597),a=n(9711),s=n(133),d=n(3307),c=o("wks"),u=i.Symbol,l=u&&u.for,f=d?u:u&&u.withoutSetter||a;t.exports=function(t){if(!r(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&r(u,t)?c[t]=u[t]:c[t]=d&&l?l(e):f(e)}return c[t]}},2262:function(t,e,n){"use strict";var i=n(2109),o=n(7908),r=n(6244),a=n(9303),s=n(1223);i({target:"Array",proto:!0},{at:function(t){var e=o(this),n=r(e),i=a(t),s=i>=0?i:n+i;return s<0||s>=n?void 0:e[s]}}),s("at")},2222:function(t,e,n){"use strict";var i=n(2109),o=n(7293),r=n(3157),a=n(111),s=n(7908),d=n(6244),c=n(7207),u=n(6135),l=n(5417),f=n(1194),p=n(5112),I=n(7392),h=p("isConcatSpreadable"),_=I>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),T=f("concat"),g=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)};i({target:"Array",proto:!0,arity:1,forced:!_||!T},{concat:function(t){var e,n,i,o,r,a=s(this),f=l(a,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(g(r=-1===e?a:arguments[e]))for(o=d(r),c(p+o),n=0;n<o;n++,p++)n in r&&u(f,p,r[n]);else c(p+1),u(f,p++,r);return f.length=p,f}})},9826:function(t,e,n){"use strict";var i=n(2109),o=n(2092).find,r=n(1223),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r(a)},6992:function(t,e,n){"use strict";var i=n(5656),o=n(1223),r=n(7497),a=n(9909),s=n(3070).f,d=n(654),c=n(1913),u=n(9781),l="Array Iterator",f=a.set,p=a.getterFor(l);t.exports=d(Array,"Array",(function(t,e){f(this,{type:l,target:i(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");var I=r.Arguments=r.Array;if(o("keys"),o("values"),o("entries"),!c&&u&&"values"!==I.name)try{s(I,"name",{value:"values"})}catch(t){}},9600:function(t,e,n){"use strict";var i=n(2109),o=n(1702),r=n(8361),a=n(5656),s=n(9341),d=o([].join),c=r!=Object,u=s("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(t){return d(a(this),void 0===t?",":t)}})},1249:function(t,e,n){"use strict";var i=n(2109),o=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},2707:function(t,e,n){"use strict";var i=n(2109),o=n(1702),r=n(9662),a=n(7908),s=n(6244),d=n(5117),c=n(1340),u=n(7293),l=n(4362),f=n(9341),p=n(8886),I=n(256),h=n(7392),_=n(8008),T=[],g=o(T.sort),v=o(T.push),A=u((function(){T.sort(void 0)})),m=u((function(){T.sort(null)})),b=f("sort"),y=!u((function(){if(h)return h<70;if(!(p&&p>3)){if(I)return!0;if(_)return _<603;var t,e,n,i,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)T.push({k:e+i,v:n})}for(T.sort((function(t,e){return e.v-t.v})),i=0;i<T.length;i++)e=T[i].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));i({target:"Array",proto:!0,forced:A||!m||!b||!y},{sort:function(t){void 0!==t&&r(t);var e=a(this);if(y)return void 0===t?g(e):g(e,t);var n,i,o=[],u=s(e);for(i=0;i<u;i++)i in e&&v(o,e[i]);for(l(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=o.length,i=0;i<n;)e[i]=o[i++];for(;i<u;)d(e,i++);return e}})},8309:function(t,e,n){var i=n(9781),o=n(6530).EXISTS,r=n(1702),a=n(3070).f,s=Function.prototype,d=r(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(c.exec);i&&!o&&a(s,"name",{configurable:!0,get:function(){try{return u(c,d(this))[1]}catch(t){return""}}})},8862:function(t,e,n){var i=n(2109),o=n(5005),r=n(2104),a=n(6916),s=n(1702),d=n(7293),c=n(3157),u=n(614),l=n(111),f=n(2190),p=n(206),I=n(133),h=o("JSON","stringify"),_=s(/./.exec),T=s("".charAt),g=s("".charCodeAt),v=s("".replace),A=s(1..toString),m=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,S=!I||d((function(){var t=o("Symbol")();return"[null]"!=h([t])||"{}"!=h({a:t})||"{}"!=h(Object(t))})),O=d((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),E=function(t,e){var n=p(arguments),i=e;if((l(e)||void 0!==t)&&!f(t))return c(e)||(e=function(t,e){if(u(i)&&(e=a(i,this,t,e)),!f(e))return e}),n[1]=e,r(h,null,n)},R=function(t,e,n){var i=T(n,e-1),o=T(n,e+1);return _(b,t)&&!_(y,o)||_(y,t)&&!_(b,i)?"\\u"+A(g(t,0),16):t};h&&i({target:"JSON",stat:!0,arity:3,forced:S||O},{stringify:function(t,e,n){var i=p(arguments),o=r(S?E:h,null,i);return O&&"string"==typeof o?v(o,m,R):o}})},9601:function(t,e,n){var i=n(2109),o=n(1574);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},9660:function(t,e,n){var i=n(2109),o=n(133),r=n(7293),a=n(5181),s=n(7908);i({target:"Object",stat:!0,forced:!o||r((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},7941:function(t,e,n){var i=n(2109),o=n(7908),r=n(1956);i({target:"Object",stat:!0,forced:n(7293)((function(){r(1)}))},{keys:function(t){return r(o(t))}})},1539:function(t,e,n){var i=n(1694),o=n(8052),r=n(288);i||o(Object.prototype,"toString",r,{unsafe:!0})},6833:function(t,e,n){var i=n(2109),o=n(4699).values;i({target:"Object",stat:!0},{values:function(t){return o(t)}})},4916:function(t,e,n){"use strict";var i=n(2109),o=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:function(t,e,n){"use strict";var i=n(6530).PROPER,o=n(8052),r=n(9670),a=n(1340),s=n(7293),d=n(4706),c="toString",u=RegExp.prototype.toString,l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),f=i&&u.name!=c;(l||f)&&o(RegExp.prototype,c,(function(){var t=r(this);return"/"+a(t.source)+"/"+a(d(t))}),{unsafe:!0})},4506:function(t,e,n){"use strict";var i=n(2109),o=n(1702),r=n(4488),a=n(9303),s=n(1340),d=n(7293),c=o("".charAt);i({target:"String",proto:!0,forced:d((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var e=s(r(this)),n=e.length,i=a(t),o=i>=0?i:n+i;return o<0||o>=n?void 0:c(e,o)}})},8783:function(t,e,n){"use strict";var i=n(8710).charAt,o=n(1340),r=n(9909),a=n(654),s="String Iterator",d=r.set,c=r.getterFor(s);a(String,"String",(function(t){d(this,{type:s,string:o(t),index:0})}),(function(){var t,e=c(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=i(n,o),e.index+=t.length,{value:t,done:!1})}))},4723:function(t,e,n){"use strict";var i=n(6916),o=n(7007),r=n(9670),a=n(7466),s=n(1340),d=n(4488),c=n(8173),u=n(1530),l=n(7651);o("match",(function(t,e,n){return[function(e){var n=d(this),o=null==e?void 0:c(e,t);return o?i(o,e,n):new RegExp(e)[t](s(n))},function(t){var i=r(this),o=s(t),d=n(e,i,o);if(d.done)return d.value;if(!i.global)return l(i,o);var c=i.unicode;i.lastIndex=0;for(var f,p=[],I=0;null!==(f=l(i,o));){var h=s(f[0]);p[I]=h,""===h&&(i.lastIndex=u(o,a(i.lastIndex),c)),I++}return 0===I?null:p}]}))},2481:function(t,e,n){n(2109)({target:"String",proto:!0},{repeat:n(8415)})},5306:function(t,e,n){"use strict";var i=n(2104),o=n(6916),r=n(1702),a=n(7007),s=n(7293),d=n(9670),c=n(614),u=n(9303),l=n(7466),f=n(1340),p=n(4488),I=n(1530),h=n(8173),_=n(647),T=n(7651),g=n(5112)("replace"),v=Math.max,A=Math.min,m=r([].concat),b=r([].push),y=r("".indexOf),S=r("".slice),O="$0"==="a".replace(/./,"$0"),E=!!/./[g]&&""===/./[g]("a","$0");a("replace",(function(t,e,n){var r=E?"$":"$0";return[function(t,n){var i=p(this),r=null==t?void 0:h(t,g);return r?o(r,t,i,n):o(e,f(i),t,n)},function(t,o){var a=d(this),s=f(t);if("string"==typeof o&&-1===y(o,r)&&-1===y(o,"$<")){var p=n(e,a,s,o);if(p.done)return p.value}var h=c(o);h||(o=f(o));var g=a.global;if(g){var O=a.unicode;a.lastIndex=0}for(var E=[];;){var R=T(a,s);if(null===R)break;if(b(E,R),!g)break;""===f(R[0])&&(a.lastIndex=I(s,l(a.lastIndex),O))}for(var C,w="",D=0,N=0;N<E.length;N++){for(var x=f((R=E[N])[0]),P=v(A(u(R.index),s.length),0),M=[],H=1;H<R.length;H++)b(M,void 0===(C=R[H])?C:String(C));var L=R.groups;if(h){var j=m([x],M,P,s);void 0!==L&&b(j,L);var W=f(i(o,void 0,j))}else W=_(x,s,P,M,L,o);P>=D&&(w+=S(s,D,P)+W,D=P+x.length)}return w+S(s,D)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!O||E)},3123:function(t,e,n){"use strict";var i=n(2104),o=n(6916),r=n(1702),a=n(7007),s=n(7850),d=n(9670),c=n(4488),u=n(6707),l=n(1530),f=n(7466),p=n(1340),I=n(8173),h=n(1589),_=n(7651),T=n(2261),g=n(2999),v=n(7293),A=g.UNSUPPORTED_Y,m=4294967295,b=Math.min,y=[].push,S=r(/./.exec),O=r(y),E=r("".slice),R=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=p(c(this)),a=void 0===n?m:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!s(t))return o(e,r,t,a);for(var d,u,l,f=[],I=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,g=new RegExp(t.source,I+"g");(d=o(T,g,r))&&!((u=g.lastIndex)>_&&(O(f,E(r,_,d.index)),d.length>1&&d.index<r.length&&i(y,f,h(d,1)),l=d[0].length,_=u,f.length>=a));)g.lastIndex===d.index&&g.lastIndex++;return _===r.length?!l&&S(g,"")||O(f,""):O(f,E(r,_)),f.length>a?h(f,0,a):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var i=c(this),a=null==e?void 0:I(e,t);return a?o(a,e,i,n):o(r,p(i),e,n)},function(t,i){var o=d(this),a=p(t),s=n(r,o,a,i,r!==e);if(s.done)return s.value;var c=u(o,RegExp),I=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(A?"g":"y"),T=new c(A?"^(?:"+o.source+")":o,h),g=void 0===i?m:i>>>0;if(0===g)return[];if(0===a.length)return null===_(T,a)?[a]:[];for(var v=0,y=0,S=[];y<a.length;){T.lastIndex=A?0:y;var R,C=_(T,A?E(a,y):a);if(null===C||(R=b(f(T.lastIndex+(A?y:0)),a.length))===v)y=l(a,y,I);else{if(O(S,E(a,v,y)),S.length===g)return S;for(var w=1;w<=C.length-1;w++)if(O(S,C[w]),S.length===g)return S;y=v=R}}return O(S,E(a,v)),S}]}),!R,A)},6755:function(t,e,n){"use strict";var i,o=n(2109),r=n(1702),a=n(1236).f,s=n(7466),d=n(1340),c=n(3929),u=n(4488),l=n(4964),f=n(1913),p=r("".startsWith),I=r("".slice),h=Math.min,_=l("startsWith");o({target:"String",proto:!0,forced:!!(f||_||(i=a(String.prototype,"startsWith"),!i||i.writable))&&!_},{startsWith:function(t){var e=d(u(this));c(t);var n=s(h(arguments.length>1?arguments[1]:void 0,e.length)),i=d(t);return p?p(e,i,n):I(e,n,n+i.length)===i}})},4032:function(t,e,n){"use strict";var i=n(2109),o=n(7854),r=n(6916),a=n(1702),s=n(1913),d=n(9781),c=n(133),u=n(7293),l=n(2597),f=n(7976),p=n(9670),I=n(5656),h=n(4948),_=n(1340),T=n(9114),g=n(30),v=n(1956),A=n(8006),m=n(1156),b=n(5181),y=n(1236),S=n(3070),O=n(6048),E=n(5296),R=n(8052),C=n(2309),w=n(6200),D=n(3501),N=n(9711),x=n(5112),P=n(6061),M=n(7235),H=n(6532),L=n(8003),j=n(9909),W=n(2092).forEach,F=w("hidden"),k="Symbol",B=j.set,V=j.getterFor(k),U=Object.prototype,G=o.Symbol,Y=G&&G.prototype,K=o.TypeError,z=o.QObject,X=y.f,$=S.f,q=m.f,J=E.f,Z=a([].push),Q=C("symbols"),tt=C("op-symbols"),et=C("wks"),nt=!z||!z.prototype||!z.prototype.findChild,it=d&&u((function(){return 7!=g($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=X(U,e);i&&delete U[e],$(t,e,n),i&&t!==U&&$(U,e,i)}:$,ot=function(t,e){var n=Q[t]=g(Y);return B(n,{type:k,tag:t,description:e}),d||(n.description=e),n},rt=function(t,e,n){t===U&&rt(tt,e,n),p(t);var i=h(e);return p(n),l(Q,i)?(n.enumerable?(l(t,F)&&t[F][i]&&(t[F][i]=!1),n=g(n,{enumerable:T(0,!1)})):(l(t,F)||$(t,F,T(1,{})),t[F][i]=!0),it(t,i,n)):$(t,i,n)},at=function(t,e){p(t);var n=I(e),i=v(n).concat(ut(n));return W(i,(function(e){d&&!r(st,n,e)||rt(t,e,n[e])})),t},st=function(t){var e=h(t),n=r(J,this,e);return!(this===U&&l(Q,e)&&!l(tt,e))&&(!(n||!l(this,e)||!l(Q,e)||l(this,F)&&this[F][e])||n)},dt=function(t,e){var n=I(t),i=h(e);if(n!==U||!l(Q,i)||l(tt,i)){var o=X(n,i);return!o||!l(Q,i)||l(n,F)&&n[F][i]||(o.enumerable=!0),o}},ct=function(t){var e=q(I(t)),n=[];return W(e,(function(t){l(Q,t)||l(D,t)||Z(n,t)})),n},ut=function(t){var e=t===U,n=q(e?tt:I(t)),i=[];return W(n,(function(t){!l(Q,t)||e&&!l(U,t)||Z(i,Q[t])})),i};c||(G=function(){if(f(Y,this))throw K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?_(arguments[0]):void 0,e=N(t),n=function(t){this===U&&r(n,tt,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),it(this,e,T(1,t))};return d&&nt&&it(U,e,{configurable:!0,set:n}),ot(e,t)},R(Y=G.prototype,"toString",(function(){return V(this).tag})),R(G,"withoutSetter",(function(t){return ot(N(t),t)})),E.f=st,S.f=rt,O.f=at,y.f=dt,A.f=m.f=ct,b.f=ut,P.f=function(t){return ot(x(t),t)},d&&($(Y,"description",{configurable:!0,get:function(){return V(this).description}}),s||R(U,"propertyIsEnumerable",st,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),W(v(et),(function(t){M(t)})),i({target:k,stat:!0,forced:!c},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!d},{create:function(t,e){return void 0===e?g(t):at(g(t),e)},defineProperty:rt,defineProperties:at,getOwnPropertyDescriptor:dt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ct}),H(),L(G,k),D[F]=!0},1817:function(t,e,n){"use strict";var i=n(2109),o=n(9781),r=n(7854),a=n(1702),s=n(2597),d=n(614),c=n(7976),u=n(1340),l=n(3070).f,f=n(9920),p=r.Symbol,I=p&&p.prototype;if(o&&d(p)&&(!("description"in I)||void 0!==p().description)){var h={},_=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(I,this)?new p(t):void 0===t?p():p(t);return""===t&&(h[e]=!0),e};f(_,p),_.prototype=I,I.constructor=_;var T="Symbol(test)"==String(p("test")),g=a(I.toString),v=a(I.valueOf),A=/^Symbol\((.*)\)[^)]+$/,m=a("".replace),b=a("".slice);l(I,"description",{configurable:!0,get:function(){var t=v(this),e=g(t);if(s(h,t))return"";var n=T?b(e,7,-1):m(e,A,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:_})}},763:function(t,e,n){var i=n(2109),o=n(5005),r=n(2597),a=n(1340),s=n(2309),d=n(735),c=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(t){var e=a(t);if(r(c,e))return c[e];var n=o("Symbol")(e);return c[e]=n,u[n]=e,n}})},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(t,e,n){var i=n(2109),o=n(2597),r=n(2190),a=n(6330),s=n(2309),d=n(735),c=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(t){if(!r(t))throw TypeError(a(t)+" is not a symbol");if(o(c,t))return c[t]}})},4747:function(t,e,n){var i=n(7854),o=n(8324),r=n(8509),a=n(8533),s=n(8880),d=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in o)o[c]&&d(i[c]&&i[c].prototype);d(r)},3948:function(t,e,n){var i=n(7854),o=n(8324),r=n(8509),a=n(6992),s=n(8880),d=n(5112),c=d("iterator"),u=d("toStringTag"),l=a.values,f=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(t[u]||s(t,u,e),o[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var p in o)f(i[p]&&i[p].prototype,p);f(r,"DOMTokenList")},9567:function(t){"use strict";t.exports=window.jQuery},7108:function(t){"use strict";t.exports=window.nwaf_apptools},7:function(t){"use strict";t.exports=window.nwaf_gantt},5564:function(t){"use strict";t.exports=window.nwaf_rab}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var i=n(2235);window.netronic_vscai=i}();
//# sourceMappingURL=vscai-widget.min.js.map
